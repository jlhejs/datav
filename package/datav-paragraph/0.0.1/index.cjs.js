"use strict";var e=require("vue"),s=require("datav-vue"),$=(t,c)=>{const l=t.__vccOpts||t;for(const[i,a]of c)l[i]=a;return l};const V=e.defineComponent({name:"VParagraph",props:{com:{type:Object,required:!0}},setup(t){const c=s.useApiStore();s.useDataCenter(t.com);const l=e.computed(()=>{var h,g;return(g=(h=c.dataMap[t.com.id])==null?void 0:h.source)!=null?g:{}}),i=e.computed(()=>s.getFieldMap(t.com.apis.source.fields)),a=e.toRef(t.com,"config"),n=e.toRef(t.com,"attr"),v=e.ref(null),r=e.ref(""),u=e.ref(""),o=e.ref(0),d=e.ref(0),f=e.computed(()=>({overflow:"hidden",width:`${n.value.w}px`,height:`${n.value.h}px`})),S=e.computed(()=>({transform:r.value,transition:u.value})),w=e.computed(()=>({"font-family":`${a.value.textStyle.fontFamily}, Arial, sans-serif`,"font-size":`${a.value.textStyle.fontSize}px`,color:a.value.textStyle.color,"font-weight":a.value.textStyle.fontWeight,"text-align":a.value.textAlign,"line-height":`${a.value.lineHeight}px`,"text-indent":`${a.value.textIndent}px`,"min-height":`${o.value}px`})),x=e.computed(()=>l.value[i.value.value]||a.value.content),m=()=>{e.nextTick(()=>{v.value&&(o.value=v.value.offsetHeight),o.value>n.value.h?(r.value=`translateY(-${o.value}px)`,u.value=`transform ${a.value.scroll.duration*1e3}ms linear 0s`,d.value=window.setTimeout(()=>{r.value="translateY(0)",u.value="none 0s ease 0s",a.value.scroll.overScroll&&m()},a.value.scroll.duration*1e3)):(o.value=n.value.h,r.value="translateY(0)",u.value="none 0s ease 0s")})},y=s._.debounce(m,500);return e.watch([f,()=>a.value.scroll.overScroll],()=>{clearTimeout(d.value),o.value=n.value.h,r.value="translateY(0)",u.value="none 0s ease 0s",y()}),e.onMounted(()=>{y()}),e.onUnmounted(()=>{clearTimeout(d.value)}),{contentRef:v,config:a,wrapperStyle:f,bigContentStyle:S,contentStyle:w,contentText:x}}});function _(t,c,l,i,a,n){return e.openBlock(),e.createElementBlock("div",{class:"datav-wrapper",style:e.normalizeStyle(t.wrapperStyle)},[e.createElementVNode("div",{style:e.normalizeStyle(t.bigContentStyle)},[e.createElementVNode("div",{ref:"contentRef",style:e.normalizeStyle(t.contentStyle)},e.toDisplayString(t.contentText),5),t.config.scroll.overScroll?(e.openBlock(),e.createElementBlock("div",{key:0,style:e.normalizeStyle(t.contentStyle)},e.toDisplayString(t.contentText),5)):e.createCommentVNode("",!0)],4)],4)}var p=$(V,[["render",_],["__file","F:/datav-jlhe/src/components/text/paragraph/src/index.vue"]]);p.install=t=>{t.component("VParagraph",p)};window.datavVue&&window.datavVue.app&&window.datavVue.app.use(p);
