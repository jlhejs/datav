(function(e,o){typeof exports=="object"&&typeof module!="undefined"?o(require("vue"),require("datav-vue")):typeof define=="function"&&define.amd?define(["vue","datav-vue"],o):(e=typeof globalThis!="undefined"?globalThis:e||self,o(e.Vue,e.datavVue))})(this,function(e,o){"use strict";var g=(t,c)=>{const r=t.__vccOpts||t;for(const[u,n]of c)r[u]=n;return r};const x=e.defineComponent({name:"VParagraph",props:{com:{type:Object,required:!0}},setup(t){const c=o.useApiStore();o.useDataCenter(t.com);const r=e.computed(()=>{var y,S;return(S=(y=c.dataMap[t.com.id])==null?void 0:y.source)!=null?S:{}}),u=e.computed(()=>o.getFieldMap(t.com.apis.source.fields)),n=e.toRef(t.com,"config"),a=e.toRef(t.com,"attr"),f=e.ref(null),i=e.ref(""),s=e.ref(""),l=e.ref(0),p=e.ref(0),m=e.computed(()=>({overflow:"hidden",width:`${a.value.w}px`,height:`${a.value.h}px`})),$=e.computed(()=>({transform:i.value,transition:s.value})),T=e.computed(()=>({"font-family":`${n.value.textStyle.fontFamily}, Arial, sans-serif`,"font-size":`${n.value.textStyle.fontSize}px`,color:n.value.textStyle.color,"font-weight":n.value.textStyle.fontWeight,"text-align":n.value.textAlign,"line-height":`${n.value.lineHeight}px`,"text-indent":`${n.value.textIndent}px`,"min-height":`${l.value}px`})),_=e.computed(()=>r.value[u.value.value]||n.value.content),v=()=>{e.nextTick(()=>{f.value&&(l.value=f.value.offsetHeight),l.value>a.value.h?(i.value=`translateY(-${l.value}px)`,s.value=`transform ${n.value.scroll.duration*1e3}ms linear 0s`,p.value=window.setTimeout(()=>{i.value="translateY(0)",s.value="none 0s ease 0s",n.value.scroll.overScroll&&v()},n.value.scroll.duration*1e3)):(l.value=a.value.h,i.value="translateY(0)",s.value="none 0s ease 0s")})},h=o._.debounce(v,500);return e.watch([m,()=>n.value.scroll.overScroll],()=>{clearTimeout(p.value),l.value=a.value.h,i.value="translateY(0)",s.value="none 0s ease 0s",h()}),e.onMounted(()=>{h()}),e.onUnmounted(()=>{clearTimeout(p.value)}),{contentRef:f,config:n,wrapperStyle:m,bigContentStyle:$,contentStyle:T,contentText:_}}});function w(t,c,r,u,n,a){return e.openBlock(),e.createElementBlock("div",{class:"datav-wrapper",style:e.normalizeStyle(t.wrapperStyle)},[e.createElementVNode("div",{style:e.normalizeStyle(t.bigContentStyle)},[e.createElementVNode("div",{ref:"contentRef",style:e.normalizeStyle(t.contentStyle)},e.toDisplayString(t.contentText),5),t.config.scroll.overScroll?(e.openBlock(),e.createElementBlock("div",{key:0,style:e.normalizeStyle(t.contentStyle)},e.toDisplayString(t.contentText),5)):e.createCommentVNode("",!0)],4)],4)}var d=g(x,[["render",w],["__file","F:/datav-jlhe/src/components/text/paragraph/src/index.vue"]]);d.install=t=>{t.component("VParagraph",d)},window.datavVue&&window.datavVue.app&&window.datavVue.app.use(d)});
