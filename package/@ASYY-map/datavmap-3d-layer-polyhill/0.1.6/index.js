// env=undefined => env=publish 
Cube("datav:/com/datavmap-3d-layer-polyhill/0.1.6/turf.min.js",[],function(a,b,c,d,e,f){var j="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return!function(c){if("object"==("undefined"===typeof b?"undefined":j(b))&&"undefined"!=typeof a)a.exports=c();else if("function"==typeof define&&define.amd)define([],c);else{var d;d="undefined"==typeof window?"undefined"==typeof f?"undefined"==typeof self?this:self:f:window,d.turf=c()}}(function(){var a;return function b(d,e,f){function a(h,j){if(!e[h]){if(!d[h]){var k="function"==typeof c&&c;if(!j&&k)return k(h,!0);if(g)return g(h,!0);var m=new Error("Cannot find module '"+h+"'");throw m.code="MODULE_NOT_FOUND",m}var l=e[h]={exports:{}};d[h][0].call(l.exports,function(b){var c=d[h][1][b];return a(c||b)},l,l.exports,b,d,e,f)}return e[h].exports}for(var g="function"==typeof c&&c,h=0;h<f.length;h++)a(f[h]);return a}({1:[function(b,c){var d=b("@turf/helpers"),e=b("@turf/invariant"),f=b("@turf/meta"),g=b("@turf/clusters"),h={isolines:b("@turf/isolines"),convex:b("@turf/convex"),within:b("@turf/within"),concave:b("@turf/concave"),difference:b("@turf/difference"),dissolve:b("@turf/dissolve"),collect:b("@turf/collect"),flip:b("@turf/flip"),simplify:b("@turf/simplify"),bezier:b("@turf/bezier"),tag:b("@turf/tag"),sample:b("@turf/sample"),envelope:b("@turf/envelope"),square:b("@turf/square"),circle:b("@turf/circle"),midpoint:b("@turf/midpoint"),buffer:b("@turf/buffer"),center:b("@turf/center"),centerOfMass:b("@turf/center-of-mass"),centroid:b("@turf/centroid"),combine:b("@turf/combine"),distance:b("@turf/distance"),explode:b("@turf/explode"),bbox:b("@turf/bbox"),tesselate:b("@turf/tesselate"),bboxPolygon:b("@turf/bbox-polygon"),inside:b("@turf/inside"),intersect:b("@turf/intersect"),nearest:b("@turf/nearest"),planepoint:b("@turf/planepoint"),random:b("@turf/random"),tin:b("@turf/tin"),union:b("@turf/union"),bearing:b("@turf/bearing"),destination:b("@turf/destination"),kinks:b("@turf/kinks"),pointOnSurface:b("@turf/point-on-surface"),area:b("@turf/area"),along:b("@turf/along"),lineDistance:b("@turf/line-distance"),lineSlice:b("@turf/line-slice"),lineSliceAlong:b("@turf/line-slice-along"),pointOnLine:b("@turf/point-on-line"),pointGrid:b("@turf/point-grid"),squareGrid:b("@turf/square-grid"),triangleGrid:b("@turf/triangle-grid"),hexGrid:b("@turf/hex-grid"),idw:b("@turf/idw"),truncate:b("@turf/truncate"),flatten:b("@turf/flatten"),lineIntersect:b("@turf/line-intersect"),mask:b("@turf/mask"),lineChunk:b("@turf/line-chunk"),unkinkPolygon:b("@turf/unkink-polygon"),greatCircle:b("@turf/great-circle"),lineSegment:b("@turf/line-segment"),lineSplit:b("@turf/line-split"),lineArc:b("@turf/line-arc"),polygonToLineString:b("@turf/polygon-to-linestring"),lineStringToPolygon:b("@turf/linestring-to-polygon"),bboxClip:b("@turf/bbox-clip"),lineOverlap:b("@turf/line-overlap"),sector:b("@turf/sector"),rhumbBearing:b("@turf/rhumb-bearing"),rhumbDistance:b("@turf/rhumb-distance"),rhumbDestination:b("@turf/rhumb-destination"),polygonTangents:b("@turf/polygon-tangents"),rewind:b("@turf/rewind"),isobands:b("@turf/isobands"),transformRotate:b("@turf/transform-rotate"),transformScale:b("@turf/transform-scale"),transformTranslate:b("@turf/transform-translate"),lineOffset:b("@turf/line-offset"),polygonize:b("@turf/polygonize"),booleanDisjoint:b("@turf/boolean-disjoint"),booleanContains:b("@turf/boolean-contains"),booleanCrosses:b("@turf/boolean-crosses"),booleanClockwise:b("@turf/boolean-clockwise"),booleanOverlap:b("@turf/boolean-overlap"),booleanPointOnLine:b("@turf/boolean-point-on-line"),booleanEqual:b("@turf/boolean-equal"),booleanWithin:b("@turf/boolean-within"),clone:b("@turf/clone"),cleanCoords:b("@turf/clean-coords"),interpolate:b("@turf/interpolate"),clustersDbscan:b("@turf/clusters-dbscan"),clustersKmeans:b("@turf/clusters-kmeans"),pointToLineDistance:b("@turf/point-to-line-distance"),getCluster:g.getCluster,clusterEach:g.clusterEach,clusterReduce:g.clusterReduce,point:d.point,polygon:d.polygon,lineString:d.lineString,multiPoint:d.multiPoint,multiPolygon:d.multiPolygon,multiLineString:d.multiLineString,feature:d.feature,geometry:d.geometry,featureCollection:d.featureCollection,geometryCollection:d.geometryCollection,radiansToDistance:d.radiansToDistance,distanceToRadians:d.distanceToRadians,distanceToDegrees:d.distanceToDegrees,bearingToAngle:d.bearingToAngle,degrees2radians:d.degrees2radians,radians2degrees:d.radians2degrees,convertDistance:d.convertDistance,isNumber:d.isNumber,round:d.round,convertArea:d.convertArea,getCoord:e.getCoord,getCoords:e.getCoords,geojsonType:e.geojsonType,featureOf:e.featureOf,collectionOf:e.collectionOf,containsNumber:e.containsNumber,getGeom:e.getGeom,getGeomType:e.getGeomType,coordEach:f.coordEach,coordReduce:f.coordReduce,propEach:f.propEach,propReduce:f.propReduce,featureEach:f.featureEach,featureReduce:f.featureReduce,coordAll:f.coordAll,geomEach:f.geomEach,geomReduce:f.geomReduce,flattenEach:f.flattenEach,flattenReduce:f.flattenReduce,segmentReduce:f.segmentReduce,segmentEach:f.segmentEach,lineEach:f.lineEach,lineReduce:f.lineReduce};c.exports=h},{"@turf/along":2,"@turf/area":12,"@turf/bbox":22,"@turf/bbox-clip":16,"@turf/bbox-polygon":20,"@turf/bearing":24,"@turf/bezier":26,"@turf/boolean-clockwise":29,"@turf/boolean-contains":31,"@turf/boolean-crosses":39,"@turf/boolean-disjoint":61,"@turf/boolean-equal":82,"@turf/boolean-overlap":91,"@turf/boolean-point-on-line":157,"@turf/boolean-within":159,"@turf/buffer":167,"@turf/center":206,"@turf/center-of-mass":177,"@turf/centroid":210,"@turf/circle":213,"@turf/clean-coords":218,"@turf/clone":221,"@turf/clusters":242,"@turf/clusters-dbscan":222,"@turf/clusters-kmeans":235,"@turf/collect":245,"@turf/combine":252,"@turf/concave":254,"@turf/convex":267,"@turf/destination":286,"@turf/difference":289,"@turf/dissolve":298,"@turf/distance":373,"@turf/envelope":376,"@turf/explode":381,"@turf/flatten":384,"@turf/flip":387,"@turf/great-circle":390,"@turf/helpers":392,"@turf/hex-grid":393,"@turf/idw":398,"@turf/inside":414,"@turf/interpolate":416,"@turf/intersect":454,"@turf/invariant":458,"@turf/isobands":459,"@turf/isolines":475,"@turf/kinks":485,"@turf/line-arc":487,"@turf/line-chunk":497,"@turf/line-distance":515,"@turf/line-intersect":520,"@turf/line-offset":534,"@turf/line-overlap":539,"@turf/line-segment":584,"@turf/line-slice":598,"@turf/line-slice-along":588,"@turf/line-split":626,"@turf/linestring-to-polygon":685,"@turf/mask":690,"@turf/meta":699,"@turf/midpoint":700,"@turf/nearest":709,"@turf/planepoint":713,"@turf/point-grid":715,"@turf/point-on-line":725,"@turf/point-on-surface":751,"@turf/point-to-line-distance":765,"@turf/polygon-tangents":799,"@turf/polygon-to-linestring":802,"@turf/polygonize":805,"@turf/random":819,"@turf/rewind":821,"@turf/rhumb-bearing":827,"@turf/rhumb-destination":839,"@turf/rhumb-distance":852,"@turf/sample":865,"@turf/sector":867,"@turf/simplify":886,"@turf/square":900,"@turf/square-grid":893,"@turf/tag":904,"@turf/tesselate":907,"@turf/tin":910,"@turf/transform-rotate":912,"@turf/transform-scale":956,"@turf/transform-translate":1008,"@turf/triangle-grid":1024,"@turf/truncate":1029,"@turf/union":1031,"@turf/unkink-polygon":1033,"@turf/within":1048}],2:[function(a,b){var d=a("@turf/distance"),g=a("@turf/helpers").point,e=a("@turf/bearing"),h=a("@turf/destination");b.exports=function(b,j,k){var m;if("Feature"===b.type)m=b.geometry.coordinates;else{if("LineString"!==b.type)throw new Error("input must be a LineString Feature or Geometry");m=b.coordinates}for(var a=0,n=0;n<m.length&&!(j>=a&&n===m.length-1);n++){if(a>=j){var l=j-a;if(l){var c=e(m[n],m[n-1])-180;return h(m[n],l,c,k)}return g(m[n])}a+=d(m[n],m[n+1],k)}return g(m[m.length-1])}},{"@turf/bearing":3,"@turf/destination":5,"@turf/distance":8,"@turf/helpers":11}],3:[function(a,b){function c(b,k,e){if(!0===e)return g(b,k);var m=Math.PI/180,n=180/Math.PI,o=j(b),a=j(k),q=m*o[0],l=m*a[0],c=m*o[1],f=m*a[1],h=Math.sin(l-q)*Math.cos(f),p=Math.cos(c)*Math.sin(f)-Math.sin(c)*Math.cos(f)*Math.cos(l-q);return n*Math.atan2(h,p)}function g(a,b){var d=c(b,a);return d=(d+180)%360}var j=a("@turf/invariant").getCoord;b.exports=c},{"@turf/invariant":4}],4:[function(a,b){function c(a){if(!a)throw new Error("obj is required");var b;if(a.length?b=a:a.coordinates?b=a.coordinates:a.geometry&&a.geometry.coordinates&&(b=a.geometry.coordinates),b)return d(b),b;throw new Error("No valid coordinates")}function d(a){if(1<a.length&&"number"==typeof a[0]&&"number"==typeof a[1])return!0;if(Array.isArray(a[0])&&a[0].length)return d(a[0]);throw new Error("coordinates must only contain numbers")}function f(a){if(!a)throw new Error("geojson is required");if(void 0!==a.geometry)return a.geometry;if(a.coordinates||a.geometries)return a;throw new Error("geojson must be a valid Feature or Geometry Object")}b.exports={geojsonType:function(a,b,c){if(!b||!c)throw new Error("type and name required");if(!a||a.type!==b)throw new Error("Invalid input to "+c+": must be a "+b+", given "+a.type)},collectionOf:function(a,b,c){if(!a)throw new Error("No featureCollection passed");if(!c)throw new Error(".collectionOf() requires a name");if(!a||"FeatureCollection"!==a.type)throw new Error("Invalid input to "+c+", FeatureCollection required");for(var d,e=0;e<a.features.length;e++){if(d=a.features[e],!d||"Feature"!==d.type||!d.geometry)throw new Error("Invalid input to "+c+", Feature with geometry required");if(!d.geometry||d.geometry.type!==b)throw new Error("Invalid input to "+c+": must be a "+b+", given "+d.geometry.type)}},featureOf:function(a,b,c){if(!a)throw new Error("No feature passed");if(!c)throw new Error(".featureOf() requires a name");if(!a||"Feature"!==a.type||!a.geometry)throw new Error("Invalid input to "+c+", Feature with geometry required");if(!a.geometry||a.geometry.type!==b)throw new Error("Invalid input to "+c+": must be a "+b+", given "+a.geometry.type)},getCoord:function(a){if(!a)throw new Error("obj is required");var b=c(a);if(1<b.length&&"number"==typeof b[0]&&"number"==typeof b[1])return b;throw new Error("Coordinate is not a valid Point")},getCoords:c,containsNumber:d,getGeom:f,getGeomType:function(a){if(!a)throw new Error("geojson is required");var b=f(a);if(b)return b.type}}},{}],5:[function(a,b){var j=a("@turf/invariant").getCoord,c=a("@turf/helpers"),k=c.point,m=c.distanceToRadians;b.exports=function(b,o,e,n){var q=Math.PI/180,a=180/Math.PI,r=j(b),l=q*r[0],c=q*r[1],f=q*e,h=m(o,n),p=Math.asin(Math.sin(c)*Math.cos(h)+Math.cos(c)*Math.sin(h)*Math.cos(f)),d=l+Math.atan2(Math.sin(f)*Math.sin(h)*Math.cos(c),Math.cos(h)-Math.sin(c)*Math.sin(p));return k([a*d,a*p])}},{"@turf/helpers":6,"@turf/invariant":7}],6:[function(h,k){function p(a,b,c,d){if(void 0===a)throw new Error("geometry is required");if(b&&b.constructor!==Object)throw new Error("properties must be an Object");if(c&&4!==c.length)throw new Error("bbox must be an Array of 4 numbers");if(d&&-1===["string","number"].indexOf("undefined"===typeof d?"undefined":j(d)))throw new Error("id must be a number or a string");var e={type:"Feature"};return d&&(e.id=d),c&&(e.bbox=c),e.properties=b||{},e.geometry=a,e}function n(a,b,c,d){if(!a)throw new Error("No coordinates passed");if(void 0===a.length)throw new Error("Coordinates must be an array");if(2>a.length)throw new Error("Coordinates must be at least 2 numbers long");if(!A(a[0])||!A(a[1]))throw new Error("Coordinates must contain numbers");return p({type:"Point",coordinates:a},b,c,d)}function q(b,c,d,e){if(!b)throw new Error("No coordinates passed");for(var f,g=0;g<b.length;g++){if(f=b[g],4>f.length)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var h=0;h<f[f.length-1].length;h++){if(0===g&&0===h&&!A(f[0][0])||!A(f[0][1]))throw new Error("Coordinates must contain numbers");if(f[f.length-1][h]!==f[0][h])throw new Error("First and last Position are not equivalent.")}}return p({type:"Polygon",coordinates:b},c,d,e)}function r(a,b,c,d){if(!a)throw new Error("No coordinates passed");if(2>a.length)throw new Error("Coordinates must be an array of two or more positions");if(!A(a[0][1])||!A(a[0][1]))throw new Error("Coordinates must contain numbers");return p({type:"LineString",coordinates:a},b,c,d)}function u(a,b,c,d){if(!a)throw new Error("No coordinates passed");return p({type:"MultiLineString",coordinates:a},b,c,d)}function v(a,b,c,d){if(!a)throw new Error("No coordinates passed");return p({type:"MultiPoint",coordinates:a},b,c,d)}function w(a,b,c,d){if(!a)throw new Error("No coordinates passed");return p({type:"MultiPolygon",coordinates:a},b,c,d)}function x(a,b){if(void 0===a||null===a)throw new Error("radians is required");var c=B[b||"kilometers"];if(!c)throw new Error("units is invalid");return a*c}function y(a,b){if(void 0===a||null===a)throw new Error("distance is required");var c=B[b||"kilometers"];if(!c)throw new Error("units is invalid");return a/c}function z(a){if(null===a||void 0===a)throw new Error("radians is required");return 180*(a%(2*Math.PI))/Math.PI}function A(a){return!isNaN(a)&&null!==a&&!Array.isArray(a)}var B={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,centimeters:6373e5,centimetres:6373e5,kilometers:6373,kilometres:6373,feet:20908792.65},C={kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,centimetres:1e4,millimeter:1e6,acres:247105e-9,miles:3.86e-7,yards:1.195990046,feet:10.763910417,inches:1550.003100006};k.exports={feature:p,geometry:function(a,b,c){if(!a)throw new Error("type is required");if(!b)throw new Error("coordinates is required");if(!Array.isArray(b))throw new Error("coordinates must be an Array");if(c&&4!==c.length)throw new Error("bbox must be an Array of 4 numbers");var d;switch(a){case"Point":d=n(b).geometry;break;case"LineString":d=r(b).geometry;break;case"Polygon":d=q(b).geometry;break;case"MultiPoint":d=v(b).geometry;break;case"MultiLineString":d=u(b).geometry;break;case"MultiPolygon":d=w(b).geometry;break;default:throw new Error(a+" is invalid");}return c&&(d.bbox=c),d},featureCollection:function(a,b,c){if(!a)throw new Error("No features passed");if(!Array.isArray(a))throw new Error("features must be an Array");if(b&&4!==b.length)throw new Error("bbox must be an Array of 4 numbers");if(c&&-1===["string","number"].indexOf("undefined"===typeof c?"undefined":j(c)))throw new Error("id must be a number or a string");var d={type:"FeatureCollection"};return c&&(d.id=c),b&&(d.bbox=b),d.features=a,d},geometryCollection:function(a,b,c,d){if(!a)throw new Error("geometries is required");if(!Array.isArray(a))throw new Error("geometries must be an Array");return p({type:"GeometryCollection",geometries:a},b,c,d)},point:n,multiPoint:v,lineString:r,multiLineString:u,polygon:q,multiPolygon:w,radiansToDistance:x,distanceToRadians:y,distanceToDegrees:function(a,b){return z(y(a,b))},radians2degrees:z,degrees2radians:function(a){if(null===a||void 0===a)throw new Error("degrees is required");return a%360*Math.PI/180},bearingToAngle:function(a){if(null===a||void 0===a)throw new Error("bearing is required");var b=a%360;return 0>b&&(b+=360),b},convertDistance:function(a,b,c){if(null===a||void 0===a)throw new Error("distance is required");if(!(0<=a))throw new Error("distance must be a positive number");return x(y(a,b),c||"kilometers")},convertArea:function(a,b,c){if(null===a||void 0===a)throw new Error("area is required");if(!(0<=a))throw new Error("area must be a positive number");var d=C[b||"meters"];if(!d)throw new Error("invalid original units");var e=C[c||"kilometers"];if(!e)throw new Error("invalid final units");return a/d*e},round:function(a,b){if(void 0===a||null===a||isNaN(a))throw new Error("num is required");if(b&&!(0<=b))throw new Error("precision must be a positive number");var c=Math.pow(10,b||0);return Math.round(a*c)/c},isNumber:A}},{}],7:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],8:[function(a,b){var d=a("@turf/invariant").getCoord,g=a("@turf/helpers").radiansToDistance;b.exports=function(b,j,e){var k=Math.PI/180,m=d(b),n=d(j),a=k*(n[1]-m[1]),o=k*(n[0]-m[0]),l=k*m[1],c=k*n[1],f=Math.pow(Math.sin(a/2),2)+Math.pow(Math.sin(o/2),2)*Math.cos(l)*Math.cos(c);return g(2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),e)}},{"@turf/helpers":9,"@turf/invariant":10}],9:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],10:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],11:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],12:[function(a,b){var c=a("@mapbox/geojson-area").geometry,d=a("@turf/meta").geomReduce;b.exports=function(a){return d(a,function(a,b){return a+c(b)},0)}},{"@mapbox/geojson-area":13,"@turf/meta":14}],13:[function(b,c){function d(a){var b,c=0;switch(a.type){case"Polygon":return f(a.coordinates);case"MultiPolygon":for(b=0;b<a.coordinates.length;b++)c+=f(a.coordinates[b]);return c;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(b=0;b<a.geometries.length;b++)c+=d(a.geometries[b]);return c;}}function f(a){var b=0;if(a&&0<a.length){b+=Math.abs(g(a[0]));for(var c=1;c<a.length;c++)b-=Math.abs(g(a[c]))}return b}function g(a){var b,d,e,g,k,m,n,l=0,c=a.length;if(2<c){for(n=0;n<c;n++)n===c-2?(g=c-2,k=c-1,m=0):n===c-1?(g=c-1,k=0,m=1):(g=n,k=n+1,m=n+2),b=a[g],d=a[k],e=a[m],l+=(h(e[0])-h(b[0]))*Math.sin(h(d[1]));l=l*j.RADIUS*j.RADIUS/2}return l}function h(a){return a*Math.PI/180}var j=b("wgs84");c.exports.geometry=d,c.exports.ring=g},{wgs84:15}],14:[function(b,f){function g(b,j,e){if(null!==b){var k,m,n,o,a,q,l,c,f,r,p=0,d=0,s=b.type,t="FeatureCollection"===s,u=t?b.features.length:1;for(k=0;k<u;k++){var v=0;for(f=t?b.features[k].geometry:"Feature"===s?b.geometry:b,r=!!f&&"GeometryCollection"===f.type,l=r?f.geometries.length:1,m=0;m<l;m++)if(null!==(q=r?f.geometries[m]:f)){c=q.coordinates;var x=q.type;switch(p=e&&("Polygon"===x||"MultiPolygon"===x)?1:0,x){case null:break;case"Point":j(c,d,k,v),d++,v++;break;case"LineString":case"MultiPoint":for(n=0;n<c.length;n++)j(c[n],d,k,v),d++,v++;break;case"Polygon":case"MultiLineString":for(n=0;n<c.length;n++)for(o=0;o<c[n].length-p;o++)j(c[n][o],d,k,v),d++,v++;break;case"MultiPolygon":for(n=0;n<c.length;n++)for(o=0;o<c[n].length;o++)for(a=0;a<c[n][o].length-p;a++)j(c[n][o][a],d,k,v),d++,v++;break;case"GeometryCollection":for(n=0;n<q.geometries.length;n++)g(q.geometries[n],j,e);break;default:throw new Error("Unknown Geometry Type");}}}}}function j(a,b,c,d){var e=c;return g(a,function(a,d,f,g){e=0===d&&void 0===c?a:b(e,a,d,f,g)},d),e}function k(a,b){var c;switch(a.type){case"FeatureCollection":for(c=0;c<a.features.length;c++)b(a.features[c].properties,c);break;case"Feature":b(a.properties,0);}}function l(a,b){if("Feature"===a.type)b(a,0);else if("FeatureCollection"===a.type)for(var c=0;c<a.features.length;c++)b(a.features[c],c)}function p(b,d){var e,g,j,k,m,n,o,q,l=0,r="FeatureCollection"===b.type,f="Feature"===b.type,h=r?b.features.length:1;for(e=0;e<h;e++)for(n=r?b.features[e].geometry:f?b.geometry:b,q=r?b.features[e].properties:f?b.properties:{},o=!!n&&"GeometryCollection"===n.type,m=o?n.geometries.length:1,j=0;j<m;j++)if(null!==(k=o?n.geometries[j]:n))switch(k.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":d(k,l,q),l++;break;case"GeometryCollection":for(g=0;g<k.geometries.length;g++)d(k.geometries[g],l,q),l++;break;default:throw new Error("Unknown Geometry Type");}else d(null,l,q),l++}function q(a,b){p(a,function(a,c,d){var e=null===a?null:a.type;switch(e){case null:case"Point":case"LineString":case"Polygon":return void b(u(a,d),c,0);}var f;"MultiPoint"===e?f="Point":"MultiLineString"===e?f="LineString":"MultiPolygon"===e?f="Polygon":void 0,a.coordinates.forEach(function(a,e){b(u({type:f,coordinates:a},d),c,e)})})}function s(a,b){q(a,function(a,c){var d=0;if(a.geometry){var e=a.geometry.type;"Point"!==e&&"MultiPoint"!==e&&j(a,function(e,f){var g=w([e,f],a.properties);return b(g,c,d),d++,f})}})}function u(a,b){if(void 0===a)throw new Error("No geometry passed");return{type:"Feature",properties:b||{},geometry:a}}function w(a,b){if(!a)throw new Error("No coordinates passed");if(2>a.length)throw new Error("Coordinates must be an array of two or more positions");return{type:"Feature",properties:b||{},geometry:{type:"LineString",coordinates:a}}}function v(b,c){if(!b)throw new Error("geojson is required");var d=b.geometry?b.geometry.type:b.type;if(!d)throw new Error("invalid geojson");if("FeatureCollection"===d)throw new Error("FeatureCollection is not supported");if("GeometryCollection"===d)throw new Error("GeometryCollection is not supported");var e=b.geometry?b.geometry.coordinates:b.coordinates;if(!e)throw new Error("geojson must contain coordinates");switch(d){case"LineString":return void c(e,0,0);case"Polygon":case"MultiLineString":for(var f=0,g=0;g<e.length;g++)"MultiLineString"===d&&(f=g),c(e[g],g,f);return;case"MultiPolygon":for(var h=0;h<e.length;h++)for(var j=0;j<e[h].length;j++)c(e[h][j],j,h);return;default:throw new Error(d+" geometry not supported");}}f.exports={coordEach:g,coordReduce:j,propEach:k,propReduce:function(a,b,c){var d=c;return k(a,function(a,e){d=0===e&&void 0===c?a:b(d,a,e)}),d},featureEach:l,featureReduce:function(a,b,c){var d=c;return l(a,function(a,e){d=0===e&&void 0===c?a:b(d,a,e)}),d},coordAll:function(a){var b=[];return g(a,function(a){b.push(a)}),b},geomEach:p,geomReduce:function(a,b,c){var d=c;return p(a,function(a,e,f){d=0===e&&void 0===c?a:b(d,a,e,f)}),d},flattenEach:q,flattenReduce:function(a,b,c){var d=c;return q(a,function(a,e,f){d=0===e&&0===f&&void 0===c?a:b(d,a,e,f)}),d},segmentEach:s,segmentReduce:function(a,b,c){var d=c;return s(a,function(a,e,f){d=0===e&&void 0===c?a:b(d,a,e,f)}),d},lineEach:v,lineReduce:function(a,b,c){var d=c;return v(a,function(a,e,f){d=0===e&&void 0===c?a:b(d,a,e,f)}),d}}},{}],15:[function(a,b){b.exports.RADIUS=6378137,b.exports.FLATTENING=1/298.257223563,b.exports.POLAR_RADIUS=6356752.3142},{}],16:[function(b,d){function g(a,b){for(var c,d=[],e=0;e<a.length;e++)c=h.polygon(a[e],b),0<c.length&&(c[0][0]===c[c.length-1][0]&&c[0][1]===c[c.length-1][1]||c.push(c[0]),4<=c.length&&d.push(c));return d}function j(a){return a.geometry?a.geometry.type:a.type}var e=b("@turf/helpers"),h=b("lineclip"),k=b("@turf/invariant").getCoords,a=e.lineString,m=e.multiLineString,l=e.polygon,c=e.multiPolygon;d.exports=function(b,d){var e=j(b),f=k(b),n=b.properties;switch(e){case"LineString":case"MultiLineString":var o=[];return"LineString"===e&&(f=[f]),f.forEach(function(a){h(a,d,o)}),1===o.length?a(o[0],n):m(o,n);case"Polygon":return l(g(f,d),n);case"MultiPolygon":return c(f.map(function(a){return g(a,d)}),n);default:throw new Error("geometry "+e+" not supported");}}},{"@turf/helpers":17,"@turf/invariant":18,lineclip:19}],17:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],18:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],19:[function(a,b){"use strict";function c(b,d,e){var k,m,n,a,o,l=b.length,c=j(b[0],d),f=[];for(e||(e=[]),k=1;k<l;k++){for(m=b[k-1],n=b[k],a=o=j(n,d);;){if(!(c|a)){f.push(m),a===o?k===l-1&&f.push(n):(f.push(n),k<l-1&&(e.push(f),f=[]));break}if(c&a)break;c?(m=g(m,n,c,d),c=j(m,d)):(n=g(m,n,a,d),a=j(n,d))}c=o}return f.length&&e.push(f),e}function d(b,d){var e,f,h,k,a,m,l;for(f=1;8>=f;f*=2){for(e=[],h=b[b.length-1],k=!(j(h,d)&f),a=0;a<b.length;a++)m=b[a],l=!(j(m,d)&f),l!==k&&e.push(g(h,m,f,d)),l&&e.push(m),h=m,k=l;if(b=e,!b.length)break}return e}function g(a,b,c,d){return 8&c?[a[0]+(b[0]-a[0])*(d[3]-a[1])/(b[1]-a[1]),d[3]]:4&c?[a[0]+(b[0]-a[0])*(d[1]-a[1])/(b[1]-a[1]),d[1]]:2&c?[d[2],a[1]+(b[1]-a[1])*(d[2]-a[0])/(b[0]-a[0])]:1&c?[d[0],a[1]+(b[1]-a[1])*(d[0]-a[0])/(b[0]-a[0])]:null}function j(a,b){var c=0;return a[0]<b[0]?c|=1:a[0]>b[2]&&(c|=2),a[1]<b[1]?c|=4:a[1]>b[3]&&(c|=8),c}b.exports=c,c.polyline=c,c.polygon=d},{}],20:[function(a,b){var c=a("@turf/helpers").polygon;b.exports=function(a){var b=[a[0],a[1]],d=[a[0],a[3]],e=[a[2],a[3]],f=[a[2],a[1]];return c([[b,f,e,d,b]])}},{"@turf/helpers":21}],21:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],22:[function(a,b){var c=a("@turf/meta").coordEach;b.exports=function(a){var b=[Infinity,Infinity,-Infinity,-Infinity];return c(a,function(a){b[0]>a[0]&&(b[0]=a[0]),b[1]>a[1]&&(b[1]=a[1]),b[2]<a[0]&&(b[2]=a[0]),b[3]<a[1]&&(b[3]=a[1])}),b}},{"@turf/meta":23}],23:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],24:[function(a,b,c){arguments[4][3][0].apply(c,arguments)},{"@turf/invariant":25,dup:3}],25:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],26:[function(a,b){var c=a("@turf/helpers").lineString,d=a("./spline.js");b.exports=function(b,f,g){for(var h,j=[],k=new d({points:b.geometry.coordinates.map(function(a){return{x:a[0],y:a[1]}}),duration:f,sharpness:g}),l=0;l<k.duration;l+=10)h=k.pos(l),0==Math.floor(l/100)%2&&j.push([h.x,h.y]);return c(j,b.properties)}},{"./spline.js":28,"@turf/helpers":27}],27:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],28:[function(a,b){var c=function(a){this.points=a.points||[],this.duration=a.duration||1e4,this.sharpness=a.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=a.stepLength||60,this.length=this.points.length,this.delay=0;for(var b=0;b<this.length;b++)this.points[b].z=this.points[b].z||0;for(var b=0;b<this.length-1;b++){var c=this.points[b],d=this.points[b+1];this.centers.push({x:(c.x+d.x)/2,y:(c.y+d.y)/2,z:(c.z+d.z)/2})}this.controls.push([this.points[0],this.points[0]]);for(var b=0;b<this.centers.length-1;b++){var c=this.centers[b],d=this.centers[b+1],e=this.points[b+1].x-(this.centers[b].x+this.centers[b+1].x)/2,f=this.points[b+1].y-(this.centers[b].y+this.centers[b+1].y)/2,g=this.points[b+1].z-(this.centers[b].y+this.centers[b+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[b+1].x+this.sharpness*(this.centers[b].x+e),y:(1-this.sharpness)*this.points[b+1].y+this.sharpness*(this.centers[b].y+f),z:(1-this.sharpness)*this.points[b+1].z+this.sharpness*(this.centers[b].z+g)},{x:(1-this.sharpness)*this.points[b+1].x+this.sharpness*(this.centers[b+1].x+e),y:(1-this.sharpness)*this.points[b+1].y+this.sharpness*(this.centers[b+1].y+f),z:(1-this.sharpness)*this.points[b+1].z+this.sharpness*(this.centers[b+1].z+g)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this};c.prototype.cacheSteps=function(a){var b=[],c=this.pos(0);b.push(0);for(var d,e=0;e<this.duration;e+=10)d=this.pos(e),Math.sqrt((d.x-c.x)*(d.x-c.x)+(d.y-c.y)*(d.y-c.y)+(d.z-c.z)*(d.z-c.z))>a&&(b.push(e),c=d);return b},c.prototype.vector=function(a){var b=this.pos(a+10),c=this.pos(a-10);return{angle:180*Math.atan2(b.y-c.y,b.x-c.x)/3.14,speed:Math.sqrt((c.x-b.x)*(c.x-b.x)+(c.y-b.y)*(c.y-b.y)+(c.z-b.z)*(c.z-b.z))}},c.prototype.pos=function(a){var b=a-this.delay;0>b&&(b=0),b>this.duration&&(b=this.duration-1);var c=b/this.duration;if(1<=c)return this.points[this.length-1];var d=Math.floor((this.points.length-1)*c),e=(this.length-1)*c-d;return function(a,b,c,d,e){var f=function(a){var b=a*a;return[b*a,3*b*(1-a),3*a*(1-a)*(1-a),(1-a)*(1-a)*(1-a)]}(a);return{x:e.x*f[0]+d.x*f[1]+c.x*f[2]+b.x*f[3],y:e.y*f[0]+d.y*f[1]+c.y*f[2]+b.y*f[3],z:e.z*f[0]+d.z*f[1]+c.z*f[2]+b.z*f[3]}}(e,this.points[d],this.controls[d][1],this.controls[d+1][0],this.points[d+1])},b.exports=c},{}],29:[function(a,b){var c=a("@turf/invariant"),d=c.getCoords;b.exports=function(b){if(!b)throw new Error("line is required");var c=b.geometry?b.geometry.type:b.type;if(!Array.isArray(b)&&"LineString"!==c)throw new Error("geometry must be a LineString");for(var e,f,g=d(b),h=0,j=1;j<g.length;)e=f||g[0],f=g[j],h+=(f[0]-e[0])*(f[1]+e[1]),j++;return 0<h}},{"@turf/invariant":30}],30:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],31:[function(b,j){function e(a,b){var c,d=!1;for(c=0;c<a.coordinates.length;c++)if(s(a.coordinates[c],b.coordinates)){d=!0;break}return d}function k(a,b){for(var c=0;c<b.coordinates.length;c++){for(var d=!1,e=0;e<a.coordinates.length;e++)if(s(b.coordinates[c],a.coordinates[e])){d=!0;break}if(!d)return!1}return!0}function n(a,b){for(var c=!1,d=0;d<b.coordinates.length;d++)if(p(b.coordinates[d],a,!0)&&(c=!0),!p(b.coordinates[d],a))return!1;return!!c}function o(a,b){for(var c=0;c<b.coordinates.length;c++)if(!f(b.coordinates[c],a,!0))return!1;return!0}function q(a,b){for(var c=!1,d=0;d<b.coordinates.length;d++)if(p({type:"Point",coordinates:b.coordinates[d]},a,!0)&&(c=!0),!p({type:"Point",coordinates:b.coordinates[d]},a,!1))return!1;return c}function a(a,b){var d=!1,e=0;if(!l(h(a),h(b)))return!1;for(e;e<b.coordinates.length-1;e++){var g=c(b.coordinates[e],b.coordinates[e+1]);if(f({type:"Point",coordinates:g},a,!0)){d=!0;break}}return d}function r(a,b){if(!l(h(a),h(b)))return!1;for(var c=0;c<b.coordinates[0].length;c++)if(!f(b.coordinates[0][c],a))return!1;return!0}function l(a,b){return!(a[0]>b[0])&&!(a[2]<b[2])&&!(a[1]>b[1])&&!(a[3]<b[3])}function s(a,b){return a[0]===b[0]&&a[1]===b[1]}function c(a,b){return[(a[0]+b[0])/2,(a[1]+b[1])/2]}var f=b("@turf/inside"),h=b("@turf/bbox"),p=b("@turf/boolean-point-on-line"),d=b("@turf/invariant"),g=d.getGeom,u=d.getCoords,m=d.getGeomType;j.exports=function(b,j){var l=m(b),t=m(j),c=g(b),h=g(j),d=u(b),v=u(j);switch(l){case"Point":switch(t){case"Point":return s(d,v);default:throw new Error("feature2 "+t+" geometry not supported");}case"MultiPoint":switch(t){case"Point":return e(c,h);case"MultiPoint":return k(c,h);default:throw new Error("feature2 "+t+" geometry not supported");}case"LineString":switch(t){case"Point":return p(h,c,!0);case"LineString":return q(c,h);case"MultiPoint":return n(c,h);default:throw new Error("feature2 "+t+" geometry not supported");}case"Polygon":switch(t){case"Point":return f(h,c,!0);case"LineString":return a(c,h);case"Polygon":return r(c,h);case"MultiPoint":return o(c,h);default:throw new Error("feature2 "+t+" geometry not supported");}default:throw new Error("feature1 "+l+" geometry not supported");}}},{"@turf/bbox":32,"@turf/boolean-point-on-line":34,"@turf/inside":36,"@turf/invariant":38}],32:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{"@turf/meta":33,dup:22}],33:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],34:[function(a,b){function c(b,c,d,e){var f=d[0]-b[0],g=d[1]-b[1],h=c[0]-b[0],j=c[1]-b[1];return 0==f*j-g*h&&(e?"start"===e?Math.abs(h)>=Math.abs(j)?0<h?b[0]<d[0]&&d[0]<=c[0]:c[0]<=d[0]&&d[0]<b[0]:0<j?b[1]<d[1]&&d[1]<=c[1]:c[1]<=d[1]&&d[1]<b[1]:"end"===e?Math.abs(h)>=Math.abs(j)?0<h?b[0]<=d[0]&&d[0]<c[0]:c[0]<d[0]&&d[0]<=b[0]:0<j?b[1]<=d[1]&&d[1]<c[1]:c[1]<d[1]&&d[1]<=b[1]:"both"===e?Math.abs(h)>=Math.abs(j)?0<h?b[0]<d[0]&&d[0]<c[0]:c[0]<d[0]&&d[0]<b[0]:0<j?b[1]<d[1]&&d[1]<c[1]:c[1]<d[1]&&d[1]<b[1]:void 0:Math.abs(h)>=Math.abs(j)?0<h?b[0]<=d[0]&&d[0]<=c[0]:c[0]<=d[0]&&d[0]<=b[0]:0<j?b[1]<=d[1]&&d[1]<=c[1]:c[1]<=d[1]&&d[1]<=b[1])}var d=a("@turf/invariant").getCoords;b.exports=function(b,f,e){for(var g,h=d(b),j=d(f),k=0;k<j.length-1;k++)if(g=!1,e&&(0===k&&(g="start"),k===j.length-2&&(g="end"),0===k&&k+1===j.length-1&&(g="both")),c(j[k],j[k+1],h,g))return!0;return!1}},{"@turf/invariant":35}],35:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],36:[function(b,c){function e(b,c,d){var e=!1;c[0][0]===c[c.length-1][0]&&c[0][1]===c[c.length-1][1]&&(c=c.slice(0,c.length-1));for(var f=0,g=c.length-1;f<c.length;g=f++){var h=c[f][0],j=c[f][1],a=c[g][0],k=c[g][1];if(0==b[1]*(h-a)+j*(a-b[0])+k*(b[0]-h)&&0>=(h-b[0])*(a-b[0])&&0>=(j-b[1])*(k-b[1]))return!d;j>b[1]!=k>b[1]&&b[0]<(a-h)*(b[1]-j)/(k-j)+h&&(e=!e)}return e}function g(a,b){return b[0]<=a[0]&&b[1]<=a[1]&&b[2]>=a[0]&&b[3]>=a[1]}var d=b("@turf/invariant"),j=d.getCoord,k=d.getCoords;c.exports=function(a,b,m){if(!a)throw new Error("point is required");if(!b)throw new Error("polygon is required");var q=j(a),o=k(b),r=b.geometry?b.geometry.type:b.type,l=b.bbox;if(l&&!1===g(q,l))return!1;"Polygon"===r&&(o=[o]);for(var c=0,f=!1;c<o.length&&!f;c++)if(e(q,o[c][0],m)){for(var s=!1,u=1;u<o[c].length&&!s;)e(q,o[c][u],!m)&&(s=!0),u++;s||(f=!0)}return f}},{"@turf/invariant":37}],37:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],38:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],39:[function(b,j){function e(b,c){for(var d=!1,e=!1,f=b.coordinates.length,g=0;g<f&&!d&&!e;){for(var h,a=0;a<c.coordinates.length-1;a++)h=!0,0!==a&&a!==c.coordinates.length-2||(h=!1),v(c.coordinates[a],c.coordinates[a+1],b.coordinates[g],h)?d=!0:e=!0;g++}return d&&e}function k(a,b){if(0<c(a,b).features.length)for(var d=0;d<a.coordinates.length-1;d++)for(var e,f=0;f<b.coordinates.length-1;f++)if(e=!0,0!==f&&f!==b.coordinates.length-2||(e=!1),v(a.coordinates[d],a.coordinates[d+1],b.coordinates[f],e))return!0;return!1}function m(a,b){return 0<c(a,f(b)).features.length}function q(a,b){return l(b,a)}function n(b,c){for(var d=!1,e=!1,f=b.coordinates[0].length,g=0;g<f&&d&&e;)q(c,a.point(b.coordinates[0][g]),!0)?d=!0:e=!0,g++;return e&&e}function v(b,c,d,e){var f=d[0]-b[0],g=d[1]-b[1],h=c[0]-b[0],j=c[1]-b[1];return 0==f*j-g*h&&(e?Math.abs(h)>=Math.abs(j)?0<h?b[0]<=d[0]&&d[0]<=c[0]:c[0]<=d[0]&&d[0]<=b[0]:0<j?b[1]<=d[1]&&d[1]<=c[1]:c[1]<=d[1]&&d[1]<=b[1]:Math.abs(h)>=Math.abs(j)?0<h?b[0]<d[0]&&d[0]<c[0]:c[0]<d[0]&&d[0]<b[0]:0<j?b[1]<d[1]&&d[1]<c[1]:c[1]<d[1]&&d[1]<b[1])}var a=b("@turf/helpers"),l=b("@turf/inside"),c=b("@turf/line-intersect"),f=b("@turf/polygon-to-linestring"),h=b("@turf/invariant"),o=h.getGeom,d=h.getGeomType;j.exports=function(a,b){var c=d(a),f=d(b),g=o(a),h=o(b);switch(c){case"MultiPoint":switch(f){case"LineString":return e(g,h);case"Polygon":return n(g,h);default:throw new Error("feature2 "+f+" geometry not supported");}case"LineString":switch(f){case"MultiPoint":return e(h,g);case"LineString":return k(g,h);case"Polygon":return m(g,h);default:throw new Error("feature2 "+f+" geometry not supported");}case"Polygon":switch(f){case"MultiPoint":return n(h,g);case"LineString":return m(h,g);default:throw new Error("feature2 "+f+" geometry not supported");}default:throw new Error("feature1 "+c+" geometry not supported");}}},{"@turf/helpers":40,"@turf/inside":41,"@turf/invariant":43,"@turf/line-intersect":44,"@turf/polygon-to-linestring":58}],40:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],41:[function(a,b,c){arguments[4][36][0].apply(c,arguments)},{"@turf/invariant":42,dup:36}],42:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],43:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],44:[function(b,d){function g(a,b){var e=q(a),g=q(b);if(2!==e.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==g.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var j=e[0][0],k=e[0][1],l=e[1][0],n=e[1][1],o=g[0][0],c=g[0][1],f=g[1][0],h=g[1][1],p=(h-c)*(l-j)-(f-o)*(n-k);if(0===p)return null;var d=((f-o)*(k-c)-(h-c)*(j-o))/p,r=((l-j)*(k-c)-(n-k)*(j-o))/p;return 0<=d&&1>=d&&0<=r&&1>=r?w([j+d*(l-j),k+d*(n-k)]):null}var e=b("@turf/meta"),j=b("geojson-rbush"),k=b("@turf/helpers"),q=b("@turf/invariant").getCoords,a=b("@turf/line-segment"),w=k.point,m=e.featureEach,c=k.featureCollection;d.exports=function(b,d){var e={},f=[];if("LineString"===b.type&&(b=k.feature(b)),"LineString"===d.type&&(d=k.feature(d)),"Feature"===b.type&&"Feature"===d.type&&"LineString"===b.geometry.type&&"LineString"===d.geometry.type&&2===b.geometry.coordinates.length&&2===d.geometry.coordinates.length){var n=g(b,d);return n&&f.push(n),c(f)}var l=j();return l.load(a(d)),m(a(b),function(a){m(l.search(a),function(b){var c=g(a,b);if(c){var d=q(c).join(",");e[d]||(e[d]=!0,f.push(c))}})}),c(f)}},{"@turf/helpers":48,"@turf/invariant":49,"@turf/line-segment":50,"@turf/meta":54,"geojson-rbush":55}],45:[function(a,b,c){arguments[4][20][0].apply(c,arguments)},{"@turf/helpers":46,dup:20}],46:[function(h,j){function k(a,b,c,d){if(void 0===a)throw new Error("geometry is required");if(b&&b.constructor!==Object)throw new Error("properties must be an Object");var e={type:"Feature",properties:b||{},geometry:a};if(c){if(4!==c.length)throw new Error("bbox must be an Array of 4 numbers");e.bbox=c}return d&&(e.id=d),e}function n(a,b,c,d){if(!a)throw new Error("No coordinates passed");if(void 0===a.length)throw new Error("Coordinates must be an array");if(2>a.length)throw new Error("Coordinates must be at least 2 numbers long");if("number"!=typeof a[0]||"number"!=typeof a[1])throw new Error("Coordinates must contain numbers");return k({type:"Point",coordinates:a},b,c,d)}function p(b,c,d,e){if(!b)throw new Error("No coordinates passed");for(var f,g=0;g<b.length;g++){if(f=b[g],4>f.length)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var h=0;h<f[f.length-1].length;h++)if(f[f.length-1][h]!==f[0][h])throw new Error("First and last Position are not equivalent.")}return k({type:"Polygon",coordinates:b},c,d,e)}function q(a,b,c,d){if(!a)throw new Error("No coordinates passed");if(2>a.length)throw new Error("Coordinates must be an array of two or more positions");return k({type:"LineString",coordinates:a},b,c,d)}function r(a,b,c,d){if(!a)throw new Error("No coordinates passed");return k({type:"MultiLineString",coordinates:a},b,c,d)}function u(a,b,c,d){if(!a)throw new Error("No coordinates passed");return k({type:"MultiPoint",coordinates:a},b,c,d)}function v(a,b,c,d){if(!a)throw new Error("No coordinates passed");return k({type:"MultiPolygon",coordinates:a},b,c,d)}function w(a,b){if(void 0===a||null===a)throw new Error("radians is required");var c=z[b||"kilometers"];if(!c)throw new Error("units is invalid");return a*c}function x(a,b){if(void 0===a||null===a)throw new Error("distance is required");var c=z[b||"kilometers"];if(!c)throw new Error("units is invalid");return a/c}function y(a){if(null===a||void 0===a)throw new Error("radians is required");return 180*(a%(2*Math.PI))/Math.PI}var z={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,centimeters:6373e5,centimetres:6373e5,kilometers:6373,kilometres:6373,feet:20908792.65},b={kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,centimetres:1e4,millimeter:1e6,acres:247105e-9,miles:3.86e-7,yards:1.195990046,feet:10.763910417,inches:1550.003100006};j.exports={feature:k,geometry:function(a,b,c){if(!a)throw new Error("type is required");if(!b)throw new Error("coordinates is required");if(!Array.isArray(b))throw new Error("coordinates must be an Array");var d;switch(a){case"Point":d=n(b).geometry;break;case"LineString":d=q(b).geometry;break;case"Polygon":d=p(b).geometry;break;case"MultiPoint":d=u(b).geometry;break;case"MultiLineString":d=r(b).geometry;break;case"MultiPolygon":d=v(b).geometry;break;default:throw new Error(a+" is invalid");}if(c){if(4!==c.length)throw new Error("bbox must be an Array of 4 numbers");d.bbox=c}return d},featureCollection:function(a,b){if(!a)throw new Error("No features passed");if(!Array.isArray(a))throw new Error("features must be an Array");var c={type:"FeatureCollection",features:a};return b&&(c.bbox=b),c},geometryCollection:function(a,b,c,d){if(!a)throw new Error("geometries is required");if(!Array.isArray(a))throw new Error("geometries must be an Array");return k({type:"GeometryCollection",geometries:a},b,c,d)},point:n,multiPoint:u,lineString:q,multiLineString:r,polygon:p,multiPolygon:v,radiansToDistance:w,distanceToRadians:x,distanceToDegrees:function(a,b){return y(x(a,b))},radians2degrees:y,degrees2radians:function(a){if(null===a||void 0===a)throw new Error("degrees is required");return a%360*Math.PI/180},bearingToAngle:function(a){if(null===a||void 0===a)throw new Error("bearing is required");var b=a%360;return 0>b&&(b+=360),b},convertDistance:function(a,b,c){if(null===a||void 0===a)throw new Error("distance is required");if(!(0<=a))throw new Error("distance must be a positive number");return w(x(a,b),c||"kilometers")},convertArea:function(a,c,d){if(null===a||void 0===a)throw new Error("area is required");if(!(0<=a))throw new Error("area must be a positive number");var e=b[c||"meters"];if(!e)throw new Error("invalid original units");var f=b[d||"kilometers"];if(!f)throw new Error("invalid final units");return a/e*f},round:function(a,b){if(void 0===a||null===a||isNaN(a))throw new Error("num is required");if(b&&!(0<=b))throw new Error("precision must be a positive number");var c=Math.pow(10,b||0);return Math.round(a*c)/c}}},{}],47:[function(a,b){var c=a("@turf/meta").coordEach;b.exports=function(a){var b=[Infinity,Infinity,-Infinity,-Infinity];return c(a,function(a){b[0]>a[0]&&(b[0]=a[0]),b[1]>a[1]&&(b[1]=a[1]),b[2]<a[0]&&(b[2]=a[0]),b[3]<a[1]&&(b[3]=a[1])}),b}},{"@turf/meta":54}],48:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],49:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],50:[function(b,d){function f(a,b){var c=[],d=a.geometry;switch(d.type){case"Polygon":c=j(d);break;case"LineString":c=[j(d)];}c.forEach(function(c){g(c,a.properties).forEach(function(a){a.id=b.length,b.push(a)})})}function g(a,b){var c=[];return a.reduce(function(a,d){var e=k([a,d],b);return e.bbox=h(a,d),c.push(e),d}),c}function h(a,b){var c=a[0],d=a[1],e=b[0],f=b[1];return[c<e?c:e,d<f?d:f,c>e?c:e,d>f?d:f]}var e=b("@turf/helpers"),j=b("@turf/invariant").getCoords,a=b("@turf/meta").flattenEach,k=e.lineString,l=e.featureCollection;d.exports=function(b){if(!b)throw new Error("geojson is required");var c=[];return a(b,function(a){f(a,c)}),l(c)}},{"@turf/helpers":51,"@turf/invariant":52,"@turf/meta":53}],51:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],52:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],53:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],54:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],55:[function(b,c){var d=b("@turf/bbox"),f=b("@turf/helpers").featureCollection,g=b("@turf/meta").featureEach,h=b("@turf/bbox-polygon"),j=b("rbush");c.exports=function(a){var b=j(a);return b.insert=function(a){if(Array.isArray(a)){var b=a;a=h(b),a.bbox=b}else a.bbox=a.bbox?a.bbox:d(a);return j.prototype.insert.call(this,a)},b.load=function(a){var b=[];return Array.isArray(a)?a.forEach(function(a){var c=h(a);c.bbox=a,b.push(c)}):g(a,function(a){a.bbox=a.bbox?a.bbox:d(a),b.push(a)}),j.prototype.load.call(this,b)},b.remove=function(a){if(Array.isArray(a)){var b=a;a=h(b),a.bbox=b}return j.prototype.remove.call(this,a)},b.clear=function(){return j.prototype.clear.call(this)},b.search=function(a){var b=j.prototype.search.call(this,this.toBBox(a));return f(b)},b.collides=function(a){return j.prototype.collides.call(this,this.toBBox(a))},b.all=function(){var a=j.prototype.all.call(this);return f(a)},b.toJSON=function(){return j.prototype.toJSON.call(this)},b.fromJSON=function(a){return j.prototype.fromJSON.call(this,a)},b.toBBox=function(a){var b;return b=a.bbox?a.bbox:Array.isArray(a)&&4===a.length?a:d(a),{minX:b[0],minY:b[1],maxX:b[2],maxY:b[3]}},b}},{"@turf/bbox":47,"@turf/bbox-polygon":45,"@turf/helpers":48,"@turf/meta":54,rbush:57}],56:[function(a,b){"use strict";function d(b,m,e,n,o){for(e=e||0,n=n||b.length-1,o=o||k;n>e;){if(600<n-e){var a=n-e+1,q=m-e+1,l=Math.log(a),c=.5*Math.exp(2*l/3),f=.5*Math.sqrt(l*c*(a-c)/a)*(0>q-a/2?-1:1);d(b,m,Math.max(e,Math.floor(m-q*c/a+f)),Math.min(n,Math.floor(m+(a-q)*c/a+f)),o)}var h=b[m],p=e,r=n;for(j(b,e,m),0<o(b[n],h)&&j(b,e,n);p<r;){for(j(b,p,r),p++,r--;0>o(b[p],h);)p++;for(;0<o(b[r],h);)r--}0===o(b[e],h)?j(b,e,r):(r++,j(b,r,n)),r<=m&&(e=r+1),m<=r&&(n=r-1)}}function j(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}function k(a,b){return a<b?-1:a>b?1:0}b.exports=d},{}],57:[function(b,j){"use strict";function k(a,b){return this instanceof k?void(this._maxEntries=Math.max(4,a||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),b&&this._initFormat(b),this.clear()):new k(a,b)}function q(a,b,c){if(!c)return b.indexOf(a);for(var d=0;d<b.length;d++)if(c(a,b[d]))return d;return-1}function w(a,b){x(a,0,a.children.length,b,a)}function x(a,b,c,d,e){e||(e=g(null)),e.minX=1/0,e.minY=1/0,e.maxX=-1/0,e.maxY=-1/0;for(var f,h=b;h<c;h++)f=a.children[h],z(e,a.leaf?d(f):f);return e}function z(a,b){return a.minX=Math.min(a.minX,b.minX),a.minY=Math.min(a.minY,b.minY),a.maxX=Math.max(a.maxX,b.maxX),a.maxY=Math.max(a.maxY,b.maxY),a}function a(a,b){return a.minX-b.minX}function o(a,b){return a.minY-b.minY}function A(a){return(a.maxX-a.minX)*(a.maxY-a.minY)}function s(a){return a.maxX-a.minX+(a.maxY-a.minY)}function c(a,b){return(Math.max(b.maxX,a.maxX)-Math.min(b.minX,a.minX))*(Math.max(b.maxY,a.maxY)-Math.min(b.minY,a.minY))}function B(a,b){var c=Math.max(a.minX,b.minX),d=Math.max(a.minY,b.minY),e=Math.min(a.maxX,b.maxX),f=Math.min(a.maxY,b.maxY);return Math.max(0,e-c)*Math.max(0,f-d)}function f(a,b){return a.minX<=b.minX&&a.minY<=b.minY&&b.maxX<=a.maxX&&b.maxY<=a.maxY}function d(a,b){return b.minX<=a.maxX&&b.minY<=a.maxY&&b.maxX>=a.minX&&b.maxY>=a.minY}function g(a){return{children:a,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function y(a,b,c,d,e){for(var f,g=[b,c];g.length;)c=g.pop(),b=g.pop(),c-b<=d||(f=b+Math.ceil((c-b)/d/2)*d,h(a,f,b,c,e),g.push(b,f,f,c))}j.exports=k;var h=b("quickselect");k.prototype={all:function(){return this._all(this.data,[])},search:function(b){var c=this.data,e=[],g=this.toBBox;if(!d(b,c))return e;for(var h,j,k,l,a=[];c;){for(h=0,j=c.children.length;h<j;h++)k=c.children[h],l=c.leaf?g(k):k,d(b,l)&&(c.leaf?e.push(k):f(b,l)?this._all(k,e):a.push(k));c=a.pop()}return e},collides:function(b){var c=this.data,e=this.toBBox;if(!d(b,c))return!1;for(var g,h,j,k,l=[];c;){for(g=0,h=c.children.length;g<h;g++)if(j=c.children[g],k=c.leaf?e(j):j,d(b,k)){if(c.leaf||f(b,k))return!0;l.push(j)}c=l.pop()}return!1},load:function(a){if(!a||!a.length)return this;if(a.length<this._minEntries){for(var b=0,c=a.length;b<c;b++)this.insert(a[b]);return this}var d=this._build(a.slice(),0,a.length-1,0);if(!this.data.children.length)this.data=d;else if(this.data.height===d.height)this._splitRoot(this.data,d);else{if(this.data.height<d.height){var e=this.data;this.data=d,d=e}this._insert(d,this.data.height-d.height-1,!0)}return this},insert:function(a){return a&&this._insert(a,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(b,d){if(!b)return this;for(var e,g,h,j,k=this.data,a=this.toBBox(b),m=[],l=[];k||m.length;){if(k||(k=m.pop(),g=m[m.length-1],e=l.pop(),j=!0),k.leaf&&-1!==(h=q(b,k.children,d)))return k.children.splice(h,1),m.push(k),this._condense(m),this;j||k.leaf||!f(k,a)?g?(e++,k=g.children[e],j=!1):k=null:(m.push(k),l.push(e),e=0,g=k,k=k.children[0])}return this},toBBox:function(a){return a},compareMinX:a,compareMinY:o,toJSON:function(){return this.data},fromJSON:function(a){return this.data=a,this},_all:function(a,b){for(var c=[];a;)a.leaf?b.push.apply(b,a.children):c.push.apply(c,a.children),a=c.pop();return b},_build:function(b,d,e,j){var k,m=e-d+1,n=this._maxEntries;if(m<=n)return k=g(b.slice(d,e+1)),w(k,this.toBBox),k;j||(j=Math.ceil(Math.log(m)/Math.log(n)),n=Math.ceil(m/Math.pow(n,j-1))),k=g([]),k.leaf=!1,k.height=j;var a,o,l,c,f=Math.ceil(m/n),h=f*Math.ceil(Math.sqrt(n));for(y(b,d,e,h,this.compareMinX),a=d;a<=e;a+=h)for(l=Math.min(a+h-1,e),y(b,a,l,f,this.compareMinY),o=a;o<=l;o+=f)c=Math.min(o+f-1,l),k.children.push(this._build(b,o,c,j-1));return w(k,this.toBBox),k},_chooseSubtree:function(b,d,e,g){for(var h,j,k,m,a,n,l,f;;){if(g.push(d),d.leaf||g.length-1===e)break;for(l=f=1/0,h=0,j=d.children.length;h<j;h++)k=d.children[h],a=A(k),n=c(b,k)-a,n<f?(f=n,l=a<l?a:l,m=k):n===f&&a<l&&(l=a,m=k);d=m||d.children[0]}return d},_insert:function(a,b,c){var d=this.toBBox,e=c?a:d(a),f=[],g=this._chooseSubtree(e,this.data,b,f);for(g.children.push(a),z(g,e);0<=b&&f[b].children.length>this._maxEntries;)this._split(f,b),b--;this._adjustParentBBoxes(e,f,b)},_split:function(b,c){var d=b[c],e=d.children.length,f=this._minEntries;this._chooseSplitAxis(d,f,e);var h=this._chooseSplitIndex(d,f,e),j=g(d.children.splice(h,d.children.length-h));j.height=d.height,j.leaf=d.leaf,w(d,this.toBBox),w(j,this.toBBox),c?b[c-1].children.push(j):this._splitRoot(d,j)},_splitRoot:function(a,b){this.data=g([a,b]),this.data.height=a.height+1,this.data.leaf=!1,w(this.data,this.toBBox)},_chooseSplitIndex:function(b,c,d){var e,g,j,k,a,m,l,f;for(m=l=1/0,e=c;e<=d-c;e++)g=x(b,0,e,this.toBBox),j=x(b,e,d,this.toBBox),k=B(g,j),a=A(g)+A(j),k<m?(m=k,f=e,l=a<l?a:l):k===m&&a<l&&(l=a,f=e);return f},_chooseSplitAxis:function(b,c,d){var e=b.leaf?this.compareMinX:a,f=b.leaf?this.compareMinY:o;this._allDistMargin(b,c,d,e)<this._allDistMargin(b,c,d,f)&&b.children.sort(e)},_allDistMargin:function(a,b,d,e){a.children.sort(e);var f,g,j=this.toBBox,k=x(a,0,b,j),l=x(a,d-b,d,j),c=s(k)+s(l);for(f=b;f<d-b;f++)g=a.children[f],z(k,a.leaf?j(g):g),c+=s(k);for(f=d-b-1;f>=b;f--)g=a.children[f],z(l,a.leaf?j(g):g),c+=s(l);return c},_adjustParentBBoxes:function(a,b,c){for(var d=c;0<=d;d--)z(b[d],a)},_condense:function(a){for(var b,c=a.length-1;0<=c;c--)0===a[c].children.length?0<c?(b=a[c-1].children,b.splice(b.indexOf(a[c]),1)):this.clear():w(a[c],this.toBBox)},_initFormat:function(a){var b=["return a"," - b",";"];this.compareMinX=new Function("a","b",b.join(a[0])),this.compareMinY=new Function("a","b",b.join(a[1])),this.toBBox=new Function("a","return {minX: a"+a[0]+", minY: a"+a[1]+", maxX: a"+a[2]+", maxY: a"+a[3]+"};")}}},{quickselect:56}],58:[function(b,c){function d(b,c){return 1<b.length?a(b,c):h(b[0],c)}function f(a){return a.geometry?a.geometry.type:a.type}var g=b("@turf/invariant").getCoords,e=b("@turf/helpers"),h=e.lineString,a=e.multiLineString,j=e.featureCollection;c.exports=function(b,c){var e=f(b),h=g(b);if(c=c||b.properties||{},!h.length)throw new Error("polygon must contain coordinates");switch(e){case"Polygon":return d(h,c);case"MultiPolygon":var k=[];return h.forEach(function(a){k.push(d(a,c))}),j(k);default:throw new Error("geom "+e+" not supported");}}},{"@turf/helpers":59,"@turf/invariant":60}],59:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],60:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],61:[function(b,d){function g(a,b){switch(a.type){case"Point":switch(b.type){case"Point":return!o(a.coordinates,b.coordinates);case"LineString":return!j(b,a);case"Polygon":return!l(a,b);}break;case"LineString":switch(b.type){case"Point":return!j(a,b);case"LineString":return!k(a,b);case"Polygon":return!m(b,a);}break;case"Polygon":switch(b.type){case"Point":return!l(b,a);case"LineString":return!m(a,b);case"Polygon":return!n(b,a);}}}function j(b,c){for(var d=0;d<b.coordinates.length-1;d++)if(a(b.coordinates[d],b.coordinates[d+1],c.coordinates))return!0;return!1}function k(a,b){return 0<f(a,b).features.length}function m(a,b){return 0<f(b,h(a)).features.length}function n(a,b){for(var c=0;c<a.coordinates[0].length;c++)if(l(a.coordinates[0][c],b))return!0;for(var d=0;d<b.coordinates[0].length;d++)if(l(b.coordinates[0][d],a))return!0;return!1}function a(a,b,c){var d=c[0]-a[0],e=c[1]-a[1],f=b[0]-a[0],g=b[1]-a[1];return 0==d*g-e*f&&(Math.abs(f)>=Math.abs(g)?0<f?a[0]<=c[0]&&c[0]<=b[0]:b[0]<=c[0]&&c[0]<=a[0]:0<g?a[1]<=c[1]&&c[1]<=b[1]:b[1]<=c[1]&&c[1]<=a[1])}function o(a,b){return a[0]===b[0]&&a[1]===b[1]}var l=b("@turf/inside"),c=b("@turf/meta").flattenEach,f=b("@turf/line-intersect"),h=b("@turf/polygon-to-linestring");d.exports=function(a,b){var d;return c(a,function(a){c(b,function(b){return!1!==d&&void(d=g(a.geometry,b.geometry))})}),d}},{"@turf/inside":62,"@turf/line-intersect":64,"@turf/meta":78,"@turf/polygon-to-linestring":79}],62:[function(a,b,c){arguments[4][36][0].apply(c,arguments)},{"@turf/invariant":63,dup:36}],63:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],64:[function(a,b,c){arguments[4][44][0].apply(c,arguments)},{"@turf/helpers":68,"@turf/invariant":69,"@turf/line-segment":70,"@turf/meta":74,dup:44,"geojson-rbush":75}],65:[function(a,b,c){arguments[4][20][0].apply(c,arguments)},{"@turf/helpers":66,dup:20}],66:[function(a,b,c){arguments[4][46][0].apply(c,arguments)},{dup:46}],67:[function(a,b,c){arguments[4][47][0].apply(c,arguments)},{"@turf/meta":74,dup:47}],68:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],69:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],70:[function(a,b,c){arguments[4][50][0].apply(c,arguments)},{"@turf/helpers":71,"@turf/invariant":72,"@turf/meta":73,dup:50}],71:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],72:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],73:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],74:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],75:[function(a,b,c){arguments[4][55][0].apply(c,arguments)},{"@turf/bbox":67,"@turf/bbox-polygon":65,"@turf/helpers":68,"@turf/meta":74,dup:55,rbush:77}],76:[function(a,b,c){arguments[4][56][0].apply(c,arguments)},{dup:56}],77:[function(a,b,c){arguments[4][57][0].apply(c,arguments)},{dup:57,quickselect:76}],78:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],79:[function(a,b,c){arguments[4][58][0].apply(c,arguments)},{"@turf/helpers":80,"@turf/invariant":81,dup:58}],80:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],81:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],82:[function(a,b){var c=a("geojson-equality"),d=a("@turf/clean-coords"),e=a("@turf/invariant"),f=e.getGeomType;b.exports=function(a,b){if(!a)throw new Error("feature1 is required");if(!b)throw new Error("feature2 is required");return f(a)===f(b)&&new c({precision:6}).compare(d(a),d(b))}},{"@turf/clean-coords":83,"@turf/invariant":86,"geojson-equality":90}],83:[function(b,d){function g(a,b,c){var d={type:b,coordinates:c};return a.bbox&&(d.bbox=a.bbox),d}function h(b,c,d){var e=a.feature(g(b.geometry,c,d),b.properties);return b.id&&(e.id=b.id),b.bbox&&(e.bbox=b.bbox),e}function j(a){var b=p(a);if(2===b.length&&!k(b[0],b[1]))return b;var c,d,e,f=[],g=b.length-1;f.push(b[0]);for(var h=1;h<g;h++)c=b[h-1],d=b[h],e=b[h+1],m(c,e,d)||f.push(d);return f.push(e),f}function k(a,b){return a[0]===b[0]&&a[1]===b[1]}function m(b,c,d){var e=d[0],g=d[1],j=b[0],k=b[1],l=c[0],m=c[1],n=l-j,f=m-k;return 0==(e-j)*f-(g-k)*n&&(Math.abs(n)>=Math.abs(f)?0<n?j<=e&&e<=l:l<=e&&e<=j:0<f?k<=g&&g<=m:m<=g&&g<=k)}var a=b("@turf/helpers"),e=b("@turf/invariant"),p=e.getCoords,c=e.getGeomType;d.exports=function(b,d){if(!b)throw new Error("geojson is required");var e=c(b),f=[];switch(e){case"LineString":f=j(b);break;case"MultiLineString":case"Polygon":p(b).forEach(function(a){f.push(j(a))});break;case"MultiPolygon":p(b).forEach(function(a){var b=[];a.forEach(function(a){b.push(j(a))}),f.push(b)});break;case"Point":return b;case"MultiPoint":var k={};p(b).forEach(function(a){var b=a.join("-");k.hasOwnProperty(b)||(f.push(a),k[b]=!0)});break;default:throw new Error(e+" geometry not supported");}return b.coordinates?!0===d?(b.coordinates=f,b):g(b,e,f):!0===d?(b.geometry.coordinates=f,b):h(b,e,f)}},{"@turf/helpers":84,"@turf/invariant":85}],84:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],85:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],86:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],87:[function(b,c){function d(a){return null===a||void 0===a}function g(a){return a&&"object"==("undefined"===typeof a?"undefined":j(a))&&"number"==typeof a.length&&"function"==typeof a.copy&&"function"==typeof a.slice&&!(0<a.length&&"number"!=typeof a[0])}function f(b,l,p){var n,q;if(d(b)||d(l))return!1;if(b.prototype!==l.prototype)return!1;if(a(b))return!!a(l)&&(b=k.call(b),l=k.call(l),m(b,l,p));if(g(b)){if(!g(l))return!1;if(b.length!==l.length)return!1;for(n=0;n<b.length;n++)if(b[n]!==l[n])return!1;return!0}try{var c=h(b),f=h(l)}catch(a){return!1}if(c.length!=f.length)return!1;for(c.sort(),f.sort(),n=c.length-1;0<=n;n--)if(c[n]!=f[n])return!1;for(n=c.length-1;0<=n;n--)if(q=c[n],!m(b[q],l[q],p))return!1;return("undefined"===typeof b?"undefined":j(b))==("undefined"===typeof l?"undefined":j(l))}var k=Array.prototype.slice,h=b("./lib/keys.js"),a=b("./lib/is_arguments.js"),m=c.exports=function(a,b,c){return c||(c={}),a===b||(a instanceof Date&&b instanceof Date?a.getTime()===b.getTime():a&&b&&("object"==("undefined"===typeof a?"undefined":j(a))||"object"==("undefined"===typeof b?"undefined":j(b)))?f(a,b,c):c.strict?a===b:a==b)}},{"./lib/is_arguments.js":88,"./lib/keys.js":89}],88:[function(a,b,c){function d(a){return"[object Arguments]"==Object.prototype.toString.call(a)}function e(a){return a&&"object"==("undefined"===typeof a?"undefined":j(a))&&"number"==typeof a.length&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}var f="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();c=b.exports=f?d:e,c.supported=d,c.unsupported=e},{}],89:[function(a,b,c){function d(a){var b=[];for(var c in a)b.push(c);return b}c=b.exports="function"==typeof Object.keys?Object.keys:d,c.shim=d},{}],90:[function(b,c){function d(a){return a.coordinates.map(function(b){return{type:a.type.replace("Multi",""),coordinates:b}})}function f(a,b){return a.hasOwnProperty("coordinates")?a.coordinates.length===b.coordinates.length:a.length===b.length}function e(a,b){return g(a,b,{strict:!0})}var g=b("deep-equal"),h=function(a){this.precision=a&&a.precision?a.precision:17,this.direction=a&&a.direction&&a.direction,this.pseudoNode=a&&a.pseudoNode&&a.pseudoNode,this.objectComparator=a&&a.objectComparator?a.objectComparator:e};h.prototype.compare=function(a,b){if(a.type!==b.type||!f(a,b))return!1;switch(a.type){case"Point":return this.compareCoord(a.coordinates,b.coordinates);case"LineString":return this.compareLine(a.coordinates,b.coordinates,0,!1);case"Polygon":return this.comparePolygon(a,b);case"Feature":return this.compareFeature(a,b);default:if(0===a.type.indexOf("Multi")){var c=this,e=d(a),g=d(b);return e.every(function(a){return this.some(function(b){return c.compare(a,b)})},g)}}return!1},h.prototype.compareCoord=function(a,b){if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c].toFixed(this.precision)!==b[c].toFixed(this.precision))return!1;return!0},h.prototype.compareLine=function(b,c,d,e){if(!f(b,c))return!1;var g=this.pseudoNode?b:this.removePseudo(b),h=this.pseudoNode?c:this.removePseudo(c);if(!e||this.compareCoord(g[0],h[0])||(h=this.fixStartIndex(h,g))){var j=this.compareCoord(g[d],h[d]);return this.direction||j?this.comparePath(g,h):!!this.compareCoord(g[d],h[h.length-(1+d)])&&this.comparePath(g.slice().reverse(),h)}},h.prototype.fixStartIndex=function(a,b){for(var c,d=-1,e=0;e<a.length;e++)if(this.compareCoord(a[e],b[0])){d=e;break}return 0<=d&&(c=[].concat(a.slice(d,a.length),a.slice(1,d+1))),c},h.prototype.comparePath=function(a,b){var c=this;return a.every(function(a,b){return c.compareCoord(a,this[b])},b)},h.prototype.comparePolygon=function(a,b){if(this.compareLine(a.coordinates[0],b.coordinates[0],1,!0)){var c=a.coordinates.slice(1,a.coordinates.length),d=b.coordinates.slice(1,b.coordinates.length),f=this;return c.every(function(a){return this.some(function(b){return f.compareLine(a,b,1,!0)})},d)}return!1},h.prototype.compareFeature=function(a,b){return a.id===b.id&&this.objectComparator(a.properties,b.properties)&&this.compareBBox(a,b)&&this.compare(a.geometry,b.geometry)},h.prototype.compareBBox=function(a,b){return!!(!a.bbox&&!b.bbox||a.bbox&&b.bbox&&this.compareCoord(a.bbox,b.bbox))},h.prototype.removePseudo=function(a){return a},c.exports=h},{"deep-equal":87}],91:[function(b,d){var e=b("@turf/meta"),f=b("@turf/invariant"),g=b("@turf/line-overlap"),h=b("@turf/line-intersect"),j=b("geojson-equality"),a=e.coordAll,k=e.segmentEach,l=f.getGeomType;d.exports=function(b,c){if(!b)throw new Error("feature1 is required");if(!c)throw new Error("feature2 is required");var d=l(b);if(d!==l(c))throw new Error("features must be of the same type");if("Point"===d)throw new Error("Point geometry not supported");if(new j({precision:6}).compare(b,c))return!1;var m=0;switch(d){case"MultiPoint":var n=a(b),o=a(c);n.forEach(function(a){o.forEach(function(b){a[0]===b[0]&&a[1]===b[1]&&m++})});break;case"LineString":case"MultiLineString":k(b,function(a){k(c,function(b){g(a,b).features.length&&m++})});break;case"Polygon":case"MultiPolygon":k(b,function(a){k(c,function(b){h(a,b).features.length&&m++})});}return 0<m}},{"@turf/invariant":92,"@turf/line-intersect":93,"@turf/line-overlap":107,"@turf/meta":152,"geojson-equality":156}],92:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],93:[function(a,b,c){arguments[4][44][0].apply(c,arguments)},{"@turf/helpers":97,"@turf/invariant":98,"@turf/line-segment":99,"@turf/meta":103,dup:44,"geojson-rbush":104}],94:[function(a,b,c){arguments[4][20][0].apply(c,arguments)},{"@turf/helpers":95,dup:20}],95:[function(a,b,c){arguments[4][46][0].apply(c,arguments)},{dup:46}],96:[function(a,b,c){arguments[4][47][0].apply(c,arguments)},{"@turf/meta":103,dup:47}],97:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],98:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],99:[function(a,b,c){arguments[4][50][0].apply(c,arguments)},{"@turf/helpers":100,"@turf/invariant":101,"@turf/meta":102,dup:50}],100:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],101:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],102:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],103:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],104:[function(a,b,c){arguments[4][55][0].apply(c,arguments)},{"@turf/bbox":96,"@turf/bbox-polygon":94,"@turf/helpers":97,"@turf/meta":103,dup:55,rbush:106}],105:[function(a,b,c){arguments[4][56][0].apply(c,arguments)},{dup:56}],106:[function(a,b,c){arguments[4][57][0].apply(c,arguments)},{dup:57,quickselect:105}],107:[function(b,g){function j(b,c){var d=f(c),e=f(b),g=e[0],h=e[e.length-1],j=b.geometry.coordinates;return k(d[0],g)?j.unshift(d[1]):k(d[0],h)?j.push(d[1]):k(d[1],g)?j.unshift(d[0]):k(d[1],h)&&j.push(d[0]),b}var e=b("@turf/meta"),k=b("deep-equal"),m=b("geojson-rbush"),n=b("@turf/invariant"),o=b("@turf/line-segment"),q=b("@turf/point-on-line"),l=b("@turf/boolean-point-on-line"),c=b("@turf/helpers").featureCollection,f=n.getCoords,h=e.featureEach,p=e.segmentEach;g.exports=function(b,d,u){var n=[];u=u||0;var r=m();r.load(o(b));var v;return p(d,function(b){var c=!1;h(r.search(b),function(d){if(!1===c){var e=f(b).sort(),g=f(d).sort();k(e,g)?(c=!0,v=v?j(v,b):b):(0===u?l(e[0],d)&&l(e[1],d):q(d,e[0]).properties.dist<=u&&q(d,e[1]).properties.dist<=u)?(c=!0,v=v?j(v,b):b):(0===u?l(g[0],b)&&l(g[1],b):q(b,g[0]).properties.dist<=u&&q(b,g[1]).properties.dist<=u)&&(v=v?j(v,d):d)}}),!1===c&&v&&(n.push(v),v=void 0)}),v&&n.push(v),c(n)}},{"@turf/boolean-point-on-line":111,"@turf/helpers":113,"@turf/invariant":114,"@turf/line-segment":115,"@turf/meta":119,"@turf/point-on-line":120,"deep-equal":146,"geojson-rbush":149}],108:[function(a,b,c){arguments[4][20][0].apply(c,arguments)},{"@turf/helpers":109,dup:20}],109:[function(a,b,c){arguments[4][46][0].apply(c,arguments)},{dup:46}],110:[function(a,b,c){arguments[4][47][0].apply(c,arguments)},{"@turf/meta":119,dup:47}],111:[function(a,b,c){arguments[4][34][0].apply(c,arguments)},{"@turf/invariant":112,dup:34}],112:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],113:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],114:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],115:[function(a,b,c){arguments[4][50][0].apply(c,arguments)},{"@turf/helpers":116,"@turf/invariant":117,"@turf/meta":118,dup:50}],116:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],117:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],118:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],119:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],120:[function(b,d){var e=b("@turf/meta"),g=b("@turf/helpers"),j=b("@turf/bearing"),k=b("@turf/distance"),m=b("@turf/invariant"),o=b("@turf/destination"),q=b("@turf/line-intersect"),l=g.point,c=m.getCoords,f=g.lineString,h=e.flattenEach;d.exports=function(b,s,e){var d=b.geometry?b.geometry.type:b.type;if("LineString"!==d&&"MultiLineString"!==d)throw new Error("lines must be LineString or MultiLineString");var n=l([Infinity,Infinity],{dist:1/0}),r=0;return h(b,function(a){for(var h,d=c(a),t=0;t<d.length-1;t++){h=l(d[t]),h.properties.dist=k(s,h,e);var p=l(d[t+1]);p.properties.dist=k(s,p,e);var g=k(h,p,e),u=Math.max(h.properties.dist,p.properties.dist),v=j(h,p),m=o(s,u,v+90,e),x=o(s,u,v-90,e),y=q(f([m.geometry.coordinates,x.geometry.coordinates]),f([h.geometry.coordinates,p.geometry.coordinates])),w=null;0<y.features.length&&(w=y.features[0],w.properties.dist=k(s,w,e),w.properties.location=r+k(h,w,e)),h.properties.dist<n.properties.dist&&(n=h,n.properties.index=t,n.properties.location=r),p.properties.dist<n.properties.dist&&(n=p,n.properties.index=t+1,n.properties.location=r+g),w&&w.properties.dist<n.properties.dist&&(n=w,n.properties.index=t),r+=g}}),n}},{"@turf/bearing":121,"@turf/destination":123,"@turf/distance":126,"@turf/helpers":129,"@turf/invariant":130,"@turf/line-intersect":131,"@turf/meta":145}],121:[function(a,b,c){arguments[4][3][0].apply(c,arguments)},{"@turf/invariant":122,dup:3}],122:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],123:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{"@turf/helpers":124,"@turf/invariant":125,dup:5}],124:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],125:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],126:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":127,"@turf/invariant":128,dup:8}],127:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],128:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],129:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],130:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],131:[function(a,b,c){arguments[4][44][0].apply(c,arguments)},{"@turf/helpers":135,"@turf/invariant":136,"@turf/line-segment":137,"@turf/meta":141,dup:44,"geojson-rbush":142}],132:[function(a,b,c){arguments[4][20][0].apply(c,arguments)},{"@turf/helpers":133,dup:20}],133:[function(a,b,c){arguments[4][46][0].apply(c,arguments)},{dup:46}],134:[function(a,b,c){arguments[4][47][0].apply(c,arguments)},{"@turf/meta":141,dup:47}],135:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],136:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],137:[function(a,b,c){arguments[4][50][0].apply(c,arguments)},{"@turf/helpers":138,"@turf/invariant":139,"@turf/meta":140,dup:50}],138:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],139:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],140:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],141:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],142:[function(a,b,c){arguments[4][55][0].apply(c,arguments)},{"@turf/bbox":134,"@turf/bbox-polygon":132,"@turf/helpers":135,"@turf/meta":141,dup:55,rbush:144}],143:[function(a,b,c){arguments[4][56][0].apply(c,arguments)},{dup:56}],144:[function(a,b,c){arguments[4][57][0].apply(c,arguments)},{dup:57,quickselect:143}],145:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],146:[function(a,b,c){arguments[4][87][0].apply(c,arguments)},{"./lib/is_arguments.js":147,"./lib/keys.js":148,dup:87}],147:[function(a,b,c){arguments[4][88][0].apply(c,arguments)},{dup:88}],148:[function(a,b,c){arguments[4][89][0].apply(c,arguments)},{dup:89}],149:[function(a,b,c){arguments[4][55][0].apply(c,arguments)},{"@turf/bbox":110,"@turf/bbox-polygon":108,"@turf/helpers":113,"@turf/meta":119,dup:55,rbush:151}],150:[function(a,b,c){arguments[4][56][0].apply(c,arguments)},{dup:56}],151:[function(a,b,c){arguments[4][57][0].apply(c,arguments)},{dup:57,quickselect:150}],152:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],153:[function(a,b,c){arguments[4][87][0].apply(c,arguments)},{"./lib/is_arguments.js":154,"./lib/keys.js":155,dup:87}],154:[function(a,b,c){arguments[4][88][0].apply(c,arguments)},{dup:88}],155:[function(a,b,c){arguments[4][89][0].apply(c,arguments)},{dup:89}],156:[function(a,b,c){arguments[4][90][0].apply(c,arguments)},{"deep-equal":153,dup:90}],157:[function(a,b,c){arguments[4][34][0].apply(c,arguments)},{"@turf/invariant":158,dup:34}],158:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],159:[function(b,j){function e(a,b){var d,e=!1;for(d=0;d<b.coordinates.length;d++)if(c(b.coordinates[d],a.coordinates)){e=!0;break}return e}function k(a,b){for(var d=0;d<a.coordinates.length;d++){for(var e=!1,f=0;f<b.coordinates.length;f++)c(a.coordinates[d],b.coordinates[f])&&(e=!0);if(!e)return!1}return!0}function n(a,b){for(var c=!1,d=0;d<a.coordinates.length;d++){if(!g(a.coordinates[d],b))return!1;c||(c=g(a.coordinates[d],b,!0))}return c}function o(a,b){for(var c,d=!0,e=0;e<a.coordinates.length;e++){if(c=s(a.coordinates[1],b),!c){d=!1;break}c=s(a.coordinates[1],b,!0)}return d&&c}function q(a,b){for(var c=0;c<a.coordinates.length;c++)if(!g(a.coordinates[c],b))return!1;return!0}function a(a,b){if(!l(h(b),h(a)))return!1;for(var c=!1,d=0;d<a.coordinates.length-1;d++){if(!s(a.coordinates[d],b))return!1;if(c||(c=s(a.coordinates[d],b,!0)),!c){var e=f(a.coordinates[d],a.coordinates[d+1]);c=s(e,b,!0)}}return c}function r(a,b){var c=h(a);if(!l(h(b),c))return!1;for(var d=0;d<a.coordinates[0].length;d++)if(!s(a.coordinates[0][d],b))return!1;return!0}function l(a,b){return!(a[0]>b[0])&&!(a[2]<b[2])&&!(a[1]>b[1])&&!(a[3]<b[3])}function c(a,b){return a[0]===b[0]&&a[1]===b[1]}function f(a,b){return[(a[0]+b[0])/2,(a[1]+b[1])/2]}var s=b("@turf/inside"),h=b("@turf/bbox"),d=b("@turf/invariant"),g=b("@turf/boolean-point-on-line"),p=d.getGeom,u=d.getGeomType;j.exports=function(b,d){var j=u(b),l=u(d),c=p(b),f=p(d);switch(j){case"Point":switch(l){case"MultiPoint":return e(c,f);case"LineString":return g(c,f,!0);case"Polygon":return s(c,f,!0);default:throw new Error("feature2 "+l+" geometry not supported");}case"MultiPoint":switch(l){case"MultiPoint":return k(c,f);case"LineString":return n(c,f);case"Polygon":return o(c,f);default:throw new Error("feature2 "+l+" geometry not supported");}case"LineString":switch(l){case"LineString":return q(c,f);case"Polygon":return a(c,f);default:throw new Error("feature2 "+l+" geometry not supported");}case"Polygon":switch(l){case"Polygon":return r(c,f);default:throw new Error("feature2 "+l+" geometry not supported");}default:throw new Error("feature1 "+j+" geometry not supported");}}},{"@turf/bbox":160,"@turf/boolean-point-on-line":162,"@turf/inside":164,"@turf/invariant":166}],160:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{"@turf/meta":161,dup:22}],161:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],162:[function(a,b,c){arguments[4][34][0].apply(c,arguments)},{"@turf/invariant":163,dup:34}],163:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],164:[function(a,b,c){arguments[4][36][0].apply(c,arguments)},{"@turf/invariant":165,dup:36}],165:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],166:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],167:[function(b,k){function q(a,d,e,j){var k=a.properties||{},c="Feature"===a.type?a.geometry:a;switch(c.type){case"GeometryCollection":var f=[];return p(a,function(a){var b=q(a,d,e,j);b&&f.push(b)}),g(f);}var h=y(v(d,e),"meters"),m=s(a),n={type:c.type,coordinates:r(c.coordinates,m)},t=new A.io.GeoJSONReader,u=t.read(n),b=u.buffer(h);if(b=new A.io.GeoJSONWriter().write(b),!z(b.coordinates))return b.coordinates=o(b.coordinates,m),l(b,k)}function z(a){return Array.isArray(a[0])?z(a[0]):isNaN(a[0])}function r(a,b){return"object"==j(a[0])?a.map(function(a){return r(a,b)}):b(a)}function o(a,b){return"object"==j(a[0])?a.map(function(a){return o(a,b)}):b.invert(a)}function s(b){var d=c(b).geometry.coordinates.reverse(),e=d.map(function(a){return-a});return a.geoTransverseMercator().center(d).rotate(e).scale(6373e3)}var a=b("d3-geo"),A=b("jsts"),e=b("@turf/meta"),c=b("@turf/center"),f=b("@turf/helpers"),l=f.feature,p=e.geomEach,d=e.featureEach,g=f.featureCollection,y=f.radiansToDistance,v=f.distanceToRadians;k.exports=function(a,b,c,e){if(!a)throw new Error("geojson is required");if(void 0===b)throw new Error("radius is required");if(0>=e)throw new Error("steps must be greater than 0");e=e||64,c=c||"kilometers";var f=[];switch(a.type){case"GeometryCollection":return p(a,function(a){var d=q(a,b,c,e);d&&f.push(d)}),g(f);case"FeatureCollection":return d(a,function(a){var g=q(a,b,c,e);g&&d(g,function(a){a&&f.push(a)})}),g(f);}return q(a,b,c,e)}},{"@turf/center":168,"@turf/helpers":172,"@turf/meta":173,"d3-geo":175,jsts:176}],168:[function(a,b){var c=a("@turf/bbox"),d=a("@turf/helpers").point;b.exports=function(a,b){var e=c(a),f=(e[0]+e[2])/2,g=(e[1]+e[3])/2;return d([f,g],b)}},{"@turf/bbox":169,"@turf/helpers":171}],169:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{"@turf/meta":170,dup:22}],170:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],171:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],172:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],173:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],174:[function(b,c,d){!function(b,e){"object"==("undefined"===typeof d?"undefined":j(d))&&void 0!==c?e(d):"function"==typeof a&&a.amd?a(["exports"],e):e(b.d3=b.d3||{})}(this,function(f){"use strict";function h(a){return function(b,c){return B(a(b),c)}}function j(a,b){return[a,b]}function k(a,b,c){var d=(b-a)/Math.max(0,c),e=Math.floor(Math.log(d)/Math.LN10),f=d/Math.pow(10,e);return 0<=e?(f>=w?10:f>=x?5:f>=y?2:1)*Math.pow(10,e):-Math.pow(10,-e)/(f>=w?10:f>=x?5:f>=y?2:1)}function A(a,b,c){var d=Math.abs(b-a)/Math.max(0,c),e=Math.pow(10,Math.floor(Math.log(d)/Math.LN10)),f=d/e;return f>=w?e*=10:f>=x?e*=5:f>=y&&(e*=2),b<a?-e:e}function p(a){return a.length}var B=function(a,b){return a<b?-1:a>b?1:a>=b?0:NaN},e=function(a){return 1===a.length&&(a=h(a)),{left:function(b,c,d,e){for(null==d&&(d=0),null==e&&(e=b.length);d<e;){var f=d+e>>>1;0>a(b[f],c)?d=f+1:e=f}return d},right:function(b,c,d,e){for(null==d&&(d=0),null==e&&(e=b.length);d<e;){var f=d+e>>>1;0<a(b[f],c)?e=f:d=f+1}return d}}},a=e(B),n=a.right,l=a.left,c=function(a){return null===a?NaN:+a},d=function(b,d){var e,f,g=b.length,h=0,j=-1,k=0,a=0;if(null==d)for(;++j<g;)isNaN(e=c(b[j]))||(f=e-k,k+=f/++h,a+=f*(e-k));else for(;++j<g;)isNaN(e=c(d(b[j],j,b)))||(f=e-k,k+=f/++h,a+=f*(e-k));return 1<h?a/(h-1):void 0},g=function(a,b){var c=d(a,b);return c?Math.sqrt(c):c},o=function(a,b){var c,d,e,f=a.length,g=-1;if(null==b){for(;++g<f;)if(null!=(c=a[g])&&c>=c)for(d=e=c;++g<f;)null!=(c=a[g])&&(d>c&&(d=c),e<c&&(e=c));}else for(;++g<f;)if(null!=(c=b(a[g],g,a))&&c>=c)for(d=e=c;++g<f;)null!=(c=b(a[g],g,a))&&(d>c&&(d=c),e<c&&(e=c));return[d,e]},r=Array.prototype,m=r.slice,s=r.map,u=function(a){return function(){return a}},v=function(a){return a},b=function(a,b,c){a=+a,b=+b,c=2>(f=arguments.length)?(b=a,a=0,1):3>f?1:+c;for(var d=-1,f=0|Math.max(0,Math.ceil((b-a)/c)),g=Array(f);++d<f;)g[d]=a+d*c;return g},w=Math.sqrt(50),x=Math.sqrt(10),y=Math.sqrt(2),C=function(a){return Math.ceil(Math.log(a.length)/Math.LN2)+1},D=function(a,b,d){if(null==d&&(d=c),f=a.length){if(0>=(b=+b)||2>f)return+d(a[0],0,a);if(1<=b)return+d(a[f-1],f-1,a);var f,g=(f-1)*b,h=Math.floor(g),j=+d(a[h],h,a);return j+(+d(a[h+1],h+1,a)-j)*(g-h)}},E=function(a,b){var c,d,e=a.length,f=-1;if(null==b){for(;++f<e;)if(null!=(c=a[f])&&c>=c)for(d=c;++f<e;)null!=(c=a[f])&&d>c&&(d=c);}else for(;++f<e;)if(null!=(c=b(a[f],f,a))&&c>=c)for(d=c;++f<e;)null!=(c=b(a[f],f,a))&&d>c&&(d=c);return d},q=function(b){if(!(f=b.length))return[];for(var c=-1,d=E(b,p),e=Array(d);++c<d;)for(var f,g=-1,h=e[c]=Array(f);++g<f;)h[g]=b[g][c];return e};f.bisect=n,f.bisectRight=n,f.bisectLeft=l,f.ascending=B,f.bisector=e,f.cross=function(b,d,e){var f,g,h,k,a=b.length,m=d.length,l=Array(a*m);for(null==e&&(e=j),f=h=0;f<a;++f)for(k=b[f],g=0;g<m;++g,++h)l[h]=e(k,d[g]);return l},f.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN},f.deviation=g,f.extent=o,f.histogram=function(){function a(e){var l,m,o=e.length,a=Array(o);for(l=0;l<o;++l)a[l]=c(e[l],l,e);var q=j(a),r=q[0],f=q[1],h=k(a,r,f);Array.isArray(h)||(h=A(r,f,h),h=b(Math.ceil(r/h)*h,Math.floor(f/h)*h,h));for(var p=h.length;h[0]<=r;)h.shift(),--p;for(;h[p-1]>f;)h.pop(),--p;var d,g=Array(p+1);for(l=0;l<=p;++l)d=g[l]=[],d.x0=0<l?h[l-1]:r,d.x1=l<p?h[l]:f;for(l=0;l<o;++l)m=a[l],r<=m&&m<=f&&g[n(h,m,0,p)].push(e[l]);return g}var c=v,j=o,k=C;return a.value=function(b){return arguments.length?(c="function"==typeof b?b:u(b),a):c},a.domain=function(b){return arguments.length?(j="function"==typeof b?b:u([b[0],b[1]]),a):j},a.thresholds=function(b){return arguments.length?(k="function"==typeof b?b:u(Array.isArray(b)?m.call(b):b),a):k},a},f.thresholdFreedmanDiaconis=function(a,b,d){return a=s.call(a,c).sort(B),Math.ceil((d-b)/(2*(D(a,.75)-D(a,.25))*Math.pow(a.length,-1/3)))},f.thresholdScott=function(a,b,c){return Math.ceil((c-b)/(3.5*g(a)*Math.pow(a.length,-1/3)))},f.thresholdSturges=C,f.max=function(a,b){var c,d,e=a.length,f=-1;if(null==b){for(;++f<e;)if(null!=(c=a[f])&&c>=c)for(d=c;++f<e;)null!=(c=a[f])&&c>d&&(d=c);}else for(;++f<e;)if(null!=(c=b(a[f],f,a))&&c>=c)for(d=c;++f<e;)null!=(c=b(a[f],f,a))&&c>d&&(d=c);return d},f.mean=function(a,b){var d,e=a.length,f=e,g=-1,h=0;if(null==b)for(;++g<e;)isNaN(d=c(a[g]))?--f:h+=d;else for(;++g<e;)isNaN(d=c(b(a[g],g,a)))?--f:h+=d;return f?h/f:void 0},f.median=function(a,b){var d,e=a.length,f=-1,g=[];if(null==b)for(;++f<e;)isNaN(d=c(a[f]))||g.push(d);else for(;++f<e;)isNaN(d=c(b(a[f],f,a)))||g.push(d);return D(g.sort(B),.5)},f.merge=function(a){for(var b,c,d,e=a.length,f=-1,g=0;++f<e;)g+=a[f].length;for(c=Array(g);0<=--e;)for(d=a[e],b=d.length;0<=--b;)c[--g]=d[b];return c},f.min=E,f.pairs=function(a,b){null==b&&(b=j);for(var c=0,d=a.length-1,e=a[0],f=Array(0>d?0:d);c<d;)f[c]=b(e,e=a[++c]);return f},f.permute=function(a,b){for(var c=b.length,d=Array(c);c--;)d[c]=a[b[c]];return d},f.quantile=D,f.range=b,f.scan=function(b,c){if(d=b.length){var d,e,f=0,g=0,h=b[g];for(null==c&&(c=B);++f<d;)(0>c(e=b[f],h)||0!==c(h,h))&&(h=e,g=f);return 0===c(h,h)?g:void 0}},f.shuffle=function(a,b,c){for(var d,f,g=(null==c?a.length:c)-(b=null==b?0:+b);g;)f=0|Math.random()*g--,d=a[g+b],a[g+b]=a[f+b],a[f+b]=d;return a},f.sum=function(a,b){var c,d=a.length,e=-1,f=0;if(null==b)for(;++e<d;)(c=+a[e])&&(f+=c);else for(;++e<d;)(c=+b(a[e],e,a))&&(f+=c);return f},f.ticks=function(b,c,d){var e,f,g,h=c<b,a=-1;if(h&&(e=b,b=c,c=e),0===(g=k(b,c,d))||!isFinite(g))return[];if(0<g)for(b=Math.ceil(b/g),c=Math.floor(c/g),f=Array(e=Math.ceil(c-b+1));++a<e;)f[a]=(b+a)*g;else for(b=Math.floor(b*g),c=Math.ceil(c*g),f=Array(e=Math.ceil(b-c+1));++a<e;)f[a]=(b-a)/g;return h&&f.reverse(),f},f.tickIncrement=k,f.tickStep=A,f.transpose=q,f.variance=d,f.zip=function(){return q(arguments)},Object.defineProperty(f,"__esModule",{value:!0})})},{}],175:[function(b,c,d){!function(e,f){"object"==("undefined"===typeof d?"undefined":j(d))&&void 0!==c?f(d,b("d3-array")):"function"==typeof a&&a.amd?a(["exports","d3-array"],f):f(e.d3=e.d3||{},e.d3)}(this,function(Q,aa){"use strict";function e(){this.reset()}function ba(a,b,c){var d=a.s=b+c,e=d-b;a.t=b-(d-e)+(c-e)}function ca(a){return 1<a?0:-1>a?Tb:Math.acos(a)}function da(a){return 1<a?Ub:-1>a?-Ub:Math.asin(a)}function o(a){return(a=fc(a/2))*a}function r(){}function s(a,b){a&&kc.hasOwnProperty(a.type)&&kc[a.type](a,b)}function u(a,b,c){var d,e=-1,f=a.length-c;for(b.lineStart();++e<f;)d=a[e],b.point(d[0],d[1],d[2]);b.lineEnd()}function l(a,b){var c=-1,d=a.length;for(b.polygonStart();++c<d;)u(a[c],b,1);b.polygonEnd()}function c(){oc.point=h}function f(){p(mb,nb)}function h(a,b){oc.point=p,mb=a,nb=b,a*=Yb,b*=Yb,ob=a,pb=ac(b=b/2+Vb),qb=fc(b)}function p(b,c){b*=Yb,c*=Yb,c=c/2+Vb;var d=b-ob,e=0<=d?1:-1,f=e*d,g=ac(c),h=fc(c),j=qb*h,a=pb*g+j*ac(f),k=j*e*fc(f);mc.add(_b(k,a)),ob=b,pb=g,qb=h}function ea(a){return[_b(a[1],a[0]),da(a[2])]}function g(a){var b=a[0],c=a[1],d=ac(c);return[d*ac(b),d*fc(b),fc(c)]}function y(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function v(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function m(a,b){a[0]+=b[0],a[1]+=b[1],a[2]+=b[2]}function x(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function d(a){var b=hc(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b,a[1]/=b,a[2]/=b}function t(a,b){zb.push(Ab=[rb=a,tb=a]),b<sb&&(sb=b),b>ub&&(ub=b)}function w(b,f){var e=g([b*Yb,f*Yb]);if(yb){var h=v(yb,e),j=[h[1],-h[0],0],k=v(j,h);d(k),k=ea(k);var m,n=b-vb,a=0<n?1:-1,o=k[0]*Xb*a,l=180<Zb(n);l^(a*vb<o&&o<a*b)?(m=k[1]*Xb)>ub&&(ub=m):(o=(o+360)%360-180,l^(a*vb<o&&o<a*b)?(m=-k[1]*Xb)<sb&&(sb=m):(f<sb&&(sb=f),f>ub&&(ub=f))),l?b<vb?L(rb,b)>L(rb,tb)&&(tb=b):L(b,tb)>L(rb,tb)&&(rb=b):tb>=rb?(b<rb&&(rb=b),b>tb&&(tb=b)):b>vb?L(rb,b)>L(rb,tb)&&(tb=b):L(b,tb)>L(rb,tb)&&(rb=b)}else zb.push(Ab=[rb=b,tb=b]);f<sb&&(sb=f),f>ub&&(ub=f),yb=e,vb=b}function E(){qc.point=w}function I(){Ab[0]=rb,Ab[1]=tb,qc.point=t,yb=null}function fa(a,b){if(yb){var c=a-vb;pc.add(180<Zb(c)?c+(0<c?360:-360):c)}else wb=a,xb=b;oc.point(a,b),w(a,b)}function S(){oc.lineStart()}function M(){fa(wb,xb),oc.lineEnd(),Zb(pc)>Sb&&(rb=-(tb=180)),Ab[0]=rb,Ab[1]=tb,yb=null}function L(a,b){return 0>(b-=a)?b+360:b}function P(a,b){return a[0]-b[0]}function R(a,b){return a[0]<=a[1]?a[0]<=b&&b<=a[1]:b<a[0]||a[1]<b}function T(a,b){a*=Yb,b*=Yb;var c=ac(b);ga(c*ac(a),c*fc(a),fc(b))}function ga(a,b,c){++Bb,Db+=(a-Db)/Bb,Eb+=(b-Eb)/Bb,Fb+=(c-Fb)/Bb}function _(){rc.point=ha}function ha(a,b){a*=Yb,b*=Yb;var c=ac(b);Ob=c*ac(a),Pb=c*fc(a),Qb=fc(b),rc.point=D,ga(Ob,Pb,Qb)}function D(a,b){a*=Yb,b*=Yb;var c=ac(b),d=c*ac(a),e=c*fc(a),f=fc(b),g=_b(hc((g=Pb*f-Qb*e)*g+(g=Qb*d-Ob*f)*g+(g=Ob*e-Pb*d)*g),Ob*d+Pb*e+Qb*f);Cb+=g,Gb+=g*(Ob+(Ob=d)),Hb+=g*(Pb+(Pb=e)),Ib+=g*(Qb+(Qb=f)),ga(Ob,Pb,Qb)}function F(){rc.point=T}function ia(){rc.point=G}function k(){j(Mb,Nb),rc.point=T}function G(a,b){Mb=a,Nb=b,a*=Yb,b*=Yb,rc.point=j;var c=ac(b);Ob=c*ac(a),Pb=c*fc(a),Qb=fc(b),ga(Ob,Pb,Qb)}function j(b,d){b*=Yb,d*=Yb;var e=ac(d),g=e*ac(b),j=e*fc(b),k=fc(d),m=Pb*k-Qb*j,a=Qb*g-Ob*k,n=Ob*j-Pb*g,l=hc(m*m+a*a+n*n),c=da(l),o=l&&-c/l;Jb+=o*m,Kb+=o*a,Lb+=o*n,Cb+=c,Gb+=c*(Ob+(Ob=g)),Hb+=c*(Pb+(Pb=j)),Ib+=c*(Qb+(Qb=k)),ga(Ob,Pb,Qb)}function B(a,b){return[a>Tb?a-Wb:a<-Tb?a+Wb:a,b]}function z(a,b,c){return(a%=Wb)?b||c?tc(X(a),Y(b,c)):X(a):b||c?Y(b,c):B}function V(a){return function(b,c){return b+=a,[b>Tb?b-Wb:b<-Tb?b+Wb:b,c]}}function X(a){var b=V(a);return b.invert=V(-a),b}function Y(b,c){function d(a,b){var d=ac(b),e=ac(a)*d,m=fc(a)*d,l=fc(b),c=l*g+e*h;return[_b(m*j-c*k,e*g-l*h),da(c*j+m*k)]}var g=ac(b),h=fc(b),j=ac(c),k=fc(c);return d.invert=function(a,b){var d=ac(b),e=ac(a)*d,m=fc(a)*d,l=fc(b),c=l*j-m*k;return[_b(m*j+l*k,e*g+c*h),da(c*g-e*h)]},d}function U(b,d,e,f,g,h){if(e){var j=ac(d),k=fc(d),m=f*e;null==g?(g=d+f*Wb,h=d-m/2):(g=W(j,g),h=W(j,h),(0<f?g<h:g>h)&&(g+=f*Wb));for(var n,l=g;0<f?l>h:l<h;l-=m)n=ea([j,-k*ac(l),-k*fc(l)]),b.point(n[0],n[1])}}function W(a,b){b=g(b),b[0]-=a,d(b);var c=ca(-b[1]);return((0>-b[2]?-c:c)+Wb-Sb)%Wb}function H(a,b,c,d){this.x=a,this.z=b,this.o=c,this.e=d,this.v=!1,this.n=this.p=null}function J(a){if(b=a.length){for(var b,c,d=0,e=a[0];++d<b;)e.n=c=a[d],c.p=e,e=c;e.n=c=a[0],c.p=e}}function Z(d,g,h,j){function c(a,b){return d<=a&&a<=h&&g<=b&&b<=j}function b(b,e,l,m){var n=0,c=0;if(null==b||(n=k(b,l))!==(c=k(e,l))||0>a(b,e)^0<l)do m.point(0===n||3===n?d:h,1<n?j:g);while((n=(n+l+4)%4)!==c);else m.point(e[0],e[1])}function k(a,b){return Zb(a[0]-d)<Sb?0<b?0:3:Zb(a[0]-h)<Sb?0<b?2:1:Zb(a[1]-g)<Sb?0<b?1:0:0<b?3:2}function e(b,c){return a(b.x,c.x)}function a(a,b){var c=k(a,1),d=k(b,1);return c===d?0===c?b[1]-a[1]:1===c?a[0]-b[0]:2===c?a[1]-b[1]:b[0]-a[0]:c-d}return function(f){function a(a,b){c(a,b)&&A.point(a,b)}function k(){for(var b=0,e=0,g=p.length;e<g;++e)for(var k,m,n=p[e],a=1,o=n.length,l=n[0],q=l[0],f=l[1];a<o;++a)k=q,m=f,l=n[a],q=l[0],f=l[1],m<=j?f>j&&(q-k)*(j-m)>(f-m)*(d-k)&&++b:f<=j&&(q-k)*(j-m)<(f-m)*(d-k)&&--b;return b}function n(b,e){var f=c(b,e);if(p&&q.push([b,e]),y)m=b,r=e,t=f,y=!1,f&&(A.lineStart(),A.point(b,e));else if(f&&x)A.point(b,e);else{var a=[v=Math.max(Lc,Math.min(Kc,v)),w=Math.max(Lc,Math.min(Kc,w))],k=[b=Math.max(Lc,Math.min(Kc,b)),e=Math.max(Lc,Math.min(Kc,e))];Hc(a,k,d,g,h,j)?(x||(A.lineStart(),A.point(a[0],a[1])),A.point(k[0],k[1]),f||A.lineEnd(),z=!1):f&&(A.lineStart(),A.point(b,e),z=!1)}v=b,w=e,x=f}var o,p,q,m,r,t,v,w,x,y,z,A=f,s=Gc(),u={point:a,lineStart:function(){u.point=n,p&&p.push(q=[]),y=!0,x=!1,v=w=NaN},lineEnd:function(){o&&(n(m,r),t&&x&&s.rejoin(),o.push(s.result())),u.point=a,x&&A.lineEnd()},polygonStart:function(){A=s,o=[],p=[],z=!0},polygonEnd:function(){var a=k(),c=z&&a,d=(o=aa.merge(o)).length;(c||d)&&(f.polygonStart(),c&&(f.lineStart(),b(null,null,1,f),f.lineEnd()),d&&Jc(o,e,a,b,f),f.polygonEnd()),A=f,o=p=q=null}};return u}}function K(){Pc.point=Pc.lineEnd=r}function $(a,b){a*=Yb,b*=Yb,uc=a,vc=fc(b),wc=ac(b),Pc.point=ja}function ja(b,c){b*=Yb,c*=Yb;var d=fc(c),e=ac(c),f=Zb(b-uc),g=ac(f),h=fc(f),j=e*h,a=wc*d-vc*e*g,k=vc*d+wc*e*g;Oc.add(_b(hc(j*j+a*a),k)),uc=b,vc=d,wc=e}function ka(a,b){return a&&Vc.hasOwnProperty(a.type)&&Vc[a.type](a,b)}function la(a,b){return 0===Tc(a,b)}function ma(a,b){var c=Tc(a[0],a[1]);return Tc(a[0],b)+Tc(b,a[1])<=c+Sb}function na(a,b){return!!Nc(a.map(oa),pa(b))}function oa(a){return a=a.map(pa),a.pop(),a}function pa(a){return[a[0]*Yb,a[1]*Yb]}function qa(a,b,c){var d=aa.range(a,b-Sb,c).concat(b);return function(a){return d.map(function(b){return[a,b]})}}function ra(a,b,c){var d=aa.range(a,b-Sb,c).concat(b);return function(a){return d.map(function(b){return[b,a]})}}function sa(){function b(){return{type:"MultiLineString",coordinates:e()}}function e(){return aa.range(bc(o/s)*s,n,s).map(h).concat(aa.range(bc(l/u)*u,r,u).map(p)).concat(aa.range(bc(k/d)*d,j,d).filter(function(a){return Zb(a%s)>Sb}).map(c)).concat(aa.range(bc(a/g)*g,q,g).filter(function(a){return Zb(a%u)>Sb}).map(f))}var j,k,n,o,q,a,r,l,c,f,h,p,d=10,g=d,s=90,u=360,m=2.5;return b.lines=function(){return e().map(function(a){return{type:"LineString",coordinates:a}})},b.outline=function(){return{type:"Polygon",coordinates:[h(o).concat(p(r).slice(1),h(n).reverse().slice(1),p(l).reverse().slice(1))]}},b.extent=function(a){return arguments.length?b.extentMajor(a).extentMinor(a):b.extentMinor()},b.extentMajor=function(a){return arguments.length?(o=+a[0][0],n=+a[1][0],l=+a[0][1],r=+a[1][1],o>n&&(a=o,o=n,n=a),l>r&&(a=l,l=r,r=a),b.precision(m)):[[o,l],[n,r]]},b.extentMinor=function(c){return arguments.length?(k=+c[0][0],j=+c[1][0],a=+c[0][1],q=+c[1][1],k>j&&(c=k,k=j,j=c),a>q&&(c=a,a=q,q=c),b.precision(m)):[[k,a],[j,q]]},b.step=function(a){return arguments.length?b.stepMajor(a).stepMinor(a):b.stepMinor()},b.stepMajor=function(a){return arguments.length?(s=+a[0],u=+a[1],b):[s,u]},b.stepMinor=function(a){return arguments.length?(d=+a[0],g=+a[1],b):[d,g]},b.precision=function(d){return arguments.length?(m=+d,c=qa(a,q,90),f=ra(k,j,m),h=qa(l,r,90),p=ra(o,n,m),b):m},b.extentMajor([[-180,-90+Sb],[180,90-Sb]]).extentMinor([[-180,-80-Sb],[180,80+Sb]])}function ta(){Zc.point=ua}function ua(a,b){Zc.point=va,xc=zc=a,yc=Ac=b}function va(a,b){Yc.add(Ac*a-zc*b),zc=a,Ac=b}function wa(){va(xc,yc)}function xa(a,b){dd+=a,ed+=b,++fd}function ya(){md.point=za}function za(a,b){md.point=Aa,xa(Dc=a,Ec=b)}function Aa(a,b){var c=a-Dc,d=b-Ec,e=hc(c*c+d*d);gd+=e*(Dc+a)/2,hd+=e*(Ec+b)/2,id+=e,xa(Dc=a,Ec=b)}function Ba(){md.point=xa}function Ca(){md.point=Ea}function Da(){Fa(Bc,Cc)}function Ea(a,b){md.point=Fa,xa(Bc=Dc=a,Cc=Ec=b)}function Fa(a,b){var c=a-Dc,d=b-Ec,e=hc(c*c+d*d);gd+=e*(Dc+a)/2,hd+=e*(Ec+b)/2,id+=e,e=Ec*a-Dc*b,jd+=e*(Dc+a),kd+=e*(Ec+b),ld+=3*e,xa(Dc=a,Ec=b)}function Ga(a){this._context=a}function Ha(a,b){td.point=Ia,od=qd=a,pd=rd=b}function Ia(a,b){qd-=a,rd-=b,sd.add(hc(qd*qd+rd*rd)),qd=a,rd=b}function Ja(){this._string=[]}function Ka(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function La(a){return 1<a.length}function Ma(a,b){return(0>(a=a.x)[0]?a[1]-Ub-Sb:Ub-a[1])-(0>(b=b.x)[0]?b[1]-Ub-Sb:Ub-b[1])}function Na(a,b,c,d){var e,f,g=fc(a-c);return Zb(g)>Sb?$b((fc(b)*(f=ac(d))*fc(c)-fc(d)*(e=ac(b))*fc(a))/(e*f*g)):(b+d)/2}function Oa(a){return function(b){var c=new Pa;for(var d in a)c[d]=a[d];return c.stream=b,c}}function Pa(){}function Qa(b,c,d){var e=c[1][0]-c[0][0],f=c[1][1]-c[0][1],g=b.clipExtent&&b.clipExtent();b.scale(150).translate([0,0]),null!=g&&b.clipExtent(null),lc(d,b.stream(cd));var h=cd.result(),j=Math.min(e/(h[1][0]-h[0][0]),f/(h[1][1]-h[0][1])),a=+c[0][0]+(e-j*(h[1][0]+h[0][0]))/2,k=+c[0][1]+(f-j*(h[1][1]+h[0][1]))/2;return null!=g&&b.clipExtent(g),b.scale(150*j).translate([a,k])}function Ra(a,b,c){return Qa(a,[[0,0],b],c)}function Sa(a){return Oa({point:function(b,c){b=a(b,c),this.stream.point(b[0],b[1])}})}function Ta(j,k){function q(e,n,o,r,a,s,l,c,f,h,p,d,g,t){var u=l-e,m=c-n,v=u*u+m*m;if(v>4*k&&g--){var x=r+h,w=a+p,b=s+d,y=hc(x*x+w*w+b*b),z=da(b/=y),A=Zb(Zb(b)-1)<Sb||Zb(o-f)<Sb?(o+f)/2:_b(w,x),B=j(A,z),C=B[0],D=B[1],E=C-e,F=D-n,G=m*E-u*F;(G*G/v>k||.3<Zb((u*E+m*F)/v-.5)||r*h+a*p+s*d<yd)&&(q(e,n,o,r,a,s,C,D,A,x/=y,w/=y,b,g,t),t.point(C,D),q(C,D,A,x,w,b,l,c,f,h,p,d,g,t))}}return function(k){function e(a,b){a=j(a,b),k.point(a[0],a[1])}function n(){v=NaN,b.point=y,k.lineStart()}function y(a,b){var c=g([a,b]),d=j(a,b);q(v,m,z,x,A,w,v=d[0],m=d[1],z=a,x=c[0],A=c[1],w=c[2],xd,k),k.point(v,m)}function o(){b.point=e,k.lineEnd()}function t(){n(),b.point=a,b.lineEnd=u}function a(a,g){y(l=a,g),c=v,f=m,h=x,p=A,d=w,b.point=y}function u(){q(v,m,z,x,A,w,c,f,l,h,p,d,xd,k),b.lineEnd=o,o()}var l,c,f,h,p,d,z,v,m,x,A,w,b={point:e,lineStart:n,lineEnd:o,polygonStart:function(){k.polygonStart(),b.lineStart=t},polygonEnd:function(){k.polygonEnd(),b.lineStart=n}};return b}}function Ua(a){return Va(function(){return a})()}function Va(j){function k(b){return b=l(b[0]*Yb,b[1]*Yb),[b[0]*g+s,a-b[1]*g]}function e(b){return(b=l.invert((b[0]-s)/g,(a-b[1])/g))&&[b[0]*Xb,b[1]*Xb]}function n(b,c){return b=o(b,c),[b[0]*g+s,a-b[1]*g]}function q(){l=tc(u=z(A,w,b),o);var c=o(m,x);return s=y-c[0]*g,a=v+c[1]*g,r()}function r(){return p=d=null,k}var o,s,a,u,l,c,f,h,p,d,g=150,y=480,v=250,m=0,x=0,A=0,w=0,b=0,B=null,D=vd,C=null,E=Wc,F=.5,G=zd(n,F);return k.stream=function(a){return p&&d===a?p:p=Ad(D(u,G(E(d=a))))},k.clipAngle=function(a){return arguments.length?(D=+a?wd(B=a*Yb,6*Yb):(B=null,vd),r()):B*Xb},k.clipExtent=function(a){return arguments.length?(E=null==a?(C=c=f=h=null,Wc):Z(C=+a[0][0],c=+a[0][1],f=+a[1][0],h=+a[1][1]),r()):null==C?null:[[C,c],[f,h]]},k.scale=function(a){return arguments.length?(g=+a,q()):g},k.translate=function(a){return arguments.length?(y=+a[0],v=+a[1],q()):[y,v]},k.center=function(a){return arguments.length?(m=a[0]%360*Yb,x=a[1]%360*Yb,q()):[m*Xb,x*Xb]},k.rotate=function(a){return arguments.length?(A=a[0]%360*Yb,w=a[1]%360*Yb,b=2<a.length?a[2]%360*Yb:0,q()):[A*Xb,w*Xb,b*Xb]},k.precision=function(a){return arguments.length?(G=zd(n,F=a*a),r()):hc(F)},k.fitExtent=function(a,b){return Qa(k,a,b)},k.fitSize=function(a,b){return Ra(k,a,b)},function(){return o=j.apply(this,arguments),k.invert=o.invert&&e,q()}}function Wa(a){var b=0,c=Tb/3,d=Va(a),e=d(b,c);return e.parallels=function(a){return arguments.length?d(b=a[0]*Yb,c=a[1]*Yb):[b*Xb,c*Xb]},e}function Xa(a){function b(a,b){return[a*c,fc(b)/c]}var c=ac(a);return b.invert=function(a,b){return[a/c,da(b*c)]},b}function Ya(b,c){function d(a,b){var c=hc(g-2*f*fc(b))/f;return[c*fc(a*=f),h-c*ac(a)]}var e=fc(b),f=(e+fc(c))/2;if(Zb(f)<Sb)return Xa(b);var g=1+e*(2*f-e),h=hc(g)/f;return d.invert=function(a,b){var c=h-b;return[_b(a,Zb(c))/f*gc(c),da((g-(a*a+c*c)*f*f)/(2*f))]},d}function Za(a){var b=a.length;return{point:function(c,d){for(var e=-1;++e<b;)a[e].point(c,d)},sphere:function(){for(var c=-1;++c<b;)a[c].sphere()},lineStart:function(){for(var c=-1;++c<b;)a[c].lineStart()},lineEnd:function(){for(var c=-1;++c<b;)a[c].lineEnd()},polygonStart:function(){for(var c=-1;++c<b;)a[c].polygonStart()},polygonEnd:function(){for(var c=-1;++c<b;)a[c].polygonEnd()}}}function $a(a){return function(b,c){var d=ac(b),e=ac(c),f=a(d*e);return[f*e*fc(b),f*fc(c)]}}function _a(b){return function(c,d){var e=hc(c*c+d*d),f=b(e),g=fc(f),h=ac(f);return[_b(c*g,e*h),da(e&&d*g/e)]}}function ab(a,b){return[a,dc(ic((Ub+b)/2))]}function bb(b){function d(){var a=Tb*k(),c=j(Fc(j.rotate()).invert([0,0]));return m(null==l?[[c[0]-a,c[1]-a],[c[0]+a,c[1]+a]]:b===ab?[[Math.max(c[0]-a,l),f],[Math.min(c[0]+a,g),h]]:[[l,Math.max(c[1]-a,f)],[g,Math.min(c[1]+a,h)]])}var f,g,h,j=Ua(b),e=j.center,k=j.scale,a=j.translate,m=j.clipExtent,l=null;return j.scale=function(a){return arguments.length?(k(a),d()):k()},j.translate=function(b){return arguments.length?(a(b),d()):a()},j.center=function(a){return arguments.length?(e(a),d()):e()},j.clipExtent=function(a){return arguments.length?(null==a?l=f=g=h=null:(l=+a[0][0],f=+a[0][1],g=+a[1][0],h=+a[1][1]),d()):null==l?null:[[l,f],[g,h]]},d()}function cb(a){return ic((Ub+a)/2)}function db(a,b){function c(a,b){0<g?b<-Ub+Sb&&(b=-Ub+Sb):b>Ub-Sb&&(b=Ub-Sb);var c=g/ec(cb(b),f);return[c*fc(f*a),g-c*ac(f*a)]}var d=ac(a),f=a===b?fc(a):dc(d/ac(b))/dc(cb(b)/cb(a)),g=d*ec(cb(a),f)/f;return f?(c.invert=function(a,b){var c=g-b,d=gc(f)*hc(a*a+c*c);return[_b(a,Zb(c))/f*gc(c),2*$b(ec(g/d,1/f))-Ub]},c):ab}function eb(a,b){return[a,b]}function fb(a,b){function c(a,b){var c=g-b,d=f*a;return[c*fc(d),g-c*ac(d)]}var d=ac(a),f=a===b?fc(a):(d-ac(b))/(b-a),g=d/f+a;return Zb(f)<Sb?eb:(c.invert=function(a,b){var c=g-b;return[_b(a,Zb(c))/f*gc(c),g-gc(f)*hc(a*a+c*c)]},c)}function gb(a,b){var c=ac(b),d=ac(a)*c;return[c*fc(a)/d,fc(b)/d]}function hb(a,b,c,d){return 1===a&&1===b&&0===c&&0===d?Wc:Oa({point:function(e,f){this.stream.point(e*a+c,f*b+d)}})}function ib(a,b){return[ac(b)*fc(a),fc(b)]}function jb(a,b){var c=ac(b),d=1+ac(a)*c;return[c*fc(a)/d,fc(b)/d]}function kb(a,b){return[dc(ic((Ub+b)/2)),-a]}var lb=function(){return new e};e.prototype={constructor:e,reset:function(){this.s=this.t=0},add:function(a){ba(Rb,a,this.t),ba(this,Rb.s,this.s),this.s?this.t+=Rb.t:this.s=Rb.t},valueOf:function(){return this.s}};var mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb=new e,Sb=1e-6,Tb=Math.PI,Ub=Tb/2,Vb=Tb/4,Wb=2*Tb,Xb=180/Tb,Yb=Tb/180,Zb=Math.abs,$b=Math.atan,_b=Math.atan2,ac=Math.cos,bc=Math.ceil,cc=Math.exp,dc=Math.log,ec=Math.pow,fc=Math.sin,gc=Math.sign||function(a){return 0<a?1:0>a?-1:0},hc=Math.sqrt,ic=Math.tan,jc={Feature:function(a,b){s(a.geometry,b)},FeatureCollection:function(a,b){for(var c=a.features,d=-1,e=c.length;++d<e;)s(c[d].geometry,b)}},kc={Sphere:function(a,b){b.sphere()},Point:function(a,b){a=a.coordinates,b.point(a[0],a[1],a[2])},MultiPoint:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)a=c[d],b.point(a[0],a[1],a[2])},LineString:function(a,b){u(a.coordinates,b,0)},MultiLineString:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)u(c[d],b,0)},Polygon:function(a,b){l(a.coordinates,b)},MultiPolygon:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)l(c[d],b)},GeometryCollection:function(a,b){for(var c=a.geometries,d=-1,e=c.length;++d<e;)s(c[d],b)}},lc=function(a,b){a&&jc.hasOwnProperty(a.type)?jc[a.type](a,b):s(a,b)},mc=lb(),nc=lb(),oc={point:r,lineStart:r,lineEnd:r,polygonStart:function(){mc.reset(),oc.lineStart=c,oc.lineEnd=f},polygonEnd:function(){var a=+mc;nc.add(0>a?Wb+a:a),this.lineStart=this.lineEnd=this.point=r},sphere:function(){nc.add(Wb)}},pc=lb(),qc={point:t,lineStart:E,lineEnd:I,polygonStart:function(){qc.point=fa,qc.lineStart=S,qc.lineEnd=M,pc.reset(),oc.polygonStart()},polygonEnd:function(){oc.polygonEnd(),qc.point=t,qc.lineStart=E,qc.lineEnd=I,0>mc?(rb=-(tb=180),sb=-(ub=90)):pc>Sb?ub=90:pc<-Sb&&(sb=-90),Ab[0]=rb,Ab[1]=tb}},rc={sphere:r,point:T,lineStart:_,lineEnd:F,polygonStart:function(){rc.lineStart=ia,rc.lineEnd=k},polygonEnd:function(){rc.lineStart=_,rc.lineEnd=F}},sc=function(a){return function(){return a}},tc=function(a,b){function c(c,d){return c=a(c,d),b(c[0],c[1])}return a.invert&&b.invert&&(c.invert=function(c,d){return(c=b.invert(c,d))&&a.invert(c[0],c[1])}),c};B.invert=B;var uc,vc,wc,xc,yc,zc,Ac,Bc,Cc,Dc,Ec,Fc=function(a){function b(b){return b=a(b[0]*Yb,b[1]*Yb),b[0]*=Xb,b[1]*=Xb,b}return a=z(a[0]*Yb,a[1]*Yb,2<a.length?a[2]*Yb:0),b.invert=function(b){return b=a.invert(b[0]*Yb,b[1]*Yb),b[0]*=Xb,b[1]*=Xb,b},b},Gc=function(){var b,c=[];return{point:function(a,c){b.push([a,c])},lineStart:function(){c.push(b=[])},lineEnd:r,rejoin:function(){1<c.length&&c.push(c.pop().concat(c.shift()))},result:function(){var a=c;return c=[],b=null,a}}},Hc=function(b,g,e,j,k,m){var n,o=b[0],a=b[1],q=g[0],l=g[1],c=0,f=1,h=q-o,p=l-a;if(n=e-o,h||!(0<n)){if(n/=h,0>h){if(n<c)return;n<f&&(f=n)}else if(0<h){if(n>f)return;n>c&&(c=n)}if(n=k-o,h||!(0>n)){if(n/=h,0>h){if(n>f)return;n>c&&(c=n)}else if(0<h){if(n<c)return;n<f&&(f=n)}if(n=j-a,p||!(0<n)){if(n/=p,0>p){if(n<c)return;n<f&&(f=n)}else if(0<p){if(n>f)return;n>c&&(c=n)}if(n=m-a,p||!(0>n)){if(n/=p,0>p){if(n>f)return;n>c&&(c=n)}else if(0<p){if(n<c)return;n<f&&(f=n)}return 0<c&&(b[0]=o+c*h,b[1]=a+c*p),1>f&&(g[0]=o+f*h,g[1]=a+f*p),!0}}}}},Ic=function(a,b){return Zb(a[0]-b[0])<Sb&&Zb(a[1]-b[1])<Sb},Jc=function(b,d,e,g,j){var k,m,o=[],a=[];if(b.forEach(function(b){if(!(0>=(c=b.length-1))){var c,d,e=b[0],f=b[c];if(Ic(e,f)){for(j.lineStart(),k=0;k<c;++k)j.point((e=b[k])[0],e[1]);return void j.lineEnd()}o.push(d=new H(e,b,null,!0)),a.push(d.o=new H(e,null,d,!1)),o.push(d=new H(f,b,null,!1)),a.push(d.o=new H(f,null,d,!0))}}),o.length){for(a.sort(d),J(o),J(a),k=0,m=a.length;k<m;++k)a[k].e=e=!e;for(var q,l,c=o[0];;){for(var f=c,h=!0;f.v;)if((f=f.n)===c)return;q=f.z,j.lineStart();do{if(f.v=f.o.v=!0,f.e){if(h)for(k=0,m=q.length;k<m;++k)j.point((l=q[k])[0],l[1]);else g(f.x,f.n.x,1,j);f=f.n}else{if(h)for(q=f.p.z,k=q.length-1;0<=k;--k)j.point((l=q[k])[0],l[1]);else g(f.x,f.p.x,-1,j);f=f.p}f=f.o,q=f.z,h=!h}while(!f.v);j.lineEnd()}}},Kc=1e9,Lc=-Kc,Mc=lb(),Nc=function(j,k){var e=k[0],m=k[1],n=[fc(e),-ac(e),0],o=0,q=0;Mc.reset();for(var a=0,r=j.length;a<r;++a)if(c=(l=j[a]).length)for(var l,c,f=l[c-1],h=f[0],p=f[1]/2+Vb,s=fc(p),t=ac(p),u=0;u<c;++u,h=x,s=y,t=z,f=w){var w=l[u],x=w[0],b=w[1]/2+Vb,y=fc(b),z=ac(b),A=x-h,B=0<=A?1:-1,C=B*A,D=C>Tb,E=s*y;if(Mc.add(_b(E*B*fc(C),t*z+E*ac(C))),o+=D?A+B*Wb:A,D^h>=e^x>=e){var F=v(g(f),g(w));d(F);var G=v(n,F);d(G);var H=(D^0<=A?-1:1)*da(G[2]);(m>H||m===H&&(F[0]||F[1]))&&(q+=D^0<=A?1:-1)}}return(o<-Sb||o<Sb&&Mc<-Sb)^1&q},Oc=lb(),Pc={sphere:r,point:r,lineStart:function(){Pc.point=$,Pc.lineEnd=K},lineEnd:r,polygonStart:r,polygonEnd:r},Qc=function(a){return Oc.reset(),lc(a,Pc),+Oc},Rc=[null,null],Sc={type:"LineString",coordinates:Rc},Tc=function(a,b){return Rc[0]=a,Rc[1]=b,Qc(Sc)},Uc={Feature:function(a,b){return ka(a.geometry,b)},FeatureCollection:function(a,b){for(var c=a.features,d=-1,e=c.length;++d<e;)if(ka(c[d].geometry,b))return!0;return!1}},Vc={Sphere:function(){return!0},Point:function(a,b){return la(a.coordinates,b)},MultiPoint:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)if(la(c[d],b))return!0;return!1},LineString:function(a,b){return ma(a.coordinates,b)},MultiLineString:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)if(ma(c[d],b))return!0;return!1},Polygon:function(a,b){return na(a.coordinates,b)},MultiPolygon:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)if(na(c[d],b))return!0;return!1},GeometryCollection:function(a,b){for(var c=a.geometries,d=-1,e=c.length;++d<e;)if(ka(c[d],b))return!0;return!1}},Wc=function(a){return a},Xc=lb(),Yc=lb(),Zc={point:r,lineStart:r,lineEnd:r,polygonStart:function(){Zc.lineStart=ta,Zc.lineEnd=wa},polygonEnd:function(){Zc.lineStart=Zc.lineEnd=Zc.point=r,Xc.add(Zb(Yc)),Yc.reset()},result:function(){return Xc.reset(),Xc/2}},$c=1/0,_c=$c,ad=-$c,bd=ad,cd={point:function(a,b){a<$c&&($c=a),a>ad&&(ad=a),b<_c&&(_c=b),b>bd&&(bd=b)},lineStart:r,lineEnd:r,polygonStart:r,polygonEnd:r,result:function(){var a=[[$c,_c],[ad,bd]];return ad=bd=-(_c=$c=1/0),a}},dd=0,ed=0,fd=0,gd=0,hd=0,id=0,jd=0,kd=0,ld=0,md={point:xa,lineStart:ya,lineEnd:Ba,polygonStart:function(){md.lineStart=Ca,md.lineEnd=Da},polygonEnd:function(){md.point=xa,md.lineStart=ya,md.lineEnd=Ba},result:function(){var a=ld?[jd/ld,kd/ld]:id?[gd/id,hd/id]:fd?[dd/fd,ed/fd]:[NaN,NaN];return dd=ed=fd=gd=hd=id=jd=kd=ld=0,a}};Ga.prototype={_radius:4.5,pointRadius:function(a){return this._radius=a,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(a,b){switch(this._point){case 0:this._context.moveTo(a,b),this._point=1;break;case 1:this._context.lineTo(a,b);break;default:this._context.moveTo(a+this._radius,b),this._context.arc(a,b,this._radius,0,Wb);}},result:r};var nd,od,pd,qd,rd,sd=lb(),td={point:r,lineStart:function(){td.point=Ha},lineEnd:function(){nd&&Ia(od,pd),td.point=r},polygonStart:function(){nd=!0},polygonEnd:function(){nd=null},result:function(){return sd.reset(),+sd}};Ja.prototype={_radius:4.5,_circle:Ka(4.5),pointRadius:function(a){return(a=+a)!==this._radius&&(this._radius=a,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(a,b){switch(this._point){case 0:this._string.push("M",a,",",b),this._point=1;break;case 1:this._string.push("L",a,",",b);break;default:null==this._circle&&(this._circle=Ka(this._radius)),this._string.push("M",a,",",b,this._circle);}},result:function(){if(this._string.length){var a=this._string.join("");return this._string=[],a}return null}};var ud=function(a,e,f,j){return function(k,o){function n(b,c){var d=k(b,c);a(b=d[0],c=d[1])&&o.point(b,c)}function q(a,b){var c=k(a,b);y.point(c[0],c[1])}function r(){w.point=q,y.lineStart()}function s(){w.point=n,y.lineEnd()}function u(a,b){g.push([a,b]);var c=k(a,b);x.point(c[0],c[1])}function t(){x.lineStart(),g=[]}function h(){u(g[0][0],g[0][1]),x.lineEnd();var b,c,e,f,h=x.clean(),j=m.result(),k=j.length;if(g.pop(),p.push(g),g=null,k)if(!(1&h))1<k&&2&h&&j.push(j.pop().concat(j.shift())),d.push(j.filter(La));else if(e=j[0],0<(c=e.length-1)){for(z||(o.polygonStart(),z=!0),o.lineStart(),b=0;b<c;++b)o.point((f=e[b])[0],f[1]);o.lineEnd()}}var p,d,g,y=e(o),v=k.invert(j[0],j[1]),m=Gc(),x=e(m),z=!1,w={point:n,lineStart:r,lineEnd:s,polygonStart:function(){w.point=u,w.lineStart=t,w.lineEnd=h,d=[],p=[]},polygonEnd:function(){w.point=n,w.lineStart=r,w.lineEnd=s,d=aa.merge(d);var a=Nc(p,v);d.length?(z||(o.polygonStart(),z=!0),Jc(d,Ma,a,f,o)):a&&(z||(o.polygonStart(),z=!0),o.lineStart(),f(null,null,1,o),o.lineEnd()),z&&(o.polygonEnd(),z=!1),d=p=null},sphere:function(){o.polygonStart(),o.lineStart(),f(null,null,1,o),o.lineEnd(),o.polygonEnd()}};return w}},vd=ud(function(){return!0},function(b){var c,d=NaN,e=NaN,f=NaN;return{lineStart:function(){b.lineStart(),c=1},point:function(g,h){var j=0<g?Tb:-Tb,a=Zb(g-d);Zb(a-Tb)<Sb?(b.point(d,e=0<(e+h)/2?Ub:-Ub),b.point(f,e),b.lineEnd(),b.lineStart(),b.point(j,e),b.point(g,e),c=0):f!==j&&a>=Tb&&(Zb(d-f)<Sb&&(d-=f*Sb),Zb(g-j)<Sb&&(g-=j*Sb),e=Na(d,e,g,h),b.point(f,e),b.lineEnd(),b.lineStart(),b.point(j,e),c=0),b.point(d=g,e=h),f=j},lineEnd:function(){b.lineEnd(),d=e=NaN},clean:function(){return 2-c}}},function(a,b,c,d){var e;if(null==a)e=c*Ub,d.point(-Tb,e),d.point(0,e),d.point(Tb,e),d.point(Tb,0),d.point(Tb,-e),d.point(0,-e),d.point(-Tb,-e),d.point(-Tb,0),d.point(-Tb,e);else if(Zb(a[0]-b[0])>Sb){var f=a[0]<b[0]?Tb:-Tb;e=c*f/2,d.point(-f,e),d.point(0,e),d.point(f,e)}else d.point(b[0],b[1])},[-Tb,-Ub]),wd=function(b,c){function d(a,d,e,f){U(f,b,c,e,a,d)}function j(a,b){return ac(a)*ac(b)>f}function e(b){var l,m,n,t,a;return{lineStart:function(){t=n=!1,a=1},point:function(c,f){var h,p=[c,f],d=j(c,f),r=q?d?0:o(c,f):d?o(c+(0>c?Tb:-Tb),f):0;if(!l&&(t=n=d)&&b.lineStart(),d!==n&&(!(h=k(l,p))||Ic(l,h)||Ic(p,h))&&(p[0]+=Sb,p[1]+=Sb,d=j(p[0],p[1])),d!==n)a=0,d?(b.lineStart(),h=k(p,l),b.point(h[0],h[1])):(h=k(l,p),b.point(h[0],h[1]),b.lineEnd()),l=h;else if(s&&l&&q^d){var u;r&m||!(u=k(p,l,!0))||(a=0,q?(b.lineStart(),b.point(u[0][0],u[0][1]),b.point(u[1][0],u[1][1]),b.lineEnd()):(b.point(u[1][0],u[1][1]),b.lineEnd(),b.lineStart(),b.point(u[0][0],u[0][1])))}!d||l&&Ic(l,p)||b.point(p[0],p[1]),l=p,n=d,m=r},lineEnd:function(){n&&b.lineEnd(),l=null},clean:function(){return a|(t&&n)<<1}}}function k(h,j,e){var k=g(h),q=g(j),r=[1,0,0],t=v(k,q),s=y(t,t),u=t[0],l=s-u*u;if(!l)return!e&&h;var z=v(r,t),p=x(r,f*s/l);m(p,x(t,-f*u/l));var d=z,w=y(p,d),A=y(d,d),B=w*w-A*(y(p,p)-1);if(!(0>B)){var E=hc(B),C=x(d,(-w-E)/A);if(m(C,p),C=ea(C),!e)return C;var F,G=h[0],H=j[0],I=h[1],J=j[1];H<G&&(F=G,G=H,H=F);var K=H-G,L=Zb(K-Tb)<Sb;if(!L&&J<I&&(F=I,I=J,J=F),L||K<Sb?L?0<I+J^C[1]<(Zb(C[0]-G)<Sb?I:J):I<=C[1]&&C[1]<=J:K>Tb^(G<=C[0]&&C[0]<=H)){var M=x(d,(-w+E)/A);return m(M,p),[C,ea(M)]}}}function o(a,c){var d=q?b:Tb-b,e=0;return a<-d?e|=1:a>d&&(e|=2),c<-d?e|=4:c>d&&(e|=8),e}var f=ac(b),q=0<f,s=Zb(f)>Sb;return ud(j,e,d,q?[0,-b]:[-Tb,b-Tb])};Pa.prototype={constructor:Pa,point:function(a,b){this.stream.point(a,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var xd=16,yd=ac(30*Yb),zd=function(a,b){return+b?Ta(a,b):Sa(a)},Ad=Oa({point:function(a,b){this.stream.point(a*Yb,b*Yb)}}),Bd=function(){return Wa(Ya).scale(155.424).center([0,33.6442])},Cd=function(){return Bd().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-0.6,38.7])},Dd=$a(function(a){return hc(2/(1+a))});Dd.invert=_a(function(a){return 2*da(a/2)});var Ed=$a(function(a){return(a=ca(a))&&a/fc(a)});Ed.invert=_a(function(a){return a});ab.invert=function(a,b){return[a,2*$b(cc(b))-Ub]};eb.invert=eb;gb.invert=_a($b);ib.invert=_a(da);jb.invert=_a(function(a){return 2*$b(a)});kb.invert=function(a,b){return[-b,2*$b(cc(a))-Ub]};Q.geoArea=function(a){return nc.reset(),lc(a,oc),2*nc},Q.geoBounds=function(b){var c,d,e,f,g,h,j;if(ub=tb=-(rb=sb=1/0),zb=[],lc(b,qc),d=zb.length){for(zb.sort(P),c=1,e=zb[0],g=[e];c<d;++c)f=zb[c],R(e,f[0])||R(e,f[1])?(L(e[0],f[1])>L(e[0],e[1])&&(e[1]=f[1]),L(f[0],e[1])>L(e[0],e[1])&&(e[0]=f[0])):g.push(e=f);for(h=-1/0,d=g.length-1,c=0,e=g[d];c<=d;e=f,++c)f=g[c],(j=L(e[1],f[0]))>h&&(h=j,rb=f[0],tb=e[1])}return zb=Ab=null,rb===1/0||sb===1/0?[[NaN,NaN],[NaN,NaN]]:[[rb,sb],[tb,ub]]},Q.geoCentroid=function(a){Bb=Cb=Db=Eb=Fb=Gb=Hb=Ib=Jb=Kb=Lb=0,lc(a,rc);var b=Jb,c=Kb,d=Lb,e=b*b+c*c+d*d;return 1e-12>e&&(b=Gb,c=Hb,d=Ib,Cb<Sb&&(b=Db,c=Eb,d=Fb),1e-12>(e=b*b+c*c+d*d))?[NaN,NaN]:[_b(c,b)*Xb,da(d/hc(e))*Xb]},Q.geoCircle=function(){function b(a,b){d.push(a=f(a,b)),a[0]*=Xb,a[1]*=Xb}function c(){var a=g.apply(this,arguments),b=h.apply(this,arguments)*Yb,c=j.apply(this,arguments)*Yb;return d=[],f=z(-a[0]*Yb,-a[1]*Yb,0).invert,U(k,b,c,1),a={type:"Polygon",coordinates:[d]},d=f=null,a}var d,f,g=sc([0,0]),h=sc(90),j=sc(6),k={point:b};return c.center=function(a){return arguments.length?(g="function"==typeof a?a:sc([+a[0],+a[1]]),c):g},c.radius=function(a){return arguments.length?(h="function"==typeof a?a:sc(+a),c):h},c.precision=function(a){return arguments.length?(j="function"==typeof a?a:sc(+a),c):j},c},Q.geoClipExtent=function(){var b,c,d,e=0,f=0,g=960,h=500;return d={stream:function(a){return b&&c===a?b:b=Z(e,f,g,h)(c=a)},extent:function(j){return arguments.length?(e=+j[0][0],f=+j[0][1],g=+j[1][0],h=+j[1][1],b=c=null,d):[[e,f],[g,h]]}}},Q.geoContains=function(a,b){return(a&&Uc.hasOwnProperty(a.type)?Uc[a.type]:ka)(a,b)},Q.geoDistance=Tc,Q.geoGraticule=sa,Q.geoGraticule10=function(){return sa()()},Q.geoInterpolate=function(b,j){var e=b[0]*Yb,k=b[1]*Yb,n=j[0]*Yb,q=j[1]*Yb,a=ac(k),s=fc(k),l=ac(q),c=fc(q),f=a*ac(e),h=a*fc(e),p=l*ac(n),d=l*fc(n),g=2*da(hc(o(q-k)+a*l*o(n-e))),u=fc(g),r=g?function(a){var b=fc(a*=g)/u,e=fc(g-a)/u,j=e*f+b*p,k=e*h+b*d;return[_b(k,j)*Xb,_b(e*s+b*c,hc(j*j+k*k))*Xb]}:function(){return[e*Xb,k*Xb]};return r.distance=g,r},Q.geoLength=Qc,Q.geoPath=function(a,b){function c(a){return a&&("function"==typeof f&&e.pointRadius(+f.apply(this,arguments)),lc(a,d(e))),e.result()}var d,e,f=4.5;return c.area=function(a){return lc(a,d(Zc)),Zc.result()},c.measure=function(a){return lc(a,d(td)),td.result()},c.bounds=function(a){return lc(a,d(cd)),cd.result()},c.centroid=function(a){return lc(a,d(md)),md.result()},c.projection=function(b){return arguments.length?(d=null==b?(a=null,Wc):(a=b).stream,c):a},c.context=function(a){return arguments.length?(e=null==a?(b=null,new Ja):new Ga(b=a),"function"!=typeof f&&e.pointRadius(f),c):b},c.pointRadius=function(a){return arguments.length?(f="function"==typeof a?a:(e.pointRadius(+a),+a),c):f},c.projection(a).context(b)},Q.geoAlbers=Cd,Q.geoAlbersUsa=function(){function b(a){var b=a[0],c=a[1];return m=null,h.point(b,c),m||(j.point(b,c),m)||(k.point(b,c),m)}function d(){return e=g=null,b}var e,g,h,j,k,m,o=Cd(),p=Bd().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=Bd().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(a,b){m=[a,b]}};return b.invert=function(a){var b=o.scale(),c=o.translate(),d=(a[0]-c[0])/b,e=(a[1]-c[1])/b;return(.12<=e&&.234>e&&-.425<=d&&-.214>d?p:.166<=e&&.234>e&&-.214<=d&&-.115>d?l:o).invert(a)},b.stream=function(a){return e&&g===a?e:e=Za([o.stream(g=a),p.stream(a),l.stream(a)])},b.precision=function(a){return arguments.length?(o.precision(a),p.precision(a),l.precision(a),d()):o.precision()},b.scale=function(a){return arguments.length?(o.scale(a),p.scale(.35*a),l.scale(a),b.translate(o.translate())):o.scale()},b.translate=function(b){if(!arguments.length)return o.translate();var e=o.scale(),f=+b[0],g=+b[1];return h=o.translate(b).clipExtent([[f-.455*e,g-.238*e],[f+.455*e,g+.238*e]]).stream(c),j=p.translate([f-.307*e,g+.201*e]).clipExtent([[f-.425*e+Sb,g+.12*e+Sb],[f-.214*e-Sb,g+.234*e-Sb]]).stream(c),k=l.translate([f-.205*e,g+.212*e]).clipExtent([[f-.214*e+Sb,g+.166*e+Sb],[f-.115*e-Sb,g+.234*e-Sb]]).stream(c),d()},b.fitExtent=function(a,c){return Qa(b,a,c)},b.fitSize=function(a,c){return Ra(b,a,c)},b.scale(1070)},Q.geoAzimuthalEqualArea=function(){return Ua(Dd).scale(124.75).clipAngle(179.999)},Q.geoAzimuthalEqualAreaRaw=Dd,Q.geoAzimuthalEquidistant=function(){return Ua(Ed).scale(79.4188).clipAngle(179.999)},Q.geoAzimuthalEquidistantRaw=Ed,Q.geoConicConformal=function(){return Wa(db).scale(109.5).parallels([30,30])},Q.geoConicConformalRaw=db,Q.geoConicEqualArea=Bd,Q.geoConicEqualAreaRaw=Ya,Q.geoConicEquidistant=function(){return Wa(fb).scale(131.154).center([0,13.9389])},Q.geoConicEquidistantRaw=fb,Q.geoEquirectangular=function(){return Ua(eb).scale(152.63)},Q.geoEquirectangularRaw=eb,Q.geoGnomonic=function(){return Ua(gb).scale(144.049).clipAngle(60)},Q.geoGnomonicRaw=gb,Q.geoIdentity=function(){function b(){return k=m=null,n}var g,e,j,k,m,n,o=1,a=0,q=0,l=1,c=1,f=Wc,h=null,p=Wc;return n={stream:function(a){return k&&m===a?k:k=f(p(m=a))},clipExtent:function(a){return arguments.length?(p=null==a?(h=g=e=j=null,Wc):Z(h=+a[0][0],g=+a[0][1],e=+a[1][0],j=+a[1][1]),b()):null==h?null:[[h,g],[e,j]]},scale:function(d){return arguments.length?(f=hb((o=+d)*l,o*c,a,q),b()):o},translate:function(d){return arguments.length?(f=hb(o*l,o*c,a=+d[0],q=+d[1]),b()):[a,q]},reflectX:function(d){return arguments.length?(f=hb(o*(l=d?-1:1),o*c,a,q),b()):0>l},reflectY:function(d){return arguments.length?(f=hb(o*l,o*(c=d?-1:1),a,q),b()):0>c},fitExtent:function(a,b){return Qa(n,a,b)},fitSize:function(a,b){return Ra(n,a,b)}}},Q.geoProjection=Ua,Q.geoProjectionMutator=Va,Q.geoMercator=function(){return bb(ab).scale(961/Wb)},Q.geoMercatorRaw=ab,Q.geoOrthographic=function(){return Ua(ib).scale(249.5).clipAngle(90+Sb)},Q.geoOrthographicRaw=ib,Q.geoStereographic=function(){return Ua(jb).scale(250).clipAngle(142)},Q.geoStereographicRaw=jb,Q.geoTransverseMercator=function(){var a=bb(kb),b=a.center,c=a.rotate;return a.center=function(a){return arguments.length?b([-a[1],a[0]]):(a=b(),[a[1],-a[0]])},a.rotate=function(a){return arguments.length?c([a[0],a[1],2<a.length?a[2]+90:90]):(a=c(),[a[0],a[1],a[2]-90])},c([0,0,90]).scale(159.155)},Q.geoTransverseMercatorRaw=kb,Q.geoRotation=Fc,Q.geoStream=lc,Q.geoTransform=function(a){return{stream:Oa(a)}},Object.defineProperty(Q,"__esModule",{value:!0})})},{"d3-array":174}],176:[function(b,c,d){!function(b,e){"object"==("undefined"===typeof d?"undefined":j(d))&&void 0!==c?e(d):"function"==typeof a&&a.amd?a(["exports"],e):e(b.jsts=b.jsts||{})}(this,function(aa){"use strict";function t(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}function ba(){}function ca(){}function da(){}function e(){}function n(){}function o(){}function a(){}function u(a){this.name="RuntimeException",this.message=a,this.stack=new Error().stack,Error.call(this,a)}function l(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a}function c(){if(0===arguments.length)u.call(this);else if(1===arguments.length){var a=arguments[0];u.call(this,a)}}function ea(){}function fa(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)fa.call(this,0,0);else if(1===arguments.length){var a=arguments[0];fa.call(this,a.x,a.y,a.z)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];fa.call(this,b,c,fa.NULL_ORDINATE)}else if(3===arguments.length){var d=arguments[0],e=arguments[1],f=arguments[2];this.x=d,this.y=e,this.z=f}}function f(){if(this.dimensionsToTest=2,0===arguments.length)f.call(this,2);else if(1===arguments.length){var a=arguments[0];if(2!==a&&3!==a)throw new ca("only 2 or 3 dimensions may be specified");this.dimensionsToTest=a}}function d(){}function ga(){}function g(a){this.message=a||""}function v(){}function h(a){this.message=a||""}function m(a){this.message=a||""}function x(){this.array_=[],arguments[0]instanceof ga&&this.addAll(arguments[0])}function w(){if(x.apply(this),0===arguments.length);else if(1===arguments.length){var a=arguments[0];this.ensureCapacity(a.length),this.add(a,!0)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.ensureCapacity(b.length),this.add(b,c)}}function y(){if(this.minx=null,this.maxx=null,this.miny=null,this.maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof fa){var b=arguments[0];this.init(b.x,b.x,b.y,b.y)}else if(arguments[0]instanceof y){var c=arguments[0];this.init(c)}}else if(2===arguments.length){var d=arguments[0],e=arguments[1];this.init(d.x,e.x,d.y,e.y)}else if(4===arguments.length){var f=arguments[0],g=arguments[1],h=arguments[2],j=arguments[3];this.init(f,g,h,j)}}function r(){}function E(){r.call(this,"Projective point not representable on the Cartesian plane.")}function C(){}function N(a,b){return a.interfaces_&&-1<a.interfaces_().indexOf(b)}function M(){}function L(a){this.str=a}function s(a){this.value=a}function P(){}function R(){if(this.hi=0,this.lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var a=arguments[0];this.init(a)}else if(arguments[0]instanceof R){var b=arguments[0];this.init(b)}else if("string"==typeof arguments[0]){var c=arguments[0];R.call(this,R.parse(c))}}else if(2===arguments.length){var d=arguments[0],e=arguments[1];this.init(d,e)}}function O(){}function S(){}function A(){}function D(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var b=arguments[0];this.x=b.x,this.y=b.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var j=arguments[0],e=arguments[1];this.x=j,this.y=e,this.w=1}else if(arguments[0]instanceof D&&arguments[1]instanceof D){var k=arguments[0],n=arguments[1];this.x=k.y*n.w-n.y*k.w,this.y=n.x*k.w-k.x*n.w,this.w=k.x*n.y-n.x*k.y}else if(arguments[0]instanceof fa&&arguments[1]instanceof fa){var p=arguments[0],o=arguments[1];this.x=p.y-o.y,this.y=o.x-p.x,this.w=p.x*o.y-o.x*p.y}}else if(3===arguments.length){var q=arguments[0],a=arguments[1],r=arguments[2];this.x=q,this.y=a,this.w=r}else if(4===arguments.length){var l=arguments[0],c=arguments[1],f=arguments[2],h=arguments[3],d=l.y-c.y,g=c.x-l.x,s=l.x*c.y-c.x*l.y,t=f.y-h.y,m=h.x-f.x,u=f.x*h.y-h.x*f.y;this.x=g*u-m*s,this.y=t*s-d*u,this.w=d*m-t*g}}function F(){}function q(){}function k(){this.envelope=null,this.factory=null,this.SRID=null,this.userData=null;var a=arguments[0];this.factory=a,this.SRID=a.getSRID()}function T(){}function j(){}function B(){}function z(){}function V(){}function X(){}function Y(){}function U(){}function W(){}function H(){}function J(){}function Z(){}function K(){this.array_=[],arguments[0]instanceof ga&&this.addAll(arguments[0])}function Q(a){return null==a?dg:a.color}function $(a){return null==a?null:a.parent}function _(a,b){null!==a&&(a.color=b)}function ha(a){return null==a?null:a.left}function ia(a){return null==a?null:a.right}function ja(){this.root_=null,this.size_=0}function ka(){}function la(){}function ma(){this.array_=[],arguments[0]instanceof ga&&this.addAll(arguments[0])}function na(){}function oa(){}function pa(){}function qa(){}function ra(){this.geometries=null;var a=arguments[0],b=arguments[1];if(k.call(this,b),null===a&&(a=[]),k.hasNullElements(a))throw new ca("geometries must not contain null elements");this.geometries=a}function sa(){var a=arguments[0],b=arguments[1];ra.call(this,a,b)}function ta(){if(this.geom=null,this.geomFact=null,this.bnRule=null,this.endpointMap=null,1===arguments.length){var a=arguments[0];ta.call(this,a,j.MOD2_BOUNDARY_RULE)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.geom=b,this.geomFact=b.getFactory(),this.bnRule=c}}function ua(){this.count=null}function va(){}function wa(){}function xa(){}function ya(){}function za(){}function Aa(){}function Ba(){}function Ca(){this.points=null;var a=arguments[0],b=arguments[1];k.call(this,b),this.init(a)}function Da(){}function Ea(){this.coordinates=null;var a=arguments[0],b=arguments[1];k.call(this,b),this.init(a)}function Fa(){}function Ga(){this.shell=null,this.holes=null;var a=arguments[0],b=arguments[1],c=arguments[2];if(k.call(this,c),null===a&&(a=this.getFactory().createLinearRing()),null===b&&(b=[]),k.hasNullElements(b))throw new ca("holes must not contain null elements");if(a.isEmpty()&&k.hasNonEmptyElements(b))throw new ca("shell is empty but holes are not");this.shell=a,this.holes=b}function Ha(){var a=arguments[0],b=arguments[1];ra.call(this,a,b)}function Ia(){if(arguments[0]instanceof fa&&arguments[1]instanceof Za){var a=arguments[0],b=arguments[1];Ia.call(this,b.getCoordinateSequenceFactory().create(a),b)}else if(N(arguments[0],S)&&arguments[1]instanceof Za){var c=arguments[0],d=arguments[1];Ca.call(this,c,d),this.validateConstruction()}}function Ja(){var a=arguments[0],b=arguments[1];ra.call(this,a,b)}function Ka(){if(this.factory=null,this.isUserDataCopied=!1,0===arguments.length);else if(1===arguments.length){var a=arguments[0];this.factory=a}}function La(){}function Ma(){}function Na(){}function Oa(){}function Pa(){if(this.dimension=3,this.coordinates=null,1===arguments.length){if(arguments[0]instanceof Array){var b=arguments[0];Pa.call(this,b,3)}else if(Number.isInteger(arguments[0])){var c=arguments[0];this.coordinates=Array(c).fill(null);for(var d=0;d<c;d++)this.coordinates[d]=new fa}else if(N(arguments[0],S)){var e=arguments[0];if(null===e)return this.coordinates=[].fill(null),null;this.dimension=e.getDimension(),this.coordinates=Array(e.size()).fill(null);for(var d=0;d<this.coordinates.length;d++)this.coordinates[d]=e.getCoordinateCopy(d)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var f=arguments[0],g=arguments[1];this.coordinates=f,this.dimension=g,null===f&&(this.coordinates=[].fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var h=arguments[0],j=arguments[1];this.coordinates=Array(h).fill(null),this.dimension=j;for(var d=0;d<h;d++)this.coordinates[d]=new fa}}function Qa(){}function Ra(a,b){return a===b||a!==a&&b!==b}function Sa(a){this.add?a.forEach(this.add,this):a.forEach(function(a){this.set(a[0],a[1])},this)}function Ta(a,b){if(this.objectOnly&&b!==Object(b))throw new TypeError("Invalid value used as weak collection key");if(b!==b||0===b)for(fg=a.length;fg--&&!Ra(a[fg],b););else fg=a.indexOf(b);return-1<fg}function Ua(a,b,c){var d=[0],e=!1;return a.push(d),{next:function(){var f,g=d[0];return!e&&g<b.length?(f=c?[b[g],c[g]]:b[g],d[0]++):(e=!0,a.splice(a.indexOf(d),1)),{done:e,value:f}}}}function Va(){return this._values.length}function Wa(){this.map_=new ig}function Xa(){if(this.modelType=null,this.scale=null,0===arguments.length)this.modelType=Xa.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof Ya){var a=arguments[0];this.modelType=a,a===Xa.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var b=arguments[0];this.modelType=Xa.FIXED,this.setScale(b)}else if(arguments[0]instanceof Xa){var c=arguments[0];this.modelType=c.modelType,this.scale=c.scale}}function Ya(){this.name=null;var a=arguments[0];this.name=a,Ya.nameToTypeMap.put(a,this)}function Za(){if(this.precisionModel=null,this.coordinateSequenceFactory=null,this.SRID=null,0===arguments.length)Za.call(this,new Xa,0);else if(1===arguments.length){if(N(arguments[0],F)){var a=arguments[0];Za.call(this,new Xa,0,a)}else if(arguments[0]instanceof Xa){var b=arguments[0];Za.call(this,b,0,Za.getDefaultCoordinateSequenceFactory())}}else if(2===arguments.length){var c=arguments[0],d=arguments[1];Za.call(this,c,d,Za.getDefaultCoordinateSequenceFactory())}else if(3===arguments.length){var e=arguments[0],f=arguments[1],g=arguments[2];this.precisionModel=e,this.coordinateSequenceFactory=g,this.SRID=f}}function $a(a){this.geometryFactory=a||new Za}function _a(a){this.parser=new $a(a)}function ab(){this.result=null,this.inputLines=[,,].fill().map(function(){return[,,]}),this.intPt=[,,].fill(null),this.intLineIndex=null,this._isProper=null,this.pa=null,this.pb=null,this.precisionModel=null,this.intPt[0]=new fa,this.intPt[1]=new fa,this.pa=this.intPt[0],this.pb=this.intPt[1],this.result=0}function bb(){ab.apply(this)}function cb(){}function db(){this.p=null,this.crossingCount=0,this.isPointOnSegment=!1;var a=arguments[0];this.p=a}function eb(){}function fb(){if(this.p0=null,this.p1=null,0===arguments.length)fb.call(this,new fa,new fa);else if(1===arguments.length){var a=arguments[0];fb.call(this,a.p0,a.p1)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.p0=b,this.p1=c}else if(4===arguments.length){var d=arguments[0],e=arguments[1],f=arguments[2],g=arguments[3];fb.call(this,new fa(d,e),new fa(f,g))}}function gb(){if(this.matrix=null,0===arguments.length)this.matrix=[,,,].fill().map(function(){return[,,,]}),this.setAll(oa.FALSE);else if(1===arguments.length)if("string"==typeof arguments[0]){var a=arguments[0];gb.call(this),this.set(a)}else if(arguments[0]instanceof gb){var b=arguments[0];gb.call(this),this.matrix[C.INTERIOR][C.INTERIOR]=b.matrix[C.INTERIOR][C.INTERIOR],this.matrix[C.INTERIOR][C.BOUNDARY]=b.matrix[C.INTERIOR][C.BOUNDARY],this.matrix[C.INTERIOR][C.EXTERIOR]=b.matrix[C.INTERIOR][C.EXTERIOR],this.matrix[C.BOUNDARY][C.INTERIOR]=b.matrix[C.BOUNDARY][C.INTERIOR],this.matrix[C.BOUNDARY][C.BOUNDARY]=b.matrix[C.BOUNDARY][C.BOUNDARY],this.matrix[C.BOUNDARY][C.EXTERIOR]=b.matrix[C.BOUNDARY][C.EXTERIOR],this.matrix[C.EXTERIOR][C.INTERIOR]=b.matrix[C.EXTERIOR][C.INTERIOR],this.matrix[C.EXTERIOR][C.BOUNDARY]=b.matrix[C.EXTERIOR][C.BOUNDARY],this.matrix[C.EXTERIOR][C.EXTERIOR]=b.matrix[C.EXTERIOR][C.EXTERIOR]}}function hb(){this.areaBasePt=null,this.triangleCent3=new fa,this.areasum2=0,this.cg3=new fa,this.lineCentSum=new fa,this.totalLength=0,this.ptCount=0,this.ptCentSum=new fa;var a=arguments[0];this.areaBasePt=null,this.add(a)}function ib(a){this.message=a||""}function jb(){this.array_=[]}function kb(){this.treeSet=new ma,this.list=new x}function lb(){if(this.geomFactory=null,this.inputPts=null,1===arguments.length){var a=arguments[0];lb.call(this,lb.extractCoordinates(a),a.getFactory())}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.inputPts=kb.filterCoordinates(b),this.geomFactory=c}}function mb(){this.origin=null;var a=arguments[0];this.origin=a}function nb(){this.inputGeom=null,this.factory=null,this.pruneEmptyGeometry=!0,this.preserveGeometryCollectionType=!0,this.preserveCollections=!1,this.preserveType=!1}function ob(){if(this.snapTolerance=0,this.srcPts=null,this.seg=new fb,this.allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Ca&&"number"==typeof arguments[1]){var a=arguments[0],b=arguments[1];ob.call(this,a.getCoordinates(),b)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var c=arguments[0],d=arguments[1];this.srcPts=c,this._isClosed=ob.isClosed(c),this.snapTolerance=d}}function pb(){this.srcGeom=null;var a=arguments[0];this.srcGeom=a}function qb(){if(nb.apply(this),this.snapTolerance=null,this.snapPts=null,this.isSelfSnap=!1,2===arguments.length){var a=arguments[0],b=arguments[1];this.snapTolerance=a,this.snapPts=b}else if(3===arguments.length){var c=arguments[0],d=arguments[1],e=arguments[2];this.snapTolerance=c,this.snapPts=d,this.isSelfSnap=e}}function rb(){this.isFirst=!0,this.commonMantissaBitsCount=53,this.commonBits=0,this.commonSignExp=null}function sb(){this.commonCoord=null,this.ccFilter=new tb}function tb(){this.commonBitsX=new rb,this.commonBitsY=new rb}function ub(){this.trans=null;var a=arguments[0];this.trans=a}function vb(){this.parent=null,this.atStart=null,this.max=null,this.index=null,this.subcollectionIterator=null;var a=arguments[0];this.parent=a,this.atStart=!0,this.index=0,this.max=a.getNumGeometries()}function wb(){if(this.boundaryRule=j.OGC_SFS_BOUNDARY_RULE,this.isIn=null,this.numBoundaries=null,0===arguments.length);else if(1===arguments.length){var a=arguments[0];if(null===a)throw new ca("Rule must be non-null");this.boundaryRule=a}}function xb(){}function yb(){}function zb(){this.pts=null,this.data=null;var a=arguments[0],b=arguments[1];this.pts=a,this.data=b}function Ab(){}function Bb(){this.bounds=null,this.item=null;var a=arguments[0],b=arguments[1];this.bounds=a,this.item=b}function Cb(){this._size=null,this.items=null,this._size=0,this.items=new x,this.items.add(null)}function Db(){}function Eb(){}function Fb(){if(this.childBoundables=new x,this.bounds=null,this.level=null,0===arguments.length);else if(1===arguments.length){var a=arguments[0];this.level=a}}function Gb(){this.boundable1=null,this.boundable2=null,this._distance=null,this.itemDistance=null;var a=arguments[0],b=arguments[1],c=arguments[2];this.boundable1=a,this.boundable2=b,this.itemDistance=c,this._distance=this.distance()}function Hb(){if(this.root=null,this.built=!1,this.itemBoundables=new x,this.nodeCapacity=null,0===arguments.length)Hb.call(this,Hb.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var a=arguments[0];ea.isTrue(1<a,"Node capacity must be greater than 1"),this.nodeCapacity=a}}function Ib(){}function Jb(){if(0===arguments.length)Jb.call(this,Jb.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var a=arguments[0];Hb.call(this,a)}}function Kb(){var a=arguments[0];Fb.call(this,a)}function Lb(){}function Mb(){this.segString=null,this.coord=null,this.segmentIndex=null,this.segmentOctant=null,this._isInterior=null;var a=arguments[0],b=arguments[1],c=arguments[2],d=arguments[3];this.segString=a,this.coord=new fa(b),this.segmentIndex=c,this.segmentOctant=d,this._isInterior=!b.equals2D(a.getCoordinate(c))}function Nb(){this.nodeMap=new ja,this.edge=null;var a=arguments[0];this.edge=a}function Ob(){this.nodeList=null,this.edge=null,this.nodeIt=null,this.currNode=null,this.nextNode=null,this.currSegIndex=0;var a=arguments[0];this.nodeList=a,this.edge=a.getEdge(),this.nodeIt=a.iterator(),this.readNextNode()}function Pb(){}function Qb(){this.nodeList=new Nb(this),this.pts=null,this.data=null;var a=arguments[0],b=arguments[1];this.pts=a,this.data=b}function Rb(){this.tempEnv1=new y,this.tempEnv2=new y,this.overlapSeg1=new fb,this.overlapSeg2=new fb}function Sb(){this.pts=null,this.start=null,this.end=null,this.env=null,this.context=null,this.id=null;var a=arguments[0],b=arguments[1],c=arguments[2],d=arguments[3];this.pts=a,this.start=b,this.end=c,this.context=d}function Tb(){}function Ub(){}function Vb(){}function Wb(){if(this.segInt=null,0===arguments.length);else if(1===arguments.length){var a=arguments[0];this.setSegmentIntersector(a)}}function Xb(){if(this.monoChains=new x,this.index=new Jb,this.idCounter=0,this.nodedSegStrings=null,this.nOverlaps=0,0===arguments.length);else if(1===arguments.length){var a=arguments[0];Wb.call(this,a)}}function Yb(){Rb.apply(this),this.si=null;var a=arguments[0];this.si=a}function Zb(){if(this.pt=null,1===arguments.length){var a=arguments[0];u.call(this,a)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];u.call(this,Zb.msgWithCoord(b,c)),this.name="TopologyException",this.pt=new fa(c)}}function $b(){}function _b(){this.findAllIntersections=!1,this.isCheckEndSegmentsOnly=!1,this.li=null,this.interiorIntersection=null,this.intSegments=null,this.intersections=new x,this.intersectionCount=0,this.keepIntersections=!0;var a=arguments[0];this.li=a,this.interiorIntersection=null}function ac(){this.li=new bb,this.segStrings=null,this.findAllIntersections=!1,this.segInt=null,this._isValid=!0;var a=arguments[0];this.segStrings=a}function bc(){this.nv=null;var a=arguments[0];this.nv=new ac(bc.toSegmentStrings(a))}function cc(){this.mapOp=null;var a=arguments[0];this.mapOp=a}function dc(){}function ec(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var a=arguments[0];this.init(a.length)}else if(Number.isInteger(arguments[0])){var b=arguments[0];this.init(1),this.location[dc.ON]=b}else if(arguments[0]instanceof ec){var c=arguments[0];if(this.init(c.location.length),null!==c)for(var d=0;d<this.location.length;d++)this.location[d]=c.location[d]}}else if(3===arguments.length){var e=arguments[0],f=arguments[1],g=arguments[2];this.init(3),this.location[dc.ON]=e,this.location[dc.LEFT]=f,this.location[dc.RIGHT]=g}}function fc(){if(this.elt=[,,].fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var b=arguments[0];this.elt[0]=new ec(b),this.elt[1]=new ec(b)}else if(arguments[0]instanceof fc){var d=arguments[0];this.elt[0]=new ec(d.elt[0]),this.elt[1]=new ec(d.elt[1])}}else if(2===arguments.length){var e=arguments[0],f=arguments[1];this.elt[0]=new ec(C.NONE),this.elt[1]=new ec(C.NONE),this.elt[e].setLocation(f)}else if(3===arguments.length){var g=arguments[0],h=arguments[1],j=arguments[2];this.elt[0]=new ec(g,h,j),this.elt[1]=new ec(g,h,j)}else if(4===arguments.length){var k=arguments[0],a=arguments[1],m=arguments[2],l=arguments[3];this.elt[0]=new ec(C.NONE,C.NONE,C.NONE),this.elt[1]=new ec(C.NONE,C.NONE,C.NONE),this.elt[k].setLocations(a,m,l)}}function gc(){this.startDe=null,this.maxNodeDegree=-1,this.edges=new x,this.pts=new x,this.label=new fc(C.NONE),this.ring=null,this._isHole=null,this.shell=null,this.holes=new x,this.geometryFactory=null;var a=arguments[0],b=arguments[1];this.geometryFactory=b,this.computePoints(a),this.computeRing()}function hc(){var a=arguments[0],b=arguments[1];gc.call(this,a,b)}function ic(){var a=arguments[0],b=arguments[1];gc.call(this,a,b)}function jc(){if(this.label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var a=arguments[0];this.label=a}}function kc(){jc.apply(this),this.coord=null,this.edges=null;var a=arguments[0],b=arguments[1];this.coord=a,this.edges=b,this.label=new fc(0,C.NONE)}function lc(){this.nodeMap=new ja,this.nodeFact=null;var a=arguments[0];this.nodeFact=a}function mc(){if(this.edge=null,this.label=null,this.node=null,this.p0=null,this.p1=null,this.dx=null,this.dy=null,this.quadrant=null,1===arguments.length){var b=arguments[0];this.edge=b}else if(3===arguments.length){var c=arguments[0],d=arguments[1],e=arguments[2];mc.call(this,c,d,e,null)}else if(4===arguments.length){var f=arguments[0],g=arguments[1],h=arguments[2],j=arguments[3];mc.call(this,f),this.init(g,h),this.label=j}}function nc(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this.sym=null,this.next=null,this.nextMin=null,this.edgeRing=null,this.minEdgeRing=null,this.depth=[0,-999,-999];var a=arguments[0],b=arguments[1];if(mc.call(this,a),this._isForward=b,b)this.init(a.getCoordinate(0),a.getCoordinate(1));else{var c=a.getNumPoints()-1;this.init(a.getCoordinate(c),a.getCoordinate(c-1))}this.computeDirectedLabel()}function oc(){}function pc(){if(this.edges=new x,this.nodes=null,this.edgeEndList=new x,0===arguments.length)this.nodes=new lc(new oc());else if(1===arguments.length){var a=arguments[0];this.nodes=new lc(a)}}function qc(){this.geometryFactory=null,this.shellList=new x;var a=arguments[0];this.geometryFactory=a}function rc(){this.op=null,this.geometryFactory=null,this.ptLocator=null,this.lineEdgesList=new x,this.resultLineList=new x;var a=arguments[0],b=arguments[1],c=arguments[2];this.op=a,this.geometryFactory=b,this.ptLocator=c}function sc(){this.op=null,this.geometryFactory=null,this.resultPointList=new x;var a=arguments[0],b=arguments[1];arguments[2],this.op=a,this.geometryFactory=b}function tc(){}function uc(){this.geom=null;var a=arguments[0];this.geom=a}function vc(){this.edgeMap=new ja,this.edgeList=null,this.ptInAreaLocation=[C.NONE,C.NONE]}function wc(){vc.apply(this),this.resultAreaEdgeList=null,this.label=null,this.SCANNING_FOR_INCOMING=1,this.LINKING_TO_OUTGOING=2}function xc(){oc.apply(this)}function yc(){this.mce=null,this.chainIndex=null;var a=arguments[0],b=arguments[1];this.mce=a,this.chainIndex=b}function zc(){if(this.label=null,this.xValue=null,this.eventType=null,this.insertEvent=null,this.deleteEventIndex=null,this.obj=null,2===arguments.length){var a=arguments[0],b=arguments[1];this.eventType=zc.DELETE,this.xValue=a,this.insertEvent=b}else if(3===arguments.length){var c=arguments[0],d=arguments[1],e=arguments[2];this.eventType=zc.INSERT,this.label=c,this.xValue=d,this.obj=e}}function Ac(){}function Bc(){this._hasIntersection=!1,this.hasProper=!1,this.hasProperInterior=!1,this.properIntersectionPoint=null,this.li=null,this.includeProper=null,this.recordIsolated=null,this.isSelfIntersection=null,this.numIntersections=0,this.numTests=0,this.bdyNodes=null,this._isDone=!1,this.isDoneWhenProperInt=!1;var a=arguments[0],b=arguments[1],c=arguments[2];this.li=a,this.includeProper=b,this.recordIsolated=c}function Cc(){Ac.apply(this),this.events=new x,this.nOverlaps=null}function Dc(){this.min=da.POSITIVE_INFINITY,this.max=da.NEGATIVE_INFINITY}function Ec(){}function Fc(){Dc.apply(this),this.item=null;var a=arguments[0],b=arguments[1],c=arguments[2];this.min=a,this.max=b,this.item=c}function Gc(){Dc.apply(this),this.node1=null,this.node2=null;var a=arguments[0],b=arguments[1];this.node1=a,this.node2=b,this.buildExtent(this.node1,this.node2)}function Hc(){this.leaves=new x,this.root=null,this.level=0}function Ic(){if(this.lines=null,this.isForcedToLineString=!1,1===arguments.length){var a=arguments[0];this.lines=a}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.lines=b,this.isForcedToLineString=c}}function Jc(){this.items=new x}function Kc(){this.index=null;var a=arguments[0];if(!N(a,Fa))throw new ca("Argument must be Polygonal");this.index=new Mc(a)}function Lc(){this.counter=null;var a=arguments[0];this.counter=a}function Mc(){this.index=new Hc;var a=arguments[0];this.init(a)}function Nc(){this.coord=null,this.segmentIndex=null,this.dist=null;var a=arguments[0],b=arguments[1],c=arguments[2];this.coord=new fa(a),this.segmentIndex=b,this.dist=c}function Oc(){this.nodeMap=new ja,this.edge=null;var a=arguments[0];this.edge=a}function Pc(){}function Qc(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new y,this.env2=new y;var a=arguments[0];this.e=a,this.pts=a.getCoordinates();var b=new Pc;this.startIndex=b.getChainStartIndices(this.pts)}function Rc(){this.depth=[,,].fill().map(function(){return[,,,]});for(var a=0;2>a;a++)for(var b=0;3>b;b++)this.depth[a][b]=Rc.NULL_VALUE}function Sc(){if(jc.apply(this),this.pts=null,this.env=null,this.eiList=new Oc(this),this.name=null,this.mce=null,this._isIsolated=!0,this.depth=new Rc,this.depthDelta=0,1===arguments.length){var a=arguments[0];Sc.call(this,a,null)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.pts=b,this.label=c}}function Tc(){if(pc.apply(this),this.parentGeom=null,this.lineEdgeMap=new Wa,this.boundaryNodeRule=null,this.useBoundaryDeterminationRule=!0,this.argIndex=null,this.boundaryNodes=null,this._hasTooFewPoints=!1,this.invalidPoint=null,this.areaPtLocator=null,this.ptLocator=new wb,2===arguments.length){var a=arguments[0],b=arguments[1];Tc.call(this,a,b,j.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){var c=arguments[0],d=arguments[1],e=arguments[2];this.argIndex=c,this.parentGeom=d,this.boundaryNodeRule=e,null!==d&&this.add(d)}}function Uc(){if(this.li=new bb,this.resultPrecisionModel=null,this.arg=null,1===arguments.length){var a=arguments[0];this.setComputationPrecision(a.getPrecisionModel()),this.arg=[,].fill(null),this.arg[0]=new Tc(0,a)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];Uc.call(this,b,c,j.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){var d=arguments[0],e=arguments[1],f=arguments[2];0<=d.getPrecisionModel().compareTo(e.getPrecisionModel())?this.setComputationPrecision(d.getPrecisionModel()):this.setComputationPrecision(e.getPrecisionModel()),this.arg=[,,].fill(null),this.arg[0]=new Tc(0,d,f),this.arg[1]=new Tc(1,e,f)}}function Vc(){this.pts=null,this._orientation=null;var a=arguments[0];this.pts=a,this._orientation=Vc.orientation(a)}function Wc(){this.edges=new x,this.ocaMap=new ja}function Xc(){this.ptLocator=new wb,this.geomFact=null,this.resultGeom=null,this.graph=null,this.edgeList=new Wc,this.resultPolyList=new x,this.resultLineList=new x,this.resultPointList=new x;var a=arguments[0],b=arguments[1];Uc.call(this,a,b),this.graph=new pc(new xc()),this.geomFact=a.getFactory()}function Yc(){this.geom=[,,].fill(null),this.snapTolerance=null,this.cbr=null;var a=arguments[0],b=arguments[1];this.geom[0]=a,this.geom[1]=b,this.computeSnapTolerance()}function Zc(){this.geom=[,,].fill(null);var a=arguments[0],b=arguments[1];this.geom[0]=a,this.geom[1]=b}function $c(){this.factory=null,this.interiorPoint=null,this.maxWidth=0;var a=arguments[0];this.factory=a.getFactory(),this.add(a)}function _c(){this.poly=null,this.centreY=null,this.hiY=da.MAX_VALUE,this.loY=-da.MAX_VALUE;var a=arguments[0];this.poly=a,this.hiY=a.getEnvelopeInternal().getMaxY(),this.loY=a.getEnvelopeInternal().getMinY(),this.centreY=$c.avg(this.loY,this.hiY)}function ad(){this.centroid=null,this.minDistance=da.MAX_VALUE,this.interiorPoint=null;var a=arguments[0];this.centroid=a.getCentroid().getCoordinate(),this.addInterior(a),null===this.interiorPoint&&this.addEndpoints(a)}function bd(){this.centroid=null,this.minDistance=da.MAX_VALUE,this.interiorPoint=null;var a=arguments[0];this.centroid=a.getCentroid().getCoordinate(),this.add(a)}function cd(){this.tempEnv1=new y,this.selectedSegment=new fb}function dd(){this.items=new x,this.subnode=[null,null]}function ed(){if(this.min=null,this.max=null,0===arguments.length)this.min=0,this.max=0;else if(1===arguments.length){var a=arguments[0];this.init(a.min,a.max)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.init(b,c)}}function fd(){}function gd(b,c){var d,e,f,g,h={32:8,64:11}[b];if(g||(d=0>c||0>1/c,isFinite(c)||(g={32:{d:127,c:128,b:0,a:0},64:{d:32752,c:0,b:0,a:0}}[b],d&&(g.d+=1<<b/4-1),e=Math.pow(2,h)-1,f=0)),!g){for(e={32:127,64:1023}[b],f=Math.abs(c);2<=f;)e++,f/=2;for(;1>f&&0<e;)e--,f*=2;0>=e&&(f/=2),32===b&&254<e&&(g={d:d?255:127,c:128,b:0,a:0},e=Math.pow(2,h)-1,f=0)}return e}function hd(){this.pt=0,this.level=0,this.interval=null;var a=arguments[0];this.computeKey(a)}function id(){dd.apply(this),this.interval=null,this.centre=null,this.level=null;var a=arguments[0],b=arguments[1];this.interval=a,this.level=b,this.centre=(a.getMin()+a.getMax())/2}function jd(){}function kd(){dd.apply(this)}function ld(){this.root=null,this.minExtent=1,this.root=new kd}function md(){}function nd(){this.ring=null,this.tree=null,this.crossings=0,this.interval=new ed;var a=arguments[0];this.ring=a,this.buildIndex()}function od(){cd.apply(this),this.mcp=null,this.p=null;var a=arguments[0],b=arguments[1];this.mcp=a,this.p=b}function pd(){}function qd(){this.p0=null,this.p1=null,this.p2=null;var a=arguments[0],b=arguments[1],c=arguments[2];this.p0=a,this.p1=b,this.p2=c}function rd(){this.input=null,this.extremalPts=null,this.centre=null,this.radius=0;var a=arguments[0];this.input=a}function sd(){if(this.inputGeom=null,this.isConvex=null,this.convexHullPts=null,this.minBaseSeg=new fb,this.minWidthPt=null,this.minPtIndex=null,this.minWidth=0,1===arguments.length){var a=arguments[0];sd.call(this,a,!1)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.inputGeom=b,this.isConvex=c}}function td(){this.inputGeom=null,this.distanceTolerance=null;var a=arguments[0];this.inputGeom=a}function ud(){nb.apply(this),this.distanceTolerance=null;var a=arguments[0];this.distanceTolerance=a}function vd(){this._orig=null,this._sym=null,this._next=null;var a=arguments[0];this._orig=a}function wd(){this._isMarked=!1;var a=arguments[0];vd.call(this,a)}function xd(){this.vertexMap=new Wa}function yd(){this._isStart=!1;var a=arguments[0];wd.call(this,a)}function zd(){xd.apply(this)}function Ad(){this.result=null,this.factory=null,this.graph=null,this.lines=new x,this.nodeEdgeStack=new jb,this.ringStartEdge=null,this.graph=new zd}function Bd(){this.items=new x,this.subnode=[,,,,].fill(null)}function Cd(){this.pt=new fa,this.level=0,this.env=null;var a=arguments[0];this.computeKey(a)}function Dd(){Bd.apply(this),this.env=null,this.centrex=null,this.centrey=null,this.level=null;var a=arguments[0],b=arguments[1];this.env=a,this.level=b,this.centrex=(a.getMinX()+a.getMaxX())/2,this.centrey=(a.getMinY()+a.getMaxY())/2}function Ed(){Bd.apply(this)}function Fd(){this.root=null,this.minExtent=1,this.root=new Ed}function Gd(a){this.geometryFactory=a||new Za}function Hd(a){this.geometryFactory=a||new Za,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Gd(this.geometryFactory)}function Id(){this.parser=new Gd(this.geometryFactory)}function Jd(a){this.geometryFactory=a||new Za,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new $a(this.geometryFactory)}function Kd(a){return[a.x,a.y]}function Ld(a,b){this.geometryFactory=a||new Za,this.ol=b||"undefined"!=typeof ol&&ol}function Md(){if(this.noder=null,this.scaleFactor=null,this.offsetX=null,this.offsetY=null,this.isScaled=!1,2===arguments.length){var a=arguments[0],b=arguments[1];Md.call(this,a,b,0,0)}else if(4===arguments.length){var c=arguments[0],d=arguments[1];arguments[2],arguments[3],this.noder=c,this.scaleFactor=d,this.isScaled=!this.isIntegerPrecision()}}function Nd(){if(this.inputGeom=null,this.isClosedEndpointsInInterior=!0,this.nonSimpleLocation=null,1===arguments.length){var a=arguments[0];this.inputGeom=a}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.inputGeom=b,this.isClosedEndpointsInInterior=!c.isInBoundary(2)}}function Od(){this.pt=null,this.isClosed=null,this.degree=null;var a=arguments[0];this.pt=a,this.isClosed=!1,this.degree=0}function Pd(){if(this.quadrantSegments=Pd.DEFAULT_QUADRANT_SEGMENTS,this.endCapStyle=Pd.CAP_ROUND,this.joinStyle=Pd.JOIN_ROUND,this.mitreLimit=Pd.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this.simplifyFactor=Pd.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var a=arguments[0];this.setQuadrantSegments(a)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.setQuadrantSegments(b),this.setEndCapStyle(c)}else if(4===arguments.length){var d=arguments[0],e=arguments[1],f=arguments[2],g=arguments[3];this.setQuadrantSegments(d),this.setEndCapStyle(e),this.setJoinStyle(f),this.setMitreLimit(g)}}function Qd(){this.minIndex=-1,this.minCoord=null,this.minDe=null,this.orientedDe=null}function Rd(){this.array_=[]}function Sd(){this.finder=null,this.dirEdgeList=new x,this.nodes=new x,this.rightMostCoord=null,this.env=null,this.finder=new Qd}function Td(){this.inputLine=null,this.distanceTol=null,this.isDeleted=null,this.angleOrientation=eb.COUNTERCLOCKWISE;var a=arguments[0];this.inputLine=a}function Ud(){this.ptList=null,this.precisionModel=null,this.minimimVertexDistance=0,this.ptList=new x}function Vd(){this.maxCurveSegmentError=0,this.filletAngleQuantum=null,this.closingSegLengthFactor=1,this.segList=null,this.distance=0,this.precisionModel=null,this.bufParams=null,this.li=null,this.s0=null,this.s1=null,this.s2=null,this.seg0=new fb,this.seg1=new fb,this.offset0=new fb,this.offset1=new fb,this.side=0,this._hasNarrowConcaveAngle=!1;var a=arguments[0],b=arguments[1],c=arguments[2];this.precisionModel=a,this.bufParams=b,this.li=new bb,this.filletAngleQuantum=Math.PI/2/b.getQuadrantSegments(),8<=b.getQuadrantSegments()&&b.getJoinStyle()===Pd.JOIN_ROUND&&(this.closingSegLengthFactor=Vd.MAX_CLOSING_SEG_LEN_FACTOR),this.init(c)}function Wd(){this.distance=0,this.precisionModel=null,this.bufParams=null;var a=arguments[0],b=arguments[1];this.precisionModel=a,this.bufParams=b}function Xd(){this.subgraphs=null,this.seg=new fb,this.cga=new eb;var a=arguments[0];this.subgraphs=a}function Yd(){this.upwardSeg=null,this.leftDepth=null;var a=arguments[0],b=arguments[1];this.upwardSeg=new fb(a),this.leftDepth=b}function Zd(){this.inputGeom=null,this.distance=null,this.curveBuilder=null,this.curveList=new x;var a=arguments[0],b=arguments[1],c=arguments[2];this.inputGeom=a,this.distance=b,this.curveBuilder=c}function $d(){this._hasIntersection=!1,this.hasProper=!1,this.hasProperInterior=!1,this.hasInterior=!1,this.properIntersectionPoint=null,this.li=null,this.isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var a=arguments[0];this.li=a}function _d(){this.bufParams=null,this.workingPrecisionModel=null,this.workingNoder=null,this.geomFact=null,this.graph=null,this.edgeList=new Wc;var a=arguments[0];this.bufParams=a}function ae(){this.li=new bb,this.segStrings=null;var a=arguments[0];this.segStrings=a}function be(){this.li=null,this.pt=null,this.originalPt=null,this.ptScaled=null,this.p0Scaled=null,this.p1Scaled=null,this.scaleFactor=null,this.minx=null,this.maxx=null,this.miny=null,this.maxy=null,this.corner=[,,,,].fill(null),this.safeEnv=null;var a=arguments[0],b=arguments[1],c=arguments[2];if(this.originalPt=a,this.pt=a,this.scaleFactor=b,this.li=c,0>=b)throw new ca("Scale factor must be non-zero");1!==b&&(this.pt=new fa(this.scale(a.x),this.scale(a.y)),this.p0Scaled=new fa,this.p1Scaled=new fa),this.initCorners(this.pt)}function de(){this.index=null;var a=arguments[0];this.index=a}function ee(){cd.apply(this),this.hotPixel=null,this.parentEdge=null,this.hotPixelVertexIndex=null,this._isNodeAdded=!1;var a=arguments[0],b=arguments[1],c=arguments[2];this.hotPixel=a,this.parentEdge=b,this.hotPixelVertexIndex=c}function ge(){this.li=null,this.interiorIntersections=null;var a=arguments[0];this.li=a,this.interiorIntersections=new x}function ie(){this.pm=null,this.li=null,this.scaleFactor=null,this.noder=null,this.pointSnapper=null,this.nodedSegStrings=null;var a=arguments[0];this.pm=a,this.li=new bb,this.li.setPrecisionModel(a),this.scaleFactor=a.getScale()}function je(){if(this.argGeom=null,this.distance=null,this.bufParams=new Pd,this.resultGeometry=null,this.saveException=null,1===arguments.length){var a=arguments[0];this.argGeom=a}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.argGeom=b,this.bufParams=c}}function ke(){this.comps=null;var a=arguments[0];this.comps=a}function me(){if(this.component=null,this.segIndex=null,this.pt=null,2===arguments.length){var a=arguments[0],b=arguments[1];me.call(this,a,me.INSIDE_AREA,b)}else if(3===arguments.length){var c=arguments[0],d=arguments[1],e=arguments[2];this.component=c,this.segIndex=d,this.pt=e}}function oe(){this.pts=null;var a=arguments[0];this.pts=a}function pe(){this.locations=null;var a=arguments[0];this.locations=a}function qe(){if(this.geom=null,this.terminateDistance=0,this.ptLocator=new wb,this.minDistanceLocation=null,this.minDistance=da.MAX_VALUE,2===arguments.length){var a=arguments[0],b=arguments[1];qe.call(this,a,b,0)}else if(3===arguments.length){var c=arguments[0],d=arguments[1],e=arguments[2];this.geom=[,,].fill(null),this.geom[0]=c,this.geom[1]=d,this.terminateDistance=e}}function ue(){this.factory=null,this.directedEdges=new x,this.coordinates=null;var a=arguments[0];this.factory=a}function ve(){this._isMarked=!1,this._isVisited=!1,this.data=null}function we(){ve.apply(this),this.parentEdge=null,this.from=null,this.to=null,this.p0=null,this.p1=null,this.sym=null,this.edgeDirection=null,this.quadrant=null,this.angle=null;var a=arguments[0],b=arguments[1],c=arguments[2],d=arguments[3];this.from=a,this.to=b,this.edgeDirection=d,this.p0=a.getCoordinate(),this.p1=c;var e=this.p1.x-this.p0.x,f=this.p1.y-this.p0.y;this.quadrant=Tb.quadrant(e,f),this.angle=Math.atan2(f,e)}function xe(){var a=arguments[0],b=arguments[1],c=arguments[2],d=arguments[3];we.call(this,a,b,c,d)}function ze(){if(ve.apply(this),this.dirEdge=null,0===arguments.length);else if(2===arguments.length){var a=arguments[0],b=arguments[1];this.setDirectedEdges(a,b)}}function Ae(){this.outEdges=new x,this.sorted=!1}function Ce(){if(ve.apply(this),this.pt=null,this.deStar=null,1===arguments.length){var a=arguments[0];Ce.call(this,a,new Ae)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.pt=b,this.deStar=c}}function De(){ze.apply(this),this.line=null;var a=arguments[0];this.line=a}function Ee(){this.nodeMap=new ja}function Fe(){this.edges=new K,this.dirEdges=new K,this.nodeMap=new Ee}function Ge(){Fe.apply(this)}function He(){this.graph=new Ge,this.mergedLineStrings=null,this.factory=null,this.edgeStrings=null}function Ie(){this.edgeRing=null,this.next=null,this.label=-1;var a=arguments[0],b=arguments[1],c=arguments[2],d=arguments[3];we.call(this,a,b,c,d)}function Je(){ze.apply(this),this.line=null;var a=arguments[0];this.line=a}function Ke(){this.geometryFactory=new Za,this.geomGraph=null,this.disconnectedRingcoord=null;var a=arguments[0];this.geomGraph=a}function Le(){}function Me(){if(this.edgeEnds=new x,1===arguments.length){var a=arguments[0];Me.call(this,null,a)}else if(2===arguments.length){var b=(arguments[0],arguments[1]);mc.call(this,b.getEdge(),b.getCoordinate(),b.getDirectedCoordinate(),new fc(b.getLabel())),this.insert(b)}}function Ne(){vc.apply(this)}function Oe(){var a=arguments[0],b=arguments[1];kc.call(this,a,b)}function Qe(){oc.apply(this)}function Re(){this.nodes=new lc(new Qe())}function Se(){this.li=new bb,this.geomGraph=null,this.nodeGraph=new Re,this.invalidPoint=null;var a=arguments[0];this.geomGraph=a}function Te(){this.graph=null,this.rings=new x,this.totalEnv=new y,this.index=null,this.nestedPt=null;var a=arguments[0];this.graph=a}function Ue(){if(this.errorType=null,this.pt=null,1===arguments.length){var a=arguments[0];Ue.call(this,a,null)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.errorType=b,null!==c&&(this.pt=c.copy())}}function Ve(){this.parentGeometry=null,this.isSelfTouchingRingFormingHoleValid=!1,this.validErr=null;var a=arguments[0];this.parentGeometry=a}function We(){this.factory=null,this.deList=new x,this.lowestEdge=null,this.ring=null,this.ringPts=null,this.holes=null,this.shell=null,this._isHole=null,this._isProcessed=!1,this._isIncludedSet=!1,this._isIncluded=!1;var a=arguments[0];this.factory=a}function Xe(){}function Ye(){Fe.apply(this),this.factory=null;var a=arguments[0];this.factory=a}function Ze(){if(this.lineStringAdder=new $e(this),this.graph=null,this.dangles=new x,this.cutEdges=new x,this.invalidRingLines=new x,this.holeList=null,this.shellList=null,this.polyList=null,this.isCheckingRingsValid=!0,this.extractOnlyPolygonal=null,this.geomFactory=null,0===arguments.length)Ze.call(this,!1);else if(1===arguments.length){var a=arguments[0];this.extractOnlyPolygonal=a}}function $e(){this.p=null;var a=arguments[0];this.p=a}function _e(){this.li=new bb,this.ptLocator=new wb,this.arg=null,this.nodes=new lc(new Qe()),this.im=null,this.isolatedEdges=new x,this.invalidPoint=null;var a=arguments[0];this.arg=a}function af(){this.rectEnv=null;var a=arguments[0];this.rectEnv=a.getEnvelopeInternal()}function bf(){this.li=new bb,this.rectEnv=null,this.diagUp0=null,this.diagUp1=null,this.diagDown0=null,this.diagDown1=null;var a=arguments[0];this.rectEnv=a,this.diagUp0=new fa(a.getMinX(),a.getMinY()),this.diagUp1=new fa(a.getMaxX(),a.getMaxY()),this.diagDown0=new fa(a.getMinX(),a.getMaxY()),this.diagDown1=new fa(a.getMaxX(),a.getMinY())}function cf(){this._isDone=!1}function df(){this.rectangle=null,this.rectEnv=null;var a=arguments[0];this.rectangle=a,this.rectEnv=a.getEnvelopeInternal()}function ef(){cf.apply(this),this.rectEnv=null,this._intersects=!1;var a=arguments[0];this.rectEnv=a}function ff(){cf.apply(this),this.rectSeq=null,this.rectEnv=null,this._containsPoint=!1;var a=arguments[0];this.rectSeq=a.getExteriorRing().getCoordinateSequence(),this.rectEnv=a.getEnvelopeInternal()}function gf(){cf.apply(this),this.rectEnv=null,this.rectIntersector=null,this.hasIntersection=!1,this.p0=new fa,this.p1=new fa;var a=arguments[0];this.rectEnv=a.getEnvelopeInternal(),this.rectIntersector=new bf(this.rectEnv)}function hf(){if(this._relate=null,2===arguments.length){var a=arguments[0],b=arguments[1];Uc.call(this,a,b),this._relate=new _e(this.arg)}else if(3===arguments.length){var c=arguments[0],d=arguments[1],e=arguments[2];Uc.call(this,c,d,e),this._relate=new _e(this.arg)}}function jf(){this.geomFactory=null,this.skipEmpty=!1,this.inputGeoms=null;var a=arguments[0];this.geomFactory=jf.extractFactory(a),this.inputGeoms=a}function kf(){this.pointGeom=null,this.otherGeom=null,this.geomFact=null;var a=arguments[0],b=arguments[1];this.pointGeom=a,this.otherGeom=b,this.geomFact=b.getFactory()}function lf(){this.sortIndex=-1,this.comps=null;var a=arguments[0],b=arguments[1];this.sortIndex=a,this.comps=b}function mf(){this.inputPolys=null,this.geomFactory=null;var a=arguments[0];this.inputPolys=a,null===this.inputPolys&&(this.inputPolys=new x)}function nf(){if(this.polygons=new x,this.lines=new x,this.points=new x,this.geomFact=null,1===arguments.length){if(N(arguments[0],ga)){var a=arguments[0];this.extract(a)}else if(arguments[0]instanceof k){var b=arguments[0];this.extract(b)}}else if(2===arguments.length){var c=arguments[0],d=arguments[1];this.geomFact=d,this.extract(c)}}function of(){Ka.CoordinateOperation.apply(this),this.targetPM=null,this.removeCollapsed=!0;var a=arguments[0],b=arguments[1];this.targetPM=a,this.removeCollapsed=b}function pf(){this.targetPM=null,this.removeCollapsed=!0,this.changePrecisionModel=!1,this.isPointwise=!1;var a=arguments[0];this.targetPM=a}function qf(){this.pts=null,this.usePt=null,this.distanceTolerance=null,this.seg=new fb;var a=arguments[0];this.pts=a}function rf(){this.inputGeom=null,this.distanceTolerance=null,this.isEnsureValidTopology=!0;var a=arguments[0];this.inputGeom=a}function sf(){nb.apply(this),this.isEnsureValidTopology=!0,this.distanceTolerance=null;var a=arguments[0],b=arguments[1];this.isEnsureValidTopology=a,this.distanceTolerance=b}function tf(){if(this.parent=null,this.index=null,2===arguments.length){var a=arguments[0],b=arguments[1];tf.call(this,a,b,null,-1)}else if(4===arguments.length){var c=arguments[0],d=arguments[1],e=arguments[2],f=arguments[3];fb.call(this,c,d),this.parent=e,this.index=f}}function uf(){if(this.parentLine=null,this.segs=null,this.resultSegs=new x,this.minimumSize=null,1===arguments.length){var a=arguments[0];uf.call(this,a,2)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.parentLine=b,this.minimumSize=c,this.init()}}function vf(){this.index=new Fd}function wf(){this.querySeg=null,this.items=new x;var a=arguments[0];this.querySeg=a}function xf(){this.li=new bb,this.inputIndex=new vf,this.outputIndex=new vf,this.line=null,this.linePts=null,this.distanceTolerance=0;var a=arguments[0],b=arguments[1];this.inputIndex=a,this.outputIndex=b}function yf(){this.inputIndex=new vf,this.outputIndex=new vf,this.distanceTolerance=0}function zf(){this.inputGeom=null,this.lineSimplifier=new yf,this.linestringMap=null;var a=arguments[0];this.inputGeom=a}function Af(){nb.apply(this),this.linestringMap=null;var a=arguments[0];this.linestringMap=a}function Bf(){this.tps=null;var a=arguments[0];this.tps=a}function Cf(){this.seg=null,this.segLen=null,this.splitPt=null,this.minimumLen=0;var a=arguments[0];this.seg=a,this.segLen=a.getLength()}function Df(){}function Ef(){}function Ff(){}function Gf(){if(this.p=null,1===arguments.length){var a=arguments[0];this.p=new fa(a)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.p=new fa(b,c)}else if(3===arguments.length){var d=arguments[0],e=arguments[1],f=arguments[2];this.p=new fa(d,e,f)}}function Hf(){this._isOnConstraint=null,this.constraint=null;var a=arguments[0];Gf.call(this,a)}function If(){this._rot=null,this.vertex=null,this.next=null,this.data=null}function Jf(){this.subdiv=null,this.isUsingTolerance=!1;var a=arguments[0];this.subdiv=a,this.isUsingTolerance=0<a.getTolerance()}function Kf(){}function Lf(){this.subdiv=null,this.lastEdge=null;var a=arguments[0];this.subdiv=a,this.init()}function Mf(){if(this.seg=null,1===arguments.length){if("string"==typeof arguments[0]){var a=arguments[0];u.call(this,a)}else if(arguments[0]instanceof fb){var b=arguments[0];u.call(this,"Locate failed to converge (at edge: "+b+").  Possible causes include invalid Subdivision topology or very close sites"),this.seg=new fb(b)}}else if(2===arguments.length){var c=arguments[0],d=arguments[1];u.call(this,Mf.msgWithSpatial(c,d)),this.seg=new fb(d)}}function Nf(){}function Of(){this.visitedKey=0,this.quadEdges=new x,this.startingEdge=null,this.tolerance=null,this.edgeCoincidenceTolerance=null,this.frameVertex=[,,,].fill(null),this.frameEnv=null,this.locator=null,this.seg=new fb,this.triEdges=[,,,].fill(null);var a=arguments[0],b=arguments[1];this.tolerance=b,this.edgeCoincidenceTolerance=b/Of.EDGE_COINCIDENCE_TOL_FACTOR,this.createFrame(a),this.startingEdge=this.initSubdiv(),this.locator=new Lf(this)}function Pf(){}function Qf(){this.triList=new x}function Rf(){this.triList=new x}function Sf(){this.coordList=new w,this.triCoords=new x}function Tf(){if(this.ls=null,this.data=null,2===arguments.length){var b=arguments[0],j=arguments[1];this.ls=new fb(b,j)}else if(3===arguments.length){var e=arguments[0],k=arguments[1],n=arguments[2];this.ls=new fb(e,k),this.data=n}else if(6===arguments.length){var p=arguments[0],o=arguments[1],q=arguments[2],a=arguments[3],r=arguments[4],l=arguments[5];Tf.call(this,new fa(p,o,q),new fa(a,r,l))}else if(7===arguments.length){var c=arguments[0],f=arguments[1],h=arguments[2],d=arguments[3],g=arguments[4],s=arguments[5],t=arguments[6];Tf.call(this,new fa(c,f,h),new fa(d,g,s),t)}}function Uf(){}function Vf(){if(this.p=null,this.data=null,this.left=null,this.right=null,this.count=null,2===arguments.length){var a=arguments[0],b=arguments[1];this.p=new fa(a),this.left=null,this.right=null,this.count=1,this.data=b}else if(3===arguments.length){var c=arguments[0],d=arguments[1],e=arguments[2];this.p=new fa(c,d),this.left=null,this.right=null,this.count=1,this.data=e}}function Wf(){if(this.root=null,this.numberOfNodes=null,this.tolerance=null,0===arguments.length)Wf.call(this,0);else if(1===arguments.length){var a=arguments[0];this.tolerance=a}}function Xf(){this.tolerance=null,this.matchNode=null,this.matchDist=0,this.p=null;var a=arguments[0],b=arguments[1];this.p=a,this.tolerance=b}function Yf(){this.initialVertices=null,this.segVertices=null,this.segments=new x,this.subdiv=null,this.incDel=null,this.convexHull=null,this.splitFinder=new Ef,this.kdt=null,this.vertexFactory=null,this.computeAreaEnv=null,this.splitPt=null,this.tolerance=null;var a=arguments[0],b=arguments[1];this.initialVertices=new x(a),this.tolerance=b,this.kdt=new Wf(b)}function Zf(){this.siteCoords=null,this.tolerance=0,this.subdiv=null}function $f(){this.siteCoords=null,this.constraintLines=null,this.tolerance=0,this.subdiv=null,this.constraintVertexMap=new ja}function _f(){this.siteCoords=null,this.tolerance=0,this.subdiv=null,this.clipEnv=null,this.diagramEnv=null}function ag(){}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(a){if(void 0===this||null===this)throw new TypeError(this+" is not an object");var b=Object(this),c=Math.max(Math.min(b.length,9007199254740991),0)||0,d=1 in arguments?parseInt(+arguments[1],10)||0:0;d=0>d?Math.max(c+d,0):Math.min(d,c);var e=2 in arguments&&void 0!==arguments[2]?parseInt(+arguments[2],10)||0:c;for(e=0>e?Math.max(c+arguments[2],0):Math.min(e,c);d<e;)b[d]=a,++d;return b},writable:!0}),Number.isFinite=Number.isFinite||function(a){return"number"==typeof a&&isFinite(a)},Number.isInteger=Number.isInteger||function(a){return"number"==typeof a&&isFinite(a)&&Math.floor(a)===a},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(a){return a!==a},Math.trunc=Math.trunc||function(a){return 0>a?Math.ceil(a):Math.floor(a)},t(ba.prototype,{interfaces_:function(){return[]},getClass:function(){return ba}}),ba.equalsWithTolerance=function(a,b,c){return Math.abs(a-b)<=c},da.isNaN=function(a){return Number.isNaN(a)},da.doubleToLongBits=function(a){return a},da.longBitsToDouble=function(a){return a},da.isInfinite=function(a){return!Number.isFinite(a)},da.MAX_VALUE=Number.MAX_VALUE,u.prototype=Object.create(Error.prototype),u.prototype.constructor=Error,l(c,u),t(c.prototype,{interfaces_:function(){return[]},getClass:function(){return c}}),t(ea.prototype,{interfaces_:function(){return[]},getClass:function(){return ea}}),ea.shouldNeverReachHere=function(){if(0===arguments.length)ea.shouldNeverReachHere(null);else if(1===arguments.length){var a=arguments[0];throw new c("Should never reach here"+(null===a?"":": "+a))}},ea.isTrue=function(){if(1===arguments.length){var a=arguments[0];ea.isTrue(a,null)}else if(2===arguments.length){var b=arguments[0],d=arguments[1];if(!b)throw null===d?new c:new c(d)}},ea.equals=function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];ea.equals(a,b,null)}else if(3===arguments.length){var d=arguments[0],e=arguments[1],f=arguments[2];if(!e.equals(d))throw new c("Expected "+d+" but encountered "+e+(null===f?"":": "+f))}},t(fa.prototype,{setOrdinate:function(a,b){switch(a){case fa.X:this.x=b;break;case fa.Y:this.y=b;break;case fa.Z:this.z=b;break;default:throw new ca("Invalid ordinate index: "+a);}},equals2D:function(){if(1===arguments.length){var a=arguments[0];return this.x===a.x&&this.y===a.y}if(2===arguments.length){var b=arguments[0],c=arguments[1];return!!ba.equalsWithTolerance(this.x,b.x,c)&&!!ba.equalsWithTolerance(this.y,b.y,c)}},getOrdinate:function(a){switch(a){case fa.X:return this.x;case fa.Y:return this.y;case fa.Z:return this.z;}throw new ca("Invalid ordinate index: "+a)},equals3D:function(a){return this.x===a.x&&this.y===a.y&&(this.z===a.z||da.isNaN(this.z)&&da.isNaN(a.z))},equals:function(a){return a instanceof fa&&this.equals2D(a)},equalInZ:function(a,b){return ba.equalsWithTolerance(this.z,a.z,b)},compareTo:function(a){var b=a;return this.x<b.x?-1:this.x>b.x?1:this.y<b.y?-1:this.y>b.y?1:0},clone:function(){try{return null}catch(a){if(a instanceof CloneNotSupportedException)return ea.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw a}},copy:function(){return new fa(this)},toString:function(){return"("+this.x+", "+this.y+", "+this.z+")"},distance3D:function(a){var b=this.x-a.x,c=this.y-a.y,d=this.z-a.z;return Math.sqrt(b*b+c*c+d*d)},distance:function(a){var b=this.x-a.x,c=this.y-a.y;return Math.sqrt(b*b+c*c)},hashCode:function(){var a=17;return a=37*a+fa.hashCode(this.x),a=37*a+fa.hashCode(this.y)},setCoordinate:function(a){this.x=a.x,this.y=a.y,this.z=a.z},interfaces_:function(){return[e,n,a]},getClass:function(){return fa}}),fa.hashCode=function(){if(1===arguments.length){var a=arguments[0],b=da.doubleToLongBits(a);return Math.trunc(b^b>>>32)}},t(f.prototype,{compare:function(a,b){var c=a,d=b,e=f.compare(c.x,d.x);if(0!==e)return e;var g=f.compare(c.y,d.y);return 0===g?2>=this.dimensionsToTest?0:f.compare(c.z,d.z):g},interfaces_:function(){return[o]},getClass:function(){return f}}),f.compare=function(a,b){return a<b?-1:a>b?1:da.isNaN(a)?da.isNaN(b)?0:-1:da.isNaN(b)?1:0},fa.DimensionalComparator=f,fa.serialVersionUID=0x5cbf2c235c7e5800,fa.NULL_ORDINATE=da.NaN,fa.X=0,fa.Y=1,fa.Z=2,d.prototype.hasNext=function(){},d.prototype.next=function(){},d.prototype.remove=function(){},ga.prototype.add=function(){},ga.prototype.addAll=function(){},ga.prototype.isEmpty=function(){},ga.prototype.iterator=function(){},ga.prototype.size=function(){},ga.prototype.toArray=function(){},ga.prototype.remove=function(){},g.prototype=new Error,g.prototype.name="IndexOutOfBoundsException",v.prototype=Object.create(ga.prototype),v.prototype.constructor=v,v.prototype.get=function(){},v.prototype.set=function(){},v.prototype.isEmpty=function(){},h.prototype=new Error,h.prototype.name="NoSuchElementException",m.prototype=new Error,m.prototype.name="OperationNotSupported",x.prototype=Object.create(v.prototype),x.prototype.constructor=x,x.prototype.ensureCapacity=function(){},x.prototype.interfaces_=function(){return[v,ga]},x.prototype.add=function(a){return 1===arguments.length?this.array_.push(a):this.array_.splice(arguments[0],arguments[1]),!0},x.prototype.clear=function(){this.array_=[]},x.prototype.addAll=function(a){for(var b=a.iterator();b.hasNext();)this.add(b.next());return!0},x.prototype.set=function(a,b){var c=this.array_[a];return this.array_[a]=b,c},x.prototype.iterator=function(){return new bg(this)},x.prototype.get=function(a){if(0>a||a>=this.size())throw new g;return this.array_[a]},x.prototype.isEmpty=function(){return 0===this.array_.length},x.prototype.size=function(){return this.array_.length},x.prototype.toArray=function(){for(var a=[],b=0,c=this.array_.length;b<c;b++)a.push(this.array_[b]);return a},x.prototype.remove=function(a){for(var b=!1,c=0,d=this.array_.length;c<d;c++)if(this.array_[c]===a){this.array_.splice(c,1),b=!0;break}return b};var bg=function(a){this.arrayList_=a,this.position_=0};bg.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new h;return this.arrayList_.get(this.position_++)},bg.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},bg.prototype.set=function(a){return this.arrayList_.set(this.position_-1,a)},bg.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},l(w,x),t(w.prototype,{getCoordinate:function(a){return this.get(a)},addAll:function(){if(2===arguments.length){for(var a=arguments[0],b=arguments[1],c=!1,d=a.iterator();d.hasNext();)this.add(d.next(),b),c=!0;return c}return x.prototype.addAll.apply(this,arguments)},clone:function(){for(var a=x.prototype.clone.call(this),b=0;b<this.size();b++)a.add(b,this.get(b).copy());return a},toCoordinateArray:function(){return this.toArray(w.coordArrayType)},add:function(){if(1===arguments.length){var j=arguments[0];x.prototype.add.call(this,j)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var k=arguments[0],e=arguments[1];return this.add(k,e,!0),!0}if(arguments[0]instanceof fa&&"boolean"==typeof arguments[1]){var n=arguments[0],p=arguments[1];if(!p&&1<=this.size()){var q=this.get(this.size()-1);if(q.equals2D(n))return null}x.prototype.add.call(this,n)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var o=arguments[0],s=arguments[1];return this.add(o,s),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var a=arguments[0],t=arguments[1],l=arguments[2];if(l)for(var c=0;c<a.length;c++)this.add(a[c],t);else for(var c=a.length-1;0<=c;c--)this.add(a[c],t);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof fa){var f=arguments[0],h=arguments[1],d=arguments[2];if(!d){var u=this.size();if(0<u){if(0<f){var w=this.get(f-1);if(w.equals2D(h))return null}if(f<u){var v=this.get(f);if(v.equals2D(h))return null}}}x.prototype.add.call(this,f,h)}}else if(4===arguments.length){var m=arguments[0],y=arguments[1],z=arguments[2],b=arguments[3],A=1;z>b&&(A=-1);for(var c=z;c!==b;c+=A)this.add(m[c],y);return!0}},closeRing:function(){0<this.size()&&this.add(new fa(this.get(0)),!1)},interfaces_:function(){return[]},getClass:function(){return w}}),w.coordArrayType=[].fill(null),t(y.prototype,{getArea:function(){return this.getWidth()*this.getHeight()},equals:function(a){if(!(a instanceof y))return!1;var b=a;return this.isNull()?b.isNull():this.maxx===b.getMaxX()&&this.maxy===b.getMaxY()&&this.minx===b.getMinX()&&this.miny===b.getMinY()},intersection:function(a){if(this.isNull()||a.isNull()||!this.intersects(a))return new y;var b=this.minx>a.minx?this.minx:a.minx,c=this.miny>a.miny?this.miny:a.miny;return new y(b,this.maxx<a.maxx?this.maxx:a.maxx,c,this.maxy<a.maxy?this.maxy:a.maxy)},isNull:function(){return this.maxx<this.minx},getMaxX:function(){return this.maxx},covers:function(){if(1===arguments.length){if(arguments[0]instanceof fa){var a=arguments[0];return this.covers(a.x,a.y)}if(arguments[0]instanceof y){var b=arguments[0];return!this.isNull()&&!b.isNull()&&b.getMinX()>=this.minx&&b.getMaxX()<=this.maxx&&b.getMinY()>=this.miny&&b.getMaxY()<=this.maxy}}else if(2===arguments.length){var c=arguments[0],d=arguments[1];return!this.isNull()&&c>=this.minx&&c<=this.maxx&&d>=this.miny&&d<=this.maxy}},intersects:function(){if(1===arguments.length){if(arguments[0]instanceof y){var a=arguments[0];return!this.isNull()&&!a.isNull()&&!(a.minx>this.maxx||a.maxx<this.minx||a.miny>this.maxy||a.maxy<this.miny)}if(arguments[0]instanceof fa){var b=arguments[0];return this.intersects(b.x,b.y)}}else if(2===arguments.length){var c=arguments[0],d=arguments[1];return!this.isNull()&&!(c>this.maxx||c<this.minx||d>this.maxy||d<this.miny)}},getMinY:function(){return this.miny},getMinX:function(){return this.minx},expandToInclude:function(){if(1===arguments.length){if(arguments[0]instanceof fa){var a=arguments[0];this.expandToInclude(a.x,a.y)}else if(arguments[0]instanceof y){var b=arguments[0];if(b.isNull())return null;this.isNull()?(this.minx=b.getMinX(),this.maxx=b.getMaxX(),this.miny=b.getMinY(),this.maxy=b.getMaxY()):(b.minx<this.minx&&(this.minx=b.minx),b.maxx>this.maxx&&(this.maxx=b.maxx),b.miny<this.miny&&(this.miny=b.miny),b.maxy>this.maxy&&(this.maxy=b.maxy))}}else if(2===arguments.length){var c=arguments[0],d=arguments[1];this.isNull()?(this.minx=c,this.maxx=c,this.miny=d,this.maxy=d):(c<this.minx&&(this.minx=c),c>this.maxx&&(this.maxx=c),d<this.miny&&(this.miny=d),d>this.maxy&&(this.maxy=d))}},minExtent:function(){if(this.isNull())return 0;var a=this.getWidth(),b=this.getHeight();return a<b?a:b},getWidth:function(){return this.isNull()?0:this.maxx-this.minx},compareTo:function(a){var b=a;return this.isNull()?b.isNull()?0:-1:b.isNull()?1:this.minx<b.minx?-1:this.minx>b.minx?1:this.miny<b.miny?-1:this.miny>b.miny?1:this.maxx<b.maxx?-1:this.maxx>b.maxx?1:this.maxy<b.maxy?-1:this.maxy>b.maxy?1:0},translate:function(a,b){return this.isNull()?null:void this.init(this.getMinX()+a,this.getMaxX()+a,this.getMinY()+b,this.getMaxY()+b)},toString:function(){return"Env["+this.minx+" : "+this.maxx+", "+this.miny+" : "+this.maxy+"]"},setToNull:function(){this.minx=0,this.maxx=-1,this.miny=0,this.maxy=-1},getHeight:function(){return this.isNull()?0:this.maxy-this.miny},maxExtent:function(){if(this.isNull())return 0;var a=this.getWidth(),b=this.getHeight();return a>b?a:b},expandBy:function(){if(1===arguments.length){var a=arguments[0];this.expandBy(a,a)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];if(this.isNull())return null;this.minx-=b,this.maxx+=b,this.miny-=c,this.maxy+=c,(this.minx>this.maxx||this.miny>this.maxy)&&this.setToNull()}},contains:function(){if(1===arguments.length){if(arguments[0]instanceof y){var a=arguments[0];return this.covers(a)}if(arguments[0]instanceof fa){var b=arguments[0];return this.covers(b)}}else if(2===arguments.length){var c=arguments[0],d=arguments[1];return this.covers(c,d)}},centre:function(){return this.isNull()?null:new fa((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},init:function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof fa){var b=arguments[0];this.init(b.x,b.x,b.y,b.y)}else if(arguments[0]instanceof y){var c=arguments[0];this.minx=c.minx,this.maxx=c.maxx,this.miny=c.miny,this.maxy=c.maxy}}else if(2===arguments.length){var d=arguments[0],e=arguments[1];this.init(d.x,e.x,d.y,e.y)}else if(4===arguments.length){var f=arguments[0],g=arguments[1],h=arguments[2],j=arguments[3];f<g?(this.minx=f,this.maxx=g):(this.minx=g,this.maxx=f),h<j?(this.miny=h,this.maxy=j):(this.miny=j,this.maxy=h)}},getMaxY:function(){return this.maxy},distance:function(a){if(this.intersects(a))return 0;var b=0;this.maxx<a.minx?b=a.minx-this.maxx:this.minx>a.maxx&&(b=this.minx-a.maxx);var c=0;return this.maxy<a.miny?c=a.miny-this.maxy:this.miny>a.maxy&&(c=this.miny-a.maxy),0===b?c:0===c?b:Math.sqrt(b*b+c*c)},hashCode:function(){var a=17;return a=37*a+fa.hashCode(this.minx),a=37*a+fa.hashCode(this.maxx),a=37*a+fa.hashCode(this.miny),a=37*a+fa.hashCode(this.maxy)},interfaces_:function(){return[e,a]},getClass:function(){return y}}),y.intersects=function(){if(3===arguments.length){var b=arguments[0],d=arguments[1],e=arguments[2];return e.x>=(b.x<d.x?b.x:d.x)&&e.x<=(b.x>d.x?b.x:d.x)&&e.y>=(b.y<d.y?b.y:d.y)&&e.y<=(b.y>d.y?b.y:d.y)}if(4===arguments.length){var f=arguments[0],g=arguments[1],h=arguments[2],j=arguments[3],k=Math.min(h.x,j.x),a=Math.max(h.x,j.x),m=Math.min(f.x,g.x),l=Math.max(f.x,g.x);return!(m>a||l<k||(k=Math.min(h.y,j.y),a=Math.max(h.y,j.y),m=Math.min(f.y,g.y),l=Math.max(f.y,g.y),m>a||l<k))}},y.serialVersionUID=0x51845cd552189800,l(E,r),t(E.prototype,{interfaces_:function(){return[]},getClass:function(){return E}}),t(C.prototype,{interfaces_:function(){return[]},getClass:function(){return C}}),C.toLocationSymbol=function(a){switch(a){case C.EXTERIOR:return"e";case C.BOUNDARY:return"b";case C.INTERIOR:return"i";case C.NONE:return"-";}throw new ca("Unknown location value: "+a)},C.INTERIOR=0,C.BOUNDARY=1,C.EXTERIOR=2,C.NONE=-1,t(M.prototype,{interfaces_:function(){return[]},getClass:function(){return M}}),M.log10=function(a){var b=Math.log(a);return da.isInfinite(b)?b:da.isNaN(b)?b:b/M.LOG_10},M.min=function(a,b,c,d){var e=a;return b<e&&(e=b),c<e&&(e=c),d<e&&(e=d),e},M.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var a=arguments[0],b=arguments[1],c=arguments[2];return a<b?b:a>c?c:a}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var d=arguments[0],e=arguments[1],f=arguments[2];return d<e?e:d>f?f:d}},M.wrap=function(a,b){return 0>a?b- -a%b:a%b},M.max=function(){if(3===arguments.length){var b=arguments[0],c=arguments[1],d=arguments[2],e=b;return c>e&&(e=c),d>e&&(e=d),e}if(4===arguments.length){var f=arguments[0],g=arguments[1],h=arguments[2],j=arguments[3],e=f;return g>e&&(e=g),h>e&&(e=h),j>e&&(e=j),e}},M.average=function(a,b){return(a+b)/2},M.LOG_10=Math.log(10),L.prototype.append=function(a){this.str+=a},L.prototype.setCharAt=function(a,b){this.str=this.str.substr(0,a)+b+this.str.substr(a+1)},L.prototype.toString=function(){return this.str},s.prototype.intValue=function(){return this.value},s.prototype.compareTo=function(a){return this.value<a?-1:this.value>a?1:0},s.isNaN=function(a){return Number.isNaN(a)},P.isWhitespace=function(a){return 32>=a&&0<=a||127==a},P.toUpperCase=function(a){return a.toUpperCase()},t(R.prototype,{le:function(a){return this.hi<a.hi||this.hi===a.hi&&this.lo<=a.lo},extractSignificantDigits:function(b,d){var e=this.abs(),g=R.magnitude(e.hi),j=R.TEN.pow(g);e=e.divide(j),e.gt(R.TEN)?(e=e.divide(R.TEN),g+=1):e.lt(R.ONE)&&(e=e.multiply(R.TEN),g-=1);for(var k=g+1,m=new L,n=R.MAX_PRINT_DIGITS-1,a=0;a<=n;a++){b&&a===k&&m.append(".");var o=Math.trunc(e.hi);if(0>o)break;var l=!1,c=0;9<o?(l=!0,c="9"):c="0"+o,m.append(c),e=e.subtract(R.valueOf(o)).multiply(R.TEN),l&&e.selfAdd(R.TEN);var f=!0,q=R.magnitude(e.hi);if(0>q&&Math.abs(q)>=n-a&&(f=!1),!f)break}return d[0]=g,m.toString()},sqr:function(){return this.multiply(this)},doubleValue:function(){return this.hi+this.lo},subtract:function(){if(arguments[0]instanceof R){var a=arguments[0];return this.add(a.negate())}if("number"==typeof arguments[0]){var b=arguments[0];return this.add(-b)}},equals:function(){if(1===arguments.length){var a=arguments[0];return this.hi===a.hi&&this.lo===a.lo}},isZero:function(){return 0===this.hi&&0===this.lo},selfSubtract:function(){if(arguments[0]instanceof R){var a=arguments[0];return this.isNaN()?this:this.selfAdd(-a.hi,-a.lo)}if("number"==typeof arguments[0]){var b=arguments[0];return this.isNaN()?this:this.selfAdd(-b,0)}},getSpecialNumberString:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},min:function(a){return this.le(a)?this:a},selfDivide:function(){if(1===arguments.length){if(arguments[0]instanceof R){var b=arguments[0];return this.selfDivide(b.hi,b.lo)}if("number"==typeof arguments[0]){var d=arguments[0];return this.selfDivide(d,0)}}else if(2===arguments.length){var e=arguments[0],g=arguments[1],h=null,j=null,k=null,m=null,a=null,n=null,l=null,c=null;return a=this.hi/e,n=R.SPLIT*a,h=n-a,c=R.SPLIT*e,h=n-h,j=a-h,k=c-e,l=a*e,k=c-k,m=e-k,c=h*k-l+h*m+j*k+j*m,n=(this.hi-l-c+this.lo-a*g)/e,c=a+n,this.hi=c,this.lo=a-c+n,this}},dump:function(){return"DD<"+this.hi+", "+this.lo+">"},divide:function(){if(arguments[0]instanceof R){var b=arguments[0],d=null,e=null,f=null,g=null,h=null,j=null,a=null,k=null;return h=this.hi/b.hi,j=R.SPLIT*h,d=j-h,k=R.SPLIT*b.hi,d=j-d,e=h-d,f=k-b.hi,a=h*b.hi,f=k-f,g=b.hi-f,k=d*f-a+d*g+e*f+e*g,j=(this.hi-a-k+this.lo-h*b.lo)/b.hi,k=h+j,new R(k,h-k+j)}if("number"==typeof arguments[0]){var l=arguments[0];return da.isNaN(l)?R.createNaN():R.copy(this).selfDivide(l,0)}},ge:function(a){return this.hi>a.hi||this.hi===a.hi&&this.lo>=a.lo},pow:function(a){if(0===a)return R.valueOf(1);var b=new R(this),c=R.valueOf(1),d=Math.abs(a);if(1<d)for(;0<d;)1==d%2&&c.selfMultiply(b),0<(d/=2)&&(b=b.sqr());else c=b;return 0>a?c.reciprocal():c},ceil:function(){if(this.isNaN())return R.NaN;var a=Math.ceil(this.hi),b=0;return a===this.hi&&(b=Math.ceil(this.lo)),new R(a,b)},compareTo:function(a){var b=a;return this.hi<b.hi?-1:this.hi>b.hi?1:this.lo<b.lo?-1:this.lo>b.lo?1:0},rint:function(){return this.isNaN()?this:this.add(.5).floor()},setValue:function(){if(arguments[0]instanceof R){var a=arguments[0];return this.init(a),this}if("number"==typeof arguments[0]){var b=arguments[0];return this.init(b),this}},max:function(a){return this.ge(a)?this:a},sqrt:function(){if(this.isZero())return R.valueOf(0);if(this.isNegative())return R.NaN;var a=1/Math.sqrt(this.hi),b=this.hi*a,c=R.valueOf(b),d=this.subtract(c.sqr()),e=d.hi*(.5*a);return c.add(e)},selfAdd:function(){if(1===arguments.length){if(arguments[0]instanceof R){var b=arguments[0];return this.selfAdd(b.hi,b.lo)}if("number"==typeof arguments[0]){var d=arguments[0],e=null,g=null,j=null,k=null,m=null,n=null;return j=this.hi+d,m=j-this.hi,k=j-m,k=d-m+(this.hi-k),n=k+this.lo,e=j+n,g=n+(j-e),this.hi=e+g,this.lo=g+(e-this.hi),this}}else if(2===arguments.length){var a=arguments[0],o=arguments[1],e=null,g=null,l=null,c=null,j=null,k=null,m=null,n=null;j=this.hi+a,l=this.lo+o,m=j-this.hi,n=l-this.lo,k=j-m,c=l-n,k=a-m+(this.hi-k),c=o-n+(this.lo-c),m=k+l,e=j+m,g=m+(j-e),m=c+g;var f=e+m,h=m+(e-f);return this.hi=f,this.lo=h,this}},selfMultiply:function(){if(1===arguments.length){if(arguments[0]instanceof R){var b=arguments[0];return this.selfMultiply(b.hi,b.lo)}if("number"==typeof arguments[0]){var d=arguments[0];return this.selfMultiply(d,0)}}else if(2===arguments.length){var e=arguments[0],g=arguments[1],h=null,j=null,k=null,m=null,a=null,n=null;a=R.SPLIT*this.hi,h=a-this.hi,n=R.SPLIT*e,h=a-h,j=this.hi-h,k=n-e,a=this.hi*e,k=n-k,m=e-k,n=h*k-a+h*m+j*k+j*m+(this.hi*g+this.lo*e);var l=a+n;h=a-l;var c=n+h;return this.hi=l,this.lo=c,this}},selfSqr:function(){return this.selfMultiply(this)},floor:function(){if(this.isNaN())return R.NaN;var a=Math.floor(this.hi),b=0;return a===this.hi&&(b=Math.floor(this.lo)),new R(a,b)},negate:function(){return this.isNaN()?this:new R(-this.hi,-this.lo)},clone:function(){try{return null}catch(a){if(a instanceof CloneNotSupportedException)return null;throw a}},multiply:function(){if(arguments[0]instanceof R){var a=arguments[0];return a.isNaN()?R.createNaN():R.copy(this).selfMultiply(a)}if("number"==typeof arguments[0]){var b=arguments[0];return da.isNaN(b)?R.createNaN():R.copy(this).selfMultiply(b,0)}},isNaN:function(){return da.isNaN(this.hi)},intValue:function(){return Math.trunc(this.hi)},toString:function(){var a=R.magnitude(this.hi);return-3<=a&&20>=a?this.toStandardNotation():this.toSciNotation()},toStandardNotation:function(){var a=this.getSpecialNumberString();if(null!==a)return a;var b=[,].fill(null),c=this.extractSignificantDigits(!0,b),d=b[0]+1,e=c;if("."===c.charAt(0))e="0"+c;else if(0>d)e="0."+R.stringOfChar("0",-d)+c;else if(-1===c.indexOf(".")){var f=d-c.length,g=R.stringOfChar("0",f);e=c+g+".0"}return this.isNegative()?"-"+e:e},reciprocal:function(){var b=null,c=null,d=null,e=null,f=null,g=null,h=null,j=null;f=1/this.hi,g=R.SPLIT*f,b=g-f,j=R.SPLIT*this.hi,b=g-b,c=f-b,d=j-this.hi,h=f*this.hi,d=j-d,e=this.hi-d,j=b*d-h+b*e+c*d+c*e,g=(1-h-j-f*this.lo)/this.hi;var a=f+g;return new R(a,f-a+g)},toSciNotation:function(){if(this.isZero())return R.SCI_NOT_ZERO;var a=this.getSpecialNumberString();if(null!==a)return a;var b=[,].fill(null),c=this.extractSignificantDigits(!1,b),d=R.SCI_NOT_EXPONENT_CHAR+b[0];if("0"===c.charAt(0))throw new IllegalStateException("Found leading zero: "+c);var e="";1<c.length&&(e=c.substring(1));var f=c.charAt(0)+"."+e;return this.isNegative()?"-"+f+d:f+d},abs:function(){return this.isNaN()?R.NaN:this.isNegative()?this.negate():new R(this)},isPositive:function(){return 0<this.hi||0===this.hi&&0<this.lo},lt:function(a){return this.hi<a.hi||this.hi===a.hi&&this.lo<a.lo},add:function(){if(arguments[0]instanceof R){var a=arguments[0];return R.copy(this).selfAdd(a)}if("number"==typeof arguments[0]){var b=arguments[0];return R.copy(this).selfAdd(b)}},init:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var a=arguments[0];this.hi=a,this.lo=0}else if(arguments[0]instanceof R){var b=arguments[0];this.hi=b.hi,this.lo=b.lo}}else if(2===arguments.length){var c=arguments[0],d=arguments[1];this.hi=c,this.lo=d}},gt:function(a){return this.hi>a.hi||this.hi===a.hi&&this.lo>a.lo},isNegative:function(){return 0>this.hi||0===this.hi&&0>this.lo},trunc:function(){return this.isNaN()?R.NaN:this.isPositive()?this.floor():this.ceil()},signum:function(){return 0<this.hi?1:0>this.hi?-1:0<this.lo?1:0>this.lo?-1:0},interfaces_:function(){return[a,e,n]},getClass:function(){return R}}),R.sqr=function(a){return R.valueOf(a).selfMultiply(a)},R.valueOf=function(){if("string"==typeof arguments[0]){var a=arguments[0];return R.parse(a)}return"number"==typeof arguments[0]?new R(arguments[0]):void 0},R.sqrt=function(a){return R.valueOf(a).sqrt()},R.parse=function(b){for(var g=0,e=b.length;P.isWhitespace(b.charAt(g));)g++;var j=!1;if(g<e){var k=b.charAt(g);"-"!==k&&"+"!==k||(g++,"-"===k&&(j=!0))}for(var m,l=new R,n=0,o=0,a=0;!(g>=e);)if(m=b.charAt(g),g++,P.isDigit(m)){var q=m-"0";l.selfMultiply(R.TEN),l.selfAdd(q),n++}else{if("."!==m){if("e"===m||"E"===m){var c=b.substring(g);try{a=s.parseInt(c)}catch(a){throw a instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+c+" in string "+b):a}break}throw new NumberFormatException("Unexpected character '"+m+"' at position "+g+" in string "+b)}o=n}var f=l,h=n-o-a;if(0===h)f=l;else if(0<h){var r=R.TEN.pow(h);f=l.divide(r)}else if(0>h){var r=R.TEN.pow(-h);f=l.multiply(r)}return j?f.negate():f},R.createNaN=function(){return new R(da.NaN,da.NaN)},R.copy=function(a){return new R(a)},R.magnitude=function(a){var b=Math.abs(a),c=Math.log(b)/Math.log(10),d=Math.trunc(Math.floor(c));return 10*Math.pow(10,d)<=b&&(d+=1),d},R.stringOfChar=function(a,b){for(var c=new L,d=0;d<b;d++)c.append(a);return c.toString()},R.PI=new R(3.141592653589793,1.2246467991473532e-16),R.TWO_PI=new R(6.283185307179586,2.4492935982947064e-16),R.PI_2=new R(1.5707963267948966,6.123233995736766e-17),R.E=new R(2.718281828459045,1.4456468917292502e-16),R.NaN=new R(da.NaN,da.NaN),R.EPS=1.23259516440783e-32,R.SPLIT=134217729,R.MAX_PRINT_DIGITS=32,R.TEN=R.valueOf(10),R.ONE=R.valueOf(1),R.SCI_NOT_EXPONENT_CHAR="E",R.SCI_NOT_ZERO="0.0E0",t(O.prototype,{interfaces_:function(){return[]},getClass:function(){return O}}),O.orientationIndex=function(b,c,d){var e=O.orientationIndexFilter(b,c,d);if(1>=e)return e;var f=R.valueOf(c.x).selfAdd(-b.x),g=R.valueOf(c.y).selfAdd(-b.y),h=R.valueOf(d.x).selfAdd(-c.x),j=R.valueOf(d.y).selfAdd(-c.y);return f.selfMultiply(j).selfSubtract(g.selfMultiply(h)).signum()},O.signOfDet2x2=function(a,b,c,d){return a.multiply(d).selfSubtract(b.multiply(c)).signum()},O.intersection=function(b,j,e,k){var m=R.valueOf(k.y).selfSubtract(e.y).selfMultiply(R.valueOf(j.x).selfSubtract(b.x)),n=R.valueOf(k.x).selfSubtract(e.x).selfMultiply(R.valueOf(j.y).selfSubtract(b.y)),o=m.subtract(n),p=R.valueOf(k.x).selfSubtract(e.x).selfMultiply(R.valueOf(b.y).selfSubtract(e.y)),a=R.valueOf(k.y).selfSubtract(e.y).selfMultiply(R.valueOf(b.x).selfSubtract(e.x)),q=p.subtract(a),l=q.selfDivide(o).doubleValue(),c=R.valueOf(b.x).selfAdd(R.valueOf(j.x).selfSubtract(b.x).selfMultiply(l)).doubleValue(),f=R.valueOf(j.x).selfSubtract(b.x).selfMultiply(R.valueOf(b.y).selfSubtract(e.y)),h=R.valueOf(j.y).selfSubtract(b.y).selfMultiply(R.valueOf(b.x).selfSubtract(e.x)),d=f.subtract(h),g=d.selfDivide(o).doubleValue();return new fa(c,R.valueOf(e.y).selfAdd(R.valueOf(k.y).selfSubtract(e.y).selfMultiply(g)).doubleValue())},O.orientationIndexFilter=function(b,c,d){var e=null,f=(b.x-d.x)*(c.y-d.y),g=(b.y-d.y)*(c.x-d.x),h=f-g;if(0<f){if(0>=g)return O.signum(h);e=f+g}else{if(!(0>f))return O.signum(h);if(0<=g)return O.signum(h);e=-f-g}var j=O.DP_SAFE_EPSILON*e;return h>=j||-h>=j?O.signum(h):2},O.signum=function(a){return 0<a?1:0>a?-1:0},O.DP_SAFE_EPSILON=1e-15,t(S.prototype,{setOrdinate:function(){},size:function(){},getOrdinate:function(){},getCoordinate:function(){1===arguments.length?arguments[0]:2===arguments.length&&(arguments[0],arguments[1])},getCoordinateCopy:function(){},getDimension:function(){},getX:function(){},clone:function(){},expandEnvelope:function(){},copy:function(){},getY:function(){},toCoordinateArray:function(){},interfaces_:function(){return[n]},getClass:function(){return S}}),S.X=0,S.Y=1,S.Z=2,S.M=3,A.arraycopy=function(a,b,c,d,e){for(var f=0,g=b;g<b+e;g++)c[d+f]=a[g],f++},A.getProperty=function(a){return{"line.separator":"\n"}[a]},t(D.prototype,{getY:function(){var a=this.y/this.w;if(da.isNaN(a)||da.isInfinite(a))throw new E;return a},getX:function(){var a=this.x/this.w;if(da.isNaN(a)||da.isInfinite(a))throw new E;return a},getCoordinate:function(){var a=new fa;return a.x=this.getX(),a.y=this.getY(),a},interfaces_:function(){return[]},getClass:function(){return D}}),D.intersection=function(b,f,e,h){var j=b.y-f.y,k=f.x-b.x,m=b.x*f.y-f.x*b.y,a=e.y-h.y,n=h.x-e.x,l=e.x*h.y-h.x*e.y,c=j*n-a*k,d=(k*l-n*m)/c,g=(a*m-j*l)/c;if(da.isNaN(d)||da.isInfinite(d)||da.isNaN(g)||da.isInfinite(g))throw new E;return new fa(d,g)},t(F.prototype,{create:function(){1===arguments.length?arguments[0]instanceof Array?arguments[0]:N(arguments[0],S)&&arguments[0]:2===arguments.length&&(arguments[0],arguments[1])},interfaces_:function(){return[]},getClass:function(){return F}}),t(q.prototype,{filter:function(){},interfaces_:function(){return[]},getClass:function(){return q}}),t(k.prototype,{isGeometryCollection:function(){return this.getSortIndex()===k.SORTINDEX_GEOMETRYCOLLECTION},getFactory:function(){return this.factory},getGeometryN:function(){return this},getArea:function(){return 0},isRectangle:function(){return!1},equals:function(){if(1===arguments.length){if(arguments[0]instanceof k){var a=arguments[0];return null!==a&&this.equalsTopo(a)}if(arguments[0]instanceof Object){var b=arguments[0];if(!(b instanceof k))return!1;return this.equalsExact(b)}}},equalsExact:function(a){return this===a||this.equalsExact(a,0)},geometryChanged:function(){this.apply(k.geometryChangedFilter)},geometryChangedAction:function(){this.envelope=null},equalsNorm:function(a){return null!==a&&this.norm().equalsExact(a.norm())},getLength:function(){return 0},getNumGeometries:function(){return 1},compareTo:function(){if(1===arguments.length){var a=arguments[0],b=a;return this.getSortIndex()===b.getSortIndex()?this.isEmpty()&&b.isEmpty()?0:this.isEmpty()?-1:b.isEmpty()?1:this.compareToSameClass(a):this.getSortIndex()-b.getSortIndex()}if(2===arguments.length){var c=arguments[0],d=arguments[1],b=c;return this.getSortIndex()===b.getSortIndex()?this.isEmpty()&&b.isEmpty()?0:this.isEmpty()?-1:b.isEmpty()?1:this.compareToSameClass(c,d):this.getSortIndex()-b.getSortIndex()}},getUserData:function(){return this.userData},getSRID:function(){return this.SRID},getEnvelope:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},checkNotGeometryCollection:function(a){if(a.getSortIndex()===k.SORTINDEX_GEOMETRYCOLLECTION)throw new ca("This method does not support GeometryCollection arguments")},equal:function(a,b,c){return 0===c?a.equals(b):a.distance(b)<=c},norm:function(){var a=this.copy();return a.normalize(),a},getPrecisionModel:function(){return this.factory.getPrecisionModel()},getEnvelopeInternal:function(){return null===this.envelope&&(this.envelope=this.computeEnvelopeInternal()),new y(this.envelope)},setSRID:function(a){this.SRID=a},setUserData:function(a){this.userData=a},compare:function(a,b){for(var c=a.iterator(),d=b.iterator();c.hasNext()&&d.hasNext();){var e=c.next(),f=d.next(),g=e.compareTo(f);if(0!==g)return g}return c.hasNext()?1:d.hasNext()?-1:0},hashCode:function(){return this.getEnvelopeInternal().hashCode()},isGeometryCollectionOrDerived:function(){return this.getSortIndex()===k.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===k.SORTINDEX_MULTIPOINT||this.getSortIndex()===k.SORTINDEX_MULTILINESTRING||this.getSortIndex()===k.SORTINDEX_MULTIPOLYGON},interfaces_:function(){return[n,e,a]},getClass:function(){return k}}),k.hasNonEmptyElements=function(a){for(var b=0;b<a.length;b++)if(!a[b].isEmpty())return!0;return!1},k.hasNullElements=function(a){for(var b=0;b<a.length;b++)if(null===a[b])return!0;return!1},k.serialVersionUID=0x799ea46522854c00,k.SORTINDEX_POINT=0,k.SORTINDEX_MULTIPOINT=1,k.SORTINDEX_LINESTRING=2,k.SORTINDEX_LINEARRING=3,k.SORTINDEX_MULTILINESTRING=4,k.SORTINDEX_POLYGON=5,k.SORTINDEX_MULTIPOLYGON=6,k.SORTINDEX_GEOMETRYCOLLECTION=7,k.geometryChangedFilter={interfaces_:function(){return[q]},filter:function(a){a.geometryChangedAction()}},t(T.prototype,{filter:function(){},interfaces_:function(){return[]},getClass:function(){return T}}),t(j.prototype,{isInBoundary:function(){},interfaces_:function(){return[]},getClass:function(){return j}}),t(B.prototype,{isInBoundary:function(a){return 1==a%2},interfaces_:function(){return[j]},getClass:function(){return B}}),t(z.prototype,{isInBoundary:function(a){return 0<a},interfaces_:function(){return[j]},getClass:function(){return z}}),t(V.prototype,{isInBoundary:function(a){return 1<a},interfaces_:function(){return[j]},getClass:function(){return V}}),t(X.prototype,{isInBoundary:function(a){return 1===a},interfaces_:function(){return[j]},getClass:function(){return X}}),j.Mod2BoundaryNodeRule=B,j.EndPointBoundaryNodeRule=z,j.MultiValentEndPointBoundaryNodeRule=V,j.MonoValentEndPointBoundaryNodeRule=X,j.MOD2_BOUNDARY_RULE=new B,j.ENDPOINT_BOUNDARY_RULE=new z,j.MULTIVALENT_ENDPOINT_BOUNDARY_RULE=new V,j.MONOVALENT_ENDPOINT_BOUNDARY_RULE=new X,j.OGC_SFS_BOUNDARY_RULE=j.MOD2_BOUNDARY_RULE,t(Y.prototype,{interfaces_:function(){return[]},getClass:function(){return Y}}),Y.isRing=function(a){return!(4>a.length)&&a[0].equals2D(a[a.length-1])},Y.ptNotInList=function(a,b){for(var c,d=0;d<a.length;d++)if(c=a[d],0>Y.indexOf(c,b))return c;return null},Y.scroll=function(a,b){var c=Y.indexOf(b,a);if(0>c)return null;var d=Array(a.length).fill(null);A.arraycopy(a,c,d,0,a.length-c),A.arraycopy(a,0,d,a.length-c,c),A.arraycopy(d,0,a,0,a.length)},Y.equals=function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];if(a===b)return!0;if(null===a||null===b)return!1;if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(!a[c].equals(b[c]))return!1;return!0}if(3===arguments.length){var d=arguments[0],e=arguments[1],f=arguments[2];if(d===e)return!0;if(null===d||null===e)return!1;if(d.length!==e.length)return!1;for(var c=0;c<d.length;c++)if(0!==f.compare(d[c],e[c]))return!1;return!0}},Y.intersection=function(a,b){for(var c=new w,d=0;d<a.length;d++)b.intersects(a[d])&&c.add(a[d],!0);return c.toCoordinateArray()},Y.hasRepeatedPoints=function(a){for(var b=1;b<a.length;b++)if(a[b-1].equals(a[b]))return!0;return!1},Y.removeRepeatedPoints=function(a){return Y.hasRepeatedPoints(a)?new w(a,!1).toCoordinateArray():a},Y.reverse=function(a){for(var b,c=a.length-1,d=Math.trunc(c/2),e=0;e<=d;e++)b=a[e],a[e]=a[c-e],a[c-e]=b},Y.removeNull=function(a){for(var b=0,c=0;c<a.length;c++)null!==a[c]&&b++;var d=Array(b).fill(null);if(0===b)return d;for(var e=0,c=0;c<a.length;c++)null!==a[c]&&(d[e++]=a[c]);return d},Y.copyDeep=function(){if(1===arguments.length){for(var b=arguments[0],c=Array(b.length).fill(null),d=0;d<b.length;d++)c[d]=new fa(b[d]);return c}if(5===arguments.length)for(var e=arguments[0],f=arguments[1],g=arguments[2],h=arguments[3],j=arguments[4],d=0;d<j;d++)g[h+d]=new fa(e[f+d])},Y.isEqualReversed=function(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=b[a.length-c-1];if(0!==d.compareTo(e))return!1}return!0},Y.envelope=function(a){for(var b=new y,c=0;c<a.length;c++)b.expandToInclude(a[c]);return b},Y.toCoordinateArray=function(a){return a.toArray(Y.coordArrayType)},Y.atLeastNCoordinatesOrNothing=function(a,b){return b.length>=a?b:[]},Y.indexOf=function(a,b){for(var c=0;c<b.length;c++)if(a.equals(b[c]))return c;return-1},Y.increasingDirection=function(a){for(var b=0;b<Math.trunc(a.length/2);b++){var c=a.length-1-b,d=a[b].compareTo(a[c]);if(0!==d)return d}return 1},Y.compare=function(a,b){for(var c,d=0;d<a.length&&d<b.length;){if(c=a[d].compareTo(b[d]),0!==c)return c;d++}return d<b.length?-1:d<a.length?1:0},Y.minCoordinate=function(a){for(var b=null,c=0;c<a.length;c++)(null===b||0<b.compareTo(a[c]))&&(b=a[c]);return b},Y.extract=function(a,b,c){b=M.clamp(b,0,a.length),c=M.clamp(c,-1,a.length);var d=c-b+1;0>c&&(d=0),b>=a.length&&(d=0),c<b&&(d=0);var e=Array(d).fill(null);if(0===d)return e;for(var f=0,g=b;g<=c;g++)e[f++]=a[g];return e},t(U.prototype,{compare:function(a,b){return Y.compare(a,b)},interfaces_:function(){return[o]},getClass:function(){return U}}),t(W.prototype,{compare:function(a,b){var c=a,d=b;if(c.length<d.length)return-1;if(c.length>d.length)return 1;if(0===c.length)return 0;var e=Y.compare(c,d);return Y.isEqualReversed(c,d)?0:e},OLDcompare:function(b,c){var d=b,e=c;if(d.length<e.length)return-1;if(d.length>e.length)return 1;if(0===d.length)return 0;for(var f,g=Y.increasingDirection(d),h=Y.increasingDirection(e),j=0<g?0:d.length-1,k=0<h?0:d.length-1,a=0;a<d.length;a++){if(f=d[j].compareTo(e[k]),0!==f)return f;j+=g,k+=h}return 0},interfaces_:function(){return[o]},getClass:function(){return W}}),Y.ForwardComparator=U,Y.BidirectionalComparator=W,Y.coordArrayType=[].fill(null),H.prototype.get=function(){},H.prototype.put=function(){},H.prototype.size=function(){},H.prototype.values=function(){},H.prototype.entrySet=function(){},J.prototype=new H,Z.prototype=new ga,Z.prototype.contains=function(){},K.prototype=new Z,K.prototype.contains=function(a){for(var b=0,c=this.array_.length;b<c;b++)if(this.array_[b]===a)return!0;return!1},K.prototype.add=function(a){return!this.contains(a)&&(this.array_.push(a),!0)},K.prototype.addAll=function(a){for(var b=a.iterator();b.hasNext();)this.add(b.next());return!0},K.prototype.remove=function(){throw new javascript.util.OperationNotSupported},K.prototype.size=function(){return this.array_.length},K.prototype.isEmpty=function(){return 0===this.array_.length},K.prototype.toArray=function(){for(var a=[],b=0,c=this.array_.length;b<c;b++)a.push(this.array_[b]);return a},K.prototype.iterator=function(){return new cg(this)};var cg=function(a){this.hashSet_=a,this.position_=0};cg.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new h;return this.hashSet_.array_[this.position_++]},cg.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},cg.prototype.remove=function(){throw new m};var dg=0;ja.prototype=new J,ja.prototype.get=function(a){for(var b,c=this.root_;null!==c;)if(b=a.compareTo(c.key),0>b)c=c.left;else{if(!(0<b))return c.value;c=c.right}return null},ja.prototype.put=function(a,b){if(null===this.root_)return this.root_={key:a,value:b,left:null,right:null,parent:null,color:dg,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var c,d,f=this.root_;do if(c=f,0>(d=a.compareTo(f.key)))f=f.left;else{if(!(0<d)){var g=f.value;return f.value=b,g}f=f.right}while(null!==f);var h={key:a,left:null,right:null,value:b,parent:c,color:dg,getValue:function(){return this.value},getKey:function(){return this.key}};return 0>d?c.left=h:c.right=h,this.fixAfterInsertion(h),this.size_++,null},ja.prototype.fixAfterInsertion=function(a){for(a.color=1;null!=a&&a!=this.root_&&1==a.parent.color;)if($(a)==ha($($(a)))){var b=ia($($(a)));1==Q(b)?(_($(a),dg),_(b,dg),_($($(a)),1),a=$($(a))):(a==ia($(a))&&(a=$(a),this.rotateLeft(a)),_($(a),dg),_($($(a)),1),this.rotateRight($($(a))))}else{var b=ha($($(a)));1==Q(b)?(_($(a),dg),_(b,dg),_($($(a)),1),a=$($(a))):(a==ha($(a))&&(a=$(a),this.rotateRight(a)),_($(a),dg),_($($(a)),1),this.rotateLeft($($(a))))}this.root_.color=dg},ja.prototype.values=function(){var a=new x,b=this.getFirstEntry();if(null!==b)for(a.add(b.value);null!==(b=ja.successor(b));)a.add(b.value);return a},ja.prototype.entrySet=function(){var a=new K,b=this.getFirstEntry();if(null!==b)for(a.add(b);null!==(b=ja.successor(b));)a.add(b);return a},ja.prototype.rotateLeft=function(a){if(null!=a){var b=a.right;a.right=b.left,null!=b.left&&(b.left.parent=a),b.parent=a.parent,null==a.parent?this.root_=b:a.parent.left==a?a.parent.left=b:a.parent.right=b,b.left=a,a.parent=b}},ja.prototype.rotateRight=function(a){if(null!=a){var b=a.left;a.left=b.right,null!=b.right&&(b.right.parent=a),b.parent=a.parent,null==a.parent?this.root_=b:a.parent.right==a?a.parent.right=b:a.parent.left=b,b.right=a,a.parent=b}},ja.prototype.getFirstEntry=function(){var a=this.root_;if(null!=a)for(;null!=a.left;)a=a.left;return a},ja.successor=function(a){if(null===a)return null;if(null!==a.right){for(var b=a.right;null!==b.left;)b=b.left;return b}for(var b=a.parent,c=a;null!==b&&c===b.right;)c=b,b=b.parent;return b},ja.prototype.size=function(){return this.size_},t(ka.prototype,{interfaces_:function(){return[]},getClass:function(){return ka}}),la.prototype=new Z,ma.prototype=new la,ma.prototype.contains=function(a){for(var b=0,c=this.array_.length;b<c;b++)if(0===this.array_[b].compareTo(a))return!0;return!1},ma.prototype.add=function(a){if(this.contains(a))return!1;for(var b=0,c=this.array_.length;b<c;b++)if(1===this.array_[b].compareTo(a))return this.array_.splice(b,0,a),!0;return this.array_.push(a),!0},ma.prototype.addAll=function(a){for(var b=a.iterator();b.hasNext();)this.add(b.next());return!0},ma.prototype.remove=function(){throw new m},ma.prototype.size=function(){return this.array_.length},ma.prototype.isEmpty=function(){return 0===this.array_.length},ma.prototype.toArray=function(){for(var a=[],b=0,c=this.array_.length;b<c;b++)a.push(this.array_[b]);return a},ma.prototype.iterator=function(){return new eg(this)};var eg=function(a){this.treeSet_=a,this.position_=0};eg.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new h;return this.treeSet_.array_[this.position_++]},eg.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},eg.prototype.remove=function(){throw new m},na.sort=function(){var a,b,c,d,e=arguments[0];if(1===arguments.length)return d=function(a,b){return a.compareTo(b)},void e.sort(d);if(2===arguments.length)c=arguments[1],d=function(a,b){return c.compare(a,b)},e.sort(d);else{if(3===arguments.length){b=e.slice(arguments[1],arguments[2]),b.sort();var f=e.slice(0,arguments[1]).concat(b,e.slice(arguments[2],e.length));for(e.splice(0,e.length),a=0;a<f.length;a++)e.push(f[a]);return}if(4===arguments.length){for(b=e.slice(arguments[1],arguments[2]),c=arguments[3],d=function(a,b){return c.compare(a,b)},b.sort(d),f=e.slice(0,arguments[1]).concat(b,e.slice(arguments[2],e.length)),e.splice(0,e.length),a=0;a<f.length;a++)e.push(f[a])}}},na.asList=function(a){for(var b=new x,c=0,d=a.length;c<d;c++)b.add(a[c]);return b},t(oa.prototype,{interfaces_:function(){return[]},getClass:function(){return oa}}),oa.toDimensionSymbol=function(a){switch(a){case oa.FALSE:return oa.SYM_FALSE;case oa.TRUE:return oa.SYM_TRUE;case oa.DONTCARE:return oa.SYM_DONTCARE;case oa.P:return oa.SYM_P;case oa.L:return oa.SYM_L;case oa.A:return oa.SYM_A;}throw new ca("Unknown dimension value: "+a)},oa.toDimensionValue=function(a){switch(P.toUpperCase(a)){case oa.SYM_FALSE:return oa.FALSE;case oa.SYM_TRUE:return oa.TRUE;case oa.SYM_DONTCARE:return oa.DONTCARE;case oa.SYM_P:return oa.P;case oa.SYM_L:return oa.L;case oa.SYM_A:return oa.A;}throw new ca("Unknown dimension symbol: "+a)},oa.P=0,oa.L=1,oa.A=2,oa.FALSE=-1,oa.TRUE=-2,oa.DONTCARE=-3,oa.SYM_FALSE="F",oa.SYM_TRUE="T",oa.SYM_DONTCARE="*",oa.SYM_P="0",oa.SYM_L="1",oa.SYM_A="2",t(pa.prototype,{filter:function(){},interfaces_:function(){return[]},getClass:function(){return pa}}),t(qa.prototype,{filter:function(){},isDone:function(){},isGeometryChanged:function(){},interfaces_:function(){return[]},getClass:function(){return qa}}),l(ra,k),t(ra.prototype,{computeEnvelopeInternal:function(){for(var a=new y,b=0;b<this.geometries.length;b++)a.expandToInclude(this.geometries[b].getEnvelopeInternal());return a},getGeometryN:function(a){return this.geometries[a]},getSortIndex:function(){return k.SORTINDEX_GEOMETRYCOLLECTION},getCoordinates:function(){for(var a=Array(this.getNumPoints()).fill(null),b=-1,c=0;c<this.geometries.length;c++)for(var d=this.geometries[c].getCoordinates(),e=0;e<d.length;e++)b++,a[b]=d[e];return a},getArea:function(){for(var a=0,b=0;b<this.geometries.length;b++)a+=this.geometries[b].getArea();return a},equalsExact:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];if(!this.isEquivalentClass(a))return!1;var c=a;if(this.geometries.length!==c.geometries.length)return!1;for(var d=0;d<this.geometries.length;d++)if(!this.geometries[d].equalsExact(c.geometries[d],b))return!1;return!0}return k.prototype.equalsExact.apply(this,arguments)},normalize:function(){for(var a=0;a<this.geometries.length;a++)this.geometries[a].normalize();na.sort(this.geometries)},getCoordinate:function(){return this.isEmpty()?null:this.geometries[0].getCoordinate()},getBoundaryDimension:function(){for(var a=oa.FALSE,b=0;b<this.geometries.length;b++)a=Math.max(a,this.geometries[b].getBoundaryDimension());return a},getDimension:function(){for(var a=oa.FALSE,b=0;b<this.geometries.length;b++)a=Math.max(a,this.geometries[b].getDimension());return a},getLength:function(){for(var a=0,b=0;b<this.geometries.length;b++)a+=this.geometries[b].getLength();return a},getNumPoints:function(){for(var a=0,b=0;b<this.geometries.length;b++)a+=this.geometries[b].getNumPoints();return a},getNumGeometries:function(){return this.geometries.length},reverse:function(){for(var a=this.geometries.length,b=Array(a).fill(null),c=0;c<this.geometries.length;c++)b[c]=this.geometries[c].reverse();return this.getFactory().createGeometryCollection(b)},compareToSameClass:function(){if(1===arguments.length){var b=arguments[0],d=new ma(na.asList(this.geometries)),e=new ma(na.asList(b.geometries));return this.compare(d,e)}if(2===arguments.length){for(var g=arguments[0],h=arguments[1],j=g,k=this.getNumGeometries(),m=j.getNumGeometries(),a=0;a<k&&a<m;){var n=this.getGeometryN(a),l=j.getGeometryN(a),c=n.compareToSameClass(l,h);if(0!==c)return c;a++}return a<k?1:a<m?-1:0}},apply:function(){if(N(arguments[0],T))for(var a=arguments[0],b=0;b<this.geometries.length;b++)this.geometries[b].apply(a);else if(N(arguments[0],qa)){var c=arguments[0];if(0===this.geometries.length)return null;for(var b=0;b<this.geometries.length&&(this.geometries[b].apply(c),!c.isDone());b++);c.isGeometryChanged()&&this.geometryChanged()}else if(N(arguments[0],pa)){var d=arguments[0];d.filter(this);for(var b=0;b<this.geometries.length;b++)this.geometries[b].apply(d)}else if(N(arguments[0],q)){var e=arguments[0];e.filter(this);for(var b=0;b<this.geometries.length;b++)this.geometries[b].apply(e)}},getBoundary:function(){return this.checkNotGeometryCollection(this),ea.shouldNeverReachHere(),null},clone:function(){var a=k.prototype.clone.call(this);a.geometries=Array(this.geometries.length).fill(null);for(var b=0;b<this.geometries.length;b++)a.geometries[b]=this.geometries[b].clone();return a},getGeometryType:function(){return"GeometryCollection"},copy:function(){for(var a=Array(this.geometries.length).fill(null),b=0;b<a.length;b++)a[b]=this.geometries[b].copy();return new ra(a,this.factory)},isEmpty:function(){for(var a=0;a<this.geometries.length;a++)if(!this.geometries[a].isEmpty())return!1;return!0},interfaces_:function(){return[]},getClass:function(){return ra}}),ra.serialVersionUID=-0x4f07bcb1f857d800,l(sa,ra),t(sa.prototype,{getSortIndex:function(){return k.SORTINDEX_MULTILINESTRING},equalsExact:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];return!!this.isEquivalentClass(a)&&ra.prototype.equalsExact.call(this,a,b)}return ra.prototype.equalsExact.apply(this,arguments)},getBoundaryDimension:function(){return this.isClosed()?oa.FALSE:0},isClosed:function(){if(this.isEmpty())return!1;for(var a=0;a<this.geometries.length;a++)if(!this.geometries[a].isClosed())return!1;return!0},getDimension:function(){return 1},reverse:function(){for(var a=this.geometries.length,b=Array(a).fill(null),c=0;c<this.geometries.length;c++)b[a-1-c]=this.geometries[c].reverse();return this.getFactory().createMultiLineString(b)},getBoundary:function(){return new ta(this).getBoundary()},getGeometryType:function(){return"MultiLineString"},copy:function(){for(var a=Array(this.geometries.length).fill(null),b=0;b<a.length;b++)a[b]=this.geometries[b].copy();return new sa(a,this.factory)},interfaces_:function(){return[ka]},getClass:function(){return sa}}),sa.serialVersionUID=0x7155d2ab4afa8000,t(ta.prototype,{boundaryMultiLineString:function(a){if(this.geom.isEmpty())return this.getEmptyMultiPoint();var b=this.computeBoundaryCoordinates(a);return 1===b.length?this.geomFact.createPoint(b[0]):this.geomFact.createMultiPointFromCoords(b)},getBoundary:function(){return this.geom instanceof Ca?this.boundaryLineString(this.geom):this.geom instanceof sa?this.boundaryMultiLineString(this.geom):this.geom.getBoundary()},boundaryLineString:function(a){return this.geom.isEmpty()?this.getEmptyMultiPoint():a.isClosed()?this.bnRule.isInBoundary(2)?a.getStartPoint():this.geomFact.createMultiPoint():this.geomFact.createMultiPoint([a.getStartPoint(),a.getEndPoint()])},getEmptyMultiPoint:function(){return this.geomFact.createMultiPoint()},computeBoundaryCoordinates:function(b){var c=new x;this.endpointMap=new ja;for(var d,e=0;e<b.getNumGeometries();e++)d=b.getGeometryN(e),0!==d.getNumPoints()&&(this.addEndpoint(d.getCoordinateN(0)),this.addEndpoint(d.getCoordinateN(d.getNumPoints()-1)));for(var f=this.endpointMap.entrySet().iterator();f.hasNext();){var g=f.next(),h=g.getValue(),j=h.count;this.bnRule.isInBoundary(j)&&c.add(g.getKey())}return Y.toCoordinateArray(c)},addEndpoint:function(a){var b=this.endpointMap.get(a);null===b&&(b=new ua,this.endpointMap.put(a,b)),b.count++},interfaces_:function(){return[]},getClass:function(){return ta}}),ta.getBoundary=function(){if(1===arguments.length){var a=arguments[0],b=new ta(a);return b.getBoundary()}if(2===arguments.length){var c=arguments[0],d=arguments[1],b=new ta(c,d);return b.getBoundary()}},t(ua.prototype,{interfaces_:function(){return[]},getClass:function(){return ua}}),t(Aa.prototype,{interfaces_:function(){return[]},getClass:function(){return Aa}}),Aa.chars=function(a,b){for(var c=Array(b).fill(null),d=0;d<b;d++)c[d]=a;return new String(c)},Aa.getStackTrace=function(){if(1===arguments.length){var b=arguments[0],c=new xa,d=new va(c);return b.printStackTrace(d),c.toString()}if(2===arguments.length){for(var e=arguments[0],f=arguments[1],g="",h=new wa(Aa.getStackTrace(e)),j=new za(h),a=0;a<f;a++)try{g+=j.readLine()+Aa.NEWLINE}catch(a){if(!(a instanceof ya))throw a;ea.shouldNeverReachHere()}return g}},Aa.split=function(b,c){for(var d,e=c.length,f=new x,g=""+b,h=g.indexOf(c);0<=h;)d=g.substring(0,h),f.add(d),g=g.substring(h+e),h=g.indexOf(c);0<g.length&&f.add(g);for(var j=Array(f.size()).fill(null),a=0;a<j.length;a++)j[a]=f.get(a);return j},Aa.toString=function(){if(1===arguments.length){var a=arguments[0];return Aa.SIMPLE_ORDINATE_FORMAT.format(a)}},Aa.spaces=function(a){return Aa.chars(" ",a)},Aa.NEWLINE=A.getProperty("line.separator"),Aa.SIMPLE_ORDINATE_FORMAT=new function(){}("0.#"),t(Ba.prototype,{interfaces_:function(){return[]},getClass:function(){return Ba}}),Ba.copyCoord=function(a,b,c,d){for(var e=Math.min(a.getDimension(),c.getDimension()),f=0;f<e;f++)c.setOrdinate(d,f,a.getOrdinate(b,f))},Ba.isRing=function(a){var b=a.size();return 0===b||!(3>=b)&&a.getOrdinate(0,S.X)===a.getOrdinate(b-1,S.X)&&a.getOrdinate(0,S.Y)===a.getOrdinate(b-1,S.Y)},Ba.isEqual=function(b,c){var d=b.size();if(d!==c.size())return!1;for(var e=Math.min(b.getDimension(),c.getDimension()),f=0;f<d;f++)for(var g=0;g<e;g++){var h=b.getOrdinate(f,g),a=c.getOrdinate(f,g);if(!(b.getOrdinate(f,g)===c.getOrdinate(f,g)||da.isNaN(h)&&da.isNaN(a)))return!1}return!0},Ba.extend=function(a,b,c){var d=a.create(c,b.getDimension()),e=b.size();if(Ba.copy(b,0,d,0,e),0<e)for(var f=e;f<c;f++)Ba.copy(b,e-1,d,f,1);return d},Ba.reverse=function(a){for(var b=a.size()-1,c=Math.trunc(b/2),d=0;d<=c;d++)Ba.swap(a,d,b-d)},Ba.swap=function(a,b,c){if(b===c)return null;for(var d,e=0;e<a.getDimension();e++)d=a.getOrdinate(b,e),a.setOrdinate(b,e,a.getOrdinate(c,e)),a.setOrdinate(c,e,d)},Ba.copy=function(a,b,c,d,e){for(var f=0;f<e;f++)Ba.copyCoord(a,b+f,c,d+f)},Ba.toString=function(){if(1===arguments.length){var a=arguments[0],b=a.size();if(0===b)return"()";var c=a.getDimension(),d=new L;d.append("(");for(var e=0;e<b;e++){0<e&&d.append(" ");for(var f=0;f<c;f++)0<f&&d.append(","),d.append(Aa.toString(a.getOrdinate(e,f)))}return d.append(")"),d.toString()}},Ba.ensureValidRing=function(a,b){var c=b.size();return 0===c?b:3>=c?Ba.createClosedRing(a,b,4):b.getOrdinate(0,S.X)===b.getOrdinate(c-1,S.X)&&b.getOrdinate(0,S.Y)===b.getOrdinate(c-1,S.Y)?b:Ba.createClosedRing(a,b,c+1)},Ba.createClosedRing=function(a,b,c){var d=a.create(c,b.getDimension()),e=b.size();Ba.copy(b,0,d,0,e);for(var f=e;f<c;f++)Ba.copy(b,0,d,f,1);return d},l(Ca,k),t(Ca.prototype,{computeEnvelopeInternal:function(){return this.isEmpty()?new y:this.points.expandEnvelope(new y)},isRing:function(){return this.isClosed()&&this.isSimple()},getSortIndex:function(){return k.SORTINDEX_LINESTRING},getCoordinates:function(){return this.points.toCoordinateArray()},equalsExact:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];if(!this.isEquivalentClass(a))return!1;var c=a;if(this.points.size()!==c.points.size())return!1;for(var d=0;d<this.points.size();d++)if(!this.equal(this.points.getCoordinate(d),c.points.getCoordinate(d),b))return!1;return!0}return k.prototype.equalsExact.apply(this,arguments)},normalize:function(){for(var a,b=0;b<Math.trunc(this.points.size()/2);b++)if(a=this.points.size()-1-b,!this.points.getCoordinate(b).equals(this.points.getCoordinate(a)))return 0<this.points.getCoordinate(b).compareTo(this.points.getCoordinate(a))&&Ba.reverse(this.points),null},getCoordinate:function(){return this.isEmpty()?null:this.points.getCoordinate(0)},getBoundaryDimension:function(){return this.isClosed()?oa.FALSE:0},isClosed:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},getEndPoint:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},getDimension:function(){return 1},getLength:function(){return eb.computeLength(this.points)},getNumPoints:function(){return this.points.size()},reverse:function(){var a=this.points.copy();return Ba.reverse(a),this.getFactory().createLineString(a)},compareToSameClass:function(){if(1===arguments.length){for(var a,b=arguments[0],c=b,d=0,e=0;d<this.points.size()&&e<c.points.size();){if(a=this.points.getCoordinate(d).compareTo(c.points.getCoordinate(e)),0!==a)return a;d++,e++}return d<this.points.size()?1:e<c.points.size()?-1:0}if(2===arguments.length){var f=arguments[0],g=arguments[1],c=f;return g.compare(this.points,c.points)}},apply:function(){if(N(arguments[0],T))for(var a=arguments[0],b=0;b<this.points.size();b++)a.filter(this.points.getCoordinate(b));else if(N(arguments[0],qa)){var c=arguments[0];if(0===this.points.size())return null;for(var b=0;b<this.points.size()&&(c.filter(this.points,b),!c.isDone());b++);c.isGeometryChanged()&&this.geometryChanged()}else if(N(arguments[0],pa)){var d=arguments[0];d.filter(this)}else if(N(arguments[0],q)){var e=arguments[0];e.filter(this)}},getBoundary:function(){return new ta(this).getBoundary()},isEquivalentClass:function(a){return a instanceof Ca},clone:function(){var a=k.prototype.clone.call(this);return a.points=this.points.clone(),a},getCoordinateN:function(a){return this.points.getCoordinate(a)},getGeometryType:function(){return"LineString"},copy:function(){return new Ca(this.points.copy(),this.factory)},getCoordinateSequence:function(){return this.points},isEmpty:function(){return 0===this.points.size()},init:function(a){if(null===a&&(a=this.getFactory().getCoordinateSequenceFactory().create([])),1===a.size())throw new ca("Invalid number of points in LineString (found "+a.size()+" - must be 0 or >= 2)");this.points=a},isCoordinate:function(a){for(var b=0;b<this.points.size();b++)if(this.points.getCoordinate(b).equals(a))return!0;return!1},getStartPoint:function(){return this.isEmpty()?null:this.getPointN(0)},getPointN:function(a){return this.getFactory().createPoint(this.points.getCoordinate(a))},interfaces_:function(){return[ka]},getClass:function(){return Ca}}),Ca.serialVersionUID=0x2b2b51ba435c8e00,t(Da.prototype,{interfaces_:function(){return[]},getClass:function(){return Da}}),l(Ea,k),t(Ea.prototype,{computeEnvelopeInternal:function(){if(this.isEmpty())return new y;var a=new y;return a.expandToInclude(this.coordinates.getX(0),this.coordinates.getY(0)),a},getSortIndex:function(){return k.SORTINDEX_POINT},getCoordinates:function(){return this.isEmpty()?[]:[this.getCoordinate()]},equalsExact:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];return!!this.isEquivalentClass(a)&&(this.isEmpty()&&a.isEmpty()||this.isEmpty()===a.isEmpty()&&this.equal(a.getCoordinate(),this.getCoordinate(),b))}return k.prototype.equalsExact.apply(this,arguments)},normalize:function(){},getCoordinate:function(){return 0===this.coordinates.size()?null:this.coordinates.getCoordinate(0)},getBoundaryDimension:function(){return oa.FALSE},getDimension:function(){return 0},getNumPoints:function(){return this.isEmpty()?0:1},reverse:function(){return this.copy()},getX:function(){if(null===this.getCoordinate())throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x},compareToSameClass:function(){if(1===arguments.length){var a=arguments[0],b=a;return this.getCoordinate().compareTo(b.getCoordinate())}if(2===arguments.length){var c=arguments[0],d=arguments[1],b=c;return d.compare(this.coordinates,b.coordinates)}},apply:function(){if(N(arguments[0],T)){var a=arguments[0];if(this.isEmpty())return null;a.filter(this.getCoordinate())}else if(N(arguments[0],qa)){var b=arguments[0];if(this.isEmpty())return null;b.filter(this.coordinates,0),b.isGeometryChanged()&&this.geometryChanged()}else if(N(arguments[0],pa)){var c=arguments[0];c.filter(this)}else if(N(arguments[0],q)){var d=arguments[0];d.filter(this)}},getBoundary:function(){return this.getFactory().createGeometryCollection(null)},clone:function(){var a=k.prototype.clone.call(this);return a.coordinates=this.coordinates.clone(),a},getGeometryType:function(){return"Point"},copy:function(){return new Ea(this.coordinates.copy(),this.factory)},getCoordinateSequence:function(){return this.coordinates},getY:function(){if(null===this.getCoordinate())throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y},isEmpty:function(){return 0===this.coordinates.size()},init:function(a){null===a&&(a=this.getFactory().getCoordinateSequenceFactory().create([])),ea.isTrue(1>=a.size()),this.coordinates=a},isSimple:function(){return!0},interfaces_:function(){return[Da]},getClass:function(){return Ea}}),Ea.serialVersionUID=0x44077bad161cbc00,t(Fa.prototype,{interfaces_:function(){return[]},getClass:function(){return Fa}}),l(Ga,k),t(Ga.prototype,{computeEnvelopeInternal:function(){return this.shell.getEnvelopeInternal()},getSortIndex:function(){return k.SORTINDEX_POLYGON},getCoordinates:function(){if(this.isEmpty())return[];for(var a=Array(this.getNumPoints()).fill(null),b=-1,c=this.shell.getCoordinates(),d=0;d<c.length;d++)b++,a[b]=c[d];for(var e=0;e<this.holes.length;e++)for(var f=this.holes[e].getCoordinates(),g=0;g<f.length;g++)b++,a[b]=f[g];return a},getArea:function(){var a=0;a+=Math.abs(eb.signedArea(this.shell.getCoordinateSequence()));for(var b=0;b<this.holes.length;b++)a-=Math.abs(eb.signedArea(this.holes[b].getCoordinateSequence()));return a},isRectangle:function(){if(0!==this.getNumInteriorRing())return!1;if(null===this.shell)return!1;if(5!==this.shell.getNumPoints())return!1;for(var a,b=this.shell.getCoordinateSequence(),c=this.getEnvelopeInternal(),d=0;5>d;d++){if(a=b.getX(d),a!==c.getMinX()&&a!==c.getMaxX())return!1;var e=b.getY(d);if(e!==c.getMinY()&&e!==c.getMaxY())return!1}for(var f=b.getX(0),g=b.getY(0),d=1;4>=d;d++){var a=b.getX(d),e=b.getY(d);if(a!==f===(e!==g))return!1;f=a,g=e}return!0},equalsExact:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];if(!this.isEquivalentClass(a))return!1;var c=a,d=this.shell,e=c.shell;if(!d.equalsExact(e,b))return!1;if(this.holes.length!==c.holes.length)return!1;for(var f=0;f<this.holes.length;f++)if(!this.holes[f].equalsExact(c.holes[f],b))return!1;return!0}return k.prototype.equalsExact.apply(this,arguments)},normalize:function(){if(0===arguments.length){this.normalize(this.shell,!0);for(var a=0;a<this.holes.length;a++)this.normalize(this.holes[a],!1);na.sort(this.holes)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];if(b.isEmpty())return null;var d=Array(b.getCoordinates().length-1).fill(null);A.arraycopy(b.getCoordinates(),0,d,0,d.length);var e=Y.minCoordinate(b.getCoordinates());Y.scroll(d,e),A.arraycopy(d,0,b.getCoordinates(),0,d.length),b.getCoordinates()[d.length]=d[0],eb.isCCW(b.getCoordinates())===c&&Y.reverse(b.getCoordinates())}},getCoordinate:function(){return this.shell.getCoordinate()},getNumInteriorRing:function(){return this.holes.length},getBoundaryDimension:function(){return 1},getDimension:function(){return 2},getLength:function(){var a=0;a+=this.shell.getLength();for(var b=0;b<this.holes.length;b++)a+=this.holes[b].getLength();return a},getNumPoints:function(){for(var a=this.shell.getNumPoints(),b=0;b<this.holes.length;b++)a+=this.holes[b].getNumPoints();return a},reverse:function(){var a=this.copy();a.shell=this.shell.copy().reverse(),a.holes=Array(this.holes.length).fill(null);for(var b=0;b<this.holes.length;b++)a.holes[b]=this.holes[b].copy().reverse();return a},convexHull:function(){return this.getExteriorRing().convexHull()},compareToSameClass:function(){if(1===arguments.length){var b=arguments[0],d=this.shell,e=b.shell;return d.compareToSameClass(e)}if(2===arguments.length){var g=arguments[0],j=arguments[1],k=g,d=this.shell,e=k.shell,m=d.compareToSameClass(e,j);if(0!==m)return m;for(var n=this.getNumInteriorRing(),a=k.getNumInteriorRing(),o=0;o<n&&o<a;){var l=this.getInteriorRingN(o),c=k.getInteriorRingN(o),f=l.compareToSameClass(c,j);if(0!==f)return f;o++}return o<n?1:o<a?-1:0}},apply:function(){if(N(arguments[0],T)){var a=arguments[0];this.shell.apply(a);for(var b=0;b<this.holes.length;b++)this.holes[b].apply(a)}else if(N(arguments[0],qa)){var c=arguments[0];if(this.shell.apply(c),!c.isDone())for(var b=0;b<this.holes.length&&(this.holes[b].apply(c),!c.isDone());b++);c.isGeometryChanged()&&this.geometryChanged()}else if(N(arguments[0],pa)){var d=arguments[0];d.filter(this)}else if(N(arguments[0],q)){var e=arguments[0];e.filter(this),this.shell.apply(e);for(var b=0;b<this.holes.length;b++)this.holes[b].apply(e)}},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var a=Array(this.holes.length+1).fill(null);a[0]=this.shell;for(var b=0;b<this.holes.length;b++)a[b+1]=this.holes[b];return 1>=a.length?this.getFactory().createLinearRing(a[0].getCoordinateSequence()):this.getFactory().createMultiLineString(a)},clone:function(){var a=k.prototype.clone.call(this);a.shell=this.shell.clone(),a.holes=Array(this.holes.length).fill(null);for(var b=0;b<this.holes.length;b++)a.holes[b]=this.holes[b].clone();return a},getGeometryType:function(){return"Polygon"},copy:function(){for(var a=this.shell.copy(),b=Array(this.holes.length).fill(null),c=0;c<b.length;c++)b[c]=this.holes[c].copy();return new Ga(a,b,this.factory)},getExteriorRing:function(){return this.shell},isEmpty:function(){return this.shell.isEmpty()},getInteriorRingN:function(a){return this.holes[a]},interfaces_:function(){return[Fa]},getClass:function(){return Ga}}),Ga.serialVersionUID=-0x307ffefd8dc97200,l(Ha,ra),t(Ha.prototype,{getSortIndex:function(){return k.SORTINDEX_MULTIPOINT},isValid:function(){return!0},equalsExact:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];return!!this.isEquivalentClass(a)&&ra.prototype.equalsExact.call(this,a,b)}return ra.prototype.equalsExact.apply(this,arguments)},getCoordinate:function(){if(1===arguments.length){var a=arguments[0];return this.geometries[a].getCoordinate()}return ra.prototype.getCoordinate.apply(this,arguments)},getBoundaryDimension:function(){return oa.FALSE},getDimension:function(){return 0},getBoundary:function(){return this.getFactory().createGeometryCollection(null)},getGeometryType:function(){return"MultiPoint"},copy:function(){for(var a=Array(this.geometries.length).fill(null),b=0;b<a.length;b++)a[b]=this.geometries[b].copy();return new Ha(a,this.factory)},interfaces_:function(){return[Da]},getClass:function(){return Ha}}),Ha.serialVersionUID=-0x6fb1ed4162e0fc00,l(Ia,Ca),t(Ia.prototype,{getSortIndex:function(){return k.SORTINDEX_LINEARRING},getBoundaryDimension:function(){return oa.FALSE},isClosed:function(){return!!this.isEmpty()||Ca.prototype.isClosed.call(this)},reverse:function(){var a=this.points.copy();return Ba.reverse(a),this.getFactory().createLinearRing(a)},validateConstruction:function(){if(!this.isEmpty()&&!Ca.prototype.isClosed.call(this))throw new ca("Points of LinearRing do not form a closed linestring");if(1<=this.getCoordinateSequence().size()&&this.getCoordinateSequence().size()<Ia.MINIMUM_VALID_SIZE)throw new ca("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},getGeometryType:function(){return"LinearRing"},copy:function(){return new Ia(this.points.copy(),this.factory)},interfaces_:function(){return[]},getClass:function(){return Ia}}),Ia.MINIMUM_VALID_SIZE=4,Ia.serialVersionUID=-0x3b229e262367a600,l(Ja,ra),t(Ja.prototype,{getSortIndex:function(){return k.SORTINDEX_MULTIPOLYGON},equalsExact:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];return!!this.isEquivalentClass(a)&&ra.prototype.equalsExact.call(this,a,b)}return ra.prototype.equalsExact.apply(this,arguments)},getBoundaryDimension:function(){return 1},getDimension:function(){return 2},reverse:function(){for(var a=this.geometries.length,b=Array(a).fill(null),c=0;c<this.geometries.length;c++)b[c]=this.geometries[c].reverse();return this.getFactory().createMultiPolygon(b)},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var a=new x,b=0;b<this.geometries.length;b++)for(var c=this.geometries[b],d=c.getBoundary(),e=0;e<d.getNumGeometries();e++)a.add(d.getGeometryN(e));var f=Array(a.size()).fill(null);return this.getFactory().createMultiLineString(a.toArray(f))},getGeometryType:function(){return"MultiPolygon"},copy:function(){for(var a=Array(this.geometries.length).fill(null),b=0;b<a.length;b++)a[b]=this.geometries[b].copy();return new Ja(a,this.factory)},interfaces_:function(){return[Fa]},getClass:function(){return Ja}}),Ja.serialVersionUID=-0x7a5aa1369171980,t(Ka.prototype,{setCopyUserData:function(a){this.isUserDataCopied=a},edit:function(a,b){if(null===a)return null;var c=this.editInternal(a,b);return this.isUserDataCopied&&c.setUserData(a.getUserData()),c},editInternal:function(a,b){return null===this.factory&&(this.factory=a.getFactory()),a instanceof ra?this.editGeometryCollection(a,b):a instanceof Ga?this.editPolygon(a,b):a instanceof Ea?b.edit(a,this.factory):a instanceof Ca?b.edit(a,this.factory):(ea.shouldNeverReachHere("Unsupported Geometry class: "+a.getClass().getName()),null)},editGeometryCollection:function(a,b){for(var c,d=b.edit(a,this.factory),e=new x,f=0;f<d.getNumGeometries();f++)c=this.edit(d.getGeometryN(f),b),null===c||c.isEmpty()||e.add(c);return d.getClass()===Ha?this.factory.createMultiPoint(e.toArray([])):d.getClass()===sa?this.factory.createMultiLineString(e.toArray([])):d.getClass()===Ja?this.factory.createMultiPolygon(e.toArray([])):this.factory.createGeometryCollection(e.toArray([]))},editPolygon:function(a,b){var c=b.edit(a,this.factory);if(null===c&&(c=this.factory.createPolygon(null)),c.isEmpty())return c;var d=this.edit(c.getExteriorRing(),b);if(null===d||d.isEmpty())return this.factory.createPolygon();for(var e,f=new x,g=0;g<c.getNumInteriorRing();g++)e=this.edit(c.getInteriorRingN(g),b),null===e||e.isEmpty()||f.add(e);return this.factory.createPolygon(d,f.toArray([]))},interfaces_:function(){return[]},getClass:function(){return Ka}}),Ka.GeometryEditorOperation=La,t(Ma.prototype,{edit:function(a){return a},interfaces_:function(){return[La]},getClass:function(){return Ma}}),t(Na.prototype,{edit:function(a,b){var c=this.editCoordinates(a.getCoordinates(),a);return null===c?a:a instanceof Ia?b.createLinearRing(c):a instanceof Ca?b.createLineString(c):a instanceof Ea?0<c.length?b.createPoint(c[0]):b.createPoint():a},interfaces_:function(){return[La]},getClass:function(){return Na}}),t(Oa.prototype,{edit:function(a,b){return a instanceof Ia?b.createLinearRing(this.edit(a.getCoordinateSequence(),a)):a instanceof Ca?b.createLineString(this.edit(a.getCoordinateSequence(),a)):a instanceof Ea?b.createPoint(this.edit(a.getCoordinateSequence(),a)):a},interfaces_:function(){return[La]},getClass:function(){return Oa}}),Ka.NoOpGeometryOperation=Ma,Ka.CoordinateOperation=Na,Ka.CoordinateSequenceOperation=Oa,t(Pa.prototype,{setOrdinate:function(a,b,c){switch(b){case S.X:this.coordinates[a].x=c;break;case S.Y:this.coordinates[a].y=c;break;case S.Z:this.coordinates[a].z=c;break;default:throw new ca("invalid ordinateIndex");}},size:function(){return this.coordinates.length},getOrdinate:function(a,b){return b===S.X?this.coordinates[a].x:b===S.Y?this.coordinates[a].y:b===S.Z?this.coordinates[a].z:da.NaN},getCoordinate:function(){if(1===arguments.length){var a=arguments[0];return this.coordinates[a]}if(2===arguments.length){var b=arguments[0],c=arguments[1];c.x=this.coordinates[b].x,c.y=this.coordinates[b].y,c.z=this.coordinates[b].z}},getCoordinateCopy:function(a){return new fa(this.coordinates[a])},getDimension:function(){return this.dimension},getX:function(a){return this.coordinates[a].x},clone:function(){for(var a=Array(this.size()).fill(null),b=0;b<this.coordinates.length;b++)a[b]=this.coordinates[b].clone();return new Pa(a,this.dimension)},expandEnvelope:function(a){for(var b=0;b<this.coordinates.length;b++)a.expandToInclude(this.coordinates[b]);return a},copy:function(){for(var a=Array(this.size()).fill(null),b=0;b<this.coordinates.length;b++)a[b]=this.coordinates[b].copy();return new Pa(a,this.dimension)},toString:function(){if(0<this.coordinates.length){var a=new L(17*this.coordinates.length);a.append("("),a.append(this.coordinates[0]);for(var b=1;b<this.coordinates.length;b++)a.append(", "),a.append(this.coordinates[b]);return a.append(")"),a.toString()}return"()"},getY:function(a){return this.coordinates[a].y},toCoordinateArray:function(){return this.coordinates},interfaces_:function(){return[S,a]},getClass:function(){return Pa}}),Pa.serialVersionUID=-0xcb44a778db18e00,t(Qa.prototype,{readResolve:function(){return Qa.instance()},create:function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new Pa(arguments[0]);if(N(arguments[0],S))return new Pa(arguments[0])}else if(2===arguments.length){var a=arguments[0],b=arguments[1];return 3<b&&(b=3),2>b?new Pa(a):new Pa(a,b)}},interfaces_:function(){return[F,a]},getClass:function(){return Qa}}),Qa.instance=function(){return Qa.instanceObject},Qa.serialVersionUID=-0x38e49fa6cf6f2e00,Qa.instanceObject=new Qa;var fg,gg=Object.defineProperty,hg=function(a,b){function c(a){return this&&this.constructor===c?(this._keys=[],this._values=[],this._itp=[],this.objectOnly=b,void(a&&Sa.call(this,a))):new c(a)}return b||gg(a,"size",{get:Va}),a.constructor=c,c.prototype=a,c}({delete:function(a){return this.has(a)&&(this._keys.splice(fg,1),this._values.splice(fg,1),this._itp.forEach(function(a){fg<a[0]&&a[0]--})),-1<fg},has:function(a){return Ta.call(this,this._keys,a)},get:function(a){return this.has(a)?this._values[fg]:void 0},set:function(a,b){return this.has(a)?this._values[fg]=b:this._values[this._keys.push(a)-1]=b,this},keys:function(){return Ua(this._itp,this._keys)},values:function(){return Ua(this._itp,this._values)},entries:function(){return Ua(this._itp,this._keys,this._values)},forEach:function(a,b){for(var c,d=this.entries();;){if(c=d.next(),c.done)break;a.call(b,c.value[1],c.value[0],this)}},clear:function(){(this._keys||0).length=this._values.length=0}}),ig="undefined"!=typeof Map&&Map.prototype.values?Map:hg;Wa.prototype=new H,Wa.prototype.get=function(a){return this.map_.get(a)||null},Wa.prototype.put=function(a,b){return this.map_.set(a,b),b},Wa.prototype.values=function(){for(var a=new x,b=this.map_.values(),c=b.next();!c.done;)a.add(c.value),c=b.next();return a},Wa.prototype.entrySet=function(){var a=new K;return this.map_.entries().forEach(function(b){return a.add(b)}),a},Wa.prototype.size=function(){return this.map_.size()},t(Xa.prototype,{equals:function(a){if(!(a instanceof Xa))return!1;var b=a;return this.modelType===b.modelType&&this.scale===b.scale},compareTo:function(a){var b=this.getMaximumSignificantDigits(),c=a.getMaximumSignificantDigits();return new s(b).compareTo(new s(c))},getScale:function(){return this.scale},isFloating:function(){return this.modelType===Xa.FLOATING||this.modelType===Xa.FLOATING_SINGLE},getType:function(){return this.modelType},toString:function(){var a="UNKNOWN";return this.modelType===Xa.FLOATING?a="Floating":this.modelType===Xa.FLOATING_SINGLE?a="Floating-Single":this.modelType===Xa.FIXED&&(a="Fixed (Scale="+this.getScale()+")"),a},makePrecise:function(){if("number"==typeof arguments[0]){var a=arguments[0];return da.isNaN(a)?a:this.modelType===Xa.FLOATING_SINGLE?a:this.modelType===Xa.FIXED?Math.round(a*this.scale)/this.scale:a}if(arguments[0]instanceof fa){var b=arguments[0];if(this.modelType===Xa.FLOATING)return null;b.x=this.makePrecise(b.x),b.y=this.makePrecise(b.y)}},getMaximumSignificantDigits:function(){var a=16;return this.modelType===Xa.FLOATING?a=16:this.modelType===Xa.FLOATING_SINGLE?a=6:this.modelType===Xa.FIXED&&(a=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),a},setScale:function(a){this.scale=Math.abs(a)},interfaces_:function(){return[a,e]},getClass:function(){return Xa}}),Xa.mostPrecise=function(a,b){return 0<=a.compareTo(b)?a:b},t(Ya.prototype,{readResolve:function(){return Ya.nameToTypeMap.get(this.name)},toString:function(){return this.name},interfaces_:function(){return[a]},getClass:function(){return Ya}}),Ya.serialVersionUID=-552860263173159e4,Ya.nameToTypeMap=new Wa,Xa.Type=Ya,Xa.serialVersionUID=0x6bee6404e9a25c00,Xa.FIXED=new Ya("FIXED"),Xa.FLOATING=new Ya("FLOATING"),Xa.FLOATING_SINGLE=new Ya("FLOATING SINGLE"),Xa.maximumPreciseValue=9007199254740992,t(Za.prototype,{toGeometry:function(a){return a.isNull()?this.createPoint(null):a.getMinX()===a.getMaxX()&&a.getMinY()===a.getMaxY()?this.createPoint(new fa(a.getMinX(),a.getMinY())):a.getMinX()===a.getMaxX()||a.getMinY()===a.getMaxY()?this.createLineString([new fa(a.getMinX(),a.getMinY()),new fa(a.getMaxX(),a.getMaxY())]):this.createPolygon(this.createLinearRing([new fa(a.getMinX(),a.getMinY()),new fa(a.getMinX(),a.getMaxY()),new fa(a.getMaxX(),a.getMaxY()),new fa(a.getMaxX(),a.getMinY()),new fa(a.getMinX(),a.getMinY())]),null)},createLineString:function(){if(0===arguments.length)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var a=arguments[0];return this.createLineString(null===a?null:this.getCoordinateSequenceFactory().create(a))}if(N(arguments[0],S))return new Ca(arguments[0],this)}},createMultiLineString:function(){return 0===arguments.length?new sa(null,this):1===arguments.length?new sa(arguments[0],this):void 0},buildGeometry:function(b){for(var c=null,d=!1,e=!1,f=b.iterator();f.hasNext();){var g=f.next(),h=g.getClass();null===c&&(c=h),h!==c&&(d=!0),g.isGeometryCollectionOrDerived()&&(e=!0)}if(null===c)return this.createGeometryCollection();if(d||e)return this.createGeometryCollection(Za.toGeometryArray(b));var j=b.iterator().next();if(1<b.size()){if(j instanceof Ga)return this.createMultiPolygon(Za.toPolygonArray(b));if(j instanceof Ca)return this.createMultiLineString(Za.toLineStringArray(b));if(j instanceof Ea)return this.createMultiPoint(Za.toPointArray(b));ea.shouldNeverReachHere("Unhandled class: "+j.getClass().getName())}return j},createMultiPointFromCoords:function(a){return this.createMultiPoint(null===a?null:this.getCoordinateSequenceFactory().create(a))},createPoint:function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof fa){var a=arguments[0];return this.createPoint(null===a?null:this.getCoordinateSequenceFactory().create([a]))}if(N(arguments[0],S))return new Ea(arguments[0],this)}},getCoordinateSequenceFactory:function(){return this.coordinateSequenceFactory},createPolygon:function(){if(0===arguments.length)return new Ga(null,null,this);if(1===arguments.length){if(N(arguments[0],S)){var a=arguments[0];return this.createPolygon(this.createLinearRing(a))}if(arguments[0]instanceof Array){var b=arguments[0];return this.createPolygon(this.createLinearRing(b))}if(arguments[0]instanceof Ia){var c=arguments[0];return this.createPolygon(c,null)}}else if(2===arguments.length){var d=arguments[0],e=arguments[1];return new Ga(d,e,this)}},getSRID:function(){return this.SRID},createGeometryCollection:function(){return 0===arguments.length?new ra(null,this):1===arguments.length?new ra(arguments[0],this):void 0},createGeometry:function(a){return new Ka(this).edit(a,{edit:function(){if(2===arguments.length){var a=arguments[0];return arguments[1],this.coordinateSequenceFactory.create(a)}}})},getPrecisionModel:function(){return this.precisionModel},createLinearRing:function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var a=arguments[0];return this.createLinearRing(null===a?null:this.getCoordinateSequenceFactory().create(a))}if(N(arguments[0],S))return new Ia(arguments[0],this)}},createMultiPolygon:function(){return 0===arguments.length?new Ja(null,this):1===arguments.length?new Ja(arguments[0],this):void 0},createMultiPoint:function(){if(0===arguments.length)return new Ha(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new Ha(arguments[0],this);if(arguments[0]instanceof Array){var a=arguments[0];return this.createMultiPoint(null===a?null:this.getCoordinateSequenceFactory().create(a))}if(N(arguments[0],S)){var b=arguments[0];if(null===b)return this.createMultiPoint([].fill(null));for(var c,d=Array(b.size()).fill(null),e=0;e<b.size();e++)c=this.getCoordinateSequenceFactory().create(1,b.getDimension()),Ba.copy(b,e,c,0,1),d[e]=this.createPoint(c);return this.createMultiPoint(d)}}},interfaces_:function(){return[a]},getClass:function(){return Za}}),Za.toMultiPolygonArray=function(a){var b=Array(a.size()).fill(null);return a.toArray(b)},Za.toGeometryArray=function(a){if(null===a)return null;var b=Array(a.size()).fill(null);return a.toArray(b)},Za.getDefaultCoordinateSequenceFactory=function(){return Qa.instance()},Za.toMultiLineStringArray=function(a){var b=Array(a.size()).fill(null);return a.toArray(b)},Za.toLineStringArray=function(a){var b=Array(a.size()).fill(null);return a.toArray(b)},Za.toMultiPointArray=function(a){var b=Array(a.size()).fill(null);return a.toArray(b)},Za.toLinearRingArray=function(a){var b=Array(a.size()).fill(null);return a.toArray(b)},Za.toPointArray=function(a){var b=Array(a.size()).fill(null);return a.toArray(b)},Za.toPolygonArray=function(a){var b=Array(a.size()).fill(null);return a.toArray(b)},Za.createPointFromInternalCoord=function(a,b){return b.getPrecisionModel().makePrecise(a),b.getFactory().createPoint(a)},Za.serialVersionUID=-0x5ea75f2051eeb400;var jg={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/};t($a.prototype,{read:function(a){var b,c,d;a=a.replace(/[\n\r]/g," ");var e=jg.typeStr.exec(a);if(-1!==a.search("EMPTY")&&(e=jg.emptyTypeStr.exec(a),e[2]=void 0),e&&(c=e[1].toLowerCase(),d=e[2],lg[c]&&(b=lg[c].apply(this,[d]))),void 0===b)throw new Error("Could not parse WKT "+a);return b},write:function(a){return this.extractGeometry(a)},extractGeometry:function(a){var b=a.getGeometryType().toLowerCase();if(!kg[b])return null;var c=b.toUpperCase();return a.isEmpty()?c+" EMPTY":c+"("+kg[b].apply(this,[a])+")"}});var kg={coordinate:function(a){return a.x+" "+a.y},point:function(a){return kg.coordinate.call(this,a.coordinates.coordinates[0])},multipoint:function(a){for(var b=[],c=0,d=a.geometries.length;c<d;++c)b.push("("+kg.point.apply(this,[a.geometries[c]])+")");return b.join(",")},linestring:function(a){for(var b=[],c=0,d=a.points.coordinates.length;c<d;++c)b.push(kg.coordinate.apply(this,[a.points.coordinates[c]]));return b.join(",")},linearring:function(a){for(var b=[],c=0,d=a.points.coordinates.length;c<d;++c)b.push(kg.coordinate.apply(this,[a.points.coordinates[c]]));return b.join(",")},multilinestring:function(a){for(var b=[],c=0,d=a.geometries.length;c<d;++c)b.push("("+kg.linestring.apply(this,[a.geometries[c]])+")");return b.join(",")},polygon:function(a){for(var b=["("+kg.linestring.apply(this,[a.shell])+")"],c=0,d=a.holes.length;c<d;++c)b.push("("+kg.linestring.apply(this,[a.holes[c]])+")");return b.join(",")},multipolygon:function(a){for(var b=[],c=0,d=a.geometries.length;c<d;++c)b.push("("+kg.polygon.apply(this,[a.geometries[c]])+")");return b.join(",")},geometrycollection:function(a){for(var b=[],c=0,d=a.geometries.length;c<d;++c)b.push(this.extractGeometry(a.geometries[c]));return b.join(",")}},lg={point:function(a){if(void 0===a)return this.geometryFactory.createPoint();var b=a.trim().split(jg.spaces);return this.geometryFactory.createPoint(new fa(Number.parseFloat(b[0]),Number.parseFloat(b[1])))},multipoint:function(a){if(void 0===a)return this.geometryFactory.createMultiPoint();for(var b,c=a.trim().split(","),d=[],e=0,f=c.length;e<f;++e)b=c[e].replace(jg.trimParens,"$1"),d.push(lg.point.apply(this,[b]));return this.geometryFactory.createMultiPoint(d)},linestring:function(a){if(void 0===a)return this.geometryFactory.createLineString();for(var b,c=a.trim().split(","),d=[],e=0,f=c.length;e<f;++e)b=c[e].trim().split(jg.spaces),d.push(new fa(Number.parseFloat(b[0]),Number.parseFloat(b[1])));return this.geometryFactory.createLineString(d)},linearring:function(a){if(void 0===a)return this.geometryFactory.createLinearRing();for(var b,c=a.trim().split(","),d=[],e=0,f=c.length;e<f;++e)b=c[e].trim().split(jg.spaces),d.push(new fa(Number.parseFloat(b[0]),Number.parseFloat(b[1])));return this.geometryFactory.createLinearRing(d)},multilinestring:function(a){if(void 0===a)return this.geometryFactory.createMultiLineString();for(var b,c=a.trim().split(jg.parenComma),d=[],e=0,f=c.length;e<f;++e)b=c[e].replace(jg.trimParens,"$1"),d.push(lg.linestring.apply(this,[b]));return this.geometryFactory.createMultiLineString(d)},polygon:function(b){if(void 0===b)return this.geometryFactory.createPolygon();for(var c,d,e,f,g=b.trim().split(jg.parenComma),h=[],j=0,a=g.length;j<a;++j)c=g[j].replace(jg.trimParens,"$1"),d=lg.linestring.apply(this,[c]),e=this.geometryFactory.createLinearRing(d.points),0===j?f=e:h.push(e);return this.geometryFactory.createPolygon(f,h)},multipolygon:function(a){if(void 0===a)return this.geometryFactory.createMultiPolygon();for(var b,c=a.trim().split(jg.doubleParenComma),d=[],e=0,f=c.length;e<f;++e)b=c[e].replace(jg.trimParens,"$1"),d.push(lg.polygon.apply(this,[b]));return this.geometryFactory.createMultiPolygon(d)},geometrycollection:function(a){if(void 0===a)return this.geometryFactory.createGeometryCollection();a=a.replace(/,\s*([A-Za-z])/g,"|$1");for(var b=a.trim().split("|"),c=[],d=0,e=b.length;d<e;++d)c.push(this.read(b[d]));return this.geometryFactory.createGeometryCollection(c)}};t(_a.prototype,{write:function(a){return this.parser.write(a)}}),t(_a,{toLineString:function(a,b){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+a.x+" "+a.y+", "+b.x+" "+b.y+" )"}}),t(ab.prototype,{getIndexAlongSegment:function(a,b){return this.computeIntLineIndex(),this.intLineIndex[a][b]},getTopologySummary:function(){var a=new L;return this.isEndPoint()&&a.append(" endpoint"),this._isProper&&a.append(" proper"),this.isCollinear()&&a.append(" collinear"),a.toString()},computeIntersection:function(a,b,c,d){this.inputLines[0][0]=a,this.inputLines[0][1]=b,this.inputLines[1][0]=c,this.inputLines[1][1]=d,this.result=this.computeIntersect(a,b,c,d)},getIntersectionNum:function(){return this.result},computeIntLineIndex:function(){if(0===arguments.length)null===this.intLineIndex&&(this.intLineIndex=[,,].fill().map(function(){return[,,]}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var a=arguments[0],b=this.getEdgeDistance(a,0),c=this.getEdgeDistance(a,1);b>c?(this.intLineIndex[a][0]=0,this.intLineIndex[a][1]=1):(this.intLineIndex[a][0]=1,this.intLineIndex[a][1]=0)}},isProper:function(){return this.hasIntersection()&&this._isProper},setPrecisionModel:function(a){this.precisionModel=a},isInteriorIntersection:function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var a=arguments[0],b=0;b<this.result;b++)if(!this.intPt[b].equals2D(this.inputLines[a][0])&&!this.intPt[b].equals2D(this.inputLines[a][1]))return!0;return!1}},getIntersection:function(a){return this.intPt[a]},isEndPoint:function(){return this.hasIntersection()&&!this._isProper},hasIntersection:function(){return this.result!==ab.NO_INTERSECTION},getEdgeDistance:function(a,b){return ab.computeEdgeDistance(this.intPt[b],this.inputLines[a][0],this.inputLines[a][1])},isCollinear:function(){return this.result===ab.COLLINEAR_INTERSECTION},toString:function(){return _a.toLineString(this.inputLines[0][0],this.inputLines[0][1])+" - "+_a.toLineString(this.inputLines[1][0],this.inputLines[1][1])+this.getTopologySummary()},getEndpoint:function(a,b){return this.inputLines[a][b]},isIntersection:function(a){for(var b=0;b<this.result;b++)if(this.intPt[b].equals2D(a))return!0;return!1},getIntersectionAlongSegment:function(a,b){return this.computeIntLineIndex(),this.intPt[this.intLineIndex[a][b]]},interfaces_:function(){return[]},getClass:function(){return ab}}),ab.computeEdgeDistance=function(b,c,d){var e=Math.abs(d.x-c.x),f=Math.abs(d.y-c.y),g=-1;if(b.equals(c))g=0;else if(b.equals(d))g=e>f?e:f;else{var h=Math.abs(b.x-c.x),j=Math.abs(b.y-c.y);0!==(g=e>f?h:j)||b.equals(c)||(g=Math.max(h,j))}return ea.isTrue(0!==g||b.equals(c),"Bad distance calculation"),g},ab.nonRobustComputeEdgeDistance=function(a,b){var c=a.x-b.x,d=a.y-b.y,e=Math.sqrt(c*c+d*d);return ea.isTrue(0!==e||a.equals(b),"Invalid distance calculation"),e},ab.DONT_INTERSECT=0,ab.DO_INTERSECT=1,ab.COLLINEAR=2,ab.NO_INTERSECTION=0,ab.POINT_INTERSECTION=1,ab.COLLINEAR_INTERSECTION=2,l(bb,ab),t(bb.prototype,{isInSegmentEnvelopes:function(a){var b=new y(this.inputLines[0][0],this.inputLines[0][1]),c=new y(this.inputLines[1][0],this.inputLines[1][1]);return b.contains(a)&&c.contains(a)},computeIntersection:function(){if(3!==arguments.length)return ab.prototype.computeIntersection.apply(this,arguments);var a=arguments[0],b=arguments[1],c=arguments[2];return this._isProper=!1,y.intersects(b,c,a)&&0===eb.orientationIndex(b,c,a)&&0===eb.orientationIndex(c,b,a)?(this._isProper=!0,(a.equals(b)||a.equals(c))&&(this._isProper=!1),this.result=ab.POINT_INTERSECTION,null):void(this.result=ab.NO_INTERSECTION)},normalizeToMinimum:function(a,b,c,d,e){e.x=this.smallestInAbsValue(a.x,b.x,c.x,d.x),e.y=this.smallestInAbsValue(a.y,b.y,c.y,d.y),a.x-=e.x,a.y-=e.y,b.x-=e.x,b.y-=e.y,c.x-=e.x,c.y-=e.y,d.x-=e.x,d.y-=e.y},safeHCoordinateIntersection:function(a,b,c,d){var e=null;try{e=D.intersection(a,b,c,d)}catch(f){if(!(f instanceof E))throw f;e=bb.nearestEndpoint(a,b,c,d)}return e},intersection:function(a,b,c,d){var e=this.intersectionWithNormalization(a,b,c,d);return this.isInSegmentEnvelopes(e)||(e=new fa(bb.nearestEndpoint(a,b,c,d))),null!==this.precisionModel&&this.precisionModel.makePrecise(e),e},smallestInAbsValue:function(a,b,c,d){var e=a,f=Math.abs(e);return Math.abs(b)<f&&(e=b,f=Math.abs(b)),Math.abs(c)<f&&(e=c,f=Math.abs(c)),Math.abs(d)<f&&(e=d),e},checkDD:function(a,b,c,d,e){var f=O.intersection(a,b,c,d),g=this.isInSegmentEnvelopes(f);A.out.println("DD in env = "+g+"  --------------------- "+f),1e-4<e.distance(f)&&A.out.println("Distance = "+e.distance(f))},intersectionWithNormalization:function(b,c,d,e){var f=new fa(b),g=new fa(c),h=new fa(d),j=new fa(e),a=new fa;this.normalizeToEnvCentre(f,g,h,j,a);var k=this.safeHCoordinateIntersection(f,g,h,j);return k.x+=a.x,k.y+=a.y,k},computeCollinearIntersection:function(b,c,d,e){var f=y.intersects(b,c,d),g=y.intersects(b,c,e),h=y.intersects(d,e,b),j=y.intersects(d,e,c);return f&&g?(this.intPt[0]=d,this.intPt[1]=e,ab.COLLINEAR_INTERSECTION):h&&j?(this.intPt[0]=b,this.intPt[1]=c,ab.COLLINEAR_INTERSECTION):f&&h?(this.intPt[0]=d,this.intPt[1]=b,!d.equals(b)||g||j?ab.COLLINEAR_INTERSECTION:ab.POINT_INTERSECTION):f&&j?(this.intPt[0]=d,this.intPt[1]=c,!d.equals(c)||g||h?ab.COLLINEAR_INTERSECTION:ab.POINT_INTERSECTION):g&&h?(this.intPt[0]=e,this.intPt[1]=b,!e.equals(b)||f||j?ab.COLLINEAR_INTERSECTION:ab.POINT_INTERSECTION):g&&j?(this.intPt[0]=e,this.intPt[1]=c,!e.equals(c)||f||h?ab.COLLINEAR_INTERSECTION:ab.POINT_INTERSECTION):ab.NO_INTERSECTION},normalizeToEnvCentre:function(b,j,e,k,m){var n=b.x<j.x?b.x:j.x,o=b.y<j.y?b.y:j.y,q=b.x>j.x?b.x:j.x,a=b.y>j.y?b.y:j.y,r=e.x<k.x?e.x:k.x,l=e.y<k.y?e.y:k.y,c=e.x>k.x?e.x:k.x,f=e.y>k.y?e.y:k.y,h=n>r?n:r,p=q<c?q:c,d=o>l?o:l,g=a<f?a:f;m.x=(h+p)/2,m.y=(d+g)/2,b.x-=m.x,b.y-=m.y,j.x-=m.x,j.y-=m.y,e.x-=m.x,e.y-=m.y,k.x-=m.x,k.y-=m.y},computeIntersect:function(b,c,d,e){if(this._isProper=!1,!y.intersects(b,c,d,e))return ab.NO_INTERSECTION;var f=eb.orientationIndex(b,c,d),g=eb.orientationIndex(b,c,e);if(0<f&&0<g||0>f&&0>g)return ab.NO_INTERSECTION;var h=eb.orientationIndex(d,e,b),j=eb.orientationIndex(d,e,c);return 0<h&&0<j||0>h&&0>j?ab.NO_INTERSECTION:0===f&&0===g&&0===h&&0===j?this.computeCollinearIntersection(b,c,d,e):(0===f||0===g||0===h||0===j?(this._isProper=!1,b.equals2D(d)||b.equals2D(e)?this.intPt[0]=b:c.equals2D(d)||c.equals2D(e)?this.intPt[0]=c:0===f?this.intPt[0]=new fa(d):0===g?this.intPt[0]=new fa(e):0===h?this.intPt[0]=new fa(b):0===j&&(this.intPt[0]=new fa(c))):(this._isProper=!0,this.intPt[0]=this.intersection(b,c,d,e)),ab.POINT_INTERSECTION)},interfaces_:function(){return[]},getClass:function(){return bb}}),bb.nearestEndpoint=function(a,b,c,d){var e=a,f=eb.distancePointLine(a,c,d),g=eb.distancePointLine(b,c,d);return g<f&&(f=g,e=b),g=eb.distancePointLine(c,a,b),g<f&&(f=g,e=c),g=eb.distancePointLine(d,a,b),g<f&&(f=g,e=d),e},t(cb.prototype,{interfaces_:function(){return[]},getClass:function(){return cb}}),cb.orientationIndex=function(a,b,c){var d=b.x-a.x,e=b.y-a.y,f=c.x-b.x,g=c.y-b.y;return cb.signOfDet2x2(d,e,f,g)},cb.signOfDet2x2=function(b,c,d,f){var g=null,h=null,j=null,k=0;if(g=1,0===b||0===f)return 0===c||0===d?0:0<c?0<d?-g:g:0<d?g:-g;if(0===c||0===d)return 0<f?0<b?g:-g:0<b?-g:g;if(0<c?0<f?c<=f||(g=-g,h=b,b=d,d=h,h=c,c=f,f=h):c<=-f?(g=-g,d=-d,f=-f):(h=b,b=-d,d=h,h=c,c=-f,f=h):0<f?-c<=f?(g=-g,b=-b,c=-c):(h=-b,b=d,d=h,h=-c,c=f,f=h):c>=f?(b=-b,c=-c,d=-d,f=-f):(g=-g,h=-b,b=-d,d=h,h=-c,c=-f,f=h),0<b){if(!(0<d))return g;if(!(b<=d))return g}else{if(0<d)return-g;if(!(b>=d))return-g;g=-g,b=-b,d=-d}for(;;){if(k+=1,j=Math.floor(d/b),d-=j*b,0>(f-=j*c))return-g;if(f>c)return g;if(!(b>d+d)){if(c>f+f)return-g;d=b-d,f=c-f,g=-g}else if(c<f+f)return g;if(0===f)return 0===d?0:-g;if(0===d)return g;if(j=Math.floor(b/d),b-=j*d,0>(c-=j*f))return g;if(c>f)return-g;if(!(d>b+b)){if(f>c+c)return g;b=d-b,c=f-c,g=-g}else if(f<c+c)return-g;if(0===c)return 0===b?0:g;if(0===b)return-g}},t(db.prototype,{countSegment:function(b,c){if(b.x<this.p.x&&c.x<this.p.x)return null;if(this.p.x===c.x&&this.p.y===c.y)return this.isPointOnSegment=!0,null;if(b.y===this.p.y&&c.y===this.p.y){var d=b.x,e=c.x;return d>e&&(d=c.x,e=b.x),this.p.x>=d&&this.p.x<=e&&(this.isPointOnSegment=!0),null}if(b.y>this.p.y&&c.y<=this.p.y||c.y>this.p.y&&b.y<=this.p.y){var f=b.x-this.p.x,g=b.y-this.p.y,h=c.x-this.p.x,j=c.y-this.p.y,a=cb.signOfDet2x2(f,g,h,j);if(0===a)return this.isPointOnSegment=!0,null;j<g&&(a=-a),0<a&&this.crossingCount++}},isPointInPolygon:function(){return this.getLocation()!==C.EXTERIOR},getLocation:function(){return this.isPointOnSegment?C.BOUNDARY:1==this.crossingCount%2?C.INTERIOR:C.EXTERIOR},isOnSegment:function(){return this.isPointOnSegment},interfaces_:function(){return[]},getClass:function(){return db}}),db.locatePointInRing=function(){if(arguments[0]instanceof fa&&N(arguments[1],S)){for(var b=arguments[0],c=arguments[1],d=new db(b),e=new fa,f=new fa,g=1;g<c.size();g++)if(c.getCoordinate(g,e),c.getCoordinate(g-1,f),d.countSegment(e,f),d.isOnSegment())return d.getLocation();return d.getLocation()}if(arguments[0]instanceof fa&&arguments[1]instanceof Array){for(var h=arguments[0],j=arguments[1],d=new db(h),g=1;g<j.length;g++){var e=j[g],f=j[g-1];if(d.countSegment(e,f),d.isOnSegment())return d.getLocation()}return d.getLocation()}},t(eb.prototype,{interfaces_:function(){return[]},getClass:function(){return eb}}),eb.orientationIndex=function(a,b,c){return O.orientationIndex(a,b,c)},eb.signedArea=function(){if(arguments[0]instanceof Array){var b=arguments[0];if(3>b.length)return 0;for(var d=0,e=b[0].x,f=1;f<b.length-1;f++){var g=b[f].x-e,h=b[f+1].y;d+=g*(b[f-1].y-h)}return d/2}if(N(arguments[0],S)){var j=arguments[0],k=j.size();if(3>k)return 0;var a=new fa,m=new fa,l=new fa;j.getCoordinate(0,m),j.getCoordinate(1,l);var e=m.x;l.x-=e;for(var d=0,f=1;f<k-1;f++)a.y=m.y,m.x=l.x,m.y=l.y,j.getCoordinate(f+1,l),l.x-=e,d+=m.x*(a.y-l.y);return d/2}},eb.distanceLineLine=function(b,c,d,e){if(b.equals(c))return eb.distancePointLine(b,d,e);if(d.equals(e))return eb.distancePointLine(e,b,c);var f=!1;if(y.intersects(b,c,d,e)){var g=(c.x-b.x)*(e.y-d.y)-(c.y-b.y)*(e.x-d.x);if(0===g)f=!0;else{var h=(b.y-d.y)*(e.x-d.x)-(b.x-d.x)*(e.y-d.y),j=(b.y-d.y)*(c.x-b.x)-(b.x-d.x)*(c.y-b.y),a=j/g,k=h/g;(0>k||1<k||0>a||1<a)&&(f=!0)}}else f=!0;return f?M.min(eb.distancePointLine(b,d,e),eb.distancePointLine(c,d,e),eb.distancePointLine(d,b,c),eb.distancePointLine(e,b,c)):0},eb.isPointInRing=function(a,b){return eb.locatePointInRing(a,b)!==C.EXTERIOR},eb.computeLength=function(b){var d=b.size();if(1>=d)return 0;var e=0,f=new fa;b.getCoordinate(0,f);for(var g=f.x,h=f.y,j=1;j<d;j++){b.getCoordinate(j,f);var k=f.x,a=f.y,m=k-g,l=a-h;e+=Math.sqrt(m*m+l*l),g=k,h=a}return e},eb.isCCW=function(b){var d=b.length-1;if(3>d)throw new ca("Ring has fewer than 4 points, so orientation cannot be determined");for(var e,g=b[0],h=0,j=1;j<=d;j++)e=b[j],e.y>g.y&&(g=e,h=j);var k=h;do 0>(k-=1)&&(k=d);while(b[k].equals2D(g)&&k!==h);var a=h;do a=(a+1)%d;while(b[a].equals2D(g)&&a!==h);var m=b[k],l=b[a];if(m.equals2D(g)||l.equals2D(g)||m.equals2D(l))return!1;var c=eb.computeOrientation(m,g,l);return 0===c?m.x>l.x:0<c},eb.locatePointInRing=function(a,b){return db.locatePointInRing(a,b)},eb.distancePointLinePerpendicular=function(a,b,c){var d=(c.x-b.x)*(c.x-b.x)+(c.y-b.y)*(c.y-b.y),e=((b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y))/d;return Math.abs(e)*Math.sqrt(d)},eb.computeOrientation=function(a,b,c){return eb.orientationIndex(a,b,c)},eb.distancePointLine=function(){if(2===arguments.length){var b=arguments[0],d=arguments[1];if(0===d.length)throw new ca("Line array must contain at least one vertex");for(var e,g=b.distance(d[0]),h=0;h<d.length-1;h++)e=eb.distancePointLine(b,d[h],d[h+1]),e<g&&(g=e);return g}if(3===arguments.length){var j=arguments[0],k=arguments[1],a=arguments[2];if(k.x===a.x&&k.y===a.y)return j.distance(k);var m=(a.x-k.x)*(a.x-k.x)+(a.y-k.y)*(a.y-k.y),l=((j.x-k.x)*(a.x-k.x)+(j.y-k.y)*(a.y-k.y))/m;if(0>=l)return j.distance(k);if(1<=l)return j.distance(a);var c=((k.y-j.y)*(a.x-k.x)-(k.x-j.x)*(a.y-k.y))/m;return Math.abs(c)*Math.sqrt(m)}},eb.isOnLine=function(a,b){for(var c=new bb,d=1;d<b.length;d++){var e=b[d-1],f=b[d];if(c.computeIntersection(a,e,f),c.hasIntersection())return!0}return!1},eb.CLOCKWISE=-1,eb.RIGHT=eb.CLOCKWISE,eb.COUNTERCLOCKWISE=1,eb.LEFT=eb.COUNTERCLOCKWISE,eb.COLLINEAR=0,eb.STRAIGHT=eb.COLLINEAR,t(fb.prototype,{minX:function(){return Math.min(this.p0.x,this.p1.x)},orientationIndex:function(){if(arguments[0]instanceof fb){var a=arguments[0],b=eb.orientationIndex(this.p0,this.p1,a.p0),c=eb.orientationIndex(this.p0,this.p1,a.p1);return 0<=b&&0<=c?Math.max(b,c):0>=b&&0>=c?Math.max(b,c):0}if(arguments[0]instanceof fa){var d=arguments[0];return eb.orientationIndex(this.p0,this.p1,d)}},toGeometry:function(a){return a.createLineString([this.p0,this.p1])},isVertical:function(){return this.p0.x===this.p1.x},equals:function(a){if(!(a instanceof fb))return!1;var b=a;return this.p0.equals(b.p0)&&this.p1.equals(b.p1)},intersection:function(a){var b=new bb;return b.computeIntersection(this.p0,this.p1,a.p0,a.p1),b.hasIntersection()?b.getIntersection(0):null},project:function(){if(arguments[0]instanceof fa){var b=arguments[0];if(b.equals(this.p0)||b.equals(this.p1))return new fa(b);var c=this.projectionFactor(b),d=new fa;return d.x=this.p0.x+c*(this.p1.x-this.p0.x),d.y=this.p0.y+c*(this.p1.y-this.p0.y),d}if(arguments[0]instanceof fb){var e=arguments[0],f=this.projectionFactor(e.p0),g=this.projectionFactor(e.p1);if(1<=f&&1<=g)return null;if(0>=f&&0>=g)return null;var h=this.project(e.p0);0>f&&(h=this.p0),1<f&&(h=this.p1);var j=this.project(e.p1);return 0>g&&(j=this.p0),1<g&&(j=this.p1),new fb(h,j)}},normalize:function(){0>this.p1.compareTo(this.p0)&&this.reverse()},angle:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},getCoordinate:function(a){return 0===a?this.p0:this.p1},distancePerpendicular:function(a){return eb.distancePointLinePerpendicular(a,this.p0,this.p1)},minY:function(){return Math.min(this.p0.y,this.p1.y)},midPoint:function(){return fb.midPoint(this.p0,this.p1)},projectionFactor:function(a){if(a.equals(this.p0))return 0;if(a.equals(this.p1))return 1;var b=this.p1.x-this.p0.x,c=this.p1.y-this.p0.y,d=b*b+c*c;return 0>=d?da.NaN:((a.x-this.p0.x)*b+(a.y-this.p0.y)*c)/d},closestPoints:function(b){var c=this.intersection(b);if(null!==c)return[c,c];var d=[,,].fill(null),e=da.MAX_VALUE,f=null,g=this.closestPoint(b.p0);e=g.distance(b.p0),d[0]=g,d[1]=b.p0;var h=this.closestPoint(b.p1);(f=h.distance(b.p1))<e&&(e=f,d[0]=h,d[1]=b.p1);var a=b.closestPoint(this.p0);(f=a.distance(this.p0))<e&&(e=f,d[0]=this.p0,d[1]=a);var j=b.closestPoint(this.p1);return f=j.distance(this.p1),f<e&&(e=f,d[0]=this.p1,d[1]=j),d},closestPoint:function(a){var b=this.projectionFactor(a);return 0<b&&1>b?this.project(a):this.p0.distance(a)<this.p1.distance(a)?this.p0:this.p1},maxX:function(){return Math.max(this.p0.x,this.p1.x)},getLength:function(){return this.p0.distance(this.p1)},compareTo:function(a){var b=a,c=this.p0.compareTo(b.p0);return 0===c?this.p1.compareTo(b.p1):c},reverse:function(){var a=this.p0;this.p0=this.p1,this.p1=a},equalsTopo:function(a){return this.p0.equals(a.p0)&&this.p1.equals(a.p1)||this.p0.equals(a.p1)&&this.p1.equals(a.p0)},lineIntersection:function(a){try{return D.intersection(this.p0,this.p1,a.p0,a.p1)}catch(a){if(!(a instanceof E))throw a}return null},maxY:function(){return Math.max(this.p0.y,this.p1.y)},pointAlongOffset:function(b,c){var d=this.p0.x+b*(this.p1.x-this.p0.x),e=this.p0.y+b*(this.p1.y-this.p0.y),f=this.p1.x-this.p0.x,g=this.p1.y-this.p0.y,h=Math.sqrt(f*f+g*g),j=0,a=0;if(0!==c){if(0>=h)throw new IllegalStateException("Cannot compute offset from zero-length line segment");j=c*f/h,a=c*g/h}return new fa(d-a,e+j)},setCoordinates:function(){if(1===arguments.length){var a=arguments[0];this.setCoordinates(a.p0,a.p1)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.p0.x=b.x,this.p0.y=b.y,this.p1.x=c.x,this.p1.y=c.y}},segmentFraction:function(a){var b=this.projectionFactor(a);return 0>b?b=0:(1<b||da.isNaN(b))&&(b=1),b},toString:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},isHorizontal:function(){return this.p0.y===this.p1.y},distance:function(){if(arguments[0]instanceof fb){var a=arguments[0];return eb.distanceLineLine(this.p0,this.p1,a.p0,a.p1)}if(arguments[0]instanceof fa){var b=arguments[0];return eb.distancePointLine(b,this.p0,this.p1)}},pointAlong:function(a){var b=new fa;return b.x=this.p0.x+a*(this.p1.x-this.p0.x),b.y=this.p0.y+a*(this.p1.y-this.p0.y),b},hashCode:function(){var a=java.lang.Double.doubleToLongBits(this.p0.x);a^=31*java.lang.Double.doubleToLongBits(this.p0.y);var b=Math.trunc(a)^Math.trunc(a>>32),c=java.lang.Double.doubleToLongBits(this.p1.x);return c^=31*java.lang.Double.doubleToLongBits(this.p1.y),b^Math.trunc(c)^Math.trunc(c>>32)},interfaces_:function(){return[e,a]},getClass:function(){return fb}}),fb.midPoint=function(a,b){return new fa((a.x+b.x)/2,(a.y+b.y)/2)},fb.serialVersionUID=0x2d2172135f411c00,t(gb.prototype,{isIntersects:function(){return!this.isDisjoint()},isCovers:function(){return(gb.isTrue(this.matrix[C.INTERIOR][C.INTERIOR])||gb.isTrue(this.matrix[C.INTERIOR][C.BOUNDARY])||gb.isTrue(this.matrix[C.BOUNDARY][C.INTERIOR])||gb.isTrue(this.matrix[C.BOUNDARY][C.BOUNDARY]))&&this.matrix[C.EXTERIOR][C.INTERIOR]===oa.FALSE&&this.matrix[C.EXTERIOR][C.BOUNDARY]===oa.FALSE},isCoveredBy:function(){return(gb.isTrue(this.matrix[C.INTERIOR][C.INTERIOR])||gb.isTrue(this.matrix[C.INTERIOR][C.BOUNDARY])||gb.isTrue(this.matrix[C.BOUNDARY][C.INTERIOR])||gb.isTrue(this.matrix[C.BOUNDARY][C.BOUNDARY]))&&this.matrix[C.INTERIOR][C.EXTERIOR]===oa.FALSE&&this.matrix[C.BOUNDARY][C.EXTERIOR]===oa.FALSE},set:function(){if(1===arguments.length)for(var a=arguments[0],b=0;b<a.length;b++){var c=Math.trunc(b/3),d=b%3;this.matrix[c][d]=oa.toDimensionValue(a.charAt(b))}else if(3===arguments.length){var e=arguments[0],f=arguments[1],g=arguments[2];this.matrix[e][f]=g}},isContains:function(){return gb.isTrue(this.matrix[C.INTERIOR][C.INTERIOR])&&this.matrix[C.EXTERIOR][C.INTERIOR]===oa.FALSE&&this.matrix[C.EXTERIOR][C.BOUNDARY]===oa.FALSE},setAtLeast:function(){if(1===arguments.length)for(var a=arguments[0],b=0;b<a.length;b++){var c=Math.trunc(b/3),d=b%3;this.setAtLeast(c,d,oa.toDimensionValue(a.charAt(b)))}else if(3===arguments.length){var e=arguments[0],f=arguments[1],g=arguments[2];this.matrix[e][f]<g&&(this.matrix[e][f]=g)}},setAtLeastIfValid:function(a,b,c){0<=a&&0<=b&&this.setAtLeast(a,b,c)},isWithin:function(){return gb.isTrue(this.matrix[C.INTERIOR][C.INTERIOR])&&this.matrix[C.INTERIOR][C.EXTERIOR]===oa.FALSE&&this.matrix[C.BOUNDARY][C.EXTERIOR]===oa.FALSE},isTouches:function(a,b){return a>b?this.isTouches(b,a):(a===oa.A&&b===oa.A||a===oa.L&&b===oa.L||a===oa.L&&b===oa.A||a===oa.P&&b===oa.A||a===oa.P&&b===oa.L)&&this.matrix[C.INTERIOR][C.INTERIOR]===oa.FALSE&&(gb.isTrue(this.matrix[C.INTERIOR][C.BOUNDARY])||gb.isTrue(this.matrix[C.BOUNDARY][C.INTERIOR])||gb.isTrue(this.matrix[C.BOUNDARY][C.BOUNDARY]))},isOverlaps:function(a,b){return a===oa.P&&b===oa.P||a===oa.A&&b===oa.A?gb.isTrue(this.matrix[C.INTERIOR][C.INTERIOR])&&gb.isTrue(this.matrix[C.INTERIOR][C.EXTERIOR])&&gb.isTrue(this.matrix[C.EXTERIOR][C.INTERIOR]):a===oa.L&&b===oa.L&&1===this.matrix[C.INTERIOR][C.INTERIOR]&&gb.isTrue(this.matrix[C.INTERIOR][C.EXTERIOR])&&gb.isTrue(this.matrix[C.EXTERIOR][C.INTERIOR])},isEquals:function(a,b){return a===b&&gb.isTrue(this.matrix[C.INTERIOR][C.INTERIOR])&&this.matrix[C.INTERIOR][C.EXTERIOR]===oa.FALSE&&this.matrix[C.BOUNDARY][C.EXTERIOR]===oa.FALSE&&this.matrix[C.EXTERIOR][C.INTERIOR]===oa.FALSE&&this.matrix[C.EXTERIOR][C.BOUNDARY]===oa.FALSE},toString:function(){for(var a=new L("123456789"),b=0;3>b;b++)for(var c=0;3>c;c++)a.setCharAt(3*b+c,oa.toDimensionSymbol(this.matrix[b][c]));return a.toString()},setAll:function(a){for(var b=0;3>b;b++)for(var c=0;3>c;c++)this.matrix[b][c]=a},get:function(a,b){return this.matrix[a][b]},transpose:function(){var a=this.matrix[1][0];return this.matrix[1][0]=this.matrix[0][1],this.matrix[0][1]=a,a=this.matrix[2][0],this.matrix[2][0]=this.matrix[0][2],this.matrix[0][2]=a,a=this.matrix[2][1],this.matrix[2][1]=this.matrix[1][2],this.matrix[1][2]=a,this},matches:function(a){if(9!==a.length)throw new ca("Should be length 9: "+a);for(var b=0;3>b;b++)for(var c=0;3>c;c++)if(!gb.matches(this.matrix[b][c],a.charAt(3*b+c)))return!1;return!0},add:function(a){for(var b=0;3>b;b++)for(var c=0;3>c;c++)this.setAtLeast(b,c,a.get(b,c))},isDisjoint:function(){return this.matrix[C.INTERIOR][C.INTERIOR]===oa.FALSE&&this.matrix[C.INTERIOR][C.BOUNDARY]===oa.FALSE&&this.matrix[C.BOUNDARY][C.INTERIOR]===oa.FALSE&&this.matrix[C.BOUNDARY][C.BOUNDARY]===oa.FALSE},isCrosses:function(a,b){return a===oa.P&&b===oa.L||a===oa.P&&b===oa.A||a===oa.L&&b===oa.A?gb.isTrue(this.matrix[C.INTERIOR][C.INTERIOR])&&gb.isTrue(this.matrix[C.INTERIOR][C.EXTERIOR]):a===oa.L&&b===oa.P||a===oa.A&&b===oa.P||a===oa.A&&b===oa.L?gb.isTrue(this.matrix[C.INTERIOR][C.INTERIOR])&&gb.isTrue(this.matrix[C.EXTERIOR][C.INTERIOR]):a===oa.L&&b===oa.L&&0===this.matrix[C.INTERIOR][C.INTERIOR]},interfaces_:function(){return[n]},getClass:function(){return gb}}),gb.matches=function(){if(Number.isInteger(arguments[0])&&"string"==typeof arguments[1]){var a=arguments[0],b=arguments[1];return b===oa.SYM_DONTCARE||b===oa.SYM_TRUE&&(0<=a||a===oa.TRUE)||b===oa.SYM_FALSE&&a===oa.FALSE||b===oa.SYM_P&&a===oa.P||b===oa.SYM_L&&a===oa.L||b===oa.SYM_A&&a===oa.A}if("string"==typeof arguments[0]&&"string"==typeof arguments[1]){var c=arguments[0],d=arguments[1];return new gb(c).matches(d)}},gb.isTrue=function(a){return 0<=a||a===oa.TRUE};var mg=Object.freeze({Coordinate:fa,CoordinateList:w,Envelope:y,LineSegment:fb,GeometryFactory:Za,Geometry:k,Point:Ea,LineString:Ca,LinearRing:Ia,Polygon:Ga,GeometryCollection:ra,MultiPoint:Ha,MultiLineString:sa,MultiPolygon:Ja,Dimension:oa,IntersectionMatrix:gb,PrecisionModel:Xa});t(hb.prototype,{addPoint:function(a){this.ptCount+=1,this.ptCentSum.x+=a.x,this.ptCentSum.y+=a.y},setBasePoint:function(a){null===this.areaBasePt&&(this.areaBasePt=a)},addLineSegments:function(a){for(var b,c=0,d=0;d<a.length-1;d++)if(b=a[d].distance(a[d+1]),0!==b){c+=b;var e=(a[d].x+a[d+1].x)/2;this.lineCentSum.x+=b*e;var f=(a[d].y+a[d+1].y)/2;this.lineCentSum.y+=b*f}this.totalLength+=c,0===c&&0<a.length&&this.addPoint(a[0])},addHole:function(a){for(var b=eb.isCCW(a),c=0;c<a.length-1;c++)this.addTriangle(this.areaBasePt,a[c],a[c+1],b);this.addLineSegments(a)},getCentroid:function(){var a=new fa;if(0<Math.abs(this.areasum2))a.x=this.cg3.x/3/this.areasum2,a.y=this.cg3.y/3/this.areasum2;else if(0<this.totalLength)a.x=this.lineCentSum.x/this.totalLength,a.y=this.lineCentSum.y/this.totalLength;else{if(!(0<this.ptCount))return null;a.x=this.ptCentSum.x/this.ptCount,a.y=this.ptCentSum.y/this.ptCount}return a},addShell:function(a){0<a.length&&this.setBasePoint(a[0]);for(var b=!eb.isCCW(a),c=0;c<a.length-1;c++)this.addTriangle(this.areaBasePt,a[c],a[c+1],b);this.addLineSegments(a)},addTriangle:function(a,b,c,d){var e=d?1:-1;hb.centroid3(a,b,c,this.triangleCent3);var f=hb.area2(a,b,c);this.cg3.x+=e*f*this.triangleCent3.x,this.cg3.y+=e*f*this.triangleCent3.y,this.areasum2+=e*f},add:function(){if(arguments[0]instanceof Ga){var a=arguments[0];this.addShell(a.getExteriorRing().getCoordinates());for(var b=0;b<a.getNumInteriorRing();b++)this.addHole(a.getInteriorRingN(b).getCoordinates())}else if(arguments[0]instanceof k){var c=arguments[0];if(c.isEmpty())return null;if(c instanceof Ea)this.addPoint(c.getCoordinate());else if(c instanceof Ca)this.addLineSegments(c.getCoordinates());else if(c instanceof Ga){this.add(c)}else if(c instanceof ra)for(var d=c,b=0;b<d.getNumGeometries();b++)this.add(d.getGeometryN(b))}},interfaces_:function(){return[]},getClass:function(){return hb}}),hb.area2=function(a,b,c){return(b.x-a.x)*(c.y-a.y)-(c.x-a.x)*(b.y-a.y)},hb.centroid3=function(a,b,c,d){return d.x=a.x+b.x+c.x,d.y=a.y+b.y+c.y,null},hb.getCentroid=function(a){return new hb(a).getCentroid()},ib.prototype=new Error,ib.prototype.name="EmptyStackException",jb.prototype=new v,jb.prototype.add=function(a){return this.array_.push(a),!0},jb.prototype.get=function(a){if(0>a||a>=this.size())throw new IndexOutOfBoundsException;return this.array_[a]},jb.prototype.push=function(a){return this.array_.push(a),a},jb.prototype.pop=function(){if(0===this.array_.length)throw new ib;return this.array_.pop()},jb.prototype.peek=function(){if(0===this.array_.length)throw new ib;return this.array_[this.array_.length-1]},jb.prototype.empty=function(){return 0===this.array_.length},jb.prototype.isEmpty=function(){return this.empty()},jb.prototype.search=function(a){return this.array_.indexOf(a)},jb.prototype.size=function(){return this.array_.length},jb.prototype.toArray=function(){for(var a=[],b=0,c=this.array_.length;b<c;b++)a.push(this.array_[b]);return a},t(kb.prototype,{filter:function(a){this.treeSet.contains(a)||(this.list.add(a),this.treeSet.add(a))},getCoordinates:function(){var a=Array(this.list.size()).fill(null);return this.list.toArray(a)},interfaces_:function(){return[T]},getClass:function(){return kb}}),kb.filterCoordinates=function(a){for(var b=new kb,c=0;c<a.length;c++)b.filter(a[c]);return b.getCoordinates()},t(lb.prototype,{preSort:function(a){for(var b=null,c=1;c<a.length;c++)(a[c].y<a[0].y||a[c].y===a[0].y&&a[c].x<a[0].x)&&(b=a[0],a[0]=a[c],a[c]=b);return na.sort(a,1,a.length,new mb(a[0])),a},computeOctRing:function(a){var b=this.computeOctPts(a),c=new w;return c.add(b,!1),3>c.size()?null:(c.closeRing(),c.toCoordinateArray())},lineOrPolygon:function(a){if(a=this.cleanRing(a),3===a.length)return this.geomFactory.createLineString([a[0],a[1]]);var b=this.geomFactory.createLinearRing(a);return this.geomFactory.createPolygon(b,null)},cleanRing:function(a){ea.equals(a[0],a[a.length-1]);for(var b=new x,c=null,d=0;d<=a.length-2;d++){var e=a[d],f=a[d+1];e.equals(f)||null!==c&&this.isBetween(c,e,f)||(b.add(e),c=e)}b.add(a[a.length-1]);var g=Array(b.size()).fill(null);return b.toArray(g)},isBetween:function(a,b,c){if(0!==eb.computeOrientation(a,b,c))return!1;if(a.x!==c.x){if(a.x<=b.x&&b.x<=c.x)return!0;if(c.x<=b.x&&b.x<=a.x)return!0}if(a.y!==c.y){if(a.y<=b.y&&b.y<=c.y)return!0;if(c.y<=b.y&&b.y<=a.y)return!0}return!1},reduce:function(a){var b=this.computeOctRing(a);if(null===b)return a;for(var c=new ma,d=0;d<b.length;d++)c.add(b[d]);for(var d=0;d<a.length;d++)eb.isPointInRing(a[d],b)||c.add(a[d]);var e=Y.toCoordinateArray(c);return 3>e.length?this.padArray3(e):e},getConvexHull:function(){if(0===this.inputPts.length)return this.geomFactory.createGeometryCollection(null);if(1===this.inputPts.length)return this.geomFactory.createPoint(this.inputPts[0]);if(2===this.inputPts.length)return this.geomFactory.createLineString(this.inputPts);var a=this.inputPts;50<this.inputPts.length&&(a=this.reduce(this.inputPts));var b=this.preSort(a),c=this.grahamScan(b),d=this.toCoordinateArray(c);return this.lineOrPolygon(d)},padArray3:function(a){for(var b=[,,,].fill(null),c=0;c<b.length;c++)b[c]=c<a.length?a[c]:a[0];return b},computeOctPts:function(a){for(var b=Array(8).fill(null),c=0;c<b.length;c++)b[c]=a[0];for(var d=1;d<a.length;d++)a[d].x<b[0].x&&(b[0]=a[d]),a[d].x-a[d].y<b[1].x-b[1].y&&(b[1]=a[d]),a[d].y>b[2].y&&(b[2]=a[d]),a[d].x+a[d].y>b[3].x+b[3].y&&(b[3]=a[d]),a[d].x>b[4].x&&(b[4]=a[d]),a[d].x-a[d].y>b[5].x-b[5].y&&(b[5]=a[d]),a[d].y<b[6].y&&(b[6]=a[d]),a[d].x+a[d].y<b[7].x+b[7].y&&(b[7]=a[d]);return b},toCoordinateArray:function(a){for(var b,c=Array(a.size()).fill(null),d=0;d<a.size();d++)b=a.get(d),c[d]=b;return c},grahamScan:function(a){var b=null,c=new jb;b=c.push(a[0]),b=c.push(a[1]),b=c.push(a[2]);for(var d=3;d<a.length;d++){for(b=c.pop();!c.empty()&&0<eb.computeOrientation(c.peek(),b,a[d]);)b=c.pop();b=c.push(b),b=c.push(a[d])}return b=c.push(a[0]),c},interfaces_:function(){return[]},getClass:function(){return lb}}),lb.extractCoordinates=function(a){var b=new kb;return a.apply(b),b.getCoordinates()},t(mb.prototype,{compare:function(a,b){return mb.polarCompare(this.origin,a,b)},interfaces_:function(){return[o]},getClass:function(){return mb}}),mb.polarCompare=function(b,c,d){var e=c.x-b.x,f=c.y-b.y,g=d.x-b.x,h=d.y-b.y,j=eb.computeOrientation(b,c,d);if(j===eb.COUNTERCLOCKWISE)return 1;if(j===eb.CLOCKWISE)return-1;var a=e*e+f*f,k=g*g+h*h;return a<k?-1:a>k?1:0},lb.RadialComparator=mb,t(nb.prototype,{transformPoint:function(a){return this.factory.createPoint(this.transformCoordinates(a.getCoordinateSequence(),a))},transformPolygon:function(b){var c=!0,d=this.transformLinearRing(b.getExteriorRing(),b);null!==d&&d instanceof Ia&&!d.isEmpty()||(c=!1);for(var e,f=new x,g=0;g<b.getNumInteriorRing();g++)e=this.transformLinearRing(b.getInteriorRingN(g),b),null===e||e.isEmpty()||(e instanceof Ia||(c=!1),f.add(e));if(c)return this.factory.createPolygon(d,f.toArray([]));var h=new x;return null!==d&&h.add(d),h.addAll(f),this.factory.buildGeometry(h)},createCoordinateSequence:function(a){return this.factory.getCoordinateSequenceFactory().create(a)},getInputGeometry:function(){return this.inputGeom},transformMultiLineString:function(a){for(var b,c=new x,d=0;d<a.getNumGeometries();d++)b=this.transformLineString(a.getGeometryN(d),a),null!==b&&(b.isEmpty()||c.add(b));return this.factory.buildGeometry(c)},transformCoordinates:function(a){return this.copy(a)},transformLineString:function(a){return this.factory.createLineString(this.transformCoordinates(a.getCoordinateSequence(),a))},transformMultiPoint:function(a){for(var b,c=new x,d=0;d<a.getNumGeometries();d++)b=this.transformPoint(a.getGeometryN(d),a),null!==b&&(b.isEmpty()||c.add(b));return this.factory.buildGeometry(c)},transformMultiPolygon:function(a){for(var b,c=new x,d=0;d<a.getNumGeometries();d++)b=this.transformPolygon(a.getGeometryN(d),a),null!==b&&(b.isEmpty()||c.add(b));return this.factory.buildGeometry(c)},copy:function(a){return a.copy()},transformGeometryCollection:function(a){for(var b,c=new x,d=0;d<a.getNumGeometries();d++)b=this.transform(a.getGeometryN(d)),null!==b&&(this.pruneEmptyGeometry&&b.isEmpty()||c.add(b));return this.preserveGeometryCollectionType?this.factory.createGeometryCollection(Za.toGeometryArray(c)):this.factory.buildGeometry(c)},transform:function(a){if(this.inputGeom=a,this.factory=a.getFactory(),a instanceof Ea)return this.transformPoint(a,null);if(a instanceof Ha)return this.transformMultiPoint(a,null);if(a instanceof Ia)return this.transformLinearRing(a,null);if(a instanceof Ca)return this.transformLineString(a,null);if(a instanceof sa)return this.transformMultiLineString(a,null);if(a instanceof Ga)return this.transformPolygon(a,null);if(a instanceof Ja)return this.transformMultiPolygon(a,null);if(a instanceof ra)return this.transformGeometryCollection(a,null);throw new ca("Unknown Geometry subtype: "+a.getClass().getName())},transformLinearRing:function(a){var b=this.transformCoordinates(a.getCoordinateSequence(),a);if(null===b)return this.factory.createLinearRing(null);var c=b.size();return 0<c&&4>c&&!this.preserveType?this.factory.createLineString(b):this.factory.createLinearRing(b)},interfaces_:function(){return[]},getClass:function(){return nb}}),t(ob.prototype,{snapVertices:function(a,b){for(var c=this._isClosed?a.size()-1:a.size(),d=0;d<c;d++){var e=a.get(d),f=this.findSnapForVertex(e,b);null!==f&&(a.set(d,new fa(f)),0===d&&this._isClosed&&a.set(a.size()-1,new fa(f)))}},findSnapForVertex:function(a,b){for(var c=0;c<b.length;c++){if(a.equals2D(b[c]))return null;if(a.distance(b[c])<this.snapTolerance)return b[c]}return null},snapTo:function(a){var b=new w(this.srcPts);return this.snapVertices(b,a),this.snapSegments(b,a),b.toCoordinateArray()},snapSegments:function(a,b){if(0===b.length)return null;var c=b.length;b[0].equals2D(b[b.length-1])&&(c=b.length-1);for(var d=0;d<c;d++){var e=b[d],f=this.findSegmentIndexToSnap(e,a);0<=f&&a.add(f+1,new fa(e),!1)}},findSegmentIndexToSnap:function(a,b){for(var c=da.MAX_VALUE,d=-1,e=0;e<b.size()-1;e++){if(this.seg.p0=b.get(e),this.seg.p1=b.get(e+1),this.seg.p0.equals2D(a)||this.seg.p1.equals2D(a)){if(this.allowSnappingToSourceVertices)continue;return-1}var f=this.seg.distance(a);f<this.snapTolerance&&f<c&&(c=f,d=e)}return d},setAllowSnappingToSourceVertices:function(a){this.allowSnappingToSourceVertices=a},interfaces_:function(){return[]},getClass:function(){return ob}}),ob.isClosed=function(a){return!(1>=a.length)&&a[0].equals2D(a[a.length-1])},t(pb.prototype,{snapTo:function(a,b){return new qb(b,this.extractTargetCoordinates(a)).transform(this.srcGeom)},snapToSelf:function(a,b){var c=this.extractTargetCoordinates(this.srcGeom),d=new qb(a,c,!0),e=d.transform(this.srcGeom),f=e;return b&&N(f,Fa)&&(f=e.buffer(0)),f},computeSnapTolerance:function(a){return this.computeMinimumSegmentLength(a)/10},extractTargetCoordinates:function(a){for(var b=new ma,c=a.getCoordinates(),d=0;d<c.length;d++)b.add(c[d]);return b.toArray([].fill(null))},computeMinimumSegmentLength:function(a){for(var b,c=da.MAX_VALUE,d=0;d<a.length-1;d++)b=a[d].distance(a[d+1]),b<c&&(c=b);return c},interfaces_:function(){return[]},getClass:function(){return pb}}),pb.snap=function(a,b,c){var d=[,,].fill(null),e=new pb(a);d[0]=e.snapTo(b,c);var f=new pb(b);return d[1]=f.snapTo(d[0],c),d},pb.computeOverlaySnapTolerance=function(){if(1===arguments.length){var a=arguments[0],b=pb.computeSizeBasedSnapTolerance(a),c=a.getPrecisionModel();if(c.getType()===Xa.FIXED){var d=2*(1/c.getScale())/1.415;d>b&&(b=d)}return b}if(2===arguments.length){var e=arguments[0],f=arguments[1];return Math.min(pb.computeOverlaySnapTolerance(e),pb.computeOverlaySnapTolerance(f))}},pb.computeSizeBasedSnapTolerance=function(a){var b=a.getEnvelopeInternal();return Math.min(b.getHeight(),b.getWidth())*pb.SNAP_PRECISION_FACTOR},pb.snapToSelf=function(a,b,c){return new pb(a).snapToSelf(b,c)},pb.SNAP_PRECISION_FACTOR=1e-9,l(qb,nb),t(qb.prototype,{snapLine:function(a,b){var c=new ob(a,this.snapTolerance);return c.setAllowSnappingToSourceVertices(this.isSelfSnap),c.snapTo(b)},transformCoordinates:function(a){var b=a.toCoordinateArray(),c=this.snapLine(b,this.snapPts);return this.factory.getCoordinateSequenceFactory().create(c)},interfaces_:function(){return[]},getClass:function(){return qb}}),t(rb.prototype,{getCommon:function(){return da.longBitsToDouble(this.commonBits)},add:function(a){var b=da.doubleToLongBits(a);return this.isFirst?(this.commonBits=b,this.commonSignExp=rb.signExpBits(this.commonBits),this.isFirst=!1,null):rb.signExpBits(b)===this.commonSignExp?(this.commonMantissaBitsCount=rb.numCommonMostSigMantissaBits(this.commonBits,b),void(this.commonBits=rb.zeroLowerBits(this.commonBits,64-(12+this.commonMantissaBitsCount)))):(this.commonBits=0,null)},toString:function(){if(1===arguments.length){var a=arguments[0],b=da.longBitsToDouble(a),c=Long.toBinaryString(a),d="0000000000000000000000000000000000000000000000000000000000000000"+c,e=d.substring(d.length-64);return e.substring(0,1)+"  "+e.substring(1,12)+"(exp) "+e.substring(12)+" [ "+b+" ]"}},interfaces_:function(){return[]},getClass:function(){return rb}}),rb.getBit=function(a,b){return 0==(a&1<<b)?0:1},rb.signExpBits=function(a){return a>>52},rb.zeroLowerBits=function(a,b){return a&~((1<<b)-1)},rb.numCommonMostSigMantissaBits=function(a,b){for(var c=0,d=52;0<=d;d--){if(rb.getBit(a,d)!==rb.getBit(b,d))return c;c++}return 52},t(sb.prototype,{addCommonBits:function(a){var b=new ub(this.commonCoord);a.apply(b),a.geometryChanged()},removeCommonBits:function(a){if(0===this.commonCoord.x&&0===this.commonCoord.y)return a;var b=new fa(this.commonCoord);b.x=-b.x,b.y=-b.y;var c=new ub(b);return a.apply(c),a.geometryChanged(),a},getCommonCoordinate:function(){return this.commonCoord},add:function(a){a.apply(this.ccFilter),this.commonCoord=this.ccFilter.getCommonCoordinate()},interfaces_:function(){return[]},getClass:function(){return sb}}),t(tb.prototype,{filter:function(a){this.commonBitsX.add(a.x),this.commonBitsY.add(a.y)},getCommonCoordinate:function(){return new fa(this.commonBitsX.getCommon(),this.commonBitsY.getCommon())},interfaces_:function(){return[T]},getClass:function(){return tb}}),t(ub.prototype,{filter:function(a,b){var c=a.getOrdinate(b,0)+this.trans.x,d=a.getOrdinate(b,1)+this.trans.y;a.setOrdinate(b,0,c),a.setOrdinate(b,1,d)},isDone:function(){return!1},isGeometryChanged:function(){return!0},interfaces_:function(){return[qa]},getClass:function(){return ub}}),sb.CommonCoordinateFilter=tb,sb.Translater=ub,t(vb.prototype,{next:function(){if(this.atStart)return this.atStart=!1,vb.isAtomic(this.parent)&&this.index++,this.parent;if(null!==this.subcollectionIterator){if(this.subcollectionIterator.hasNext())return this.subcollectionIterator.next();this.subcollectionIterator=null}if(this.index>=this.max)throw new h;var a=this.parent.getGeometryN(this.index++);return a instanceof ra?(this.subcollectionIterator=new vb(a),this.subcollectionIterator.next()):a},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){if(this.atStart)return!0;if(null!==this.subcollectionIterator){if(this.subcollectionIterator.hasNext())return!0;this.subcollectionIterator=null}return!(this.index>=this.max)},interfaces_:function(){return[d]},getClass:function(){return vb}}),vb.isAtomic=function(a){return!(a instanceof ra)},t(wb.prototype,{locateInternal:function(){if(arguments[0]instanceof fa&&arguments[1]instanceof Ga){var b=arguments[0],d=arguments[1];if(d.isEmpty())return C.EXTERIOR;var e=d.getExteriorRing(),f=this.locateInPolygonRing(b,e);if(f===C.EXTERIOR)return C.EXTERIOR;if(f===C.BOUNDARY)return C.BOUNDARY;for(var g=0;g<d.getNumInteriorRing();g++){var h=d.getInteriorRingN(g),j=this.locateInPolygonRing(b,h);if(j===C.INTERIOR)return C.EXTERIOR;if(j===C.BOUNDARY)return C.BOUNDARY}return C.INTERIOR}if(arguments[0]instanceof fa&&arguments[1]instanceof Ca){var k=arguments[0],a=arguments[1];if(!a.getEnvelopeInternal().intersects(k))return C.EXTERIOR;var m=a.getCoordinates();return!a.isClosed()&&(k.equals(m[0])||k.equals(m[m.length-1]))?C.BOUNDARY:eb.isOnLine(k,m)?C.INTERIOR:C.EXTERIOR}if(arguments[0]instanceof fa&&arguments[1]instanceof Ea){var l=arguments[0];return arguments[1].getCoordinate().equals2D(l)?C.INTERIOR:C.EXTERIOR}},locateInPolygonRing:function(a,b){return b.getEnvelopeInternal().intersects(a)?eb.locatePointInRing(a,b.getCoordinates()):C.EXTERIOR},intersects:function(a,b){return this.locate(a,b)!==C.EXTERIOR},updateLocationInfo:function(a){a===C.INTERIOR&&(this.isIn=!0),a===C.BOUNDARY&&this.numBoundaries++},computeLocation:function(b,c){if(c instanceof Ea&&this.updateLocationInfo(this.locateInternal(b,c)),c instanceof Ca)this.updateLocationInfo(this.locateInternal(b,c));else if(c instanceof Ga)this.updateLocationInfo(this.locateInternal(b,c));else if(c instanceof sa)for(var d,e=c,f=0;f<e.getNumGeometries();f++)d=e.getGeometryN(f),this.updateLocationInfo(this.locateInternal(b,d));else if(c instanceof Ja)for(var g,h=c,f=0;f<h.getNumGeometries();f++)g=h.getGeometryN(f),this.updateLocationInfo(this.locateInternal(b,g));else if(c instanceof ra)for(var j,k=new vb(c);k.hasNext();)j=k.next(),j!==c&&this.computeLocation(b,j)},locate:function(a,b){return b.isEmpty()?C.EXTERIOR:b instanceof Ca?this.locateInternal(a,b):b instanceof Ga?this.locateInternal(a,b):(this.isIn=!1,this.numBoundaries=0,this.computeLocation(a,b),this.boundaryRule.isInBoundary(this.numBoundaries)?C.BOUNDARY:0<this.numBoundaries||this.isIn?C.INTERIOR:C.EXTERIOR)},interfaces_:function(){return[]},getClass:function(){return wb}}),t(xb.prototype,{interfaces_:function(){return[]},getClass:function(){return xb}}),xb.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var b=arguments[0],c=arguments[1];if(0===b&&0===c)throw new ca("Cannot compute the octant for point ( "+b+", "+c+" )");var d=Math.abs(b),e=Math.abs(c);return 0<=b?0<=c?d>=e?0:1:d>=e?7:6:0<=c?d>=e?3:2:d>=e?4:5}if(arguments[0]instanceof fa&&arguments[1]instanceof fa){var f=arguments[0],g=arguments[1],h=g.x-f.x,a=g.y-f.y;if(0===h&&0===a)throw new ca("Cannot compute the octant for two identical points "+f);return xb.octant(h,a)}},t(yb.prototype,{getCoordinates:function(){},size:function(){},getCoordinate:function(){},isClosed:function(){},setData:function(){},getData:function(){},interfaces_:function(){return[]},getClass:function(){return yb}}),t(zb.prototype,{getCoordinates:function(){return this.pts},size:function(){return this.pts.length},getCoordinate:function(a){return this.pts[a]},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getSegmentOctant:function(a){return a===this.pts.length-1?-1:xb.octant(this.getCoordinate(a),this.getCoordinate(a+1))},setData:function(a){this.data=a},getData:function(){return this.data},toString:function(){return _a.toLineString(new Pa(this.pts))},interfaces_:function(){return[yb]},getClass:function(){return zb}}),t(Ab.prototype,{getBounds:function(){},interfaces_:function(){return[]},getClass:function(){return Ab}}),t(Bb.prototype,{getItem:function(){return this.item},getBounds:function(){return this.bounds},interfaces_:function(){return[Ab,a]},getClass:function(){return Bb}}),t(Cb.prototype,{poll:function(){if(this.isEmpty())return null;var a=this.items.get(1);return this.items.set(1,this.items.get(this._size)),this._size-=1,this.reorder(1),a},size:function(){return this._size},reorder:function(a){for(var b=null,c=this.items.get(a);2*a<=this._size&&(b=2*a,b!==this._size&&0>this.items.get(b+1).compareTo(this.items.get(b))&&b++,0>this.items.get(b).compareTo(c));a=b)this.items.set(a,this.items.get(b));this.items.set(a,c)},clear:function(){this._size=0,this.items.clear()},isEmpty:function(){return 0===this._size},add:function(a){this.items.add(null),this._size+=1;var b=this._size;for(this.items.set(0,a);0>a.compareTo(this.items.get(Math.trunc(b/2)));b/=2)this.items.set(b,this.items.get(Math.trunc(b/2)));this.items.set(b,a)},interfaces_:function(){return[]},getClass:function(){return Cb}}),t(Db.prototype,{visitItem:function(){},interfaces_:function(){return[]},getClass:function(){return Db}}),t(Eb.prototype,{insert:function(){},remove:function(){},query:function(){1===arguments.length?arguments[0]:2===arguments.length&&(arguments[0],arguments[1])},interfaces_:function(){return[]},getClass:function(){return Eb}}),t(Fb.prototype,{getLevel:function(){return this.level},size:function(){return this.childBoundables.size()},getChildBoundables:function(){return this.childBoundables},addChildBoundable:function(a){ea.isTrue(null===this.bounds),this.childBoundables.add(a)},isEmpty:function(){return this.childBoundables.isEmpty()},getBounds:function(){return null===this.bounds&&(this.bounds=this.computeBounds()),this.bounds},interfaces_:function(){return[Ab,a]},getClass:function(){return Fb}}),Fb.serialVersionUID=0x5a1e55ec41369800;var ng={reverseOrder:function(){return{compare:function(a,b){return b.compareTo(a)}}},min:function(a){return ng.sort(a),a.get(0)},sort:function(a,b){var c=a.toArray();b?na.sort(c,b):na.sort(c);for(var d=a.iterator(),e=0,f=c.length;e<f;e++)d.next(),d.set(c[e])},singletonList:function(a){var b=new x;return b.add(a),b}};t(Gb.prototype,{expandToQueue:function(a,b){var c=Gb.isComposite(this.boundable1),d=Gb.isComposite(this.boundable2);if(c&&d)return Gb.area(this.boundable1)>Gb.area(this.boundable2)?(this.expand(this.boundable1,this.boundable2,a,b),null):(this.expand(this.boundable2,this.boundable1,a,b),null);if(c)return this.expand(this.boundable1,this.boundable2,a,b),null;if(d)return this.expand(this.boundable2,this.boundable1,a,b),null;throw new ca("neither boundable is composite")},isLeaves:function(){return!(Gb.isComposite(this.boundable1)||Gb.isComposite(this.boundable2))},compareTo:function(a){var b=a;return this._distance<b._distance?-1:this._distance>b._distance?1:0},expand:function(b,c,d,e){for(var f=b.getChildBoundables(),g=f.iterator();g.hasNext();){var h=g.next(),j=new Gb(h,c,this.itemDistance);j.getDistance()<e&&d.add(j)}},getBoundable:function(a){return 0===a?this.boundable1:this.boundable2},getDistance:function(){return this._distance},distance:function(){return this.isLeaves()?this.itemDistance.distance(this.boundable1,this.boundable2):this.boundable1.getBounds().distance(this.boundable2.getBounds())},interfaces_:function(){return[e]},getClass:function(){return Gb}}),Gb.area=function(a){return a.getBounds().getArea()},Gb.isComposite=function(a){return a instanceof Fb},t(Hb.prototype,{getNodeCapacity:function(){return this.nodeCapacity},lastNode:function(a){return a.get(a.size()-1)},size:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this.root));if(1===arguments.length){for(var a,b=arguments[0],c=0,d=b.getChildBoundables().iterator();d.hasNext();)a=d.next(),a instanceof Fb?c+=this.size(a):a instanceof Bb&&(c+=1);return c}},removeItem:function(a,b){for(var c,d=null,e=a.getChildBoundables().iterator();e.hasNext();)c=e.next(),c instanceof Bb&&c.getItem()===b&&(d=c);return null!==d&&(a.getChildBoundables().remove(d),!0)},itemsTree:function(){if(0===arguments.length){this.build();var a=this.itemsTree(this.root);return null===a?new x:a}if(1===arguments.length){for(var b,c=arguments[0],d=new x,e=c.getChildBoundables().iterator();e.hasNext();)if(b=e.next(),b instanceof Fb){var f=this.itemsTree(b);null!==f&&d.add(f)}else b instanceof Bb?d.add(b.getItem()):ea.shouldNeverReachHere();return 0>=d.size()?null:d}},insert:function(a,b){ea.isTrue(!this.built,"Cannot insert items into an STR packed R-tree after it has been built."),this.itemBoundables.add(new Bb(a,b))},boundablesAtLevel:function(){if(1===arguments.length){var a=arguments[0],b=new x;return this.boundablesAtLevel(a,this.root,b),b}if(3===arguments.length){var c=arguments[0],d=arguments[1],e=arguments[2];if(ea.isTrue(-2<c),d.getLevel()===c)return e.add(d),null;for(var f,g=d.getChildBoundables().iterator();g.hasNext();)f=g.next(),f instanceof Fb?this.boundablesAtLevel(c,f,e):(ea.isTrue(f instanceof Bb),-1===c&&e.add(f));return null}},query:function(){if(1===arguments.length){var b=arguments[0];this.build();var d=new x;return this.isEmpty()?d:(this.getIntersectsOp().intersects(this.root.getBounds(),b)&&this.query(b,this.root,d),d)}if(2===arguments.length){var e=arguments[0],g=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this.root.getBounds(),e)&&this.query(e,this.root,g)}else if(3===arguments.length)if(N(arguments[2],Db)&&arguments[0]instanceof Object&&arguments[1]instanceof Fb)for(var h,j=arguments[0],k=arguments[1],l=arguments[2],m=k.getChildBoundables(),a=0;a<m.size();a++)h=m.get(a),this.getIntersectsOp().intersects(h.getBounds(),j)&&(h instanceof Fb?this.query(j,h,l):h instanceof Bb?l.visitItem(h.getItem()):ea.shouldNeverReachHere());else if(N(arguments[2],v)&&arguments[0]instanceof Object&&arguments[1]instanceof Fb)for(var h,n=arguments[0],c=arguments[1],f=arguments[2],m=c.getChildBoundables(),a=0;a<m.size();a++)h=m.get(a),this.getIntersectsOp().intersects(h.getBounds(),n)&&(h instanceof Fb?this.query(n,h,f):h instanceof Bb?f.add(h.getItem()):ea.shouldNeverReachHere())},build:function(){return this.built?null:(this.root=this.itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this.itemBoundables,-1),this.itemBoundables=null,void(this.built=!0))},getRoot:function(){return this.build(),this.root},remove:function(){if(2===arguments.length){var b=arguments[0],c=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this.root.getBounds(),b)&&this.remove(b,this.root,c)}if(3===arguments.length){var d=arguments[0],e=arguments[1],f=arguments[2],g=this.removeItem(e,f);if(g)return!0;for(var h,j=null,k=e.getChildBoundables().iterator();k.hasNext();)if(h=k.next(),this.getIntersectsOp().intersects(h.getBounds(),d)&&h instanceof Fb&&(g=this.remove(d,h,f))){j=h;break}return null!==j&&j.getChildBoundables().isEmpty()&&e.getChildBoundables().remove(j),g}},createHigherLevels:function(a,b){ea.isTrue(!a.isEmpty());var c=this.createParentBoundables(a,b+1);return 1===c.size()?c.get(0):this.createHigherLevels(c,b+1)},depth:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this.root));if(1===arguments.length){for(var a,b=arguments[0],c=0,d=b.getChildBoundables().iterator();d.hasNext();)if(a=d.next(),a instanceof Fb){var e=this.depth(a);e>c&&(c=e)}return c+1}},createParentBoundables:function(a,b){ea.isTrue(!a.isEmpty());var c=new x;c.add(this.createNode(b));var d=new x(a);ng.sort(d,this.getComparator());for(var e,f=d.iterator();f.hasNext();)e=f.next(),this.lastNode(c).getChildBoundables().size()===this.getNodeCapacity()&&c.add(this.createNode(b)),this.lastNode(c).addChildBoundable(e);return c},isEmpty:function(){return this.built?this.root.isEmpty():this.itemBoundables.isEmpty()},interfaces_:function(){return[a]},getClass:function(){return Hb}}),Hb.compareDoubles=function(a,b){return a>b?1:a<b?-1:0},Hb.IntersectsOp=function(){},Hb.serialVersionUID=-0x35ef64c82d4c5400,Hb.DEFAULT_NODE_CAPACITY=10,t(Ib.prototype,{distance:function(){},interfaces_:function(){return[]},getClass:function(){return Ib}}),l(Jb,Hb),t(Jb.prototype,{createParentBoundablesFromVerticalSlices:function(a,b){ea.isTrue(0<a.length);for(var c=new x,d=0;d<a.length;d++)c.addAll(this.createParentBoundablesFromVerticalSlice(a[d],b));return c},createNode:function(a){return new Kb(a)},size:function(){return 0===arguments.length?Hb.prototype.size.call(this):Hb.prototype.size.apply(this,arguments)},insert:function(){if(2!==arguments.length)return Hb.prototype.insert.apply(this,arguments);var a=arguments[0],b=arguments[1];return a.isNull()?null:void Hb.prototype.insert.call(this,a,b)},getIntersectsOp:function(){return Jb.intersectsOp},verticalSlices:function(b,c){for(var d=Math.trunc(Math.ceil(b.size()/c)),e=Array(c).fill(null),f=b.iterator(),g=0;g<c;g++){e[g]=new x;for(var h,a=0;f.hasNext()&&a<d;)h=f.next(),e[g].add(h),a++}return e},query:function(){if(1===arguments.length){var b=arguments[0];return Hb.prototype.query.call(this,b)}if(2===arguments.length){var c=arguments[0],d=arguments[1];Hb.prototype.query.call(this,c,d)}else if(3===arguments.length)if(N(arguments[2],Db)&&arguments[0]instanceof Object&&arguments[1]instanceof Fb){var e=arguments[0],f=arguments[1],g=arguments[2];Hb.prototype.query.call(this,e,f,g)}else if(N(arguments[2],v)&&arguments[0]instanceof Object&&arguments[1]instanceof Fb){var h=arguments[0],j=arguments[1],a=arguments[2];Hb.prototype.query.call(this,h,j,a)}},getComparator:function(){return Jb.yComparator},createParentBoundablesFromVerticalSlice:function(a,b){return Hb.prototype.createParentBoundables.call(this,a,b)},remove:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];return Hb.prototype.remove.call(this,a,b)}return Hb.prototype.remove.apply(this,arguments)},depth:function(){return 0===arguments.length?Hb.prototype.depth.call(this):Hb.prototype.depth.apply(this,arguments)},createParentBoundables:function(a,b){ea.isTrue(!a.isEmpty());var c=Math.trunc(Math.ceil(a.size()/this.getNodeCapacity())),d=new x(a);ng.sort(d,Jb.xComparator);var e=this.verticalSlices(d,Math.trunc(Math.ceil(Math.sqrt(c))));return this.createParentBoundablesFromVerticalSlices(e,b)},nearestNeighbour:function(){if(1===arguments.length){if(N(arguments[0],Ib)){var b=arguments[0],j=new Gb(this.getRoot(),this.getRoot(),b);return this.nearestNeighbour(j)}if(arguments[0]instanceof Gb){var e=arguments[0];return this.nearestNeighbour(e,da.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof Jb&&N(arguments[1],Ib)){var k=arguments[0],m=arguments[1],j=new Gb(this.getRoot(),k.getRoot(),m);return this.nearestNeighbour(j)}if(arguments[0]instanceof Gb&&"number"==typeof arguments[1]){var n=arguments[0],o=arguments[1],a=o,q=null,l=new Cb;for(l.add(n);!l.isEmpty()&&0<a;){var c=l.poll(),f=c.getDistance();if(f>=a)break;c.isLeaves()?(a=f,q=c):c.expandToQueue(l,a)}return[q.getBoundable(0).getItem(),q.getBoundable(1).getItem()]}}else if(3===arguments.length){var h=arguments[0],p=arguments[1],d=arguments[2],g=new Bb(h,p),j=new Gb(this.getRoot(),g,d);return this.nearestNeighbour(j)[0]}},interfaces_:function(){return[Eb,a]},getClass:function(){return Jb}}),Jb.centreX=function(a){return Jb.avg(a.getMinX(),a.getMaxX())},Jb.avg=function(a,b){return(a+b)/2},Jb.centreY=function(a){return Jb.avg(a.getMinY(),a.getMaxY())},l(Kb,Fb),t(Kb.prototype,{computeBounds:function(){for(var a,b=null,c=this.getChildBoundables().iterator();c.hasNext();)a=c.next(),null===b?b=new y(a.getBounds()):b.expandToInclude(a.getBounds());return b},interfaces_:function(){return[]},getClass:function(){return Kb}}),Jb.STRtreeNode=Kb,Jb.serialVersionUID=0x39920f7d5f261e0,Jb.xComparator={interfaces_:function(){return[o]},compare:function(a,b){return Hb.compareDoubles(Jb.centreX(a.getBounds()),Jb.centreX(b.getBounds()))}},Jb.yComparator={interfaces_:function(){return[o]},compare:function(a,b){return Hb.compareDoubles(Jb.centreY(a.getBounds()),Jb.centreY(b.getBounds()))}},Jb.intersectsOp={interfaces_:function(){return[IntersectsOp]},intersects:function(a,b){return a.intersects(b)}},Jb.DEFAULT_NODE_CAPACITY=10,t(Lb.prototype,{interfaces_:function(){return[]},getClass:function(){return Lb}}),Lb.relativeSign=function(a,b){return a<b?-1:a>b?1:0},Lb.compare=function(a,b,c){if(b.equals2D(c))return 0;var d=Lb.relativeSign(b.x,c.x),e=Lb.relativeSign(b.y,c.y);return 0===a?Lb.compareValue(d,e):1===a?Lb.compareValue(e,d):2===a?Lb.compareValue(e,-d):3===a?Lb.compareValue(-d,e):4===a?Lb.compareValue(-d,-e):5===a?Lb.compareValue(-e,-d):6===a?Lb.compareValue(-e,d):7===a?Lb.compareValue(d,-e):(ea.shouldNeverReachHere("invalid octant value"),0)},Lb.compareValue=function(a,b){return 0>a?-1:0<a?1:0>b?-1:0<b?1:0},t(Mb.prototype,{getCoordinate:function(){return this.coord},print:function(a){a.print(this.coord),a.print(" seg # = "+this.segmentIndex)},compareTo:function(a){var b=a;return this.segmentIndex<b.segmentIndex?-1:this.segmentIndex>b.segmentIndex?1:this.coord.equals2D(b.coord)?0:Lb.compare(this.segmentOctant,this.coord,b.coord)},isEndPoint:function(a){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===a},isInterior:function(){return this._isInterior},interfaces_:function(){return[e]},getClass:function(){return Mb}}),t(Nb.prototype,{getSplitCoordinates:function(){var a=new w;this.addEndpoints();for(var b,c=this.iterator(),d=c.next();c.hasNext();)b=c.next(),this.addEdgeCoordinates(d,b,a),d=b;return a.toCoordinateArray()},addCollapsedNodes:function(){var a=new x;this.findCollapsesFromInsertedNodes(a),this.findCollapsesFromExistingVertices(a);for(var b,c=a.iterator();c.hasNext();)b=c.next().intValue(),this.add(this.edge.getCoordinate(b),b)},print:function(a){a.println("Intersections:");for(var b=this.iterator();b.hasNext();)b.next().print(a)},findCollapsesFromExistingVertices:function(a){for(var b=0;b<this.edge.size()-2;b++){var c=this.edge.getCoordinate(b),d=(this.edge.getCoordinate(b+1),this.edge.getCoordinate(b+2));c.equals2D(d)&&a.add(new s(b+1))}},addEdgeCoordinates:function(a,b,c){var d=b.segmentIndex-a.segmentIndex+2,e=this.edge.getCoordinate(b.segmentIndex),f=b.isInterior()||!b.coord.equals2D(e);f||d--,c.add(new fa(a.coord),!1);for(var g=a.segmentIndex+1;g<=b.segmentIndex;g++)c.add(this.edge.getCoordinate(g));f&&c.add(new fa(b.coord))},iterator:function(){return this.nodeMap.values().iterator()},addSplitEdges:function(a){this.addEndpoints(),this.addCollapsedNodes();for(var b=this.iterator(),c=b.next();b.hasNext();){var d=b.next(),e=this.createSplitEdge(c,d);a.add(e),c=d}},findCollapseIndex:function(a,b,c){if(!a.coord.equals2D(b.coord))return!1;var d=b.segmentIndex-a.segmentIndex;return b.isInterior()||d--,1===d&&(c[0]=a.segmentIndex+1,!0)},findCollapsesFromInsertedNodes:function(a){for(var b,c=[,].fill(null),d=this.iterator(),e=d.next();d.hasNext();)b=d.next(),this.findCollapseIndex(e,b,c)&&a.add(new s(c[0])),e=b},getEdge:function(){return this.edge},addEndpoints:function(){var a=this.edge.size()-1;this.add(this.edge.getCoordinate(0),0),this.add(this.edge.getCoordinate(a),a)},createSplitEdge:function(b,c){var d=c.segmentIndex-b.segmentIndex+2,e=this.edge.getCoordinate(c.segmentIndex),f=c.isInterior()||!c.coord.equals2D(e);f||d--;var g=Array(d).fill(null),h=0;g[h++]=new fa(b.coord);for(var j=b.segmentIndex+1;j<=c.segmentIndex;j++)g[h++]=this.edge.getCoordinate(j);return f&&(g[h]=new fa(c.coord)),new Qb(g,this.edge.getData())},add:function(a,b){var c=new Mb(this.edge,a,b,this.edge.getSegmentOctant(b)),d=this.nodeMap.get(c);return null===d?(this.nodeMap.put(c,c),c):(ea.isTrue(d.coord.equals2D(a),"Found equal nodes with different coordinates"),d)},checkSplitEdgesCorrectness:function(a){var b=this.edge.getCoordinates(),c=a.get(0),d=c.getCoordinate(0);if(!d.equals2D(b[0]))throw new u("bad split edge start point at "+d);var e=a.get(a.size()-1),f=e.getCoordinates(),g=f[f.length-1];if(!g.equals2D(b[b.length-1]))throw new u("bad split edge end point at "+g)},interfaces_:function(){return[]},getClass:function(){return Nb}}),t(Ob.prototype,{next:function(){return null===this.currNode?(this.currNode=this.nextNode,this.currSegIndex=this.currNode.segmentIndex,this.readNextNode(),this.currNode):null===this.nextNode?null:this.nextNode.segmentIndex===this.currNode.segmentIndex?(this.currNode=this.nextNode,this.currSegIndex=this.currNode.segmentIndex,this.readNextNode(),this.currNode):(this.nextNode.segmentIndex,this.currNode.segmentIndex,null)},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){return null!==this.nextNode},readNextNode:function(){this.nextNode=this.nodeIt.hasNext()?this.nodeIt.next():null},interfaces_:function(){return[d]},getClass:function(){return Ob}}),t(Pb.prototype,{addIntersection:function(){},interfaces_:function(){return[yb]},getClass:function(){return Pb}}),t(Qb.prototype,{getCoordinates:function(){return this.pts},size:function(){return this.pts.length},getCoordinate:function(a){return this.pts[a]},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getSegmentOctant:function(a){return a===this.pts.length-1?-1:this.safeOctant(this.getCoordinate(a),this.getCoordinate(a+1))},setData:function(a){this.data=a},safeOctant:function(a,b){return a.equals2D(b)?0:xb.octant(a,b)},getData:function(){return this.data},addIntersection:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];this.addIntersectionNode(a,b)}else if(4===arguments.length){var c=arguments[0],d=arguments[1],e=(arguments[2],arguments[3]),f=new fa(c.getIntersection(e));this.addIntersection(f,d)}},toString:function(){return _a.toLineString(new Pa(this.pts))},getNodeList:function(){return this.nodeList},addIntersectionNode:function(a,b){var c=b,d=c+1;if(d<this.pts.length){var e=this.pts[d];a.equals2D(e)&&(c=d)}return this.nodeList.add(a,c)},addIntersections:function(a,b,c){for(var d=0;d<a.getIntersectionNum();d++)this.addIntersection(a,b,c,d)},interfaces_:function(){return[Pb]},getClass:function(){return Qb}}),Qb.getNodedSubstrings=function(){if(1===arguments.length){var a=arguments[0],b=new x;return Qb.getNodedSubstrings(a,b),b}if(2===arguments.length)for(var c,d=arguments[0],e=arguments[1],f=d.iterator();f.hasNext();)c=f.next(),c.getNodeList().addSplitEdges(e)},t(Rb.prototype,{overlap:function(){if(2===arguments.length)arguments[0],arguments[1];else if(4===arguments.length){var a=arguments[0],b=arguments[1],c=arguments[2],d=arguments[3];a.getLineSegment(b,this.overlapSeg1),c.getLineSegment(d,this.overlapSeg2),this.overlap(this.overlapSeg1,this.overlapSeg2)}},interfaces_:function(){return[]},getClass:function(){return Rb}}),t(Sb.prototype,{getLineSegment:function(a,b){b.p0=this.pts[a],b.p1=this.pts[a+1]},computeSelect:function(a,b,c,d){var e=this.pts[b],f=this.pts[c];if(d.tempEnv1.init(e,f),1==c-b)return d.select(this,b),null;if(!a.intersects(d.tempEnv1))return null;var g=Math.trunc((b+c)/2);b<g&&this.computeSelect(a,b,g,d),g<c&&this.computeSelect(a,g,c,d)},getCoordinates:function(){for(var a=Array(this.end-this.start+1).fill(null),b=0,c=this.start;c<=this.end;c++)a[b++]=this.pts[c];return a},computeOverlaps:function(a,b){this.computeOverlapsInternal(this.start,this.end,a,a.start,a.end,b)},setId:function(a){this.id=a},select:function(a,b){this.computeSelect(a,this.start,this.end,b)},getEnvelope:function(){if(null===this.env){var a=this.pts[this.start],b=this.pts[this.end];this.env=new y(a,b)}return this.env},getEndIndex:function(){return this.end},getStartIndex:function(){return this.start},getContext:function(){return this.context},getId:function(){return this.id},computeOverlapsInternal:function(b,d,e,g,h,j){var k=this.pts[b],m=this.pts[d],a=e.pts[g],n=e.pts[h];if(1==d-b&&1==h-g)return j.overlap(this,b,e,g),null;if(j.tempEnv1.init(k,m),j.tempEnv2.init(a,n),!j.tempEnv1.intersects(j.tempEnv2))return null;var l=Math.trunc((b+d)/2),c=Math.trunc((g+h)/2);b<l&&(g<c&&this.computeOverlapsInternal(b,l,e,g,c,j),c<h&&this.computeOverlapsInternal(b,l,e,c,h,j)),l<d&&(g<c&&this.computeOverlapsInternal(l,d,e,g,c,j),c<h&&this.computeOverlapsInternal(l,d,e,c,h,j))},interfaces_:function(){return[]},getClass:function(){return Sb}}),t(Tb.prototype,{interfaces_:function(){return[]},getClass:function(){return Tb}}),Tb.isNorthern=function(a){return a===Tb.NE||a===Tb.NW},Tb.isOpposite=function(a,b){return a!==b&&2==(a-b+4)%4},Tb.commonHalfPlane=function(a,b){if(a===b)return a;if(2==(a-b+4)%4)return-1;var c=a<b?a:b,d=a>b?a:b;return 0===c&&3===d?3:c},Tb.isInHalfPlane=function(a,b){return b===Tb.SE?a===Tb.SE||a===Tb.SW:a===b||a===b+1},Tb.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var a=arguments[0],b=arguments[1];if(0===a&&0===b)throw new ca("Cannot compute the quadrant for point ( "+a+", "+b+" )");return 0<=a?0<=b?Tb.NE:Tb.SE:0<=b?Tb.NW:Tb.SW}if(arguments[0]instanceof fa&&arguments[1]instanceof fa){var c=arguments[0],d=arguments[1];if(d.x===c.x&&d.y===c.y)throw new ca("Cannot compute the quadrant for two identical points "+c);return d.x>=c.x?d.y>=c.y?Tb.NE:Tb.SE:d.y>=c.y?Tb.NW:Tb.SW}},Tb.NE=0,Tb.NW=1,Tb.SW=2,Tb.SE=3,t(Ub.prototype,{interfaces_:function(){return[]},getClass:function(){return Ub}}),Ub.getChainStartIndices=function(a){var b=0,c=new x;c.add(new s(b));do{var d=Ub.findChainEnd(a,b);c.add(new s(d)),b=d}while(b<a.length-1);return Ub.toIntArray(c)},Ub.findChainEnd=function(a,b){for(var c=b;c<a.length-1&&a[c].equals2D(a[c+1]);)c++;if(c>=a.length-1)return a.length-1;for(var d=Tb.quadrant(a[c],a[c+1]),e=b+1;e<a.length&&(a[e-1].equals2D(a[e])||Tb.quadrant(a[e-1],a[e])===d);)e++;return e-1},Ub.getChains=function(){if(1===arguments.length){var a=arguments[0];return Ub.getChains(a,null)}if(2===arguments.length){for(var b,c=arguments[0],d=arguments[1],e=new x,f=Ub.getChainStartIndices(c),g=0;g<f.length-1;g++)b=new Sb(c,f[g],f[g+1],d),e.add(b);return e}},Ub.toIntArray=function(a){for(var b=Array(a.size()).fill(null),c=0;c<b.length;c++)b[c]=a.get(c).intValue();return b},t(Vb.prototype,{computeNodes:function(){},getNodedSubstrings:function(){},interfaces_:function(){return[]},getClass:function(){return Vb}}),t(Wb.prototype,{setSegmentIntersector:function(a){this.segInt=a},interfaces_:function(){return[Vb]},getClass:function(){return Wb}}),l(Xb,Wb),t(Xb.prototype,{getMonotoneChains:function(){return this.monoChains},getNodedSubstrings:function(){return Qb.getNodedSubstrings(this.nodedSegStrings)},getIndex:function(){return this.index},add:function(a){for(var b,c=Ub.getChains(a.getCoordinates(),a),d=c.iterator();d.hasNext();)b=d.next(),b.setId(this.idCounter++),this.index.insert(b.getEnvelope(),b),this.monoChains.add(b)},computeNodes:function(a){this.nodedSegStrings=a;for(var b=a.iterator();b.hasNext();)this.add(b.next());this.intersectChains()},intersectChains:function(){for(var a=new Yb(this.segInt),b=this.monoChains.iterator();b.hasNext();)for(var c,d=b.next(),e=this.index.query(d.getEnvelope()),f=e.iterator();f.hasNext();)if(c=f.next(),c.getId()>d.getId()&&(d.computeOverlaps(c,a),this.nOverlaps++),this.segInt.isDone())return null},interfaces_:function(){return[]},getClass:function(){return Xb}}),l(Yb,Rb),t(Yb.prototype,{overlap:function(){if(4!==arguments.length)return Rb.prototype.overlap.apply(this,arguments);var a=arguments[0],b=arguments[1],c=arguments[2],d=arguments[3],e=a.getContext(),f=c.getContext();this.si.processIntersections(e,b,f,d)},interfaces_:function(){return[]},getClass:function(){return Yb}}),Xb.SegmentOverlapAction=Yb,l(Zb,u),t(Zb.prototype,{getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return Zb}}),Zb.msgWithCoord=function(a,b){return null===b?a:a+" [ "+b+" ]"},t($b.prototype,{processIntersections:function(){},isDone:function(){},interfaces_:function(){return[]},getClass:function(){return $b}}),t(_b.prototype,{getInteriorIntersection:function(){return this.interiorIntersection},setCheckEndSegmentsOnly:function(a){this.isCheckEndSegmentsOnly=a},getIntersectionSegments:function(){return this.intSegments},count:function(){return this.intersectionCount},getIntersections:function(){return this.intersections},setFindAllIntersections:function(a){this.findAllIntersections=a},setKeepIntersections:function(a){this.keepIntersections=a},processIntersections:function(b,c,d,e){if(!this.findAllIntersections&&this.hasIntersection())return null;if(b===d&&c===e)return null;if(this.isCheckEndSegmentsOnly&&!(this.isEndSegment(b,c)||this.isEndSegment(d,e)))return null;var f=b.getCoordinates()[c],g=b.getCoordinates()[c+1],h=d.getCoordinates()[e],j=d.getCoordinates()[e+1];this.li.computeIntersection(f,g,h,j),this.li.hasIntersection()&&this.li.isInteriorIntersection()&&(this.intSegments=[,,,,].fill(null),this.intSegments[0]=f,this.intSegments[1]=g,this.intSegments[2]=h,this.intSegments[3]=j,this.interiorIntersection=this.li.getIntersection(0),this.keepIntersections&&this.intersections.add(this.interiorIntersection),this.intersectionCount++)},isEndSegment:function(a,b){return 0===b||b>=a.size()-2},hasIntersection:function(){return null!==this.interiorIntersection},isDone:function(){return!this.findAllIntersections&&null!==this.interiorIntersection},interfaces_:function(){return[$b]},getClass:function(){return _b}}),_b.createAllIntersectionsFinder=function(a){var b=new _b(a);return b.setFindAllIntersections(!0),b},_b.createAnyIntersectionFinder=function(a){return new _b(a)},_b.createIntersectionCounter=function(a){var b=new _b(a);return b.setFindAllIntersections(!0),b.setKeepIntersections(!1),b},t(ac.prototype,{execute:function(){return null===this.segInt?void this.checkInteriorIntersections():null},getIntersections:function(){return this.segInt.getIntersections()},isValid:function(){return this.execute(),this._isValid},setFindAllIntersections:function(a){this.findAllIntersections=a},checkInteriorIntersections:function(){this._isValid=!0,this.segInt=new _b(this.li),this.segInt.setFindAllIntersections(this.findAllIntersections);var a=new Xb;if(a.setSegmentIntersector(this.segInt),a.computeNodes(this.segStrings),this.segInt.hasIntersection())return this._isValid=!1,null},checkValid:function(){if(this.execute(),!this._isValid)throw new Zb(this.getErrorMessage(),this.segInt.getInteriorIntersection())},getErrorMessage:function(){if(this._isValid)return"no intersections found";var a=this.segInt.getIntersectionSegments();return"found non-noded intersection between "+_a.toLineString(a[0],a[1])+" and "+_a.toLineString(a[2],a[3])},interfaces_:function(){return[]},getClass:function(){return ac}}),ac.computeIntersections=function(a){var b=new ac(a);return b.setFindAllIntersections(!0),b.isValid(),b.getIntersections()},t(bc.prototype,{checkValid:function(){this.nv.checkValid()},interfaces_:function(){return[]},getClass:function(){return bc}}),bc.toSegmentStrings=function(a){for(var b,c=new x,d=a.iterator();d.hasNext();)b=d.next(),c.add(new zb(b.getCoordinates(),b));return c},bc.checkValid=function(a){new bc(a).checkValid()},t(cc.prototype,{map:function(a){for(var b,c=new x,d=0;d<a.getNumGeometries();d++)b=this.mapOp.map(a.getGeometryN(d)),b.isEmpty()||c.add(b);return a.getFactory().createGeometryCollection(Za.toGeometryArray(c))},interfaces_:function(){return[]},getClass:function(){return cc}}),cc.map=function(a,b){return new cc(b).map(a)},t(dc.prototype,{interfaces_:function(){return[]},getClass:function(){return dc}}),dc.opposite=function(a){return a===dc.LEFT?dc.RIGHT:a===dc.RIGHT?dc.LEFT:a},dc.ON=0,dc.LEFT=1,dc.RIGHT=2,t(ec.prototype,{setAllLocations:function(a){for(var b=0;b<this.location.length;b++)this.location[b]=a},isNull:function(){for(var a=0;a<this.location.length;a++)if(this.location[a]!==C.NONE)return!1;return!0},setAllLocationsIfNull:function(a){for(var b=0;b<this.location.length;b++)this.location[b]===C.NONE&&(this.location[b]=a)},isLine:function(){return 1===this.location.length},merge:function(a){if(a.location.length>this.location.length){var b=[,,,].fill(null);b[dc.ON]=this.location[dc.ON],b[dc.LEFT]=C.NONE,b[dc.RIGHT]=C.NONE,this.location=b}for(var c=0;c<this.location.length;c++)this.location[c]===C.NONE&&c<a.location.length&&(this.location[c]=a.location[c])},getLocations:function(){return this.location},flip:function(){if(1>=this.location.length)return null;var a=this.location[dc.LEFT];this.location[dc.LEFT]=this.location[dc.RIGHT],this.location[dc.RIGHT]=a},toString:function(){var a=new L;return 1<this.location.length&&a.append(C.toLocationSymbol(this.location[dc.LEFT])),a.append(C.toLocationSymbol(this.location[dc.ON])),1<this.location.length&&a.append(C.toLocationSymbol(this.location[dc.RIGHT])),a.toString()},setLocations:function(a,b,c){this.location[dc.ON]=a,this.location[dc.LEFT]=b,this.location[dc.RIGHT]=c},get:function(a){return a<this.location.length?this.location[a]:C.NONE},isArea:function(){return 1<this.location.length},isAnyNull:function(){for(var a=0;a<this.location.length;a++)if(this.location[a]===C.NONE)return!0;return!1},setLocation:function(){if(1===arguments.length){var a=arguments[0];this.setLocation(dc.ON,a)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.location[b]=c}},init:function(a){this.location=Array(a).fill(null),this.setAllLocations(C.NONE)},isEqualOnSide:function(a,b){return this.location[b]===a.location[b]},allPositionsEqual:function(a){for(var b=0;b<this.location.length;b++)if(this.location[b]!==a)return!1;return!0},interfaces_:function(){return[]},getClass:function(){return ec}}),t(fc.prototype,{getGeometryCount:function(){var a=0;return this.elt[0].isNull()||a++,this.elt[1].isNull()||a++,a},setAllLocations:function(a,b){this.elt[a].setAllLocations(b)},isNull:function(a){return this.elt[a].isNull()},setAllLocationsIfNull:function(){if(1===arguments.length){var a=arguments[0];this.setAllLocationsIfNull(0,a),this.setAllLocationsIfNull(1,a)}else if(2===arguments.length){var b=arguments[0],c=arguments[1];this.elt[b].setAllLocationsIfNull(c)}},isLine:function(a){return this.elt[a].isLine()},merge:function(a){for(var b=0;2>b;b++)null===this.elt[b]&&null!==a.elt[b]?this.elt[b]=new ec(a.elt[b]):this.elt[b].merge(a.elt[b])},flip:function(){this.elt[0].flip(),this.elt[1].flip()},getLocation:function(){if(1===arguments.length){var a=arguments[0];return this.elt[a].get(dc.ON)}if(2===arguments.length){var b=arguments[0],c=arguments[1];return this.elt[b].get(c)}},toString:function(){var a=new L;return null!==this.elt[0]&&(a.append("A:"),a.append(this.elt[0].toString())),null!==this.elt[1]&&(a.append(" B:"),a.append(this.elt[1].toString())),a.toString()},isArea:function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var a=arguments[0];return this.elt[a].isArea()}},isAnyNull:function(a){return this.elt[a].isAnyNull()},setLocation:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];this.elt[a].setLocation(dc.ON,b)}else if(3===arguments.length){var c=arguments[0],d=arguments[1],e=arguments[2];this.elt[c].setLocation(d,e)}},isEqualOnSide:function(a,b){return this.elt[0].isEqualOnSide(a.elt[0],b)&&this.elt[1].isEqualOnSide(a.elt[1],b)},allPositionsEqual:function(a,b){return this.elt[a].allPositionsEqual(b)},toLine:function(a){this.elt[a].isArea()&&(this.elt[a]=new ec(this.elt[a].location[0]))},interfaces_:function(){return[]},getClass:function(){return fc}}),fc.toLineLabel=function(a){for(var b=new fc(C.NONE),c=0;2>c;c++)b.setLocation(c,a.getLocation(c));return b},t(gc.prototype,{computeRing:function(){if(null!==this.ring)return null;for(var a=Array(this.pts.size()).fill(null),b=0;b<this.pts.size();b++)a[b]=this.pts.get(b);this.ring=this.geometryFactory.createLinearRing(a),this._isHole=eb.isCCW(this.ring.getCoordinates())},isIsolated:function(){return 1===this.label.getGeometryCount()},computePoints:function(a){this.startDe=a;var b=a,c=!0;do{if(null===b)throw new Zb("Found null DirectedEdge");if(b.getEdgeRing()===this)throw new Zb("Directed Edge visited twice during ring-building at "+b.getCoordinate());this.edges.add(b);var d=b.getLabel();ea.isTrue(d.isArea()),this.mergeLabel(d),this.addPoints(b.getEdge(),b.isForward(),c),c=!1,this.setEdgeRing(b,this),b=this.getNext(b)}while(b!==this.startDe)},getLinearRing:function(){return this.ring},getCoordinate:function(a){return this.pts.get(a)},computeMaxNodeDegree:function(){this.maxNodeDegree=0;var a=this.startDe;do{var b=a.getNode(),c=b.getEdges().getOutgoingDegree(this);c>this.maxNodeDegree&&(this.maxNodeDegree=c),a=this.getNext(a)}while(a!==this.startDe);this.maxNodeDegree*=2},addPoints:function(a,b,c){var d=a.getCoordinates();if(b){var e=1;c&&(e=0);for(var f=e;f<d.length;f++)this.pts.add(d[f])}else{var e=d.length-2;c&&(e=d.length-1);for(var f=e;0<=f;f--)this.pts.add(d[f])}},isHole:function(){return this._isHole},setInResult:function(){var a=this.startDe;do a.getEdge().setInResult(!0),a=a.getNext();while(a!==this.startDe)},containsPoint:function(a){var b=this.getLinearRing();if(!b.getEnvelopeInternal().contains(a))return!1;if(!eb.isPointInRing(a,b.getCoordinates()))return!1;for(var c=this.holes.iterator();c.hasNext();)if(c.next().containsPoint(a))return!1;return!0},addHole:function(a){this.holes.add(a)},isShell:function(){return null===this.shell},getLabel:function(){return this.label},getEdges:function(){return this.edges},getMaxNodeDegree:function(){return 0>this.maxNodeDegree&&this.computeMaxNodeDegree(),this.maxNodeDegree},getShell:function(){return this.shell},mergeLabel:function(){if(1===arguments.length){var a=arguments[0];this.mergeLabel(a,0),this.mergeLabel(a,1)}else if(2===arguments.length){var b=arguments[0],c=arguments[1],d=b.getLocation(c,dc.RIGHT);if(d===C.NONE)return null;if(this.label.getLocation(c)===C.NONE)return this.label.setLocation(c,d),null}},setShell:function(a){this.shell=a,null!==a&&a.addHole(this)},toPolygon:function(a){for(var b=Array(this.holes.size()).fill(null),c=0;c<this.holes.size();c++)b[c]=this.holes.get(c).getLinearRing();return a.createPolygon(this.getLinearRing(),b)},interfaces_:function(){return[]},getClass:function(){return gc}}),l(hc,gc),t(hc.prototype,{setEdgeRing:function(a,b){a.setMinEdgeRing(b)},getNext:function(a){return a.getNextMin()},interfaces_:function(){return[]},getClass:function(){return hc}}),l(ic,gc),t(ic.prototype,{buildMinimalRings:function(){var a=new x,b=this.startDe;do{if(null===b.getMinEdgeRing()){var c=new hc(b,this.geometryFactory);a.add(c)}b=b.getNext()}while(b!==this.startDe);return a},setEdgeRing:function(a,b){a.setEdgeRing(b)},linkDirectedEdgesForMinimalEdgeRings:function(){var a=this.startDe;do a.getNode().getEdges().linkMinimalDirectedEdges(this),a=a.getNext();while(a!==this.startDe)},getNext:function(a){return a.getNext()},interfaces_:function(){return[]},getClass:function(){return ic}}),t(jc.prototype,{setVisited:function(a){this._isVisited=a},setInResult:function(a){this._isInResult=a},isCovered:function(){return this._isCovered},isCoveredSet:function(){return this._isCoveredSet},setLabel:function(a){this.label=a},getLabel:function(){return this.label},setCovered:function(a){this._isCovered=a,this._isCoveredSet=!0},updateIM:function(a){ea.isTrue(2<=this.label.getGeometryCount(),"found partial label"),this.computeIM(a)},isInResult:function(){return this._isInResult},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return jc}}),l(kc,jc),t(kc.prototype,{isIncidentEdgeInResult:function(){for(var a=this.getEdges().getEdges().iterator();a.hasNext();)if(a.next().getEdge().isInResult())return!0;return!1},isIsolated:function(){return 1===this.label.getGeometryCount()},getCoordinate:function(){return this.coord},print:function(a){a.println("node "+this.coord+" lbl: "+this.label)},computeIM:function(){},computeMergedLocation:function(a,b){var c=C.NONE;if(c=this.label.getLocation(b),!a.isNull(b)){var d=a.getLocation(b);c!==C.BOUNDARY&&(c=d)}return c},setLabel:function(){if(2!==arguments.length)return jc.prototype.setLabel.apply(this,arguments);var a=arguments[0],b=arguments[1];null===this.label?this.label=new fc(a,b):this.label.setLocation(a,b)},getEdges:function(){return this.edges},mergeLabel:function(){if(arguments[0]instanceof kc){var a=arguments[0];this.mergeLabel(a.label)}else if(arguments[0]instanceof fc)for(var b=arguments[0],c=0;2>c;c++){var d=this.computeMergedLocation(b,c),e=this.label.getLocation(c);e===C.NONE&&this.label.setLocation(c,d)}},add:function(a){this.edges.insert(a),a.setNode(this)},setLabelBoundary:function(a){if(null===this.label)return null;var b=C.NONE;null!==this.label&&(b=this.label.getLocation(a));var c=null;c=b===C.BOUNDARY?C.INTERIOR:b===C.INTERIOR?C.BOUNDARY:C.BOUNDARY,this.label.setLocation(a,c)},interfaces_:function(){return[]},getClass:function(){return kc}}),t(lc.prototype,{find:function(a){return this.nodeMap.get(a)},addNode:function(){if(arguments[0]instanceof fa){var a=arguments[0],b=this.nodeMap.get(a);return null===b&&(b=this.nodeFact.createNode(a),this.nodeMap.put(a,b)),b}if(arguments[0]instanceof kc){var c=arguments[0],b=this.nodeMap.get(c.getCoordinate());return null===b?(this.nodeMap.put(c.getCoordinate(),c),c):(b.mergeLabel(c),b)}},print:function(a){for(var b=this.iterator();b.hasNext();)b.next().print(a)},iterator:function(){return this.nodeMap.values().iterator()},values:function(){return this.nodeMap.values()},getBoundaryNodes:function(a){for(var b,c=new x,d=this.iterator();d.hasNext();)b=d.next(),b.getLabel().getLocation(a)===C.BOUNDARY&&c.add(b);return c},add:function(a){var b=a.getCoordinate();this.addNode(b).add(a)},interfaces_:function(){return[]},getClass:function(){return lc}}),t(mc.prototype,{compareDirection:function(a){return this.dx===a.dx&&this.dy===a.dy?0:this.quadrant>a.quadrant?1:this.quadrant<a.quadrant?-1:eb.computeOrientation(a.p0,a.p1,this.p1)},getDy:function(){return this.dy},getCoordinate:function(){return this.p0},setNode:function(a){this.node=a},print:function(a){var b=Math.atan2(this.dy,this.dx),c=this.getClass().getName(),d=c.lastIndexOf("."),e=c.substring(d+1);a.print("  "+e+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+b+"   "+this.label)},compareTo:function(a){return this.compareDirection(a)},getDirectedCoordinate:function(){return this.p1},getDx:function(){return this.dx},getLabel:function(){return this.label},getEdge:function(){return this.edge},getQuadrant:function(){return this.quadrant},getNode:function(){return this.node},toString:function(){var a=Math.atan2(this.dy,this.dx),b=this.getClass().getName(),c=b.lastIndexOf(".");return"  "+b.substring(c+1)+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+a+"   "+this.label},computeLabel:function(){},init:function(a,b){this.p0=a,this.p1=b,this.dx=b.x-a.x,this.dy=b.y-a.y,this.quadrant=Tb.quadrant(this.dx,this.dy),ea.isTrue(0!==this.dx||0!==this.dy,"EdgeEnd with identical endpoints found")},interfaces_:function(){return[e]},getClass:function(){return mc}}),l(nc,mc),t(nc.prototype,{getNextMin:function(){return this.nextMin},getDepth:function(a){return this.depth[a]},setVisited:function(a){this._isVisited=a},computeDirectedLabel:function(){this.label=new fc(this.edge.getLabel()),this._isForward||this.label.flip()},getNext:function(){return this.next},setDepth:function(a,b){if(-999!==this.depth[a]&&this.depth[a]!==b)throw new Zb("assigned depths do not match",this.getCoordinate());this.depth[a]=b},isInteriorAreaEdge:function(){for(var a=!0,b=0;2>b;b++)this.label.isArea(b)&&this.label.getLocation(b,dc.LEFT)===C.INTERIOR&&this.label.getLocation(b,dc.RIGHT)===C.INTERIOR||(a=!1);return a},setNextMin:function(a){this.nextMin=a},print:function(a){mc.prototype.print.call(this,a),a.print(" "+this.depth[dc.LEFT]+"/"+this.depth[dc.RIGHT]),a.print(" ("+this.getDepthDelta()+")"),this._isInResult&&a.print(" inResult")},setMinEdgeRing:function(a){this.minEdgeRing=a},isLineEdge:function(){var a=this.label.isLine(0)||this.label.isLine(1),b=!this.label.isArea(0)||this.label.allPositionsEqual(0,C.EXTERIOR),c=!this.label.isArea(1)||this.label.allPositionsEqual(1,C.EXTERIOR);return a&&b&&c},setEdgeRing:function(a){this.edgeRing=a},getMinEdgeRing:function(){return this.minEdgeRing},getDepthDelta:function(){var a=this.edge.getDepthDelta();return this._isForward||(a=-a),a},setInResult:function(a){this._isInResult=a},getSym:function(){return this.sym},isForward:function(){return this._isForward},getEdge:function(){return this.edge},printEdge:function(a){this.print(a),a.print(" "),this._isForward?this.edge.print(a):this.edge.printReverse(a)},setSym:function(a){this.sym=a},setVisitedEdge:function(a){this.setVisited(a),this.sym.setVisited(a)},setEdgeDepths:function(a,b){var c=this.getEdge().getDepthDelta();this._isForward||(c=-c);var d=1;a===dc.LEFT&&(d=-1);var e=dc.opposite(a),f=c*d;this.setDepth(a,b),this.setDepth(e,b+f)},getEdgeRing:function(){return this.edgeRing},isInResult:function(){return this._isInResult},setNext:function(a){this.next=a},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return nc}}),nc.depthFactor=function(a,b){return a===C.EXTERIOR&&b===C.INTERIOR?1:a===C.INTERIOR&&b===C.EXTERIOR?-1:0},t(oc.prototype,{createNode:function(a){return new kc(a,null)},interfaces_:function(){return[]},getClass:function(){return oc}}),t(pc.prototype,{printEdges:function(a){a.println("Edges:");for(var b=0;b<this.edges.size();b++){a.println("edge "+b+":");var c=this.edges.get(b);c.print(a),c.eiList.print(a)}},find:function(a){return this.nodes.find(a)},addNode:function(){if(arguments[0]instanceof kc){var a=arguments[0];return this.nodes.addNode(a)}if(arguments[0]instanceof fa){var b=arguments[0];return this.nodes.addNode(b)}},getNodeIterator:function(){return this.nodes.iterator()},linkResultDirectedEdges:function(){for(var a=this.nodes.iterator();a.hasNext();)a.next().getEdges().linkResultDirectedEdges()},debugPrintln:function(a){A.out.println(a)},isBoundaryNode:function(a,b){var c=this.nodes.find(b);if(null===c)return!1;var d=c.getLabel();return null!==d&&d.getLocation(a)===C.BOUNDARY},linkAllDirectedEdges:function(){for(var a=this.nodes.iterator();a.hasNext();)a.next().getEdges().linkAllDirectedEdges()},matchInSameDirection:function(a,b,c,d){return!!a.equals(c)&&eb.computeOrientation(a,b,d)===eb.COLLINEAR&&Tb.quadrant(a,b)===Tb.quadrant(c,d)},getEdgeEnds:function(){return this.edgeEndList},debugPrint:function(a){A.out.print(a)},getEdgeIterator:function(){return this.edges.iterator()},findEdgeInSameDirection:function(a,b){for(var c=0;c<this.edges.size();c++){var d=this.edges.get(c),e=d.getCoordinates();if(this.matchInSameDirection(a,b,e[0],e[1]))return d;if(this.matchInSameDirection(a,b,e[e.length-1],e[e.length-2]))return d}return null},insertEdge:function(a){this.edges.add(a)},findEdgeEnd:function(a){for(var b,c=this.getEdgeEnds().iterator();c.hasNext();)if(b=c.next(),b.getEdge()===a)return b;return null},addEdges:function(a){for(var b,c=a.iterator();c.hasNext();){b=c.next(),this.edges.add(b);var d=new nc(b,!0),e=new nc(b,!1);d.setSym(e),e.setSym(d),this.add(d),this.add(e)}},add:function(a){this.nodes.add(a),this.edgeEndList.add(a)},getNodes:function(){return this.nodes.values()},findEdge:function(a,b){for(var c=0;c<this.edges.size();c++){var d=this.edges.get(c),e=d.getCoordinates();if(a.equals(e[0])&&b.equals(e[1]))return d}return null},interfaces_:function(){return[]},getClass:function(){return pc}}),pc.linkResultDirectedEdges=function(a){for(var b=a.iterator();b.hasNext();)b.next().getEdges().linkResultDirectedEdges()},t(qc.prototype,{sortShellsAndHoles:function(a,b,c){for(var d,e=a.iterator();e.hasNext();)d=e.next(),d.isHole()?c.add(d):b.add(d)},computePolygons:function(a){for(var b=new x,c=a.iterator();c.hasNext();){var d=c.next(),e=d.toPolygon(this.geometryFactory);b.add(e)}return b},placeFreeHoles:function(a,b){for(var c,d=b.iterator();d.hasNext();)if(c=d.next(),null===c.getShell()){var e=this.findEdgeRingContaining(c,a);if(null===e)throw new Zb("unable to assign hole to a shell",c.getCoordinate(0));c.setShell(e)}},buildMinimalEdgeRings:function(b,c,d){for(var e,f=new x,g=b.iterator();g.hasNext();)if(e=g.next(),2<e.getMaxNodeDegree()){e.linkDirectedEdgesForMinimalEdgeRings();var h=e.buildMinimalRings(),j=this.findShell(h);null===j?d.addAll(h):(this.placePolygonHoles(j,h),c.add(j))}else f.add(e);return f},containsPoint:function(a){for(var b=this.shellList.iterator();b.hasNext();)if(b.next().containsPoint(a))return!0;return!1},buildMaximalEdgeRings:function(a){for(var b,c=new x,d=a.iterator();d.hasNext();)if(b=d.next(),b.isInResult()&&b.getLabel().isArea()&&null===b.getEdgeRing()){var e=new ic(b,this.geometryFactory);c.add(e),e.setInResult()}return c},placePolygonHoles:function(a,b){for(var c,d=b.iterator();d.hasNext();)c=d.next(),c.isHole()&&c.setShell(a)},getPolygons:function(){return this.computePolygons(this.shellList)},findEdgeRingContaining:function(b,d){for(var e=b.getLinearRing(),g=e.getEnvelopeInternal(),h=e.getCoordinateN(0),j=null,k=null,m=d.iterator();m.hasNext();){var a=m.next(),n=a.getLinearRing(),l=n.getEnvelopeInternal();null!==j&&(k=j.getLinearRing().getEnvelopeInternal());var c=!1;l.contains(g)&&eb.isPointInRing(h,n.getCoordinates())&&(c=!0),c&&(null===j||k.contains(l))&&(j=a)}return j},findShell:function(a){for(var b,c=0,d=null,e=a.iterator();e.hasNext();)b=e.next(),b.isHole()||(d=b,c++);return ea.isTrue(1>=c,"found two shells in MinimalEdgeRing list"),d},add:function(){if(1===arguments.length){var a=arguments[0];this.add(a.getEdgeEnds(),a.getNodes())}else if(2===arguments.length){var b=arguments[0],c=arguments[1];pc.linkResultDirectedEdges(c);var d=this.buildMaximalEdgeRings(b),e=new x,f=this.buildMinimalEdgeRings(d,this.shellList,e);this.sortShellsAndHoles(f,this.shellList,e),this.placeFreeHoles(this.shellList,e)}},interfaces_:function(){return[]},getClass:function(){return qc}}),t(rc.prototype,{collectLines:function(a){for(var b,c=this.op.getGraph().getEdgeEnds().iterator();c.hasNext();)b=c.next(),this.collectLineEdge(b,a,this.lineEdgesList),this.collectBoundaryTouchEdge(b,a,this.lineEdgesList)},labelIsolatedLine:function(a,b){var c=this.ptLocator.locate(a.getCoordinate(),this.op.getArgGeometry(b));a.getLabel().setLocation(b,c)},build:function(a){return this.findCoveredLineEdges(),this.collectLines(a),this.buildLines(a),this.resultLineList},collectLineEdge:function(a,b,c){var d=a.getLabel(),e=a.getEdge();a.isLineEdge()&&(a.isVisited()||!Xc.isResultOfOp(d,b)||e.isCovered()||(c.add(e),a.setVisitedEdge(!0)))},findCoveredLineEdges:function(){for(var a=this.op.getGraph().getNodes().iterator();a.hasNext();)a.next().getEdges().findCoveredLineEdges();for(var b=this.op.getGraph().getEdgeEnds().iterator();b.hasNext();){var c=b.next(),d=c.getEdge();if(c.isLineEdge()&&!d.isCoveredSet()){var e=this.op.isCoveredByA(c.getCoordinate());d.setCovered(e)}}},labelIsolatedLines:function(a){for(var b=a.iterator();b.hasNext();){var c=b.next(),d=c.getLabel();c.isIsolated()&&(d.isNull(0)?this.labelIsolatedLine(c,0):this.labelIsolatedLine(c,1))}},buildLines:function(){for(var a=this.lineEdgesList.iterator();a.hasNext();){var b=a.next(),c=(b.getLabel(),this.geometryFactory.createLineString(b.getCoordinates()));this.resultLineList.add(c),b.setInResult(!0)}},collectBoundaryTouchEdge:function(a,b,c){var d=a.getLabel();return a.isLineEdge()?null:a.isVisited()?null:a.isInteriorAreaEdge()?null:a.getEdge().isInResult()?null:(ea.isTrue(!(a.isInResult()||a.getSym().isInResult())||!a.getEdge().isInResult()),void(Xc.isResultOfOp(d,b)&&b===Xc.INTERSECTION&&(c.add(a.getEdge()),a.setVisitedEdge(!0))))},interfaces_:function(){return[]},getClass:function(){return rc}}),t(sc.prototype,{filterCoveredNodeToPoint:function(a){var b=a.getCoordinate();if(!this.op.isCoveredByLA(b)){var c=this.geometryFactory.createPoint(b);this.resultPointList.add(c)}},extractNonCoveredResultNodes:function(a){for(var b,c=this.op.getGraph().getNodes().iterator();c.hasNext();)if(b=c.next(),!(b.isInResult()||b.isIncidentEdgeInResult()||0!==b.getEdges().getDegree()&&a!==Xc.INTERSECTION)){var d=b.getLabel();Xc.isResultOfOp(d,a)&&this.filterCoveredNodeToPoint(b)}},build:function(a){return this.extractNonCoveredResultNodes(a),this.resultPointList},interfaces_:function(){return[]},getClass:function(){return sc}}),t(tc.prototype,{locate:function(){},interfaces_:function(){return[]},getClass:function(){return tc}}),t(uc.prototype,{locate:function(a){return uc.locate(a,this.geom)},interfaces_:function(){return[tc]},getClass:function(){return uc}}),uc.isPointInRing=function(a,b){return!!b.getEnvelopeInternal().intersects(a)&&eb.isPointInRing(a,b.getCoordinates())},uc.containsPointInPolygon=function(a,b){if(b.isEmpty())return!1;var c=b.getExteriorRing();if(!uc.isPointInRing(a,c))return!1;for(var d,e=0;e<b.getNumInteriorRing();e++)if(d=b.getInteriorRingN(e),uc.isPointInRing(a,d))return!1;return!0},uc.containsPoint=function(a,b){if(b instanceof Ga)return uc.containsPointInPolygon(a,b);if(b instanceof ra)for(var c,d=new vb(b);d.hasNext();)if(c=d.next(),c!==b&&uc.containsPoint(a,c))return!0;return!1},uc.locate=function(a,b){return b.isEmpty()?C.EXTERIOR:uc.containsPoint(a,b)?C.INTERIOR:C.EXTERIOR},t(vc.prototype,{getNextCW:function(a){this.getEdges();var b=this.edgeList.indexOf(a),c=b-1;return 0===b&&(c=this.edgeList.size()-1),this.edgeList.get(c)},propagateSideLabels:function(b){for(var c=C.NONE,d=this.iterator();d.hasNext();){var e=d.next(),f=e.getLabel();f.isArea(b)&&f.getLocation(b,dc.LEFT)!==C.NONE&&(c=f.getLocation(b,dc.LEFT))}if(c===C.NONE)return null;for(var g=c,d=this.iterator();d.hasNext();){var e=d.next(),f=e.getLabel();if(f.getLocation(b,dc.ON)===C.NONE&&f.setLocation(b,dc.ON,g),f.isArea(b)){var h=f.getLocation(b,dc.LEFT),j=f.getLocation(b,dc.RIGHT);if(j!==C.NONE){if(j!==g)throw new Zb("side location conflict",e.getCoordinate());h===C.NONE&&ea.shouldNeverReachHere("found single null side (at "+e.getCoordinate()+")"),g=h}else ea.isTrue(f.getLocation(b,dc.LEFT)===C.NONE,"found single null side"),f.setLocation(b,dc.RIGHT,g),f.setLocation(b,dc.LEFT,g)}}},getCoordinate:function(){var a=this.iterator();return a.hasNext()?a.next().getCoordinate():null},print:function(a){A.out.println("EdgeEndStar:   "+this.getCoordinate());for(var b=this.iterator();b.hasNext();)b.next().print(a)},isAreaLabelsConsistent:function(a){return this.computeEdgeEndLabels(a.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},checkAreaLabelsConsistent:function(b){var d=this.getEdges();if(0>=d.size())return!0;var e=d.size()-1,f=d.get(e).getLabel(),g=f.getLocation(b,dc.LEFT);ea.isTrue(g!==C.NONE,"Found unlabelled area edge");for(var h=g,j=this.iterator();j.hasNext();){var k=j.next(),a=k.getLabel();ea.isTrue(a.isArea(b),"Found non-area edge");var m=a.getLocation(b,dc.LEFT),l=a.getLocation(b,dc.RIGHT);if(m===l)return!1;if(l!==h)return!1;h=m}return!0},findIndex:function(a){this.iterator();for(var b=0;b<this.edgeList.size();b++)if(this.edgeList.get(b)===a)return b;return-1},iterator:function(){return this.getEdges().iterator()},getEdges:function(){return null===this.edgeList&&(this.edgeList=new x(this.edgeMap.values())),this.edgeList},getLocation:function(a,b,c){return this.ptInAreaLocation[a]===C.NONE&&(this.ptInAreaLocation[a]=uc.locate(b,c[a].getGeometry())),this.ptInAreaLocation[a]},toString:function(){var a=new L;a.append("EdgeEndStar:   "+this.getCoordinate()),a.append("\n");for(var b,c=this.iterator();c.hasNext();)b=c.next(),a.append(b),a.append("\n");return a.toString()},computeEdgeEndLabels:function(a){for(var b=this.iterator();b.hasNext();)b.next().computeLabel(a)},computeLabelling:function(b){this.computeEdgeEndLabels(b[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var c=[!1,!1],d=this.iterator();d.hasNext();)for(var e=d.next(),f=e.getLabel(),g=0;2>g;g++)f.isLine(g)&&f.getLocation(g)===C.BOUNDARY&&(c[g]=!0);for(var d=this.iterator();d.hasNext();)for(var e=d.next(),f=e.getLabel(),g=0;2>g;g++)if(f.isAnyNull(g)){var h=C.NONE;if(c[g])h=C.EXTERIOR;else{var j=e.getCoordinate();h=this.getLocation(g,j,b)}f.setAllLocationsIfNull(g,h)}},getDegree:function(){return this.edgeMap.size()},insertEdgeEnd:function(a,b){this.edgeMap.put(a,b),this.edgeList=null},interfaces_:function(){return[]},getClass:function(){return vc}}),l(wc,vc),t(wc.prototype,{linkResultDirectedEdges:function(){this.getResultAreaEdges();for(var a=null,b=null,c=this.SCANNING_FOR_INCOMING,d=0;d<this.resultAreaEdgeList.size();d++){var e=this.resultAreaEdgeList.get(d),f=e.getSym();if(e.getLabel().isArea())switch(null===a&&e.isInResult()&&(a=e),c){case this.SCANNING_FOR_INCOMING:if(!f.isInResult())continue;b=f,c=this.LINKING_TO_OUTGOING;break;case this.LINKING_TO_OUTGOING:if(!e.isInResult())continue;b.setNext(e),c=this.SCANNING_FOR_INCOMING;}}if(c===this.LINKING_TO_OUTGOING){if(null===a)throw new Zb("no outgoing dirEdge found",this.getCoordinate());ea.isTrue(a.isInResult(),"unable to link last incoming dirEdge"),b.setNext(a)}},insert:function(a){var b=a;this.insertEdgeEnd(b,b)},getRightmostEdge:function(){var a=this.getEdges(),b=a.size();if(1>b)return null;var c=a.get(0);if(1===b)return c;var d=a.get(b-1),e=c.getQuadrant(),f=d.getQuadrant();return Tb.isNorthern(e)&&Tb.isNorthern(f)?c:Tb.isNorthern(e)||Tb.isNorthern(f)?0===c.getDy()?0===d.getDy()?(ea.shouldNeverReachHere("found two horizontal edges incident on node"),null):d:c:d},print:function(a){A.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var b,c=this.iterator();c.hasNext();)b=c.next(),a.print("out "),b.print(a),a.println(),a.print("in "),b.getSym().print(a),a.println()},getResultAreaEdges:function(){if(null!==this.resultAreaEdgeList)return this.resultAreaEdgeList;this.resultAreaEdgeList=new x;for(var a,b=this.iterator();b.hasNext();)a=b.next(),(a.isInResult()||a.getSym().isInResult())&&this.resultAreaEdgeList.add(a);return this.resultAreaEdgeList},updateLabelling:function(a){for(var b=this.iterator();b.hasNext();){var c=b.next(),d=c.getLabel();d.setAllLocationsIfNull(0,a.getLocation(0)),d.setAllLocationsIfNull(1,a.getLocation(1))}},linkAllDirectedEdges:function(){this.getEdges();for(var a=null,b=null,c=this.edgeList.size()-1;0<=c;c--){var d=this.edgeList.get(c),e=d.getSym();null===b&&(b=e),null!==a&&e.setNext(a),a=d}b.setNext(a)},computeDepths:function(){if(1===arguments.length){var b=arguments[0],d=this.findIndex(b),e=(b.getLabel(),b.getDepth(dc.LEFT)),f=b.getDepth(dc.RIGHT),g=this.computeDepths(d+1,this.edgeList.size(),e);if(this.computeDepths(0,d,g)!==f)throw new Zb("depth mismatch at "+b.getCoordinate())}else if(3===arguments.length){for(var h,c=arguments[0],j=arguments[1],k=arguments[2],a=k,m=c;m<j;m++)h=this.edgeList.get(m),h.getLabel(),h.setEdgeDepths(dc.RIGHT,a),a=h.getDepth(dc.LEFT);return a}},mergeSymLabels:function(){for(var a,b=this.iterator();b.hasNext();)a=b.next(),a.getLabel().merge(a.getSym().getLabel())},linkMinimalDirectedEdges:function(a){for(var b=null,c=null,d=this.SCANNING_FOR_INCOMING,e=this.resultAreaEdgeList.size()-1;0<=e;e--){var f=this.resultAreaEdgeList.get(e),g=f.getSym();switch(null===b&&f.getEdgeRing()===a&&(b=f),d){case this.SCANNING_FOR_INCOMING:if(g.getEdgeRing()!==a)continue;c=g,d=this.LINKING_TO_OUTGOING;break;case this.LINKING_TO_OUTGOING:if(f.getEdgeRing()!==a)continue;c.setNextMin(f),d=this.SCANNING_FOR_INCOMING;}}d===this.LINKING_TO_OUTGOING&&(ea.isTrue(null!==b,"found null for first outgoing dirEdge"),ea.isTrue(b.getEdgeRing()===a,"unable to link last incoming dirEdge"),c.setNextMin(b))},getOutgoingDegree:function(){if(0===arguments.length){for(var a,b=0,c=this.iterator();c.hasNext();)a=c.next(),a.isInResult()&&b++;return b}if(1===arguments.length){for(var a,d=arguments[0],b=0,c=this.iterator();c.hasNext();)a=c.next(),a.getEdgeRing()===d&&b++;return b}},getLabel:function(){return this.label},findCoveredLineEdges:function(){for(var a=C.NONE,b=this.iterator();b.hasNext();){var c=b.next(),d=c.getSym();if(!c.isLineEdge()){if(c.isInResult()){a=C.INTERIOR;break}if(d.isInResult()){a=C.EXTERIOR;break}}}if(a===C.NONE)return null;for(var e=a,b=this.iterator();b.hasNext();){var c=b.next(),d=c.getSym();c.isLineEdge()?c.getEdge().setCovered(e===C.INTERIOR):(c.isInResult()&&(e=C.EXTERIOR),d.isInResult()&&(e=C.INTERIOR))}},computeLabelling:function(a){vc.prototype.computeLabelling.call(this,a),this.label=new fc(C.NONE);for(var b=this.iterator();b.hasNext();)for(var c,d=b.next(),e=d.getEdge(),f=e.getLabel(),g=0;2>g;g++)c=f.getLocation(g),c!==C.INTERIOR&&c!==C.BOUNDARY||this.label.setLocation(g,C.INTERIOR)},interfaces_:function(){return[]},getClass:function(){return wc}}),l(xc,oc),t(xc.prototype,{createNode:function(a){return new kc(a,new wc())},interfaces_:function(){return[]},getClass:function(){return xc}}),t(yc.prototype,{computeIntersections:function(a,b){this.mce.computeIntersectsForChain(this.chainIndex,a.mce,a.chainIndex,b)},interfaces_:function(){return[]},getClass:function(){return yc}}),t(zc.prototype,{isDelete:function(){return this.eventType===zc.DELETE},setDeleteEventIndex:function(a){this.deleteEventIndex=a},getObject:function(){return this.obj},compareTo:function(a){var b=a;return this.xValue<b.xValue?-1:this.xValue>b.xValue?1:this.eventType<b.eventType?-1:this.eventType>b.eventType?1:0},getInsertEvent:function(){return this.insertEvent},isInsert:function(){return this.eventType===zc.INSERT},isSameLabel:function(a){return null!==this.label&&this.label===a.label},getDeleteEventIndex:function(){return this.deleteEventIndex},interfaces_:function(){return[e]},getClass:function(){return zc}}),zc.INSERT=1,zc.DELETE=2,t(Ac.prototype,{interfaces_:function(){return[]},getClass:function(){return Ac}}),t(Bc.prototype,{isTrivialIntersection:function(a,b,c,d){if(a===c&&1===this.li.getIntersectionNum()){if(Bc.isAdjacentSegments(b,d))return!0;if(a.isClosed()){var e=a.getNumPoints()-1;if(0===b&&d===e||0===d&&b===e)return!0}}return!1},getProperIntersectionPoint:function(){return this.properIntersectionPoint},setIsDoneIfProperInt:function(a){this.isDoneWhenProperInt=a},hasProperInteriorIntersection:function(){return this.hasProperInterior},isBoundaryPointInternal:function(a,b){for(var c=b.iterator();c.hasNext();){var d=c.next(),e=d.getCoordinate();if(a.isIntersection(e))return!0}return!1},hasProperIntersection:function(){return this.hasProper},hasIntersection:function(){return this._hasIntersection},isDone:function(){return this._isDone},isBoundaryPoint:function(a,b){return null!==b&&(this.isBoundaryPointInternal(a,b[0])||this.isBoundaryPointInternal(a,b[1]))},setBoundaryNodes:function(a,b){this.bdyNodes=[,,].fill(null),this.bdyNodes[0]=a,this.bdyNodes[1]=b},addIntersections:function(b,c,d,e){if(b===d&&c===e)return null;this.numTests++;var f=b.getCoordinates()[c],g=b.getCoordinates()[c+1],h=d.getCoordinates()[e],j=d.getCoordinates()[e+1];this.li.computeIntersection(f,g,h,j),this.li.hasIntersection()&&(this.recordIsolated&&(b.setIsolated(!1),d.setIsolated(!1)),this.numIntersections++,this.isTrivialIntersection(b,c,d,e)||(this._hasIntersection=!0,!this.includeProper&&this.li.isProper()||(b.addIntersections(this.li,c,0),d.addIntersections(this.li,e,1)),this.li.isProper()&&(this.properIntersectionPoint=this.li.getIntersection(0).copy(),this.hasProper=!0,this.isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this.li,this.bdyNodes)||(this.hasProperInterior=!0))))},interfaces_:function(){return[]},getClass:function(){return Bc}}),Bc.isAdjacentSegments=function(a,b){return 1===Math.abs(a-b)},l(Cc,Ac),t(Cc.prototype,{prepareEvents:function(){ng.sort(this.events);for(var a,b=0;b<this.events.size();b++)a=this.events.get(b),a.isDelete()&&a.getInsertEvent().setDeleteEventIndex(b)},computeIntersections:function(){if(1===arguments.length){var b=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var c,d=0;d<this.events.size()&&(c=this.events.get(d),c.isInsert()&&this.processOverlaps(d,c.getDeleteEventIndex(),c,b),!b.isDone());d++);}else if(3===arguments.length)if(arguments[2]instanceof Bc&&N(arguments[0],v)&&N(arguments[1],v)){var e=arguments[0],f=arguments[1],g=arguments[2];this.addEdges(e,e),this.addEdges(f,f),this.computeIntersections(g)}else if("boolean"==typeof arguments[2]&&N(arguments[0],v)&&arguments[1]instanceof Bc){var h=arguments[0],j=arguments[1],a=arguments[2];a?this.addEdges(h,null):this.addEdges(h),this.computeIntersections(j)}},addEdge:function(a,b){for(var c=a.getMonotoneChainEdge(),d=c.getStartIndexes(),e=0;e<d.length-1;e++){var f=new yc(c,e),g=new zc(b,c.getMinX(e),f);this.events.add(g),this.events.add(new zc(c.getMaxX(e),g))}},processOverlaps:function(b,c,d,e){for(var f,g=d.getObject(),h=b;h<c;h++)if(f=this.events.get(h),f.isInsert()){var j=f.getObject();d.isSameLabel(f)||(g.computeIntersections(j,e),this.nOverlaps++)}},addEdges:function(){if(1===arguments.length)for(var a,b=arguments[0],c=b.iterator();c.hasNext();)a=c.next(),this.addEdge(a,a);else if(2===arguments.length)for(var a,d=arguments[0],e=arguments[1],c=d.iterator();c.hasNext();)a=c.next(),this.addEdge(a,e)},interfaces_:function(){return[]},getClass:function(){return Cc}}),t(Dc.prototype,{getMin:function(){return this.min},intersects:function(a,b){return!(this.min>b||this.max<a)},getMax:function(){return this.max},toString:function(){return _a.toLineString(new fa(this.min,0),new fa(this.max,0))},interfaces_:function(){return[]},getClass:function(){return Dc}}),t(Ec.prototype,{compare:function(a,b){var c=a,d=b,e=(c.min+c.max)/2,f=(d.min+d.max)/2;return e<f?-1:e>f?1:0},interfaces_:function(){return[o]},getClass:function(){return Ec}}),Dc.NodeComparator=Ec,l(Fc,Dc),t(Fc.prototype,{query:function(a,b,c){return this.intersects(a,b)?void c.visitItem(this.item):null},interfaces_:function(){return[]},getClass:function(){return Fc}}),l(Gc,Dc),t(Gc.prototype,{buildExtent:function(a,b){this.min=Math.min(a.min,b.min),this.max=Math.max(a.max,b.max)},query:function(a,b,c){return this.intersects(a,b)?(null!==this.node1&&this.node1.query(a,b,c),void(null!==this.node2&&this.node2.query(a,b,c))):null},interfaces_:function(){return[]},getClass:function(){return Gc}}),t(Hc.prototype,{buildTree:function(){ng.sort(this.leaves,new IntervalRTreeNode.NodeComparator);for(var a=this.leaves,b=null,c=new x;;){if(this.buildLevel(a,c),1===c.size())return c.get(0);b=a,a=c,c=b}},insert:function(a,b,c){if(null!==this.root)throw new IllegalStateException("Index cannot be added to once it has been queried");this.leaves.add(new Fc(a,b,c))},query:function(a,b,c){this.init(),this.root.query(a,b,c)},buildRoot:function(){return null===this.root?void(this.root=this.buildTree()):null},printNode:function(a){A.out.println(_a.toLineString(new fa(a.min,this.level),new fa(a.max,this.level)))},init:function(){return null===this.root?void this.buildRoot():null},buildLevel:function(a,b){this.level++,b.clear();for(var c,d=0;d<a.size();d+=2)if(c=a.get(d),null===(d+1<a.size()?a.get(d):null))b.add(c);else{var e=new Gc(a.get(d),a.get(d+1));b.add(e)}},interfaces_:function(){return[]},getClass:function(){return Hc}}),t(Ic.prototype,{filter:function(a){if(this.isForcedToLineString&&a instanceof Ia){var b=a.getFactory().createLineString(a.getCoordinateSequence());return this.lines.add(b),null}a instanceof Ca&&this.lines.add(a)},setForceToLineString:function(a){this.isForcedToLineString=a},interfaces_:function(){return[q]},getClass:function(){return Ic}}),Ic.getGeometry=function(){if(1===arguments.length){var a=arguments[0];return a.getFactory().buildGeometry(Ic.getLines(a))}if(2===arguments.length){var b=arguments[0],c=arguments[1];return b.getFactory().buildGeometry(Ic.getLines(b,c))}},Ic.getLines=function(){if(1===arguments.length){var b=arguments[0];return Ic.getLines(b,!1)}if(2===arguments.length){if(N(arguments[0],ga)&&N(arguments[1],ga)){for(var j,m=arguments[0],e=arguments[1],n=m.iterator();n.hasNext();)j=n.next(),Ic.getLines(j,e);return e}if(arguments[0]instanceof k&&"boolean"==typeof arguments[1]){var q=arguments[0],o=arguments[1],r=new x;return q.apply(new Ic(r,o)),r}if(arguments[0]instanceof k&&N(arguments[1],ga)){var a=arguments[0],s=arguments[1];return a instanceof Ca?s.add(a):a.apply(new Ic(s)),s}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&N(arguments[0],ga)&&N(arguments[1],ga)){for(var j,l=arguments[0],c=arguments[1],f=arguments[2],n=l.iterator();n.hasNext();)j=n.next(),Ic.getLines(j,c,f);return c}if("boolean"==typeof arguments[2]&&arguments[0]instanceof k&&N(arguments[1],ga)){var h=arguments[0],p=arguments[1],d=arguments[2];return h.apply(new Ic(p,d)),p}}},t(Jc.prototype,{visitItem:function(a){this.items.add(a)},getItems:function(){return this.items},interfaces_:function(){return[Db]},getClass:function(){return Jc}}),t(Kc.prototype,{locate:function(a){var b=new db(a),c=new Lc(b);return this.index.query(a.y,a.y,c),b.getLocation()},interfaces_:function(){return[tc]},getClass:function(){return Kc}}),t(Lc.prototype,{visitItem:function(a){var b=a;this.counter.countSegment(b.getCoordinate(0),b.getCoordinate(1))},interfaces_:function(){return[Db]},getClass:function(){return Lc}}),t(Mc.prototype,{init:function(a){for(var b=Ic.getLines(a),c=b.iterator();c.hasNext();){var d=c.next(),e=d.getCoordinates();this.addLine(e)}},addLine:function(a){for(var b=1;b<a.length;b++){var c=new fb(a[b-1],a[b]),d=Math.min(c.p0.y,c.p1.y),e=Math.max(c.p0.y,c.p1.y);this.index.insert(d,e,c)}},query:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1],c=new Jc;return this.index.query(a,b,c),c.getItems()}if(3===arguments.length){var d=arguments[0],e=arguments[1],f=arguments[2];this.index.query(d,e,f)}},interfaces_:function(){return[]},getClass:function(){return Mc}}),Kc.SegmentVisitor=Lc,Kc.IntervalIndexedGeometry=Mc,t(Nc.prototype,{getSegmentIndex:function(){return this.segmentIndex},getCoordinate:function(){return this.coord},print:function(a){a.print(this.coord),a.print(" seg # = "+this.segmentIndex),a.println(" dist = "+this.dist)},compareTo:function(a){var b=a;return this.compare(b.segmentIndex,b.dist)},isEndPoint:function(a){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===a},toString:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},getDistance:function(){return this.dist},compare:function(a,b){return this.segmentIndex<a?-1:this.segmentIndex>a?1:this.dist<b?-1:this.dist>b?1:0},interfaces_:function(){return[e]},getClass:function(){return Nc}}),t(Oc.prototype,{print:function(a){a.println("Intersections:");for(var b=this.iterator();b.hasNext();)b.next().print(a)},iterator:function(){return this.nodeMap.values().iterator()},addSplitEdges:function(a){this.addEndpoints();for(var b=this.iterator(),c=b.next();b.hasNext();){var d=b.next(),e=this.createSplitEdge(c,d);a.add(e),c=d}},addEndpoints:function(){var a=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[a],a,0)},createSplitEdge:function(b,c){var d=c.segmentIndex-b.segmentIndex+2,e=this.edge.pts[c.segmentIndex],f=0<c.dist||!c.coord.equals2D(e);f||d--;var g=Array(d).fill(null),h=0;g[h++]=new fa(b.coord);for(var j=b.segmentIndex+1;j<=c.segmentIndex;j++)g[h++]=this.edge.pts[j];return f&&(g[h]=c.coord),new Sc(g,new fc(this.edge.label))},add:function(a,b,c){var d=new Nc(a,b,c),e=this.nodeMap.get(d);return null===e?(this.nodeMap.put(d,d),d):e},isIntersection:function(a){for(var b=this.iterator();b.hasNext();)if(b.next().coord.equals(a))return!0;return!1},interfaces_:function(){return[]},getClass:function(){return Oc}}),t(Pc.prototype,{getChainStartIndices:function(a){var b=0,c=new x;c.add(new s(b));do{var d=this.findChainEnd(a,b);c.add(new s(d)),b=d}while(b<a.length-1);return Pc.toIntArray(c)},findChainEnd:function(a,b){for(var c=Tb.quadrant(a[b],a[b+1]),d=b+1;d<a.length&&Tb.quadrant(a[d-1],a[d])===c;)d++;return d-1},interfaces_:function(){return[]},getClass:function(){return Pc}}),Pc.toIntArray=function(a){for(var b=Array(a.size()).fill(null),c=0;c<b.length;c++)b[c]=a.get(c).intValue();return b},t(Qc.prototype,{getCoordinates:function(){return this.pts},getMaxX:function(a){var b=this.pts[this.startIndex[a]].x,c=this.pts[this.startIndex[a+1]].x;return b>c?b:c},getMinX:function(a){var b=this.pts[this.startIndex[a]].x,c=this.pts[this.startIndex[a+1]].x;return b<c?b:c},computeIntersectsForChain:function(){if(4===arguments.length){var b=arguments[0],j=arguments[1],e=arguments[2],k=arguments[3];this.computeIntersectsForChain(this.startIndex[b],this.startIndex[b+1],j,j.startIndex[e],j.startIndex[e+1],k)}else if(6===arguments.length){var m=arguments[0],n=arguments[1],o=arguments[2],q=arguments[3],a=arguments[4],r=arguments[5],l=this.pts[m],c=this.pts[n],f=o.pts[q],h=o.pts[a];if(1==n-m&&1==a-q)return r.addIntersections(this.e,m,o.e,q),null;if(this.env1.init(l,c),this.env2.init(f,h),!this.env1.intersects(this.env2))return null;var p=Math.trunc((m+n)/2),d=Math.trunc((q+a)/2);m<p&&(q<d&&this.computeIntersectsForChain(m,p,o,q,d,r),d<a&&this.computeIntersectsForChain(m,p,o,d,a,r)),p<n&&(q<d&&this.computeIntersectsForChain(p,n,o,q,d,r),d<a&&this.computeIntersectsForChain(p,n,o,d,a,r))}},getStartIndexes:function(){return this.startIndex},computeIntersects:function(a,b){for(var c=0;c<this.startIndex.length-1;c++)for(var d=0;d<a.startIndex.length-1;d++)this.computeIntersectsForChain(c,a,d,b)},interfaces_:function(){return[]},getClass:function(){return Qc}}),t(Rc.prototype,{getDepth:function(a,b){return this.depth[a][b]},setDepth:function(a,b,c){this.depth[a][b]=c},isNull:function(){if(0===arguments.length){for(var a=0;2>a;a++)for(var b=0;3>b;b++)if(this.depth[a][b]!==Rc.NULL_VALUE)return!1;return!0}if(1===arguments.length){var c=arguments[0];return this.depth[c][1]===Rc.NULL_VALUE}if(2===arguments.length){var d=arguments[0],e=arguments[1];return this.depth[d][e]===Rc.NULL_VALUE}},normalize:function(){for(var a=0;2>a;a++)if(!this.isNull(a)){var b=this.depth[a][1];this.depth[a][2]<b&&(b=this.depth[a][2]),0>b&&(b=0);for(var c,d=1;3>d;d++)c=0,this.depth[a][d]>b&&(c=1),this.depth[a][d]=c}},getDelta:function(a){return this.depth[a][dc.RIGHT]-this.depth[a][dc.LEFT]},getLocation:function(a,b){return 0>=this.depth[a][b]?C.EXTERIOR:C.INTERIOR},toString:function(){return"A: "+this.depth[0][1]+","+this.depth[0][2]+" B: "+this.depth[1][1]+","+this.depth[1][2]},add:function(){if(1===arguments.length)for(var a=arguments[0],b=0;2>b;b++)for(var c,d=1;3>d;d++)c=a.getLocation(b,d),c!==C.EXTERIOR&&c!==C.INTERIOR||(this.isNull(b,d)?this.depth[b][d]=Rc.depthAtLocation(c):this.depth[b][d]+=Rc.depthAtLocation(c));else if(3===arguments.length){var e=arguments[0],f=arguments[1],g=arguments[2];g===C.INTERIOR&&this.depth[e][f]++}},interfaces_:function(){return[]},getClass:function(){return Rc}}),Rc.depthAtLocation=function(a){return a===C.EXTERIOR?0:a===C.INTERIOR?1:Rc.NULL_VALUE},Rc.NULL_VALUE=-1,l(Sc,jc),t(Sc.prototype,{getDepth:function(){return this.depth},getCollapsedEdge:function(){var a=[,,].fill(null);return a[0]=this.pts[0],a[1]=this.pts[1],new Sc(a,fc.toLineLabel(this.label))},isIsolated:function(){return this._isIsolated},getCoordinates:function(){return this.pts},setIsolated:function(a){this._isIsolated=a},setName:function(a){this.name=a},equals:function(a){if(!(a instanceof Sc))return!1;var b=a;if(this.pts.length!==b.pts.length)return!1;for(var c=!0,d=!0,e=this.pts.length,f=0;f<this.pts.length;f++)if(this.pts[f].equals2D(b.pts[f])||(c=!1),this.pts[f].equals2D(b.pts[--e])||(d=!1),!c&&!d)return!1;return!0},getCoordinate:function(){if(0===arguments.length)return 0<this.pts.length?this.pts[0]:null;if(1===arguments.length){var a=arguments[0];return this.pts[a]}},print:function(a){a.print("edge "+this.name+": "),a.print("LINESTRING (");for(var b=0;b<this.pts.length;b++)0<b&&a.print(","),a.print(this.pts[b].x+" "+this.pts[b].y);a.print(")  "+this.label+" "+this.depthDelta)},computeIM:function(a){Sc.updateIM(this.label,a)},isCollapsed:function(){return!!this.label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getMaximumSegmentIndex:function(){return this.pts.length-1},getDepthDelta:function(){return this.depthDelta},getNumPoints:function(){return this.pts.length},printReverse:function(a){a.print("edge "+this.name+": ");for(var b=this.pts.length-1;0<=b;b--)a.print(this.pts[b]+" ");a.println("")},getMonotoneChainEdge:function(){return null===this.mce&&(this.mce=new Qc(this)),this.mce},getEnvelope:function(){if(null===this.env){this.env=new y;for(var a=0;a<this.pts.length;a++)this.env.expandToInclude(this.pts[a])}return this.env},addIntersection:function(b,c,d,e){var f=new fa(b.getIntersection(e)),g=c,h=b.getEdgeDistance(d,e),j=g+1;if(j<this.pts.length){var a=this.pts[j];f.equals2D(a)&&(g=j,h=0)}this.eiList.add(f,g,h)},toString:function(){var a=new L;a.append("edge "+this.name+": "),a.append("LINESTRING (");for(var b=0;b<this.pts.length;b++)0<b&&a.append(","),a.append(this.pts[b].x+" "+this.pts[b].y);return a.append(")  "+this.label+" "+this.depthDelta),a.toString()},isPointwiseEqual:function(a){if(this.pts.length!==a.pts.length)return!1;for(var b=0;b<this.pts.length;b++)if(!this.pts[b].equals2D(a.pts[b]))return!1;return!0},setDepthDelta:function(a){this.depthDelta=a},getEdgeIntersectionList:function(){return this.eiList},addIntersections:function(a,b,c){for(var d=0;d<a.getIntersectionNum();d++)this.addIntersection(a,b,c,d)},interfaces_:function(){return[]},getClass:function(){return Sc}}),Sc.updateIM=function(){if(2!==arguments.length)return jc.prototype.updateIM.apply(this,arguments);var a=arguments[0],b=arguments[1];b.setAtLeastIfValid(a.getLocation(0,dc.ON),a.getLocation(1,dc.ON),1),a.isArea()&&(b.setAtLeastIfValid(a.getLocation(0,dc.LEFT),a.getLocation(1,dc.LEFT),2),b.setAtLeastIfValid(a.getLocation(0,dc.RIGHT),a.getLocation(1,dc.RIGHT),2))},l(Tc,pc),t(Tc.prototype,{insertBoundaryPoint:function(a,b){var c=this.nodes.addNode(b),d=c.getLabel(),e=1;C.NONE,d.getLocation(a,dc.ON)===C.BOUNDARY&&e++;var f=Tc.determineBoundary(this.boundaryNodeRule,e);d.setLocation(a,f)},computeSelfNodes:function(){if(2===arguments.length){var b=arguments[0],c=arguments[1];return this.computeSelfNodes(b,c,!1)}if(3===arguments.length){var d=arguments[0],e=arguments[1],f=arguments[2],g=new Bc(d,!0,!1);g.setIsDoneIfProperInt(f);var h=this.createEdgeSetIntersector(),j=this.parentGeom instanceof Ia||this.parentGeom instanceof Ga||this.parentGeom instanceof Ja;return h.computeIntersections(this.edges,g,e||!j),this.addSelfIntersectionNodes(this.argIndex),g}},computeSplitEdges:function(a){for(var b=this.edges.iterator();b.hasNext();)b.next().eiList.addSplitEdges(a)},computeEdgeIntersections:function(a,b,c){var d=new Bc(b,c,!0);return d.setBoundaryNodes(this.getBoundaryNodes(),a.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this.edges,a.edges,d),d},getGeometry:function(){return this.parentGeom},getBoundaryNodeRule:function(){return this.boundaryNodeRule},hasTooFewPoints:function(){return this._hasTooFewPoints},addPoint:function(){if(arguments[0]instanceof Ea){var a=arguments[0],b=a.getCoordinate();this.insertPoint(this.argIndex,b,C.INTERIOR)}else if(arguments[0]instanceof fa){var c=arguments[0];this.insertPoint(this.argIndex,c,C.INTERIOR)}},addPolygon:function(a){this.addPolygonRing(a.getExteriorRing(),C.EXTERIOR,C.INTERIOR);for(var b,c=0;c<a.getNumInteriorRing();c++)b=a.getInteriorRingN(c),this.addPolygonRing(b,C.INTERIOR,C.EXTERIOR)},addEdge:function(a){this.insertEdge(a);var b=a.getCoordinates();this.insertPoint(this.argIndex,b[0],C.BOUNDARY),this.insertPoint(this.argIndex,b[b.length-1],C.BOUNDARY)},addLineString:function(a){var b=Y.removeRepeatedPoints(a.getCoordinates());if(2>b.length)return this._hasTooFewPoints=!0,this.invalidPoint=b[0],null;var c=new Sc(b,new fc(this.argIndex,C.INTERIOR));this.lineEdgeMap.put(a,c),this.insertEdge(c),ea.isTrue(2<=b.length,"found LineString with single point"),this.insertBoundaryPoint(this.argIndex,b[0]),this.insertBoundaryPoint(this.argIndex,b[b.length-1])},getInvalidPoint:function(){return this.invalidPoint},getBoundaryPoints:function(){for(var a,b=this.getBoundaryNodes(),c=Array(b.size()).fill(null),d=0,e=b.iterator();e.hasNext();)a=e.next(),c[d++]=a.getCoordinate().copy();return c},getBoundaryNodes:function(){return null===this.boundaryNodes&&(this.boundaryNodes=this.nodes.getBoundaryNodes(this.argIndex)),this.boundaryNodes},addSelfIntersectionNode:function(a,b,c){return this.isBoundaryNode(a,b)?null:void(c===C.BOUNDARY&&this.useBoundaryDeterminationRule?this.insertBoundaryPoint(a,b):this.insertPoint(a,b,c))},addPolygonRing:function(a,b,c){if(a.isEmpty())return null;var d=Y.removeRepeatedPoints(a.getCoordinates());if(4>d.length)return this._hasTooFewPoints=!0,this.invalidPoint=d[0],null;var e=b,f=c;eb.isCCW(d)&&(e=c,f=b);var g=new Sc(d,new fc(this.argIndex,C.BOUNDARY,e,f));this.lineEdgeMap.put(a,g),this.insertEdge(g),this.insertPoint(this.argIndex,d[0],C.BOUNDARY)},insertPoint:function(a,b,c){var d=this.nodes.addNode(b),e=d.getLabel();null===e?d.label=new fc(a,c):e.setLocation(a,c)},createEdgeSetIntersector:function(){return new Cc},addSelfIntersectionNodes:function(a){for(var b=this.edges.iterator();b.hasNext();)for(var c,d=b.next(),e=d.getLabel().getLocation(a),f=d.eiList.iterator();f.hasNext();)c=f.next(),this.addSelfIntersectionNode(a,c.coord,e)},add:function(){if(1!==arguments.length)return pc.prototype.add.apply(this,arguments);var a=arguments[0];if(a.isEmpty())return null;if(a instanceof Ja&&(this.useBoundaryDeterminationRule=!1),a instanceof Ga)this.addPolygon(a);else if(a instanceof Ca)this.addLineString(a);else if(a instanceof Ea)this.addPoint(a);else if(a instanceof Ha)this.addCollection(a);else if(a instanceof sa)this.addCollection(a);else if(a instanceof Ja)this.addCollection(a);else{if(!(a instanceof ra))throw new UnsupportedOperationException(a.getClass().getName());this.addCollection(a)}},addCollection:function(a){for(var b,c=0;c<a.getNumGeometries();c++)b=a.getGeometryN(c),this.add(b)},locate:function(a){return N(this.parentGeom,Fa)&&50<this.parentGeom.getNumGeometries()?(null===this.areaPtLocator&&(this.areaPtLocator=new Kc(this.parentGeom)),this.areaPtLocator.locate(a)):this.ptLocator.locate(a,this.parentGeom)},findEdge:function(){if(1===arguments.length){var a=arguments[0];return this.lineEdgeMap.get(a)}return pc.prototype.findEdge.apply(this,arguments)},interfaces_:function(){return[]},getClass:function(){return Tc}}),Tc.determineBoundary=function(a,b){return a.isInBoundary(b)?C.BOUNDARY:C.INTERIOR},t(Uc.prototype,{getArgGeometry:function(a){return this.arg[a].getGeometry()},setComputationPrecision:function(a){this.resultPrecisionModel=a,this.li.setPrecisionModel(this.resultPrecisionModel)},interfaces_:function(){return[]},getClass:function(){return Uc}}),t(Vc.prototype,{compareTo:function(a){var b=a;return Vc.compareOriented(this.pts,this._orientation,b.pts,b._orientation)},interfaces_:function(){return[e]},getClass:function(){return Vc}}),Vc.orientation=function(a){return 1===Y.increasingDirection(a)},Vc.compareOriented=function(b,d,e,g){for(var j,c=d?1:-1,k=g?1:-1,m=d?b.length:-1,n=g?e.length:-1,a=d?0:b.length-1,o=g?0:e.length-1;;){if(j=b[a].compareTo(e[o]),0!==j)return j;a+=c,o+=k;var l=a===m,p=o===n;if(l&&!p)return-1;if(!l&&p)return 1;if(l&&p)return 0}},t(Wc.prototype,{print:function(a){a.print("MULTILINESTRING ( ");for(var b,c=0;c<this.edges.size();c++){b=this.edges.get(c),0<c&&a.print(","),a.print("(");for(var d=b.getCoordinates(),e=0;e<d.length;e++)0<e&&a.print(","),a.print(d[e].x+" "+d[e].y);a.println(")")}a.print(")  ")},addAll:function(a){for(var b=a.iterator();b.hasNext();)this.add(b.next())},findEdgeIndex:function(a){for(var b=0;b<this.edges.size();b++)if(this.edges.get(b).equals(a))return b;return-1},iterator:function(){return this.edges.iterator()},getEdges:function(){return this.edges},get:function(a){return this.edges.get(a)},findEqualEdge:function(a){var b=new Vc(a.getCoordinates());return this.ocaMap.get(b)},add:function(a){this.edges.add(a);var b=new Vc(a.getCoordinates());this.ocaMap.put(b,a)},interfaces_:function(){return[]},getClass:function(){return Wc}}),l(Xc,Uc),t(Xc.prototype,{insertUniqueEdge:function(a){var b=this.edgeList.findEqualEdge(a);if(null!==b){var c=b.getLabel(),d=a.getLabel();b.isPointwiseEqual(a)||(d=new fc(a.getLabel()),d.flip());var e=b.getDepth();e.isNull()&&e.add(c),e.add(d),c.merge(d)}else this.edgeList.add(a)},getGraph:function(){return this.graph},cancelDuplicateResultEdges:function(){for(var a=this.graph.getEdgeEnds().iterator();a.hasNext();){var b=a.next(),c=b.getSym();b.isInResult()&&c.isInResult()&&(b.setInResult(!1),c.setInResult(!1))}},isCoveredByLA:function(a){return!!this.isCovered(a,this.resultLineList)||!!this.isCovered(a,this.resultPolyList)},computeGeometry:function(a,b,c,d){var e=new x;return e.addAll(a),e.addAll(b),e.addAll(c),e.isEmpty()?Xc.createEmptyResult(d,this.arg[0].getGeometry(),this.arg[1].getGeometry(),this.geomFact):this.geomFact.buildGeometry(e)},mergeSymLabels:function(){for(var a=this.graph.getNodes().iterator();a.hasNext();)a.next().getEdges().mergeSymLabels()},isCovered:function(a,b){for(var c,d=b.iterator();d.hasNext();)if(c=d.next(),this.ptLocator.locate(a,c)!==C.EXTERIOR)return!0;return!1},replaceCollapsedEdges:function(){for(var a,b=new x,c=this.edgeList.iterator();c.hasNext();)a=c.next(),a.isCollapsed()&&(c.remove(),b.add(a.getCollapsedEdge()));this.edgeList.addAll(b)},updateNodeLabelling:function(){for(var a=this.graph.getNodes().iterator();a.hasNext();){var b=a.next(),c=b.getEdges().getLabel();b.getLabel().merge(c)}},getResultGeometry:function(a){return this.computeOverlay(a),this.resultGeom},insertUniqueEdges:function(a){for(var b,c=a.iterator();c.hasNext();)b=c.next(),this.insertUniqueEdge(b)},computeOverlay:function(a){this.copyPoints(0),this.copyPoints(1),this.arg[0].computeSelfNodes(this.li,!1),this.arg[1].computeSelfNodes(this.li,!1),this.arg[0].computeEdgeIntersections(this.arg[1],this.li,!0);var b=new x;this.arg[0].computeSplitEdges(b),this.arg[1].computeSplitEdges(b),this.insertUniqueEdges(b),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),bc.checkValid(this.edgeList.getEdges()),this.graph.addEdges(this.edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(a),this.cancelDuplicateResultEdges();var c=new qc(this.geomFact);c.add(this.graph),this.resultPolyList=c.getPolygons();var d=new rc(this,this.geomFact,this.ptLocator);this.resultLineList=d.build(a);var e=new sc(this,this.geomFact,this.ptLocator);this.resultPointList=e.build(a),this.resultGeom=this.computeGeometry(this.resultPointList,this.resultLineList,this.resultPolyList,a)},labelIncompleteNode:function(a,b){var c=this.ptLocator.locate(a.getCoordinate(),this.arg[b].getGeometry());a.getLabel().setLocation(b,c)},copyPoints:function(a){for(var b,c=this.arg[a].getNodeIterator();c.hasNext();)b=c.next(),this.graph.addNode(b.getCoordinate()).setLabel(a,b.getLabel().getLocation(a))},findResultAreaEdges:function(a){for(var b=this.graph.getEdgeEnds().iterator();b.hasNext();){var c=b.next(),d=c.getLabel();d.isArea()&&!c.isInteriorAreaEdge()&&Xc.isResultOfOp(d.getLocation(0,dc.RIGHT),d.getLocation(1,dc.RIGHT),a)&&c.setInResult(!0)}},computeLabelsFromDepths:function(){for(var a=this.edgeList.iterator();a.hasNext();){var b=a.next(),c=b.getLabel(),d=b.getDepth();if(!d.isNull()){d.normalize();for(var e=0;2>e;e++)c.isNull(e)||!c.isArea()||d.isNull(e)||(0===d.getDelta(e)?c.toLine(e):(ea.isTrue(!d.isNull(e,dc.LEFT),"depth of LEFT side has not been initialized"),c.setLocation(e,dc.LEFT,d.getLocation(e,dc.LEFT)),ea.isTrue(!d.isNull(e,dc.RIGHT),"depth of RIGHT side has not been initialized"),c.setLocation(e,dc.RIGHT,d.getLocation(e,dc.RIGHT))))}}},computeLabelling:function(){for(var a=this.graph.getNodes().iterator();a.hasNext();)a.next().getEdges().computeLabelling(this.arg);this.mergeSymLabels(),this.updateNodeLabelling()},labelIncompleteNodes:function(){for(var a=0,b=this.graph.getNodes().iterator();b.hasNext();){var c=b.next(),d=c.getLabel();c.isIsolated()&&(a++,d.isNull(0)?this.labelIncompleteNode(c,0):this.labelIncompleteNode(c,1)),c.getEdges().updateLabelling(d)}},isCoveredByA:function(a){return!!this.isCovered(a,this.resultPolyList)},interfaces_:function(){return[]},getClass:function(){return Xc}}),Xc.overlayOp=function(a,b,c){return new Xc(a,b).getResultGeometry(c)},Xc.intersection=function(a,b){if(a.isEmpty()||b.isEmpty())return Xc.createEmptyResult(Xc.INTERSECTION,a,b,a.getFactory());if(a.isGeometryCollection()){return cc.map(a,{interfaces_:function(){return[MapOp]},map:function(a){return a.intersection(b)}})}return a.checkNotGeometryCollection(a),a.checkNotGeometryCollection(b),Zc.overlayOp(a,b,Xc.INTERSECTION)},Xc.symDifference=function(a,b){if(a.isEmpty()||b.isEmpty()){if(a.isEmpty()&&b.isEmpty())return Xc.createEmptyResult(Xc.SYMDIFFERENCE,a,b,a.getFactory());if(a.isEmpty())return b.copy();if(b.isEmpty())return a.copy()}return a.checkNotGeometryCollection(a),a.checkNotGeometryCollection(b),Zc.overlayOp(a,b,Xc.SYMDIFFERENCE)},Xc.resultDimension=function(a,b,c){var d=b.getDimension(),e=c.getDimension(),f=-1;return a===Xc.INTERSECTION?f=Math.min(d,e):a===Xc.UNION?f=Math.max(d,e):a===Xc.DIFFERENCE?f=d:a===Xc.SYMDIFFERENCE?f=Math.max(d,e):void 0,f},Xc.createEmptyResult=function(a,b,c,d){var e=null;switch(Xc.resultDimension(a,b,c)){case-1:e=d.createGeometryCollection([].fill(null));break;case 0:e=d.createPoint();break;case 1:e=d.createLineString();break;case 2:e=d.createPolygon();}return e},Xc.difference=function(a,b){return a.isEmpty()?Xc.createEmptyResult(Xc.DIFFERENCE,a,b,a.getFactory()):b.isEmpty()?a.copy():(a.checkNotGeometryCollection(a),a.checkNotGeometryCollection(b),Zc.overlayOp(a,b,Xc.DIFFERENCE))},Xc.isResultOfOp=function(){if(2===arguments.length){var a=arguments[0],b=arguments[1],c=a.getLocation(0),d=a.getLocation(1);return Xc.isResultOfOp(c,d,b)}if(3===arguments.length){var e=arguments[0],f=arguments[1],g=arguments[2];switch(e===C.BOUNDARY&&(e=C.INTERIOR),f===C.BOUNDARY&&(f=C.INTERIOR),g){case Xc.INTERSECTION:return e===C.INTERIOR&&f===C.INTERIOR;case Xc.UNION:return e===C.INTERIOR||f===C.INTERIOR;case Xc.DIFFERENCE:return e===C.INTERIOR&&f!==C.INTERIOR;case Xc.SYMDIFFERENCE:return e===C.INTERIOR&&f!==C.INTERIOR||e!==C.INTERIOR&&f===C.INTERIOR;}return!1}},Xc.INTERSECTION=1,Xc.UNION=2,Xc.DIFFERENCE=3,Xc.SYMDIFFERENCE=4,t(Yc.prototype,{selfSnap:function(a){return new pb(a).snapTo(a,this.snapTolerance)},removeCommonBits:function(a){this.cbr=new sb,this.cbr.add(a[0]),this.cbr.add(a[1]);var b=[,,].fill(null);return b[0]=this.cbr.removeCommonBits(a[0].copy()),b[1]=this.cbr.removeCommonBits(a[1].copy()),b},prepareResult:function(a){return this.cbr.addCommonBits(a),a},getResultGeometry:function(a){var b=this.snap(this.geom),c=Xc.overlayOp(b[0],b[1],a);return this.prepareResult(c)},checkValid:function(a){a.isValid()||A.out.println("Snapped geometry is invalid")},computeSnapTolerance:function(){this.snapTolerance=pb.computeOverlaySnapTolerance(this.geom[0],this.geom[1])},snap:function(a){var b=this.removeCommonBits(a);return pb.snap(b[0],b[1],this.snapTolerance)},interfaces_:function(){return[]},getClass:function(){return Yc}}),Yc.overlayOp=function(a,b,c){return new Yc(a,b).getResultGeometry(c)},Yc.union=function(a,b){return Yc.overlayOp(a,b,Xc.UNION)},Yc.intersection=function(a,b){return Yc.overlayOp(a,b,Xc.INTERSECTION)},Yc.symDifference=function(a,b){return Yc.overlayOp(a,b,Xc.SYMDIFFERENCE)},Yc.difference=function(a,b){return Yc.overlayOp(a,b,Xc.DIFFERENCE)},t(Zc.prototype,{getResultGeometry:function(a){var b=null,c=!1,d=null;try{b=Xc.overlayOp(this.geom[0],this.geom[1],a),c=!0}catch(a){if(!(a instanceof u))throw a;d=a}if(!c)try{b=Yc.overlayOp(this.geom[0],this.geom[1],a)}catch(a){throw a instanceof u?d:a}return b},interfaces_:function(){return[]},getClass:function(){return Zc}}),Zc.overlayOp=function(a,b,c){return new Zc(a,b).getResultGeometry(c)},Zc.union=function(a,b){return Zc.overlayOp(a,b,Xc.UNION)},Zc.intersection=function(a,b){return Zc.overlayOp(a,b,Xc.INTERSECTION)},Zc.symDifference=function(a,b){return Zc.overlayOp(a,b,Xc.SYMDIFFERENCE)},Zc.difference=function(a,b){return Zc.overlayOp(a,b,Xc.DIFFERENCE)},t($c.prototype,{addPolygon:function(a){if(a.isEmpty())return null;var b=null,c=0,d=this.horizontalBisector(a);if(0===d.getLength())c=0,b=d.getCoordinate();else{var e=Zc.overlayOp(d,a,Xc.INTERSECTION),f=this.widestGeometry(e);c=f.getEnvelopeInternal().getWidth(),b=$c.centre(f.getEnvelopeInternal())}(null===this.interiorPoint||c>this.maxWidth)&&(this.interiorPoint=b,this.maxWidth=c)},getInteriorPoint:function(){return this.interiorPoint},widestGeometry:function(){if(arguments[0]instanceof ra){var a=arguments[0];if(a.isEmpty())return a;for(var b=a.getGeometryN(0),c=1;c<a.getNumGeometries();c++)a.getGeometryN(c).getEnvelopeInternal().getWidth()>b.getEnvelopeInternal().getWidth()&&(b=a.getGeometryN(c));return b}if(arguments[0]instanceof k){var d=arguments[0];return d instanceof ra?this.widestGeometry(d):d}},horizontalBisector:function(a){var b=a.getEnvelopeInternal(),c=_c.getBisectorY(a);return this.factory.createLineString([new fa(b.getMinX(),c),new fa(b.getMaxX(),c)])},add:function(a){if(a instanceof Ga)this.addPolygon(a);else if(a instanceof ra)for(var b=a,c=0;c<b.getNumGeometries();c++)this.add(b.getGeometryN(c))},interfaces_:function(){return[]},getClass:function(){return $c}}),$c.centre=function(a){return new fa($c.avg(a.getMinX(),a.getMaxX()),$c.avg(a.getMinY(),a.getMaxY()))},$c.avg=function(a,b){return(a+b)/2},t(_c.prototype,{updateInterval:function(a){a<=this.centreY?a>this.loY&&(this.loY=a):a>this.centreY&&a<this.hiY&&(this.hiY=a)},getBisectorY:function(){this.process(this.poly.getExteriorRing());for(var a=0;a<this.poly.getNumInteriorRing();a++)this.process(this.poly.getInteriorRingN(a));return $c.avg(this.hiY,this.loY)},process:function(a){for(var b,c=a.getCoordinateSequence(),d=0;d<c.size();d++)b=c.getY(d),this.updateInterval(b)},interfaces_:function(){return[]},getClass:function(){return _c}}),_c.getBisectorY=function(a){return new _c(a).getBisectorY()},$c.SafeBisectorFinder=_c,t(ad.prototype,{addEndpoints:function(){if(arguments[0]instanceof k){var a=arguments[0];if(a instanceof Ca)this.addEndpoints(a.getCoordinates());else if(a instanceof ra)for(var b=a,c=0;c<b.getNumGeometries();c++)this.addEndpoints(b.getGeometryN(c))}else if(arguments[0]instanceof Array){var d=arguments[0];this.add(d[0]),this.add(d[d.length-1])}},getInteriorPoint:function(){return this.interiorPoint},addInterior:function(){if(arguments[0]instanceof k){var a=arguments[0];if(a instanceof Ca)this.addInterior(a.getCoordinates());else if(a instanceof ra)for(var b=a,c=0;c<b.getNumGeometries();c++)this.addInterior(b.getGeometryN(c))}else if(arguments[0]instanceof Array)for(var d=arguments[0],c=1;c<d.length-1;c++)this.add(d[c])},add:function(a){var b=a.distance(this.centroid);b<this.minDistance&&(this.interiorPoint=new fa(a),this.minDistance=b)},interfaces_:function(){return[]},getClass:function(){return ad}}),t(bd.prototype,{getInteriorPoint:function(){return this.interiorPoint},add:function(){if(arguments[0]instanceof k){var a=arguments[0];if(a instanceof Ea)this.add(a.getCoordinate());else if(a instanceof ra)for(var b=a,c=0;c<b.getNumGeometries();c++)this.add(b.getGeometryN(c))}else if(arguments[0]instanceof fa){var d=arguments[0],e=d.distance(this.centroid);e<this.minDistance&&(this.interiorPoint=new fa(d),this.minDistance=e)}},interfaces_:function(){return[]},getClass:function(){return bd}}),t(cd.prototype,{select:function(){if(1===arguments.length)arguments[0];else if(2===arguments.length){var a=arguments[0],b=arguments[1];a.getLineSegment(b,this.selectedSegment),this.select(this.selectedSegment)}},interfaces_:function(){return[]},getClass:function(){return cd}}),t(dd.prototype,{hasChildren:function(){for(var a=0;2>a;a++)if(null!==this.subnode[a])return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(a){a.addAll(this.items);for(var b=0;2>b;b++)null!==this.subnode[b]&&this.subnode[b].addAllItems(a);return a},size:function(){for(var a=0,b=0;2>b;b++)null!==this.subnode[b]&&(a+=this.subnode[b].size());return a+this.items.size()},addAllItemsFromOverlapping:function(a,b){return null===a||this.isSearchMatch(a)?(b.addAll(this.items),null!==this.subnode[0]&&this.subnode[0].addAllItemsFromOverlapping(a,b),void(null!==this.subnode[1]&&this.subnode[1].addAllItemsFromOverlapping(a,b))):null},hasItems:function(){return!this.items.isEmpty()},remove:function(a,b){if(!this.isSearchMatch(a))return!1;for(var c=!1,d=0;2>d;d++)if(null!==this.subnode[d]&&(c=this.subnode[d].remove(a,b))){this.subnode[d].isPrunable()&&(this.subnode[d]=null);break}return c||(c=this.items.remove(b))},getItems:function(){return this.items},depth:function(){for(var a=0,b=0;2>b;b++)if(null!==this.subnode[b]){var c=this.subnode[b].depth();c>a&&(a=c)}return a+1},nodeSize:function(){for(var a=0,b=0;2>b;b++)null!==this.subnode[b]&&(a+=this.subnode[b].nodeSize());return a+1},add:function(a){this.items.add(a)},interfaces_:function(){return[]},getClass:function(){return dd}}),dd.getSubnodeIndex=function(a,b){var c=-1;return a.min>=b&&(c=1),a.max<=b&&(c=0),c},t(ed.prototype,{expandToInclude:function(a){a.max>this.max&&(this.max=a.max),a.min<this.min&&(this.min=a.min)},getWidth:function(){return this.max-this.min},overlaps:function(){if(1===arguments.length){var a=arguments[0];return this.overlaps(a.min,a.max)}if(2===arguments.length){var b=arguments[0],c=arguments[1];return!(this.min>c||this.max<b)}},getMin:function(){return this.min},toString:function(){return"["+this.min+", "+this.max+"]"},contains:function(){if(1===arguments.length){if(arguments[0]instanceof ed){var a=arguments[0];return this.contains(a.min,a.max)}if("number"==typeof arguments[0]){var b=arguments[0];return b>=this.min&&b<=this.max}}else if(2===arguments.length){var c=arguments[0],d=arguments[1];return c>=this.min&&d<=this.max}},init:function(a,b){this.min=a,this.max=b,a>b&&(this.min=b,this.max=a)},getMax:function(){return this.max},interfaces_:function(){return[]},getClass:function(){return ed}}),fd.exponent=function(a){return gd(64,a)-1023},fd.powerOf2=function(a){return Math.pow(2,a)},t(hd.prototype,{getInterval:function(){return this.interval},getLevel:function(){return this.level},computeKey:function(a){for(this.level=hd.computeLevel(a),this.interval=new ed,this.computeInterval(this.level,a);!this.interval.contains(a);)this.level+=1,this.computeInterval(this.level,a)},computeInterval:function(a,b){var c=fd.powerOf2(a);this.pt=Math.floor(b.getMin()/c)*c,this.interval.init(this.pt,this.pt+c)},getPoint:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return hd}}),hd.computeLevel=function(a){var b=a.getWidth();return fd.exponent(b)+1},l(id,dd),t(id.prototype,{getInterval:function(){return this.interval},find:function(a){var b=dd.getSubnodeIndex(a,this.centre);return-1===b?this:null===this.subnode[b]?this:this.subnode[b].find(a)},insert:function(a){ea.isTrue(null===this.interval||this.interval.contains(a.interval));var b=dd.getSubnodeIndex(a.interval,this.centre);if(a.level===this.level-1)this.subnode[b]=a;else{var c=this.createSubnode(b);c.insert(a),this.subnode[b]=c}},isSearchMatch:function(a){return a.overlaps(this.interval)},getSubnode:function(a){return null===this.subnode[a]&&(this.subnode[a]=this.createSubnode(a)),this.subnode[a]},getNode:function(a){var b=dd.getSubnodeIndex(a,this.centre);return-1===b?this:this.getSubnode(b).getNode(a)},createSubnode:function(a){var b=0,c=0;return 0===a?(b=this.interval.getMin(),c=this.centre):1===a?(b=this.centre,c=this.interval.getMax()):void 0,new id(new ed(b,c),this.level-1)},interfaces_:function(){return[]},getClass:function(){return id}}),id.createNode=function(a){var b=new hd(a);return new id(b.getInterval(),b.getLevel())},id.createExpanded=function(a,b){var c=new ed(b);null!==a&&c.expandToInclude(a.interval);var d=id.createNode(c);return null!==a&&d.insert(a),d},t(jd.prototype,{interfaces_:function(){return[]},getClass:function(){return jd}}),jd.isZeroWidth=function(a,b){var c=b-a;if(0===c)return!0;var d=Math.max(Math.abs(a),Math.abs(b));return fd.exponent(c/d)<=jd.MIN_BINARY_EXPONENT},jd.MIN_BINARY_EXPONENT=-50,l(kd,dd),t(kd.prototype,{insert:function(a,b){var c=dd.getSubnodeIndex(a,kd.origin);if(-1===c)return this.add(b),null;var d=this.subnode[c];if(null===d||!d.getInterval().contains(a)){var e=id.createExpanded(d,a);this.subnode[c]=e}this.insertContained(this.subnode[c],a,b)},isSearchMatch:function(){return!0},insertContained:function(a,b,c){ea.isTrue(a.getInterval().contains(b));var d=jd.isZeroWidth(b.getMin(),b.getMax()),e=null;e=d?a.find(b):a.getNode(b),e.add(c)},interfaces_:function(){return[]},getClass:function(){return kd}}),kd.origin=0,t(ld.prototype,{size:function(){return null===this.root?0:this.root.size()},insert:function(a,b){this.collectStats(a);var c=ld.ensureExtent(a,this.minExtent);this.root.insert(c,b)},query:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var a=arguments[0];return this.query(new ed(a,a))}if(arguments[0]instanceof ed){var b=arguments[0],c=new x;return this.query(b,c),c}}else if(2===arguments.length){var d=arguments[0],e=arguments[1];this.root.addAllItemsFromOverlapping(d,e)}},iterator:function(){var a=new x;return this.root.addAllItems(a),a.iterator()},remove:function(a,b){var c=ld.ensureExtent(a,this.minExtent);return this.root.remove(c,b)},collectStats:function(a){var b=a.getWidth();b<this.minExtent&&0<b&&(this.minExtent=b)},depth:function(){return null===this.root?0:this.root.depth()},nodeSize:function(){return null===this.root?0:this.root.nodeSize()},interfaces_:function(){return[]},getClass:function(){return ld}}),ld.ensureExtent=function(a,b){var c=a.getMin(),d=a.getMax();return c===d?(c===d&&(c-=b/2,d=c+b/2),new ed(c,d)):a},t(md.prototype,{isInside:function(){},interfaces_:function(){return[]},getClass:function(){return md}}),t(nd.prototype,{testLineSegment:function(b,c){var d=null,e=null,f=null,g=null,h=c.p0,j=c.p1;d=h.x-b.x,e=h.y-b.y,f=j.x-b.x,g=j.y-b.y,(0<e&&0>=g||0<g&&0>=e)&&0<cb.signOfDet2x2(d,e,f,g)/(g-e)&&this.crossings++},buildIndex:function(){this.tree=new ld;for(var a=Y.removeRepeatedPoints(this.ring.getCoordinates()),b=Ub.getChains(a),c=0;c<b.size();c++){var d=b.get(c),e=d.getEnvelope();this.interval.min=e.getMinY(),this.interval.max=e.getMaxY(),this.tree.insert(this.interval,d)}},testMonotoneChain:function(a,b,c){c.select(a,b)},isInside:function(a){this.crossings=0;var b=new y(da.NEGATIVE_INFINITY,da.POSITIVE_INFINITY,a.y,a.y);this.interval.min=a.y,this.interval.max=a.y;for(var c,d=this.tree.query(this.interval),e=new od(this,a),f=d.iterator();f.hasNext();)c=f.next(),this.testMonotoneChain(b,e,c);return 1==this.crossings%2},interfaces_:function(){return[md]},getClass:function(){return nd}}),l(od,cd),t(od.prototype,{select:function(){if(1!==arguments.length)return cd.prototype.select.apply(this,arguments);var a=arguments[0];this.mcp.testLineSegment(this.p,a)},interfaces_:function(){return[]},getClass:function(){return od}}),nd.MCSelecter=od,t(pd.prototype,{interfaces_:function(){return[]},getClass:function(){return pd}}),pd.toDegrees=function(a){return 180*a/Math.PI},pd.normalize=function(a){for(;a>Math.PI;)a-=pd.PI_TIMES_2;for(;a<=-Math.PI;)a+=pd.PI_TIMES_2;return a},pd.angle=function(){if(1===arguments.length){var a=arguments[0];return Math.atan2(a.y,a.x)}if(2===arguments.length){var b=arguments[0],c=arguments[1],d=c.x-b.x,e=c.y-b.y;return Math.atan2(e,d)}},pd.isAcute=function(a,b,c){var d=a.x-b.x,e=a.y-b.y;return 0<d*(c.x-b.x)+e*(c.y-b.y)},pd.isObtuse=function(a,b,c){var d=a.x-b.x,e=a.y-b.y;return 0>d*(c.x-b.x)+e*(c.y-b.y)},pd.interiorAngle=function(a,b,c){var d=pd.angle(b,a),e=pd.angle(b,c);return Math.abs(e-d)},pd.normalizePositive=function(a){if(0>a){for(;0>a;)a+=pd.PI_TIMES_2;a>=pd.PI_TIMES_2&&(a=0)}else{for(;a>=pd.PI_TIMES_2;)a-=pd.PI_TIMES_2;0>a&&(a=0)}return a},pd.angleBetween=function(a,b,c){var d=pd.angle(b,a),e=pd.angle(b,c);return pd.diff(d,e)},pd.diff=function(a,b){var c=null;return c=a<b?b-a:a-b,c>Math.PI&&(c=2*Math.PI-c),c},pd.toRadians=function(a){return a*Math.PI/180},pd.getTurn=function(a,b){var c=Math.sin(b-a);return 0<c?pd.COUNTERCLOCKWISE:0>c?pd.CLOCKWISE:pd.NONE},pd.angleBetweenOriented=function(a,b,c){var d=pd.angle(b,a),e=pd.angle(b,c),f=e-d;return f<=-Math.PI?f+pd.PI_TIMES_2:f>Math.PI?f-pd.PI_TIMES_2:f},pd.PI_TIMES_2=2*Math.PI,pd.PI_OVER_2=Math.PI/2,pd.PI_OVER_4=Math.PI/4,pd.COUNTERCLOCKWISE=eb.COUNTERCLOCKWISE,pd.CLOCKWISE=eb.CLOCKWISE,pd.NONE=eb.COLLINEAR,t(qd.prototype,{area:function(){return qd.area(this.p0,this.p1,this.p2)},signedArea:function(){return qd.signedArea(this.p0,this.p1,this.p2)},interpolateZ:function(a){if(null===a)throw new ca("Supplied point is null.");return qd.interpolateZ(a,this.p0,this.p1,this.p2)},longestSideLength:function(){return qd.longestSideLength(this.p0,this.p1,this.p2)},isAcute:function(){return qd.isAcute(this.p0,this.p1,this.p2)},circumcentre:function(){return qd.circumcentre(this.p0,this.p1,this.p2)},area3D:function(){return qd.area3D(this.p0,this.p1,this.p2)},centroid:function(){return qd.centroid(this.p0,this.p1,this.p2)},inCentre:function(){return qd.inCentre(this.p0,this.p1,this.p2)},interfaces_:function(){return[]},getClass:function(){return qd}}),qd.area=function(a,b,c){return Math.abs(((c.x-a.x)*(b.y-a.y)-(b.x-a.x)*(c.y-a.y))/2)},qd.signedArea=function(a,b,c){return((c.x-a.x)*(b.y-a.y)-(b.x-a.x)*(c.y-a.y))/2},qd.det=function(a,b,c,d){return a*d-b*c},qd.interpolateZ=function(b,d,e,g){var j=d.x,k=d.y,m=e.x-j,n=g.x-j,a=e.y-k,o=g.y-k,l=m*o-n*a,c=b.x-j,f=b.y-k;return d.z+(o*c-n*f)/l*(e.z-d.z)+(-a*c+m*f)/l*(g.z-d.z)},qd.longestSideLength=function(a,b,c){var d=a.distance(b),e=b.distance(c),f=c.distance(a),g=d;return e>g&&(g=e),f>g&&(g=f),g},qd.isAcute=function(a,b,c){return!!pd.isAcute(a,b,c)&&!!pd.isAcute(b,c,a)&&!!pd.isAcute(c,a,b)},qd.circumcentre=function(b,c,d){var e=d.x,f=d.y,g=b.x-e,h=b.y-f,j=c.x-e,a=c.y-f,k=2*qd.det(g,h,j,a);return new fa(e-qd.det(h,g*g+h*h,a,j*j+a*a)/k,f+qd.det(g,g*g+h*h,j,j*j+a*a)/k)},qd.perpendicularBisector=function(a,b){var c=b.x-a.x,d=b.y-a.y;return new D(new D(a.x+c/2,a.y+d/2,1),new D(a.x-d+c/2,a.y+c+d/2,1))},qd.angleBisector=function(b,c,d){var e=c.distance(b),f=c.distance(d),g=e/(e+f),h=d.x-b.x,j=d.y-b.y;return new fa(b.x+g*h,b.y+g*j)},qd.area3D=function(b,d,e){var g=d.x-b.x,h=d.y-b.y,j=d.z-b.z,k=e.x-b.x,m=e.y-b.y,a=e.z-b.z,n=h*a-j*m,l=j*k-g*a,c=g*m-h*k;return Math.sqrt(n*n+l*l+c*c)/2},qd.centroid=function(a,b,c){return new fa((a.x+b.x+c.x)/3,(a.y+b.y+c.y)/3)},qd.inCentre=function(a,b,c){var d=b.distance(c),e=a.distance(c),f=a.distance(b),g=d+e+f;return new fa((d*a.x+e*b.x+f*c.x)/g,(d*a.y+e*b.y+f*c.y)/g)},t(rd.prototype,{getRadius:function(){return this.compute(),this.radius},getDiameter:function(){switch(this.compute(),this.extremalPts.length){case 0:return this.input.getFactory().createLineString();case 1:return this.input.getFactory().createPoint(this.centre);}var a=this.extremalPts[0],b=this.extremalPts[1];return this.input.getFactory().createLineString([a,b])},getExtremalPoints:function(){return this.compute(),this.extremalPts},computeCirclePoints:function(){if(this.input.isEmpty())return this.extremalPts=[].fill(null),null;if(1===this.input.getNumPoints()){var a=this.input.getCoordinates();return this.extremalPts=[new fa(a[0])],null}var b=this.input.convexHull(),c=b.getCoordinates(),a=c;if(c[0].equals2D(c[c.length-1])&&(a=Array(c.length-1).fill(null),Y.copyDeep(c,0,a,0,c.length-1)),2>=a.length)return this.extremalPts=Y.copyDeep(a),null;for(var d,e=rd.lowestPoint(a),f=rd.pointWitMinAngleWithX(a,e),g=0;g<a.length;g++){if(d=rd.pointWithMinAngleWithSegment(a,e,f),pd.isObtuse(e,d,f))return this.extremalPts=[new fa(e),new fa(f)],null;if(pd.isObtuse(d,e,f))e=d;else{if(!pd.isObtuse(d,f,e))return this.extremalPts=[new fa(e),new fa(f),new fa(d)],null;f=d}}ea.shouldNeverReachHere("Logic failure in Minimum Bounding Circle algorithm!")},compute:function(){return null===this.extremalPts?(this.computeCirclePoints(),this.computeCentre(),void(null!==this.centre&&(this.radius=this.centre.distance(this.extremalPts[0])))):null},getFarthestPoints:function(){switch(this.compute(),this.extremalPts.length){case 0:return this.input.getFactory().createLineString();case 1:return this.input.getFactory().createPoint(this.centre);}var a=this.extremalPts[0],b=this.extremalPts[this.extremalPts.length-1];return this.input.getFactory().createLineString([a,b])},getCircle:function(){if(this.compute(),null===this.centre)return this.input.getFactory().createPolygon();var a=this.input.getFactory().createPoint(this.centre);return 0===this.radius?a:a.buffer(this.radius)},getCentre:function(){return this.compute(),this.centre},computeCentre:function(){switch(this.extremalPts.length){case 0:this.centre=null;break;case 1:this.centre=this.extremalPts[0];break;case 2:this.centre=new fa((this.extremalPts[0].x+this.extremalPts[1].x)/2,(this.extremalPts[0].y+this.extremalPts[1].y)/2);break;case 3:this.centre=qd.circumcentre(this.extremalPts[0],this.extremalPts[1],this.extremalPts[2]);}},interfaces_:function(){return[]},getClass:function(){return rd}}),rd.pointWitMinAngleWithX=function(b,d){for(var e,f=da.MAX_VALUE,g=null,h=0;h<b.length;h++)if(e=b[h],e!==d){var j=e.x-d.x,a=e.y-d.y;0>a&&(a=-a);var k=Math.sqrt(j*j+a*a),l=a/k;l<f&&(f=l,g=e)}return g},rd.lowestPoint=function(a){for(var b=a[0],c=1;c<a.length;c++)a[c].y<b.y&&(b=a[c]);return b},rd.pointWithMinAngleWithSegment=function(b,c,d){for(var e,a=da.MAX_VALUE,f=null,g=0;g<b.length;g++)if(e=b[g],e!==c&&e!==d){var h=pd.angleBetween(c,e,d);h<a&&(a=h,f=e)}return f},t(sd.prototype,{getWidthCoordinate:function(){return this.computeMinimumDiameter(),this.minWidthPt},getSupportingSegment:function(){return this.computeMinimumDiameter(),this.inputGeom.getFactory().createLineString([this.minBaseSeg.p0,this.minBaseSeg.p1])},getDiameter:function(){if(this.computeMinimumDiameter(),null===this.minWidthPt)return this.inputGeom.getFactory().createLineString(null);var a=this.minBaseSeg.project(this.minWidthPt);return this.inputGeom.getFactory().createLineString([a,this.minWidthPt])},computeWidthConvex:function(a){this.convexHullPts=a instanceof Ga?a.getExteriorRing().getCoordinates():a.getCoordinates(),0===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=null,this.minBaseSeg=null):1===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=this.convexHullPts[0],this.minBaseSeg.p0=this.convexHullPts[0],this.minBaseSeg.p1=this.convexHullPts[0]):2===this.convexHullPts.length||3===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=this.convexHullPts[0],this.minBaseSeg.p0=this.convexHullPts[0],this.minBaseSeg.p1=this.convexHullPts[1]):this.computeConvexRingMinDiameter(this.convexHullPts)},computeConvexRingMinDiameter:function(a){this.minWidth=da.MAX_VALUE;for(var b=1,c=new fb,d=0;d<a.length-1;d++)c.p0=a[d],c.p1=a[d+1],b=this.findMaxPerpDistance(a,c,b)},computeMinimumDiameter:function(){if(null!==this.minWidthPt)return null;if(this.isConvex)this.computeWidthConvex(this.inputGeom);else{var a=new lb(this.inputGeom).getConvexHull();this.computeWidthConvex(a)}},getLength:function(){return this.computeMinimumDiameter(),this.minWidth},findMaxPerpDistance:function(a,b,c){for(var d=b.distancePerpendicular(a[c]),e=d,f=c,g=f;e>=d;)d=e,f=g,g=sd.nextIndex(a,f),e=b.distancePerpendicular(a[g]);return d<this.minWidth&&(this.minPtIndex=f,this.minWidth=d,this.minWidthPt=a[this.minPtIndex],this.minBaseSeg=new fb(b)),f},getMinimumRectangle:function(){if(this.computeMinimumDiameter(),0===this.minWidth)return this.minBaseSeg.p0.equals2D(this.minBaseSeg.p1)?this.inputGeom.getFactory().createPoint(this.minBaseSeg.p0):this.minBaseSeg.toGeometry(this.inputGeom.getFactory());for(var b,j=this.minBaseSeg.p1.x-this.minBaseSeg.p0.x,k=this.minBaseSeg.p1.y-this.minBaseSeg.p0.y,q=da.MAX_VALUE,n=-da.MAX_VALUE,r=da.MAX_VALUE,o=-da.MAX_VALUE,s=0;s<this.convexHullPts.length;s++){b=sd.computeC(j,k,this.convexHullPts[s]),b>n&&(n=b),b<q&&(q=b);var a=sd.computeC(-k,j,this.convexHullPts[s]);a>o&&(o=a),a<r&&(r=a)}var l=sd.computeSegmentForLine(-j,-k,o),c=sd.computeSegmentForLine(-j,-k,r),f=sd.computeSegmentForLine(-k,j,n),h=sd.computeSegmentForLine(-k,j,q),p=f.lineIntersection(l),d=h.lineIntersection(l),g=h.lineIntersection(c),u=f.lineIntersection(c),v=this.inputGeom.getFactory().createLinearRing([p,d,g,u,p]);return this.inputGeom.getFactory().createPolygon(v,null)},interfaces_:function(){return[]},getClass:function(){return sd}}),sd.nextIndex=function(a,b){return b++,b>=a.length&&(b=0),b},sd.computeC=function(a,b,c){return a*c.y-b*c.x},sd.getMinimumDiameter=function(a){return new sd(a).getDiameter()},sd.getMinimumRectangle=function(a){return new sd(a).getMinimumRectangle()},sd.computeSegmentForLine=function(a,b,c){var d=null,e=null;return Math.abs(b)>Math.abs(a)?(d=new fa(0,c/b),e=new fa(1,c/b-a/b)):(d=new fa(c/a,0),e=new fa(c/a-b/a,1)),new fb(d,e)};var og=Object.freeze({Centroid:hb,CGAlgorithms:eb,ConvexHull:lb,InteriorPointArea:$c,InteriorPointLine:ad,InteriorPointPoint:bd,RobustLineIntersector:bb,MCPointInRing:nd,MinimumBoundingCircle:rd,MinimumDiameter:sd});t(td.prototype,{getResultGeometry:function(){return new ud(this.distanceTolerance).transform(this.inputGeom)},setDistanceTolerance:function(a){if(0>=a)throw new ca("Tolerance must be positive");this.distanceTolerance=a},interfaces_:function(){return[]},getClass:function(){return td}}),td.densifyPoints=function(b,d,e){for(var g=new fb,h=new w,j=0;j<b.length-1;j++){g.p0=b[j],g.p1=b[j+1],h.add(g.p0,!1);var k=g.getLength(),m=Math.trunc(k/d)+1;if(1<m)for(var a=1;a<m;a++){var l=a*(k/m)/k,c=g.pointAlong(l);e.makePrecise(c),h.add(c,!1)}}return h.add(b[b.length-1],!1),h.toCoordinateArray()},td.densify=function(a,b){var c=new td(a);return c.setDistanceTolerance(b),c.getResultGeometry()},l(ud,nb),t(ud.prototype,{transformMultiPolygon:function(a,b){var c=nb.prototype.transformMultiPolygon.call(this,a,b);return this.createValidArea(c)},transformPolygon:function(a,b){var c=nb.prototype.transformPolygon.call(this,a,b);return b instanceof Ja?c:this.createValidArea(c)},transformCoordinates:function(a,b){var c=a.toCoordinateArray(),d=td.densifyPoints(c,this.distanceTolerance,b.getPrecisionModel());return b instanceof Ca&&1===d.length&&(d=[].fill(null)),this.factory.getCoordinateSequenceFactory().create(d)},createValidArea:function(a){return a.buffer(0)},interfaces_:function(){return[]},getClass:function(){return ud}}),td.DensifyTransformer=ud;var pg=Object.freeze({Densifier:td});t(vd.prototype,{find:function(a){var b=this;do{if(null===b)return null;if(b.dest().equals2D(a))return b;b=b.oNext()}while(b!==this);return null},dest:function(){return this._sym._orig},oNext:function(){return this._sym._next},insert:function(a){if(this.oNext()===this)return this.insertAfter(a),null;var b=this.compareTo(a),c=this;do{var d=c.oNext();if(d.compareTo(a)!==b||d===this)return c.insertAfter(a),null;c=d}while(c!==this);ea.shouldNeverReachHere()},insertAfter:function(a){ea.equals(this._orig,a.orig());var b=this.oNext();this._sym.setNext(a),a.sym().setNext(b)},degree:function(){var a=0,b=this;do a++,b=b.oNext();while(b!==this);return a},equals:function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];return this._orig.equals2D(a)&&this._sym._orig.equals(b)}},deltaY:function(){return this._sym._orig.y-this._orig.y},sym:function(){return this._sym},prev:function(){return this._sym.next()._sym},compareAngularDirection:function(a){var b=this.deltaX(),c=this.deltaY(),d=a.deltaX(),e=a.deltaY();if(b===d&&c===e)return 0;var f=Tb.quadrant(b,c),g=Tb.quadrant(d,e);return f>g?1:f<g?-1:eb.computeOrientation(a._orig,a.dest(),this.dest())},prevNode:function(){for(var a=this;2===a.degree();)if((a=a.prev())===this)return null;return a},compareTo:function(a){return this.compareAngularDirection(a)},next:function(){return this._next},setSym:function(a){this._sym=a},orig:function(){return this._orig},toString:function(){return"HE("+this._orig.x+" "+this._orig.y+", "+this._sym._orig.x+" "+this._sym._orig.y+")"},setNext:function(a){this._next=a},init:function(a){this.setSym(a),a.setSym(this),this.setNext(a),a.setNext(this)},deltaX:function(){return this._sym._orig.x-this._orig.x},interfaces_:function(){return[]},getClass:function(){return vd}}),vd.init=function(a,b){if(null!==a._sym||null!==b._sym||null!==a._next||null!==b._next)throw new IllegalStateException("Edges are already initialized");return a.init(b),a},vd.create=function(a,b){var c=new vd(a),d=new vd(b);return c.init(d),c},l(wd,vd),t(wd.prototype,{mark:function(){this._isMarked=!0},setMark:function(a){this._isMarked=a},isMarked:function(){return this._isMarked},interfaces_:function(){return[]},getClass:function(){return wd}}),wd.setMarkBoth=function(a,b){a.setMark(b),a.sym().setMark(b)},wd.isMarked=function(a){return a.isMarked()},wd.setMark=function(a,b){a.setMark(b)},wd.markBoth=function(a){a.mark(),a.sym().mark()},wd.mark=function(a){a.mark()},t(xd.prototype,{insert:function(a,b,c){var d=this.create(a,b);null===c?this.vertexMap.put(a,d):c.insert(d);var e=this.vertexMap.get(b);return null===e?this.vertexMap.put(b,d.sym()):e.insert(d.sym()),d},create:function(a,b){var c=this.createEdge(a),d=this.createEdge(b);return vd.init(c,d),c},createEdge:function(a){return new vd(a)},addEdge:function(a,b){if(!xd.isValidEdge(a,b))return null;var c=this.vertexMap.get(a),d=null;return null!==c&&(d=c.find(b)),null===d?this.insert(a,b,c):d},getVertexEdges:function(){return this.vertexMap.values()},findEdge:function(a,b){var c=this.vertexMap.get(a);return null===c?null:c.find(b)},interfaces_:function(){return[]},getClass:function(){return xd}}),xd.isValidEdge=function(a,b){return 0!==b.compareTo(a)},l(yd,wd),t(yd.prototype,{setStart:function(){this._isStart=!0},isStart:function(){return this._isStart},interfaces_:function(){return[]},getClass:function(){return yd}}),l(zd,xd),t(zd.prototype,{createEdge:function(a){return new yd(a)},interfaces_:function(){return[]},getClass:function(){return zd}}),t(Ad.prototype,{addLine:function(a){this.lines.add(this.factory.createLineString(a.toCoordinateArray()))},updateRingStartEdge:function(a){return a.isStart()||(a=a.sym(),a.isStart())?null===this.ringStartEdge?(this.ringStartEdge=a,null):void(0>a.orig().compareTo(this.ringStartEdge.orig())&&(this.ringStartEdge=a)):null},getResult:function(){return null===this.result&&this.computeResult(),this.result},process:function(a){var b=a.prevNode();null===b&&(b=a),this.stackEdges(b),this.buildLines()},buildRing:function(a){var b=new w,c=a;for(b.add(c.orig().copy(),!1);2===c.sym().degree();){var d=c.next();if(d===a)break;b.add(d.orig().copy(),!1),c=d}b.add(c.dest().copy(),!1),this.addLine(b)},buildLine:function(a){var b=new w,c=a;for(this.ringStartEdge=null,wd.markBoth(c),b.add(c.orig().copy(),!1);2===c.sym().degree();){this.updateRingStartEdge(c);var d=c.next();if(d===a)return this.buildRing(this.ringStartEdge),null;b.add(d.orig().copy(),!1),c=d,wd.markBoth(c)}b.add(c.dest().copy(),!1),this.stackEdges(c.sym()),this.addLine(b)},stackEdges:function(a){var b=a;do wd.isMarked(b)||this.nodeEdgeStack.add(b),b=b.oNext();while(b!==a)},computeResult:function(){for(var a,b=this.graph.getVertexEdges(),c=b.iterator();c.hasNext();)a=c.next(),wd.isMarked(a)||this.process(a);this.result=this.factory.buildGeometry(this.lines)},buildLines:function(){for(;!this.nodeEdgeStack.empty();){var a=this.nodeEdgeStack.pop();wd.isMarked(a)||this.buildLine(a)}},add:function(){if(arguments[0]instanceof k)arguments[0].apply({interfaces_:function(){return[q]},filter:function(a){a instanceof Ca&&this.add(a)}});else if(N(arguments[0],ga))for(var a,b=arguments[0],c=b.iterator();c.hasNext();)a=c.next(),this.add(a);else if(arguments[0]instanceof Ca){var d=arguments[0];null===this.factory&&(this.factory=d.getFactory());for(var e,f=d.getCoordinateSequence(),g=!1,c=1;c<f.size();c++)e=this.graph.addEdge(f.getCoordinate(c-1),f.getCoordinate(c)),null!==e&&(g||(e.setStart(),g=!0))}},interfaces_:function(){return[]},getClass:function(){return Ad}}),Ad.dissolve=function(a){var b=new Ad;return b.add(a),b.getResult()};var qg=Object.freeze({LineDissolver:Ad}),rg=Object.freeze({GeometryGraph:Tc});t(Bd.prototype,{hasChildren:function(){for(var a=0;4>a;a++)if(null!==this.subnode[a])return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(a){a.addAll(this.items);for(var b=0;4>b;b++)null!==this.subnode[b]&&this.subnode[b].addAllItems(a);return a},getNodeCount:function(){for(var a=0,b=0;4>b;b++)null!==this.subnode[b]&&(a+=this.subnode[b].size());return a+1},size:function(){for(var a=0,b=0;4>b;b++)null!==this.subnode[b]&&(a+=this.subnode[b].size());return a+this.items.size()},addAllItemsFromOverlapping:function(a,b){if(!this.isSearchMatch(a))return null;b.addAll(this.items);for(var c=0;4>c;c++)null!==this.subnode[c]&&this.subnode[c].addAllItemsFromOverlapping(a,b)},visitItems:function(a,b){for(var c=this.items.iterator();c.hasNext();)b.visitItem(c.next())},hasItems:function(){return!this.items.isEmpty()},remove:function(a,b){if(!this.isSearchMatch(a))return!1;for(var c=!1,d=0;4>d;d++)if(null!==this.subnode[d]&&(c=this.subnode[d].remove(a,b))){this.subnode[d].isPrunable()&&(this.subnode[d]=null);break}return c||(c=this.items.remove(b))},visit:function(a,b){if(!this.isSearchMatch(a))return null;this.visitItems(a,b);for(var c=0;4>c;c++)null!==this.subnode[c]&&this.subnode[c].visit(a,b)},getItems:function(){return this.items},depth:function(){for(var a=0,b=0;4>b;b++)if(null!==this.subnode[b]){var c=this.subnode[b].depth();c>a&&(a=c)}return a+1},isEmpty:function(){var a=!0;this.items.isEmpty()||(a=!1);for(var b=0;4>b;b++)null!==this.subnode[b]&&(this.subnode[b].isEmpty()||(a=!1));return a},add:function(a){this.items.add(a)},interfaces_:function(){return[a]},getClass:function(){return Bd}}),Bd.getSubnodeIndex=function(a,b,c){var d=-1;return a.getMinX()>=b&&(a.getMinY()>=c&&(d=3),a.getMaxY()<=c&&(d=1)),a.getMaxX()<=b&&(a.getMinY()>=c&&(d=2),a.getMaxY()<=c&&(d=0)),d},t(Cd.prototype,{getLevel:function(){return this.level},computeKey:function(){if(1===arguments.length){var a=arguments[0];for(this.level=Cd.computeQuadLevel(a),this.env=new y,this.computeKey(this.level,a);!this.env.contains(a);)this.level+=1,this.computeKey(this.level,a)}else if(2===arguments.length){var b=arguments[0],c=arguments[1],d=fd.powerOf2(b);this.pt.x=Math.floor(c.getMinX()/d)*d,this.pt.y=Math.floor(c.getMinY()/d)*d,this.env.init(this.pt.x,this.pt.x+d,this.pt.y,this.pt.y+d)}},getEnvelope:function(){return this.env},getCentre:function(){return new fa((this.env.getMinX()+this.env.getMaxX())/2,(this.env.getMinY()+this.env.getMaxY())/2)},getPoint:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return Cd}}),Cd.computeQuadLevel=function(a){var b=a.getWidth(),c=a.getHeight(),d=b>c?b:c;return fd.exponent(d)+1},l(Dd,Bd),t(Dd.prototype,{find:function(a){var b=Bd.getSubnodeIndex(a,this.centrex,this.centrey);return-1===b?this:null===this.subnode[b]?this:this.subnode[b].find(a)},isSearchMatch:function(a){return this.env.intersects(a)},getSubnode:function(a){return null===this.subnode[a]&&(this.subnode[a]=this.createSubnode(a)),this.subnode[a]},getEnvelope:function(){return this.env},getNode:function(a){var b=Bd.getSubnodeIndex(a,this.centrex,this.centrey);return-1===b?this:this.getSubnode(b).getNode(a)},createSubnode:function(a){var b=0,c=0,d=0,e=0;return 0===a?(b=this.env.getMinX(),c=this.centrex,d=this.env.getMinY(),e=this.centrey):1===a?(b=this.centrex,c=this.env.getMaxX(),d=this.env.getMinY(),e=this.centrey):2===a?(b=this.env.getMinX(),c=this.centrex,d=this.centrey,e=this.env.getMaxY()):3===a?(b=this.centrex,c=this.env.getMaxX(),d=this.centrey,e=this.env.getMaxY()):void 0,new Dd(new y(b,c,d,e),this.level-1)},insertNode:function(a){ea.isTrue(null===this.env||this.env.contains(a.env));var b=Bd.getSubnodeIndex(a.env,this.centrex,this.centrey);if(a.level===this.level-1)this.subnode[b]=a;else{var c=this.createSubnode(b);c.insertNode(a),this.subnode[b]=c}},interfaces_:function(){return[]},getClass:function(){return Dd}}),Dd.createNode=function(a){var b=new Cd(a);return new Dd(b.getEnvelope(),b.getLevel())},Dd.createExpanded=function(a,b){var c=new y(b);null!==a&&c.expandToInclude(a.env);var d=Dd.createNode(c);return null!==a&&d.insertNode(a),d},l(Ed,Bd),t(Ed.prototype,{insert:function(a,b){var c=Bd.getSubnodeIndex(a,Ed.origin.x,Ed.origin.y);if(-1===c)return this.add(b),null;var d=this.subnode[c];if(null===d||!d.getEnvelope().contains(a)){var e=Dd.createExpanded(d,a);this.subnode[c]=e}this.insertContained(this.subnode[c],a,b)},isSearchMatch:function(){return!0},insertContained:function(a,b,c){ea.isTrue(a.getEnvelope().contains(b));var d=jd.isZeroWidth(b.getMinX(),b.getMaxX()),e=jd.isZeroWidth(b.getMinY(),b.getMaxY()),f=null;f=d||e?a.find(b):a.getNode(b),f.add(c)},interfaces_:function(){return[]},getClass:function(){return Ed}}),Ed.origin=new fa(0,0),t(Fd.prototype,{size:function(){return null===this.root?0:this.root.size()},insert:function(a,b){this.collectStats(a);var c=Fd.ensureExtent(a,this.minExtent);this.root.insert(c,b)},query:function(){if(1===arguments.length){var a=arguments[0],b=new Jc;return this.query(a,b),b.getItems()}if(2===arguments.length){var c=arguments[0],d=arguments[1];this.root.visit(c,d)}},queryAll:function(){var a=new x;return this.root.addAllItems(a),a},remove:function(a,b){var c=Fd.ensureExtent(a,this.minExtent);return this.root.remove(c,b)},collectStats:function(a){var b=a.getWidth();b<this.minExtent&&0<b&&(this.minExtent=b);var c=a.getHeight();c<this.minExtent&&0<c&&(this.minExtent=c)},depth:function(){return null===this.root?0:this.root.depth()},isEmpty:function(){return null===this.root},interfaces_:function(){return[Eb,a]},getClass:function(){return Fd}}),Fd.ensureExtent=function(a,b){var c=a.getMinX(),d=a.getMaxX(),e=a.getMinY(),f=a.getMaxY();return c!==d&&e!==f?a:(c===d&&(c-=b/2,d=c+b/2),e===f&&(e-=b/2,f=e+b/2),new y(c,d,e,f))},Fd.serialVersionUID=-0x678b60c967a25400;var sg=Object.freeze({Quadtree:Fd}),tg=Object.freeze({STRtree:Jb}),ug=Object.freeze({quadtree:sg,strtree:tg}),vg=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"];t(Gd.prototype,{read:function(a){var b="string"==typeof a?JSON.parse(a):a;var c=b.type;if(!wg[c])throw new Error("Unknown GeoJSON type: "+b.type);return-1===vg.indexOf(c)?"GeometryCollection"===c?wg[c].apply(this,[b.geometries]):wg[c].apply(this,[b]):wg[c].apply(this,[b.coordinates])},write:function(a){var b=a.getGeometryType();if(!xg[b])throw new Error("Geometry is not supported");return xg[b].apply(this,[a])}});var wg={Feature:function(a){var b={};for(var c in a)b[c]=a[c];if(a.geometry){var d=a.geometry.type;if(!wg[d])throw new Error("Unknown GeoJSON type: "+a.type);b.geometry=this.read(a.geometry)}return a.bbox&&(b.bbox=wg.bbox.apply(this,[a.bbox])),b},FeatureCollection:function(a){var b={};if(a.features){b.features=[];for(var c=0;c<a.features.length;++c)b.features.push(this.read(a.features[c]))}return a.bbox&&(b.bbox=this.parse.bbox.apply(this,[a.bbox])),b},coordinates:function(a){for(var b,c=[],d=0;d<a.length;++d)b=a[d],c.push(new fa(b[0],b[1]));return c},bbox:function(a){return this.geometryFactory.createLinearRing([new fa(a[0],a[1]),new fa(a[2],a[1]),new fa(a[2],a[3]),new fa(a[0],a[3]),new fa(a[0],a[1])])},Point:function(a){var b=new fa(a[0],a[1]);return this.geometryFactory.createPoint(b)},MultiPoint:function(a){for(var b=[],c=0;c<a.length;++c)b.push(wg.Point.apply(this,[a[c]]));return this.geometryFactory.createMultiPoint(b)},LineString:function(a){var b=wg.coordinates.apply(this,[a]);return this.geometryFactory.createLineString(b)},MultiLineString:function(a){for(var b=[],c=0;c<a.length;++c)b.push(wg.LineString.apply(this,[a[c]]));return this.geometryFactory.createMultiLineString(b)},Polygon:function(b){for(var c=wg.coordinates.apply(this,[b[0]]),d=this.geometryFactory.createLinearRing(c),e=[],f=1;f<b.length;++f){var g=b[f],h=wg.coordinates.apply(this,[g]),j=this.geometryFactory.createLinearRing(h);e.push(j)}return this.geometryFactory.createPolygon(d,e)},MultiPolygon:function(a){for(var b,c=[],d=0;d<a.length;++d)b=a[d],c.push(wg.Polygon.apply(this,[b]));return this.geometryFactory.createMultiPolygon(c)},GeometryCollection:function(a){for(var b,c=[],d=0;d<a.length;++d)b=a[d],c.push(this.read(b));return this.geometryFactory.createGeometryCollection(c)}},xg={coordinate:function(a){return[a.x,a.y]},Point:function(a){return{type:"Point",coordinates:xg.coordinate.apply(this,[a.getCoordinate()])}},MultiPoint:function(a){for(var b=[],c=0;c<a.geometries.length;++c){var d=a.geometries[c],f=xg.Point.apply(this,[d]);b.push(f.coordinates)}return{type:"MultiPoint",coordinates:b}},LineString:function(a){for(var b,c=[],d=a.getCoordinates(),f=0;f<d.length;++f)b=d[f],c.push(xg.coordinate.apply(this,[b]));return{type:"LineString",coordinates:c}},MultiLineString:function(a){for(var b=[],c=0;c<a.geometries.length;++c){var d=a.geometries[c],f=xg.LineString.apply(this,[d]);b.push(f.coordinates)}return{type:"MultiLineString",coordinates:b}},Polygon:function(a){var b=[],c=xg.LineString.apply(this,[a.shell]);b.push(c.coordinates);for(var d=0;d<a.holes.length;++d){var f=a.holes[d],g=xg.LineString.apply(this,[f]);b.push(g.coordinates)}return{type:"Polygon",coordinates:b}},MultiPolygon:function(a){for(var b=[],c=0;c<a.geometries.length;++c){var d=a.geometries[c],f=xg.Polygon.apply(this,[d]);b.push(f.coordinates)}return{type:"MultiPolygon",coordinates:b}},GeometryCollection:function(a){for(var b=[],c=0;c<a.geometries.length;++c){var d=a.geometries[c],f=d.getGeometryType();b.push(xg[f].apply(this,[d]))}return{type:"GeometryCollection",geometries:b}}};t(Hd.prototype,{read:function(a){var b=this.parser.read(a);return this.precisionModel.getType()===Xa.FIXED&&this.reducePrecision(b),b},reducePrecision:function(a){var b,c;if(a.coordinate)this.precisionModel.makePrecise(a.coordinate);else if(a.points)for(b=0,c=a.points.length;b<c;b++)this.precisionModel.makePrecise(a.points[b]);else if(a.geometries)for(b=0,c=a.geometries.length;b<c;b++)this.reducePrecision(a.geometries[b])}}),t(Id.prototype,{write:function(a){return this.parser.write(a)}}),t(Jd.prototype,{read:function(a){var b=this.parser.read(a);return this.precisionModel.getType()===Xa.FIXED&&this.reducePrecision(b),b},reducePrecision:function(a){if(a.coordinate)this.precisionModel.makePrecise(a.coordinate);else if(a.points)for(var b=0,c=a.points.coordinates.length;b<c;b++)this.precisionModel.makePrecise(a.points.coordinates[b]);else if(a.geometries)for(var d=0,e=a.geometries.length;d<e;d++)this.reducePrecision(a.geometries[d])}}),t(Ld.prototype,{read:function(a){var b=this.ol;return a instanceof b.geom.Point?this.convertFromPoint(a):a instanceof b.geom.LineString?this.convertFromLineString(a):a instanceof b.geom.LinearRing?this.convertFromLinearRing(a):a instanceof b.geom.Polygon?this.convertFromPolygon(a):a instanceof b.geom.MultiPoint?this.convertFromMultiPoint(a):a instanceof b.geom.MultiLineString?this.convertFromMultiLineString(a):a instanceof b.geom.MultiPolygon?this.convertFromMultiPolygon(a):a instanceof b.geom.GeometryCollection?this.convertFromCollection(a):void 0},convertFromPoint:function(a){var b=a.getCoordinates();return this.geometryFactory.createPoint(new fa(b[0],b[1]))},convertFromLineString:function(a){return this.geometryFactory.createLineString(a.getCoordinates().map(function(a){return new fa(a[0],a[1])}))},convertFromLinearRing:function(a){return this.geometryFactory.createLinearRing(a.getCoordinates().map(function(a){return new fa(a[0],a[1])}))},convertFromPolygon:function(a){for(var b,c=a.getLinearRings(),d=null,e=[],f=0;f<c.length;f++)b=this.convertFromLinearRing(c[f]),0===f?d=b:e.push(b);return this.geometryFactory.createPolygon(d,e)},convertFromMultiPoint:function(a){var b=a.getPoints().map(function(a){return this.convertFromPoint(a)},this);return this.geometryFactory.createMultiPoint(b)},convertFromMultiLineString:function(a){var b=a.getLineStrings().map(function(a){return this.convertFromLineString(a)},this);return this.geometryFactory.createMultiLineString(b)},convertFromMultiPolygon:function(a){var b=a.getPolygons().map(function(a){return this.convertFromPolygon(a)},this);return this.geometryFactory.createMultiPolygon(b)},convertFromCollection:function(a){var b=a.getGeometries().map(function(a){return this.read(a)},this);return this.geometryFactory.createGeometryCollection(b)},write:function(a){return"Point"===a.getGeometryType()?this.convertToPoint(a.getCoordinate()):"LineString"===a.getGeometryType()?this.convertToLineString(a):"LinearRing"===a.getGeometryType()?this.convertToLinearRing(a):"Polygon"===a.getGeometryType()?this.convertToPolygon(a):"MultiPoint"===a.getGeometryType()?this.convertToMultiPoint(a):"MultiLineString"===a.getGeometryType()?this.convertToMultiLineString(a):"MultiPolygon"===a.getGeometryType()?this.convertToMultiPolygon(a):"GeometryCollection"===a.getGeometryType()?this.convertToCollection(a):void 0},convertToPoint:function(a){return new this.ol.geom.Point([a.x,a.y])},convertToLineString:function(a){var b=a.points.coordinates.map(Kd);return new this.ol.geom.LineString(b)},convertToLinearRing:function(a){var b=a.points.coordinates.map(Kd);return new this.ol.geom.LinearRing(b)},convertToPolygon:function(a){for(var b=[a.shell.points.coordinates.map(Kd)],c=0;c<a.holes.length;c++)b.push(a.holes[c].points.coordinates.map(Kd));return new this.ol.geom.Polygon(b)},convertToMultiPoint:function(a){return new this.ol.geom.MultiPoint(a.getCoordinates().map(Kd))},convertToMultiLineString:function(a){for(var b=[],c=0;c<a.geometries.length;c++)b.push(this.convertToLineString(a.geometries[c]).getCoordinates());return new this.ol.geom.MultiLineString(b)},convertToMultiPolygon:function(a){for(var b=[],c=0;c<a.geometries.length;c++)b.push(this.convertToPolygon(a.geometries[c]).getCoordinates());return new this.ol.geom.MultiPolygon(b)},convertToCollection:function(a){for(var b,c=[],d=0;d<a.geometries.length;d++)b=a.geometries[d],c.push(this.write(b));return new this.ol.geom.GeometryCollection(c)}});var yg=Object.freeze({GeoJSONReader:Hd,GeoJSONWriter:Id,OL3Parser:Ld,WKTReader:Jd,WKTWriter:_a});t(Md.prototype,{rescale:function(){if(N(arguments[0],ga))for(var a,b=arguments[0],c=b.iterator();c.hasNext();)a=c.next(),this.rescale(a.getCoordinates());else if(arguments[0]instanceof Array){var d=arguments[0];2===d.length&&(new fa(d[0]),new fa(d[1]));for(var c=0;c<d.length;c++)d[c].x=d[c].x/this.scaleFactor+this.offsetX,d[c].y=d[c].y/this.scaleFactor+this.offsetY;2===d.length&&d[0].equals2D(d[1])&&A.out.println(d)}},scale:function(){if(N(arguments[0],ga)){for(var a,b=arguments[0],c=new x,d=b.iterator();d.hasNext();)a=d.next(),c.add(new Qb(this.scale(a.getCoordinates()),a.getData()));return c}if(arguments[0]instanceof Array){for(var e=arguments[0],f=Array(e.length).fill(null),d=0;d<e.length;d++)f[d]=new fa(Math.round((e[d].x-this.offsetX)*this.scaleFactor),Math.round((e[d].y-this.offsetY)*this.scaleFactor),e[d].z);return Y.removeRepeatedPoints(f)}},isIntegerPrecision:function(){return 1===this.scaleFactor},getNodedSubstrings:function(){var a=this.noder.getNodedSubstrings();return this.isScaled&&this.rescale(a),a},computeNodes:function(a){var b=a;this.isScaled&&(b=this.scale(a)),this.noder.computeNodes(b)},interfaces_:function(){return[Vb]},getClass:function(){return Md}});var zg=Object.freeze({MCIndexNoder:Xb,ScaledNoder:Md,SegmentString:yb});t(Nd.prototype,{isSimpleMultiPoint:function(a){if(a.isEmpty())return!0;for(var b=new ma,c=0;c<a.getNumGeometries();c++){var d=a.getGeometryN(c),e=d.getCoordinate();if(b.contains(e))return this.nonSimpleLocation=e,!1;b.add(e)}return!0},isSimplePolygonal:function(a){for(var b,c=Ic.getLines(a),d=c.iterator();d.hasNext();)if(b=d.next(),!this.isSimpleLinearGeometry(b))return!1;return!0},hasClosedEndpointIntersection:function(b){for(var c=new ja,d=b.getEdgeIterator();d.hasNext();){var e=d.next(),f=(e.getMaximumSegmentIndex(),e.isClosed()),g=e.getCoordinate(0);this.addEndpoint(c,g,f);var h=e.getCoordinate(e.getNumPoints()-1);this.addEndpoint(c,h,f)}for(var j,d=c.values().iterator();d.hasNext();)if(j=d.next(),j.isClosed&&2!==j.degree)return this.nonSimpleLocation=j.getCoordinate(),!0;return!1},getNonSimpleLocation:function(){return this.nonSimpleLocation},isSimpleLinearGeometry:function(a){if(a.isEmpty())return!0;var b=new Tc(0,a),c=new bb,d=b.computeSelfNodes(c,!0);return!(d.hasIntersection()&&(d.hasProperIntersection()?(this.nonSimpleLocation=d.getProperIntersectionPoint(),1):this.hasNonEndpointIntersection(b)||this.isClosedEndpointsInInterior&&this.hasClosedEndpointIntersection(b)))},hasNonEndpointIntersection:function(a){for(var b=a.getEdgeIterator();b.hasNext();)for(var c,d=b.next(),e=d.getMaximumSegmentIndex(),f=d.getEdgeIntersectionList().iterator();f.hasNext();)if(c=f.next(),!c.isEndPoint(e))return this.nonSimpleLocation=c.getCoordinate(),!0;return!1},addEndpoint:function(a,b,c){var d=a.get(b);null===d&&(d=new Od(b),a.put(b,d)),d.addEndpoint(c)},computeSimple:function(a){return this.nonSimpleLocation=null,!!a.isEmpty()||(a instanceof Ca?this.isSimpleLinearGeometry(a):a instanceof sa?this.isSimpleLinearGeometry(a):a instanceof Ha?this.isSimpleMultiPoint(a):N(a,Fa)?this.isSimplePolygonal(a):!(a instanceof ra)||this.isSimpleGeometryCollection(a))},isSimple:function(){return this.nonSimpleLocation=null,this.computeSimple(this.inputGeom)},isSimpleGeometryCollection:function(a){for(var b,c=0;c<a.getNumGeometries();c++)if(b=a.getGeometryN(c),!this.computeSimple(b))return!1;return!0},interfaces_:function(){return[]},getClass:function(){return Nd}}),t(Od.prototype,{addEndpoint:function(a){this.degree++,this.isClosed|=a},getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return Od}}),Nd.EndpointInfo=Od,t(Pd.prototype,{getEndCapStyle:function(){return this.endCapStyle},isSingleSided:function(){return this._isSingleSided},setQuadrantSegments:function(a){this.quadrantSegments=a,0===this.quadrantSegments&&(this.joinStyle=Pd.JOIN_BEVEL),0>this.quadrantSegments&&(this.joinStyle=Pd.JOIN_MITRE,this.mitreLimit=Math.abs(this.quadrantSegments)),0>=a&&(this.quadrantSegments=1),this.joinStyle!==Pd.JOIN_ROUND&&(this.quadrantSegments=Pd.DEFAULT_QUADRANT_SEGMENTS)},getJoinStyle:function(){return this.joinStyle},setJoinStyle:function(a){this.joinStyle=a},setSimplifyFactor:function(a){this.simplifyFactor=0>a?0:a},getSimplifyFactor:function(){return this.simplifyFactor},getQuadrantSegments:function(){return this.quadrantSegments},setEndCapStyle:function(a){this.endCapStyle=a},getMitreLimit:function(){return this.mitreLimit},setMitreLimit:function(a){this.mitreLimit=a},setSingleSided:function(a){this._isSingleSided=a},interfaces_:function(){return[]},getClass:function(){return Pd}}),Pd.bufferDistanceError=function(a){var b=Math.PI/2/a;return 1-Math.cos(b/2)},Pd.CAP_ROUND=1,Pd.CAP_FLAT=2,Pd.CAP_SQUARE=3,Pd.JOIN_ROUND=1,Pd.JOIN_MITRE=2,Pd.JOIN_BEVEL=3,Pd.DEFAULT_QUADRANT_SEGMENTS=8,Pd.DEFAULT_MITRE_LIMIT=5,Pd.DEFAULT_SIMPLIFY_FACTOR=.01,t(Qd.prototype,{getCoordinate:function(){return this.minCoord},getRightmostSide:function(a,b){var c=this.getRightmostSideOfSegment(a,b);return 0>c&&(c=this.getRightmostSideOfSegment(a,b-1)),0>c&&(this.minCoord=null,this.checkForRightmostCoordinate(a)),c},findRightmostEdgeAtVertex:function(){var a=this.minDe.getEdge().getCoordinates();ea.isTrue(0<this.minIndex&&this.minIndex<a.length,"rightmost point expected to be interior vertex of edge");var b=a[this.minIndex-1],c=a[this.minIndex+1],d=eb.computeOrientation(this.minCoord,c,b),e=!1;b.y<this.minCoord.y&&c.y<this.minCoord.y&&d===eb.COUNTERCLOCKWISE?e=!0:b.y>this.minCoord.y&&c.y>this.minCoord.y&&d===eb.CLOCKWISE&&(e=!0),e&&--this.minIndex},getRightmostSideOfSegment:function(a,b){var c=a.getEdge(),d=c.getCoordinates();if(0>b||b+1>=d.length)return-1;if(d[b].y===d[b+1].y)return-1;var e=dc.LEFT;return d[b].y<d[b+1].y&&(e=dc.RIGHT),e},getEdge:function(){return this.orientedDe},checkForRightmostCoordinate:function(a){for(var b=a.getEdge().getCoordinates(),c=0;c<b.length-1;c++)(null===this.minCoord||b[c].x>this.minCoord.x)&&(this.minDe=a,this.minIndex=c,this.minCoord=b[c])},findRightmostEdgeAtNode:function(){var a=this.minDe.getNode(),b=a.getEdges();this.minDe=b.getRightmostEdge(),this.minDe.isForward()||(this.minDe=this.minDe.getSym(),this.minIndex=this.minDe.getEdge().getCoordinates().length-1)},findEdge:function(a){for(var b,c=a.iterator();c.hasNext();)b=c.next(),b.isForward()&&this.checkForRightmostCoordinate(b);ea.isTrue(0!==this.minIndex||this.minCoord.equals(this.minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this.minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this.orientedDe=this.minDe,this.getRightmostSide(this.minDe,this.minIndex)===dc.LEFT&&(this.orientedDe=this.minDe.getSym())},interfaces_:function(){return[]},getClass:function(){return Qd}}),Rd.prototype.addLast=function(a){this.array_.push(a)},Rd.prototype.removeFirst=function(){return this.array_.shift()},Rd.prototype.isEmpty=function(){return 0===this.array_.length},t(Sd.prototype,{clearVisitedEdges:function(){for(var a=this.dirEdgeList.iterator();a.hasNext();)a.next().setVisited(!1)},getRightmostCoordinate:function(){return this.rightMostCoord},computeNodeDepth:function(a){for(var b,c=null,d=a.getEdges().iterator();d.hasNext();)if(b=d.next(),b.isVisited()||b.getSym().isVisited()){c=b;break}if(null===c)throw new Zb("unable to find edge to compute depths at "+a.getCoordinate());a.getEdges().computeDepths(c);for(var b,d=a.getEdges().iterator();d.hasNext();)b=d.next(),b.setVisited(!0),this.copySymDepths(b)},computeDepth:function(a){this.clearVisitedEdges();var b=this.finder.getEdge();b.getNode(),b.getLabel(),b.setEdgeDepths(dc.RIGHT,a),this.copySymDepths(b),this.computeDepths(b)},create:function(a){this.addReachable(a),this.finder.findEdge(this.dirEdgeList),this.rightMostCoord=this.finder.getCoordinate()},findResultEdges:function(){for(var a,b=this.dirEdgeList.iterator();b.hasNext();)a=b.next(),1<=a.getDepth(dc.RIGHT)&&0>=a.getDepth(dc.LEFT)&&!a.isInteriorAreaEdge()&&a.setInResult(!0)},computeDepths:function(b){var c=new K,d=new Rd,e=b.getNode();for(d.addLast(e),c.add(e),b.setVisited(!0);!d.isEmpty();){var f=d.removeFirst();c.add(f),this.computeNodeDepth(f);for(var g=f.getEdges().iterator();g.hasNext();){var h=g.next(),j=h.getSym();if(!j.isVisited()){var a=j.getNode();c.contains(a)||(d.addLast(a),c.add(a))}}}},compareTo:function(a){var b=a;return this.rightMostCoord.x<b.rightMostCoord.x?-1:this.rightMostCoord.x>b.rightMostCoord.x?1:0},getEnvelope:function(){if(null===this.env){for(var a=new y,b=this.dirEdgeList.iterator();b.hasNext();)for(var c=b.next(),d=c.getEdge().getCoordinates(),e=0;e<d.length-1;e++)a.expandToInclude(d[e]);this.env=a}return this.env},addReachable:function(a){var b=new jb;for(b.add(a);!b.empty();){var c=b.pop();this.add(c,b)}},copySymDepths:function(a){var b=a.getSym();b.setDepth(dc.LEFT,a.getDepth(dc.RIGHT)),b.setDepth(dc.RIGHT,a.getDepth(dc.LEFT))},add:function(a,b){a.setVisited(!0),this.nodes.add(a);for(var c,d=a.getEdges().iterator();d.hasNext();){c=d.next(),this.dirEdgeList.add(c);var e=c.getSym(),f=e.getNode();f.isVisited()||b.push(f)}},getNodes:function(){return this.nodes},getDirectedEdges:function(){return this.dirEdgeList},interfaces_:function(){return[e]},getClass:function(){return Sd}}),t(Td.prototype,{isDeletable:function(a,b,c,d){var e=this.inputLine[a],f=this.inputLine[b],g=this.inputLine[c];return!!this.isConcave(e,f,g)&&!!this.isShallow(e,f,g,d)&&this.isShallowSampled(e,f,a,c,d)},deleteShallowConcavities:function(){for(var a,b=1,c=(this.inputLine.length,this.findNextNonDeletedIndex(b)),d=this.findNextNonDeletedIndex(c),e=!1;d<this.inputLine.length;)a=!1,this.isDeletable(b,c,d,this.distanceTol)&&(this.isDeleted[c]=Td.DELETE,a=!0,e=!0),b=a?d:c,c=this.findNextNonDeletedIndex(b),d=this.findNextNonDeletedIndex(c);return e},isShallowConcavity:function(a,b,c,d){return eb.computeOrientation(a,b,c)===this.angleOrientation&&eb.distancePointLine(b,a,c)<d},isShallowSampled:function(a,b,c,d,e){var f=Math.trunc((d-c)/Td.NUM_PTS_TO_CHECK);0>=f&&(f=1);for(var g=c;g<d;g+=f)if(!this.isShallow(a,b,this.inputLine[g],e))return!1;return!0},isConcave:function(a,b,c){return eb.computeOrientation(a,b,c)===this.angleOrientation},simplify:function(a){this.distanceTol=Math.abs(a),0>a&&(this.angleOrientation=eb.CLOCKWISE),this.isDeleted=Array(this.inputLine.length).fill(null);var b=!1;do b=this.deleteShallowConcavities();while(b);return this.collapseLine()},findNextNonDeletedIndex:function(a){for(var b=a+1;b<this.inputLine.length&&this.isDeleted[b]===Td.DELETE;)b++;return b},isShallow:function(a,b,c,d){return eb.distancePointLine(b,a,c)<d},collapseLine:function(){for(var a=new w,b=0;b<this.inputLine.length;b++)this.isDeleted[b]!==Td.DELETE&&a.add(this.inputLine[b]);return a.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return Td}}),Td.simplify=function(a,b){return new Td(a).simplify(b)},Td.INIT=0,Td.DELETE=1,Td.KEEP=1,Td.NUM_PTS_TO_CHECK=10,t(Ud.prototype,{getCoordinates:function(){return this.ptList.toArray(Ud.COORDINATE_ARRAY_TYPE)},setPrecisionModel:function(a){this.precisionModel=a},addPt:function(a){var b=new fa(a);return this.precisionModel.makePrecise(b),this.isRedundant(b)?null:void this.ptList.add(b)},reverse:function(){},addPts:function(a,b){if(b)for(var c=0;c<a.length;c++)this.addPt(a[c]);else for(var c=a.length-1;0<=c;c--)this.addPt(a[c])},isRedundant:function(a){if(1>this.ptList.size())return!1;var b=this.ptList.get(this.ptList.size()-1);return a.distance(b)<this.minimimVertexDistance},toString:function(){return new Za().createLineString(this.getCoordinates()).toString()},closeRing:function(){if(1>this.ptList.size())return null;var a=new fa(this.ptList.get(0)),b=this.ptList.get(this.ptList.size()-1);return 2<=this.ptList.size()&&this.ptList.get(this.ptList.size()-2),a.equals(b)?null:void this.ptList.add(a)},setMinimumVertexDistance:function(a){this.minimimVertexDistance=a},interfaces_:function(){return[]},getClass:function(){return Ud}}),Ud.COORDINATE_ARRAY_TYPE=[].fill(null),t(Vd.prototype,{addNextSegment:function(a,b){if(this.s0=this.s1,this.s1=this.s2,this.s2=a,this.seg0.setCoordinates(this.s0,this.s1),this.computeOffsetSegment(this.seg0,this.side,this.distance,this.offset0),this.seg1.setCoordinates(this.s1,this.s2),this.computeOffsetSegment(this.seg1,this.side,this.distance,this.offset1),this.s1.equals(this.s2))return null;var c=eb.computeOrientation(this.s0,this.s1,this.s2),d=c===eb.CLOCKWISE&&this.side===dc.LEFT||c===eb.COUNTERCLOCKWISE&&this.side===dc.RIGHT;0===c?this.addCollinear(b):d?this.addOutsideTurn(c,b):this.addInsideTurn(c,b)},addLineEndCap:function(b,d){var e=new fb(b,d),f=new fb;this.computeOffsetSegment(e,dc.LEFT,this.distance,f);var g=new fb;this.computeOffsetSegment(e,dc.RIGHT,this.distance,g);var h=d.x-b.x,j=d.y-b.y,k=Math.atan2(j,h);switch(this.bufParams.getEndCapStyle()){case Pd.CAP_ROUND:this.segList.addPt(f.p1),this.addFilletArc(d,k+Math.PI/2,k-Math.PI/2,eb.CLOCKWISE,this.distance),this.segList.addPt(g.p1);break;case Pd.CAP_FLAT:this.segList.addPt(f.p1),this.segList.addPt(g.p1);break;case Pd.CAP_SQUARE:var a=new fa;a.x=Math.abs(this.distance)*Math.cos(k),a.y=Math.abs(this.distance)*Math.sin(k);var m=new fa(f.p1.x+a.x,f.p1.y+a.y),l=new fa(g.p1.x+a.x,g.p1.y+a.y);this.segList.addPt(m),this.segList.addPt(l);}},getCoordinates:function(){return this.segList.getCoordinates()},addMitreJoin:function(a,b,c,d){var e=!0,f=null;try{f=D.intersection(b.p0,b.p1,c.p0,c.p1),(0>=d?1:f.distance(a)/Math.abs(d))>this.bufParams.getMitreLimit()&&(e=!1)}catch(a){if(!(a instanceof E))throw a;f=new fa(0,0),e=!1}e?this.segList.addPt(f):this.addLimitedMitreJoin(b,c,d,this.bufParams.getMitreLimit())},addFilletCorner:function(b,d,e,f,g){var h=d.x-b.x,j=d.y-b.y,k=Math.atan2(j,h),a=e.x-b.x,m=e.y-b.y,l=Math.atan2(m,a);f===eb.CLOCKWISE?k<=l&&(k+=2*Math.PI):k>=l&&(k-=2*Math.PI),this.segList.addPt(d),this.addFilletArc(b,k,l,f,g),this.segList.addPt(e)},addOutsideTurn:function(a,b){return this.offset0.p1.distance(this.offset1.p0)<this.distance*Vd.OFFSET_SEGMENT_SEPARATION_FACTOR?(this.segList.addPt(this.offset0.p1),null):void(this.bufParams.getJoinStyle()===Pd.JOIN_MITRE?this.addMitreJoin(this.s1,this.offset0,this.offset1,this.distance):this.bufParams.getJoinStyle()===Pd.JOIN_BEVEL?this.addBevelJoin(this.offset0,this.offset1):(b&&this.segList.addPt(this.offset0.p1),this.addFilletCorner(this.s1,this.offset0.p1,this.offset1.p0,a,this.distance),this.segList.addPt(this.offset1.p0)))},createSquare:function(a){this.segList.addPt(new fa(a.x+this.distance,a.y+this.distance)),this.segList.addPt(new fa(a.x+this.distance,a.y-this.distance)),this.segList.addPt(new fa(a.x-this.distance,a.y-this.distance)),this.segList.addPt(new fa(a.x-this.distance,a.y+this.distance)),this.segList.closeRing()},addSegments:function(a,b){this.segList.addPts(a,b)},addFirstSegment:function(){this.segList.addPt(this.offset1.p0)},addLastSegment:function(){this.segList.addPt(this.offset1.p1)},initSideSegments:function(a,b,c){this.s1=a,this.s2=b,this.side=c,this.seg1.setCoordinates(a,b),this.computeOffsetSegment(this.seg1,c,this.distance,this.offset1)},addLimitedMitreJoin:function(b,j,e,k){var n=this.seg0.p1,p=pd.angle(n,this.seg0.p0),o=(pd.angle(n,this.seg1.p1),pd.angleBetweenOriented(this.seg0.p0,n,this.seg1.p1)),q=o/2,a=pd.normalize(p+q),r=pd.normalize(a+Math.PI),l=k*e,c=l*Math.abs(Math.sin(q)),f=e-c,s=n.x+l*Math.cos(r),d=n.y+l*Math.sin(r),g=new fa(s,d),t=new fb(n,g),u=t.pointAlongOffset(1,f),m=t.pointAlongOffset(1,-f);this.side===dc.LEFT?(this.segList.addPt(u),this.segList.addPt(m)):(this.segList.addPt(m),this.segList.addPt(u))},computeOffsetSegment:function(b,c,d,e){var f=c===dc.LEFT?1:-1,g=b.p1.x-b.p0.x,h=b.p1.y-b.p0.y,j=Math.sqrt(g*g+h*h),a=f*d*g/j,k=f*d*h/j;e.p0.x=b.p0.x-k,e.p0.y=b.p0.y+a,e.p1.x=b.p1.x-k,e.p1.y=b.p1.y+a},addFilletArc:function(b,d,e,g,j){var k=g===eb.CLOCKWISE?-1:1,m=Math.abs(d-e),n=Math.trunc(m/this.filletAngleQuantum+.5);if(1>n)return null;var a=null,o=null;a=0,o=m/n;for(var l,h=a,c=new fa;h<m;)l=d+k*h,c.x=b.x+j*Math.cos(l),c.y=b.y+j*Math.sin(l),this.segList.addPt(c),h+=o},addInsideTurn:function(){if(this.li.computeIntersection(this.offset0.p0,this.offset0.p1,this.offset1.p0,this.offset1.p1),this.li.hasIntersection())this.segList.addPt(this.li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this.offset0.p1.distance(this.offset1.p0)<this.distance*Vd.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this.segList.addPt(this.offset0.p1);else{if(this.segList.addPt(this.offset0.p1),0<this.closingSegLengthFactor){var a=new fa((this.closingSegLengthFactor*this.offset0.p1.x+this.s1.x)/(this.closingSegLengthFactor+1),(this.closingSegLengthFactor*this.offset0.p1.y+this.s1.y)/(this.closingSegLengthFactor+1));this.segList.addPt(a);var b=new fa((this.closingSegLengthFactor*this.offset1.p0.x+this.s1.x)/(this.closingSegLengthFactor+1),(this.closingSegLengthFactor*this.offset1.p0.y+this.s1.y)/(this.closingSegLengthFactor+1));this.segList.addPt(b)}else this.segList.addPt(this.s1);this.segList.addPt(this.offset1.p0)}},createCircle:function(a){var b=new fa(a.x+this.distance,a.y);this.segList.addPt(b),this.addFilletArc(a,0,2*Math.PI,-1,this.distance),this.segList.closeRing()},addBevelJoin:function(a,b){this.segList.addPt(a.p1),this.segList.addPt(b.p0)},init:function(a){this.distance=a,this.maxCurveSegmentError=a*(1-Math.cos(this.filletAngleQuantum/2)),this.segList=new Ud,this.segList.setPrecisionModel(this.precisionModel),this.segList.setMinimumVertexDistance(a*Vd.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},addCollinear:function(a){this.li.computeIntersection(this.s0,this.s1,this.s1,this.s2),2<=this.li.getIntersectionNum()&&(this.bufParams.getJoinStyle()===Pd.JOIN_BEVEL||this.bufParams.getJoinStyle()===Pd.JOIN_MITRE?(a&&this.segList.addPt(this.offset0.p1),this.segList.addPt(this.offset1.p0)):this.addFilletCorner(this.s1,this.offset0.p1,this.offset1.p0,eb.CLOCKWISE,this.distance))},closeRing:function(){this.segList.closeRing()},hasNarrowConcaveAngle:function(){return this._hasNarrowConcaveAngle},interfaces_:function(){return[]},getClass:function(){return Vd}}),Vd.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,Vd.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,Vd.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,Vd.MAX_CLOSING_SEG_LEN_FACTOR=80,t(Wd.prototype,{getOffsetCurve:function(a,b){if(this.distance=b,0===b)return null;var c=0>b,d=Math.abs(b),e=this.getSegGen(d);1>=a.length?this.computePointCurve(a[0],e):this.computeOffsetCurve(a,c,e);var f=e.getCoordinates();return c&&Y.reverse(f),f},computeSingleSidedBufferCurve:function(b,c,d){var e=this.simplifyTolerance(this.distance);if(c){d.addSegments(b,!0);var f=Td.simplify(b,-e),g=f.length-1;d.initSideSegments(f[g],f[g-1],dc.LEFT),d.addFirstSegment();for(var h=g-2;0<=h;h--)d.addNextSegment(f[h],!0)}else{d.addSegments(b,!1);var j=Td.simplify(b,e),a=j.length-1;d.initSideSegments(j[0],j[1],dc.LEFT),d.addFirstSegment();for(var h=2;h<=a;h++)d.addNextSegment(j[h],!0)}d.addLastSegment(),d.closeRing()},computeRingBufferCurve:function(b,c,d){var e=this.simplifyTolerance(this.distance);c===dc.RIGHT&&(e=-e);var f=Td.simplify(b,e),g=f.length-1;d.initSideSegments(f[g-1],f[0],c);for(var h,a=1;a<=g;a++)h=1!==a,d.addNextSegment(f[a],h);d.closeRing()},computeLineBufferCurve:function(b,c){var d=this.simplifyTolerance(this.distance),e=Td.simplify(b,d),f=e.length-1;c.initSideSegments(e[0],e[1],dc.LEFT);for(var g=2;g<=f;g++)c.addNextSegment(e[g],!0);c.addLastSegment(),c.addLineEndCap(e[f-1],e[f]);var h=Td.simplify(b,-d),j=h.length-1;c.initSideSegments(h[j],h[j-1],dc.LEFT);for(var g=j-2;0<=g;g--)c.addNextSegment(h[g],!0);c.addLastSegment(),c.addLineEndCap(h[1],h[0]),c.closeRing()},computePointCurve:function(a,b){switch(this.bufParams.getEndCapStyle()){case Pd.CAP_ROUND:b.createCircle(a);break;case Pd.CAP_SQUARE:b.createSquare(a);}},getLineCurve:function(a,b){if(this.distance=b,0>b&&!this.bufParams.isSingleSided())return null;if(0===b)return null;var c=Math.abs(b),d=this.getSegGen(c);if(1>=a.length)this.computePointCurve(a[0],d);else if(this.bufParams.isSingleSided()){this.computeSingleSidedBufferCurve(a,0>b,d)}else this.computeLineBufferCurve(a,d);return d.getCoordinates()},getBufferParameters:function(){return this.bufParams},simplifyTolerance:function(a){return a*this.bufParams.getSimplifyFactor()},getRingCurve:function(a,b,c){if(this.distance=c,2>=a.length)return this.getLineCurve(a,c);if(0===c)return Wd.copyCoordinates(a);var d=this.getSegGen(c);return this.computeRingBufferCurve(a,b,d),d.getCoordinates()},computeOffsetCurve:function(b,c,d){var e=this.simplifyTolerance(this.distance);if(c){var f=Td.simplify(b,-e),g=f.length-1;d.initSideSegments(f[g],f[g-1],dc.LEFT),d.addFirstSegment();for(var h=g-2;0<=h;h--)d.addNextSegment(f[h],!0)}else{var j=Td.simplify(b,e),a=j.length-1;d.initSideSegments(j[0],j[1],dc.LEFT),d.addFirstSegment();for(var h=2;h<=a;h++)d.addNextSegment(j[h],!0)}d.addLastSegment()},getSegGen:function(a){return new Vd(this.precisionModel,this.bufParams,a)},interfaces_:function(){return[]},getClass:function(){return Wd}}),Wd.copyCoordinates=function(a){for(var b=Array(a.length).fill(null),c=0;c<b.length;c++)b[c]=new fa(a[c]);return b},t(Xd.prototype,{findStabbedSegments:function(){if(1===arguments.length){for(var b=arguments[0],j=new x,e=this.subgraphs.iterator();e.hasNext();){var k=e.next(),m=k.getEnvelope();b.y<m.getMinY()||b.y>m.getMaxY()||this.findStabbedSegments(b,k.getDirectedEdges(),j)}return j}if(3===arguments.length)if(N(arguments[2],v)&&arguments[0]instanceof fa&&arguments[1]instanceof nc)for(var n=arguments[0],o=arguments[1],p=arguments[2],a=o.getEdge().getCoordinates(),e=0;e<a.length-1;e++){this.seg.p0=a[e],this.seg.p1=a[e+1],this.seg.p0.y>this.seg.p1.y&&this.seg.reverse();var q=Math.max(this.seg.p0.x,this.seg.p1.x);if(!(q<n.x||this.seg.isHorizontal()||n.y<this.seg.p0.y||n.y>this.seg.p1.y||eb.computeOrientation(this.seg.p0,this.seg.p1,n)===eb.RIGHT)){var l=o.getDepth(dc.LEFT);this.seg.p0.equals(a[e])||(l=o.getDepth(dc.RIGHT));var c=new Yd(this.seg,l);p.add(c)}}else if(N(arguments[2],v)&&arguments[0]instanceof fa&&N(arguments[1],v))for(var f,r=arguments[0],h=arguments[1],d=arguments[2],e=h.iterator();e.hasNext();)f=e.next(),f.isForward()&&this.findStabbedSegments(r,f,d)},getDepth:function(a){var b=this.findStabbedSegments(a);return 0===b.size()?0:ng.min(b).leftDepth},interfaces_:function(){return[]},getClass:function(){return Xd}}),t(Yd.prototype,{compareTo:function(a){var b=a;if(this.upwardSeg.minX()>=b.upwardSeg.maxX())return 1;if(this.upwardSeg.maxX()<=b.upwardSeg.minX())return-1;var c=this.upwardSeg.orientationIndex(b.upwardSeg);return 0===c?(c=-1*b.upwardSeg.orientationIndex(this.upwardSeg),0===c?this.upwardSeg.compareTo(b.upwardSeg):c):c},compareX:function(a,b){var c=a.p0.compareTo(b.p0);return 0===c?a.p1.compareTo(b.p1):c},toString:function(){return this.upwardSeg.toString()},interfaces_:function(){return[e]},getClass:function(){return Yd}}),Xd.DepthSegment=Yd,t(Zd.prototype,{addPoint:function(a){if(0>=this.distance)return null;var b=a.getCoordinates(),c=this.curveBuilder.getLineCurve(b,this.distance);this.addCurve(c,C.EXTERIOR,C.INTERIOR)},addPolygon:function(b){var c=this.distance,d=dc.LEFT;0>this.distance&&(c=-this.distance,d=dc.RIGHT);var e=b.getExteriorRing(),f=Y.removeRepeatedPoints(e.getCoordinates());if(0>this.distance&&this.isErodedCompletely(e,this.distance))return null;if(0>=this.distance&&3>f.length)return null;this.addPolygonRing(f,c,d,C.EXTERIOR,C.INTERIOR);for(var g=0;g<b.getNumInteriorRing();g++){var h=b.getInteriorRingN(g),j=Y.removeRepeatedPoints(h.getCoordinates());0<this.distance&&this.isErodedCompletely(h,-this.distance)||this.addPolygonRing(j,c,dc.opposite(d),C.INTERIOR,C.EXTERIOR)}},isTriangleErodedCompletely:function(a,b){var c=new qd(a[0],a[1],a[2]),d=c.inCentre();return eb.distancePointLine(d,c.p0,c.p1)<Math.abs(b)},addLineString:function(a){if(0>=this.distance&&!this.curveBuilder.getBufferParameters().isSingleSided())return null;var b=Y.removeRepeatedPoints(a.getCoordinates()),c=this.curveBuilder.getLineCurve(b,this.distance);this.addCurve(c,C.EXTERIOR,C.INTERIOR)},addCurve:function(a,b,c){if(null===a||2>a.length)return null;var d=new Qb(a,new fc(0,C.BOUNDARY,b,c));this.curveList.add(d)},getCurves:function(){return this.add(this.inputGeom),this.curveList},addPolygonRing:function(b,c,d,e,f){if(0===c&&b.length<Ia.MINIMUM_VALID_SIZE)return null;var g=e,h=f;b.length>=Ia.MINIMUM_VALID_SIZE&&eb.isCCW(b)&&(g=f,h=e,d=dc.opposite(d));var j=this.curveBuilder.getRingCurve(b,d,c);this.addCurve(j,g,h)},add:function(a){if(a.isEmpty())return null;if(a instanceof Ga)this.addPolygon(a);else if(a instanceof Ca)this.addLineString(a);else if(a instanceof Ea)this.addPoint(a);else if(a instanceof Ha)this.addCollection(a);else if(a instanceof sa)this.addCollection(a);else if(a instanceof Ja)this.addCollection(a);else{if(!(a instanceof ra))throw new UnsupportedOperationException(a.getClass().getName());this.addCollection(a)}},isErodedCompletely:function(a,b){var c=a.getCoordinates();if(4>c.length)return 0>b;if(4===c.length)return this.isTriangleErodedCompletely(c,b);var d=a.getEnvelopeInternal(),e=Math.min(d.getHeight(),d.getWidth());return 0>b&&2*Math.abs(b)>e},addCollection:function(a){for(var b,c=0;c<a.getNumGeometries();c++)b=a.getGeometryN(c),this.add(b)},interfaces_:function(){return[]},getClass:function(){return Zd}}),t($d.prototype,{isTrivialIntersection:function(a,b,c,d){if(a===c&&1===this.li.getIntersectionNum()){if($d.isAdjacentSegments(b,d))return!0;if(a.isClosed()){var e=a.size()-1;if(0===b&&d===e||0===d&&b===e)return!0}}return!1},getProperIntersectionPoint:function(){return this.properIntersectionPoint},hasProperInteriorIntersection:function(){return this.hasProperInterior},getLineIntersector:function(){return this.li},hasProperIntersection:function(){return this.hasProper},processIntersections:function(b,c,d,e){if(b===d&&c===e)return null;this.numTests++;var f=b.getCoordinates()[c],g=b.getCoordinates()[c+1],h=d.getCoordinates()[e],j=d.getCoordinates()[e+1];this.li.computeIntersection(f,g,h,j),this.li.hasIntersection()&&(this.numIntersections++,this.li.isInteriorIntersection()&&(this.numInteriorIntersections++,this.hasInterior=!0),this.isTrivialIntersection(b,c,d,e)||(this._hasIntersection=!0,b.addIntersections(this.li,c,0),d.addIntersections(this.li,e,1),this.li.isProper()&&(this.numProperIntersections++,this.hasProper=!0,this.hasProperInterior=!0)))},hasIntersection:function(){return this._hasIntersection},isDone:function(){return!1},hasInteriorIntersection:function(){return this.hasInterior},interfaces_:function(){return[$b]},getClass:function(){return $d}}),$d.isAdjacentSegments=function(a,b){return 1===Math.abs(a-b)},t(_d.prototype,{setWorkingPrecisionModel:function(a){this.workingPrecisionModel=a},insertUniqueEdge:function(a){var b=this.edgeList.findEqualEdge(a);if(null!==b){var c=b.getLabel(),d=a.getLabel();b.isPointwiseEqual(a)||(d=new fc(a.getLabel()),d.flip()),c.merge(d);var e=_d.depthDelta(d),f=b.getDepthDelta();b.setDepthDelta(f+e)}else this.edgeList.add(a),a.setDepthDelta(_d.depthDelta(a.getLabel()))},buildSubgraphs:function(b,c){for(var d=new x,e=b.iterator();e.hasNext();){var f=e.next(),g=f.getRightmostCoordinate(),h=new Xd(d),j=h.getDepth(g);f.computeDepth(j),f.findResultEdges(),d.add(f),c.add(f.getDirectedEdges(),f.getNodes())}},createSubgraphs:function(a){for(var b,c=new x,d=a.getNodes().iterator();d.hasNext();)if(b=d.next(),!b.isVisited()){var e=new Sd;e.create(b),c.add(e)}return ng.sort(c,ng.reverseOrder()),c},createEmptyResultGeometry:function(){return this.geomFact.createPolygon()},getNoder:function(a){if(null!==this.workingNoder)return this.workingNoder;var b=new Xb,c=new bb;return c.setPrecisionModel(a),b.setSegmentIntersector(new $d(c)),b},buffer:function(b,c){var d=this.workingPrecisionModel;null===d&&(d=b.getPrecisionModel()),this.geomFact=b.getFactory();var e=new Wd(d,this.bufParams),f=new Zd(b,c,e),g=f.getCurves();if(0>=g.size())return this.createEmptyResultGeometry();this.computeNodedEdges(g,d),this.graph=new pc(new xc()),this.graph.addEdges(this.edgeList.getEdges());var h=this.createSubgraphs(this.graph),j=new qc(this.geomFact);this.buildSubgraphs(h,j);var a=j.getPolygons();return 0>=a.size()?this.createEmptyResultGeometry():this.geomFact.buildGeometry(a)},computeNodedEdges:function(b,c){var d=this.getNoder(c);d.computeNodes(b);for(var e=d.getNodedSubstrings(),f=e.iterator();f.hasNext();){var g=f.next(),h=g.getCoordinates();if(2!==h.length||!h[0].equals2D(h[1])){var j=g.getData(),a=new Sc(g.getCoordinates(),new fc(j));this.insertUniqueEdge(a)}}},setNoder:function(a){this.workingNoder=a},interfaces_:function(){return[]},getClass:function(){return _d}}),_d.depthDelta=function(a){var b=a.getLocation(0,dc.LEFT),c=a.getLocation(0,dc.RIGHT);return b===C.INTERIOR&&c===C.EXTERIOR?1:b===C.EXTERIOR&&c===C.INTERIOR?-1:0},_d.convertSegStrings=function(a){for(var b=new Za,c=new x;a.hasNext();){var d=a.next(),e=b.createLineString(d.getCoordinates());c.add(e)}return b.buildGeometry(c)},t(ae.prototype,{checkEndPtVertexIntersections:function(){if(0===arguments.length)for(var a=this.segStrings.iterator();a.hasNext();){var b=a.next(),c=b.getCoordinates();this.checkEndPtVertexIntersections(c[0],this.segStrings),this.checkEndPtVertexIntersections(c[c.length-1],this.segStrings)}else if(2===arguments.length)for(var d=arguments[0],e=arguments[1],a=e.iterator();a.hasNext();)for(var b=a.next(),c=b.getCoordinates(),f=1;f<c.length-1;f++)if(c[f].equals(d))throw new u("found endpt/interior pt intersection at index "+f+" :pt "+d)},checkInteriorIntersections:function(){if(0===arguments.length)for(var b=this.segStrings.iterator();b.hasNext();)for(var j,k=b.next(),e=this.segStrings.iterator();e.hasNext();)j=e.next(),this.checkInteriorIntersections(k,j);else if(2===arguments.length)for(var l=arguments[0],n=arguments[1],o=l.getCoordinates(),q=n.getCoordinates(),a=0;a<o.length-1;a++)for(var r=0;r<q.length-1;r++)this.checkInteriorIntersections(l,a,n,r);else if(4===arguments.length){var c=arguments[0],f=arguments[1],h=arguments[2],p=arguments[3];if(c===h&&f===p)return null;var d=c.getCoordinates()[f],g=c.getCoordinates()[f+1],s=h.getCoordinates()[p],t=h.getCoordinates()[p+1];if(this.li.computeIntersection(d,g,s,t),this.li.hasIntersection()&&(this.li.isProper()||this.hasInteriorIntersection(this.li,d,g)||this.hasInteriorIntersection(this.li,s,t)))throw new u("found non-noded intersection at "+d+"-"+g+" and "+s+"-"+t)}},checkValid:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},checkCollapses:function(){if(0===arguments.length)for(var a,b=this.segStrings.iterator();b.hasNext();)a=b.next(),this.checkCollapses(a);else if(1===arguments.length)for(var c=arguments[0],d=c.getCoordinates(),b=0;b<d.length-2;b++)this.checkCollapse(d[b],d[b+1],d[b+2])},hasInteriorIntersection:function(a,b,c){for(var d,e=0;e<a.getIntersectionNum();e++)if(d=a.getIntersection(e),!d.equals(b)&&!d.equals(c))return!0;return!1},checkCollapse:function(a,b,c){if(a.equals(c))throw new u("found non-noded collapse at "+ae.fact.createLineString([a,b,c]))},interfaces_:function(){return[]},getClass:function(){return ae}}),ae.fact=new Za,t(be.prototype,{intersectsScaled:function(b,c){var d=Math.min(b.x,c.x),e=Math.max(b.x,c.x),f=Math.min(b.y,c.y),g=Math.max(b.y,c.y),h=this.maxx<d||this.minx>e||this.maxy<f||this.miny>g;if(h)return!1;var j=this.intersectsToleranceSquare(b,c);return ea.isTrue(!(h&&j),"Found bad envelope test"),j},initCorners:function(a){this.minx=a.x-.5,this.maxx=a.x+.5,this.miny=a.y-.5,this.maxy=a.y+.5,this.corner[0]=new fa(this.maxx,this.maxy),this.corner[1]=new fa(this.minx,this.maxy),this.corner[2]=new fa(this.minx,this.miny),this.corner[3]=new fa(this.maxx,this.miny)},intersects:function(a,b){return 1===this.scaleFactor?this.intersectsScaled(a,b):(this.copyScaled(a,this.p0Scaled),this.copyScaled(b,this.p1Scaled),this.intersectsScaled(this.p0Scaled,this.p1Scaled))},scale:function(a){return Math.round(a*this.scaleFactor)},getCoordinate:function(){return this.originalPt},copyScaled:function(a,b){b.x=this.scale(a.x),b.y=this.scale(a.y)},getSafeEnvelope:function(){if(null===this.safeEnv){var a=be.SAFE_ENV_EXPANSION_FACTOR/this.scaleFactor;this.safeEnv=new y(this.originalPt.x-a,this.originalPt.x+a,this.originalPt.y-a,this.originalPt.y+a)}return this.safeEnv},intersectsPixelClosure:function(a,b){return this.li.computeIntersection(a,b,this.corner[0],this.corner[1]),!!(this.li.hasIntersection()||(this.li.computeIntersection(a,b,this.corner[1],this.corner[2]),this.li.hasIntersection()||(this.li.computeIntersection(a,b,this.corner[2],this.corner[3]),this.li.hasIntersection()||(this.li.computeIntersection(a,b,this.corner[3],this.corner[0]),this.li.hasIntersection()))))},intersectsToleranceSquare:function(a,b){var c=!1,d=!1;return this.li.computeIntersection(a,b,this.corner[0],this.corner[1]),!!(this.li.isProper()||(this.li.computeIntersection(a,b,this.corner[1],this.corner[2]),this.li.isProper()||(this.li.hasIntersection()&&(c=!0),this.li.computeIntersection(a,b,this.corner[2],this.corner[3]),this.li.isProper()||(this.li.hasIntersection()&&(d=!0),this.li.computeIntersection(a,b,this.corner[3],this.corner[0]),this.li.isProper()||c&&d||a.equals(this.pt)||b.equals(this.pt)))))},addSnappedNode:function(a,b){var c=a.getCoordinate(b),d=a.getCoordinate(b+1);return!!this.intersects(c,d)&&(a.addIntersection(this.getCoordinate(),b),!0)},interfaces_:function(){return[]},getClass:function(){return be}}),be.SAFE_ENV_EXPANSION_FACTOR=.75,t(de.prototype,{snap:function(){if(1===arguments.length){var a=arguments[0];return this.snap(a,null,-1)}if(3===arguments.length){var b=arguments[0],c=arguments[1],d=arguments[2],e=b.getSafeEnvelope(),f=new ee(b,c,d);return this.index.query(e,{interfaces_:function(){return[Db]},visitItem:function(a){a.select(e,f)}}),f.isNodeAdded()}},interfaces_:function(){return[]},getClass:function(){return de}}),l(ee,cd),t(ee.prototype,{isNodeAdded:function(){return this._isNodeAdded},select:function(){if(2!==arguments.length)return cd.prototype.select.apply(this,arguments);var a=arguments[0],b=arguments[1],c=a.getContext();return null!==this.parentEdge&&c===this.parentEdge&&b===this.hotPixelVertexIndex?null:void(this._isNodeAdded=this.hotPixel.addSnappedNode(c,b))},interfaces_:function(){return[]},getClass:function(){return ee}}),de.HotPixelSnapAction=ee,t(ge.prototype,{processIntersections:function(b,c,d,e){if(b===d&&c===e)return null;var f=b.getCoordinates()[c],g=b.getCoordinates()[c+1],h=d.getCoordinates()[e],j=d.getCoordinates()[e+1];if(this.li.computeIntersection(f,g,h,j),this.li.hasIntersection()&&this.li.isInteriorIntersection()){for(var a=0;a<this.li.getIntersectionNum();a++)this.interiorIntersections.add(this.li.getIntersection(a));b.addIntersections(this.li,c,0),d.addIntersections(this.li,e,1)}},isDone:function(){return!1},getInteriorIntersections:function(){return this.interiorIntersections},interfaces_:function(){return[$b]},getClass:function(){return ge}}),t(ie.prototype,{checkCorrectness:function(a){var b=Qb.getNodedSubstrings(a),c=new ae(b);try{c.checkValid()}catch(a){if(!(a instanceof r))throw a;a.printStackTrace()}},getNodedSubstrings:function(){return Qb.getNodedSubstrings(this.nodedSegStrings)},snapRound:function(a,b){var c=this.findInteriorIntersections(a,b);this.computeIntersectionSnaps(c),this.computeVertexSnaps(a)},findInteriorIntersections:function(a,b){var c=new ge(b);return this.noder.setSegmentIntersector(c),this.noder.computeNodes(a),c.getInteriorIntersections()},computeVertexSnaps:function(){if(N(arguments[0],ga))for(var b,c=arguments[0],d=c.iterator();d.hasNext();)b=d.next(),this.computeVertexSnaps(b);else if(arguments[0]instanceof Qb)for(var e=arguments[0],f=e.getCoordinates(),g=0;g<f.length;g++){var h=new be(f[g],this.scaleFactor,this.li),j=this.pointSnapper.snap(h,e,g);j&&e.addIntersection(f[g],g)}},computeNodes:function(a){this.nodedSegStrings=a,this.noder=new Xb,this.pointSnapper=new de(this.noder.getIndex()),this.snapRound(a,this.li)},computeIntersectionSnaps:function(a){for(var b=a.iterator();b.hasNext();){var c=b.next(),d=new be(c,this.scaleFactor,this.li);this.pointSnapper.snap(d)}},interfaces_:function(){return[Vb]},getClass:function(){return ie}}),t(je.prototype,{bufferFixedPrecision:function(a){var b=new Md(new ie(new Xa(1)),a.getScale()),c=new _d(this.bufParams);c.setWorkingPrecisionModel(a),c.setNoder(b),this.resultGeometry=c.buffer(this.argGeom,this.distance)},bufferReducedPrecision:function(){if(0===arguments.length){for(var a=je.MAX_PRECISION_DIGITS;0<=a;a--){try{this.bufferReducedPrecision(a)}catch(a){if(!(a instanceof Zb))throw a;this.saveException=a}if(null!==this.resultGeometry)return null}throw this.saveException}if(1===arguments.length){var b=arguments[0],c=je.precisionScaleFactor(this.argGeom,this.distance,b),d=new Xa(c);this.bufferFixedPrecision(d)}},computeGeometry:function(){if(this.bufferOriginalPrecision(),null!==this.resultGeometry)return null;var a=this.argGeom.getFactory().getPrecisionModel();a.getType()===Xa.FIXED?this.bufferFixedPrecision(a):this.bufferReducedPrecision()},setQuadrantSegments:function(a){this.bufParams.setQuadrantSegments(a)},bufferOriginalPrecision:function(){try{var a=new _d(this.bufParams);this.resultGeometry=a.buffer(this.argGeom,this.distance)}catch(a){if(!(a instanceof u))throw a;this.saveException=a}},getResultGeometry:function(a){return this.distance=a,this.computeGeometry(),this.resultGeometry},setEndCapStyle:function(a){this.bufParams.setEndCapStyle(a)},interfaces_:function(){return[]},getClass:function(){return je}}),je.bufferOp=function(){if(2===arguments.length){var b=arguments[0],g=arguments[1],e=new je(b),j=e.getResultGeometry(g);return j}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof k&&"number"==typeof arguments[1]){var m=arguments[0],n=arguments[1],o=arguments[2],q=new je(m);q.setQuadrantSegments(o);var j=q.getResultGeometry(n);return j}if(arguments[2]instanceof Pd&&arguments[0]instanceof k&&"number"==typeof arguments[1]){var a=arguments[0],r=arguments[1],l=arguments[2],q=new je(a,l),j=q.getResultGeometry(r);return j}}else if(4===arguments.length){var c=arguments[0],f=arguments[1],h=arguments[2],p=arguments[3],q=new je(c);q.setQuadrantSegments(h),q.setEndCapStyle(p);var j=q.getResultGeometry(f);return j}},je.precisionScaleFactor=function(b,c,d){var e=b.getEnvelopeInternal(),f=M.max(Math.abs(e.getMaxX()),Math.abs(e.getMaxY()),Math.abs(e.getMinX()),Math.abs(e.getMinY())),g=0<c?c:0,h=Math.trunc(Math.log(f+2*g)/Math.log(10)+1);return Math.pow(10,d-h)},je.CAP_ROUND=Pd.CAP_ROUND,je.CAP_BUTT=Pd.CAP_FLAT,je.CAP_FLAT=Pd.CAP_FLAT,je.CAP_SQUARE=Pd.CAP_SQUARE,je.MAX_PRECISION_DIGITS=12;var Ag=Object.freeze({BufferOp:je,BufferParameters:Pd});t(ke.prototype,{filter:function(a){a instanceof Ga&&this.comps.add(a)},interfaces_:function(){return[pa]},getClass:function(){return ke}}),ke.getPolygons=function(){if(1===arguments.length){var a=arguments[0];return ke.getPolygons(a,new x)}if(2===arguments.length){var b=arguments[0],c=arguments[1];return b instanceof Ga?c.add(b):b instanceof ra&&b.apply(new ke(c)),c}},t(me.prototype,{isInsideArea:function(){return this.segIndex===me.INSIDE_AREA},getCoordinate:function(){return this.pt},getGeometryComponent:function(){return this.component},getSegmentIndex:function(){return this.segIndex},interfaces_:function(){return[]},getClass:function(){return me}}),me.INSIDE_AREA=-1,t(oe.prototype,{filter:function(a){a instanceof Ea&&this.pts.add(a)},interfaces_:function(){return[pa]},getClass:function(){return oe}}),oe.getPoints=function(){if(1===arguments.length){var a=arguments[0];return a instanceof Ea?ng.singletonList(a):oe.getPoints(a,new x)}if(2===arguments.length){var b=arguments[0],c=arguments[1];return b instanceof Ea?c.add(b):b instanceof ra&&b.apply(new oe(c)),c}},t(pe.prototype,{filter:function(a){(a instanceof Ea||a instanceof Ca||a instanceof Ga)&&this.locations.add(new me(a,0,a.getCoordinate()))},interfaces_:function(){return[pa]},getClass:function(){return pe}}),pe.getLocations=function(a){var b=new x;return a.apply(new pe(b)),b},t(qe.prototype,{computeContainmentDistance:function(){if(0===arguments.length){var b=[,,].fill(null);if(this.computeContainmentDistance(0,b),this.minDistance<=this.terminateDistance)return null;this.computeContainmentDistance(1,b)}else if(2===arguments.length){var j=arguments[0],e=arguments[1],k=1-j,m=ke.getPolygons(this.geom[j]);if(0<m.size()){var n=pe.getLocations(this.geom[k]);if(this.computeContainmentDistance(n,m,e),this.minDistance<=this.terminateDistance)return this.minDistanceLocation[k]=e[0],this.minDistanceLocation[j]=e[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&N(arguments[0],v)&&N(arguments[1],v)){for(var o=arguments[0],q=arguments[1],a=arguments[2],r=0;r<o.size();r++)for(var l=o.get(r),c=0;c<q.size();c++)if(this.computeContainmentDistance(l,q.get(c),a),this.minDistance<=this.terminateDistance)return null;}else if(arguments[2]instanceof Array&&arguments[0]instanceof me&&arguments[1]instanceof Ga){var f=arguments[0],h=arguments[1],p=arguments[2],d=f.getCoordinate();if(C.EXTERIOR!==this.ptLocator.locate(d,h))return this.minDistance=0,p[0]=f,p[1]=new me(h,d),null}},computeMinDistanceLinesPoints:function(a,b,c){for(var d=0;d<a.size();d++)for(var e,f=a.get(d),g=0;g<b.size();g++)if(e=b.get(g),this.computeMinDistance(f,e,c),this.minDistance<=this.terminateDistance)return null},computeFacetDistance:function(){var a=[,,].fill(null),b=Ic.getLines(this.geom[0]),c=Ic.getLines(this.geom[1]),d=oe.getPoints(this.geom[0]),e=oe.getPoints(this.geom[1]);return this.computeMinDistanceLines(b,c,a),this.updateMinDistance(a,!1),this.minDistance<=this.terminateDistance?null:(a[0]=null,a[1]=null,this.computeMinDistanceLinesPoints(b,e,a),this.updateMinDistance(a,!1),this.minDistance<=this.terminateDistance?null:(a[0]=null,a[1]=null,this.computeMinDistanceLinesPoints(c,d,a),this.updateMinDistance(a,!0),this.minDistance<=this.terminateDistance?null:(a[0]=null,a[1]=null,this.computeMinDistancePoints(d,e,a),void this.updateMinDistance(a,!1))))},nearestLocations:function(){return this.computeMinDistance(),this.minDistanceLocation},updateMinDistance:function(a,b){return null===a[0]?null:void(b?(this.minDistanceLocation[0]=a[1],this.minDistanceLocation[1]=a[0]):(this.minDistanceLocation[0]=a[0],this.minDistanceLocation[1]=a[1]))},nearestPoints:function(){return this.computeMinDistance(),[this.minDistanceLocation[0].getCoordinate(),this.minDistanceLocation[1].getCoordinate()]},computeMinDistance:function(){if(0===arguments.length){if(null!==this.minDistanceLocation)return null;if(this.minDistanceLocation=[,,].fill(null),this.computeContainmentDistance(),this.minDistance<=this.terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Ca&&arguments[1]instanceof Ea){var b=arguments[0],j=arguments[1],e=arguments[2];if(b.getEnvelopeInternal().distance(j.getEnvelopeInternal())>this.minDistance)return null;for(var k,m=b.getCoordinates(),n=j.getCoordinate(),q=0;q<m.length-1;q++){if(k=eb.distancePointLine(n,m[q],m[q+1]),k<this.minDistance){this.minDistance=k;var o=new fb(m[q],m[q+1]),a=o.closestPoint(n);e[0]=new me(b,q,a),e[1]=new me(j,0,n)}if(this.minDistance<=this.terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Ca&&arguments[1]instanceof Ca){var r=arguments[0],l=arguments[1],c=arguments[2];if(r.getEnvelopeInternal().distance(l.getEnvelopeInternal())>this.minDistance)return null;for(var m=r.getCoordinates(),f=l.getCoordinates(),q=0;q<m.length-1;q++)for(var k,h=0;h<f.length-1;h++){if(k=eb.distanceLineLine(m[q],m[q+1],f[h],f[h+1]),k<this.minDistance){this.minDistance=k;var p=new fb(m[q],m[q+1]),d=new fb(f[h],f[h+1]),g=p.closestPoints(d);c[0]=new me(r,q,g[0]),c[1]=new me(l,h,g[1])}if(this.minDistance<=this.terminateDistance)return null}}},computeMinDistancePoints:function(b,c,d){for(var e=0;e<b.size();e++)for(var f=b.get(e),g=0;g<c.size();g++){var h=c.get(g),j=f.getCoordinate().distance(h.getCoordinate());if(j<this.minDistance&&(this.minDistance=j,d[0]=new me(f,0,f.getCoordinate()),d[1]=new me(h,0,h.getCoordinate())),this.minDistance<=this.terminateDistance)return null}},distance:function(){if(null===this.geom[0]||null===this.geom[1])throw new ca("null geometries are not supported");return this.geom[0].isEmpty()||this.geom[1].isEmpty()?0:(this.computeMinDistance(),this.minDistance)},computeMinDistanceLines:function(a,b,c){for(var d=0;d<a.size();d++)for(var e,f=a.get(d),g=0;g<b.size();g++)if(e=b.get(g),this.computeMinDistance(f,e,c),this.minDistance<=this.terminateDistance)return null},interfaces_:function(){return[]},getClass:function(){return qe}}),qe.distance=function(a,b){return new qe(a,b).distance()},qe.isWithinDistance=function(a,b,c){return new qe(a,b,c).distance()<=c},qe.nearestPoints=function(a,b){return new qe(a,b).nearestPoints()};var Bg=Object.freeze({DistanceOp:qe});t(ue.prototype,{getCoordinates:function(){if(null===this.coordinates){for(var a,b=0,c=0,d=new w,e=this.directedEdges.iterator();e.hasNext();)a=e.next(),a.getEdgeDirection()?b++:c++,d.add(a.getEdge().getLine().getCoordinates(),!1,a.getEdgeDirection());this.coordinates=d.toCoordinateArray(),c>b&&Y.reverse(this.coordinates)}return this.coordinates},toLineString:function(){return this.factory.createLineString(this.getCoordinates())},add:function(a){this.directedEdges.add(a)},interfaces_:function(){return[]},getClass:function(){return ue}}),t(ve.prototype,{setVisited:function(a){this._isVisited=a},isMarked:function(){return this._isMarked},setData:function(a){this.data=a},getData:function(){return this.data},setMarked:function(a){this._isMarked=a},getContext:function(){return this.data},isVisited:function(){return this._isVisited},setContext:function(a){this.data=a},interfaces_:function(){return[]},getClass:function(){return ve}}),ve.getComponentWithVisitedState=function(a,b){for(;a.hasNext();){var c=a.next();if(c.isVisited()===b)return c}return null},ve.setVisited=function(a,b){for(;a.hasNext();)a.next().setVisited(b)},ve.setMarked=function(a,b){for(;a.hasNext();)a.next().setMarked(b)},l(we,ve),t(we.prototype,{isRemoved:function(){return null===this.parentEdge},compareDirection:function(a){return this.quadrant>a.quadrant?1:this.quadrant<a.quadrant?-1:eb.computeOrientation(a.p0,a.p1,this.p1)},getCoordinate:function(){return this.from.getCoordinate()},print:function(a){var b=this.getClass().getName(),c=b.lastIndexOf("."),d=b.substring(c+1);a.print("  "+d+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+this.angle)},getDirectionPt:function(){return this.p1},getAngle:function(){return this.angle},compareTo:function(a){return this.compareDirection(a)},getFromNode:function(){return this.from},getSym:function(){return this.sym},setEdge:function(a){this.parentEdge=a},remove:function(){this.sym=null,this.parentEdge=null},getEdge:function(){return this.parentEdge},getQuadrant:function(){return this.quadrant},setSym:function(a){this.sym=a},getToNode:function(){return this.to},getEdgeDirection:function(){return this.edgeDirection},interfaces_:function(){return[e]},getClass:function(){return we}}),we.toEdges=function(a){for(var b=new x,c=a.iterator();c.hasNext();)b.add(c.next().parentEdge);return b},l(xe,we),t(xe.prototype,{getNext:function(){return 2===this.getToNode().getDegree()?this.getToNode().getOutEdges().getEdges().get(0)===this.getSym()?this.getToNode().getOutEdges().getEdges().get(1):(ea.isTrue(this.getToNode().getOutEdges().getEdges().get(1)===this.getSym()),this.getToNode().getOutEdges().getEdges().get(0)):null},interfaces_:function(){return[]},getClass:function(){return xe}}),l(ze,ve),t(ze.prototype,{isRemoved:function(){return null===this.dirEdge},setDirectedEdges:function(a,b){this.dirEdge=[a,b],a.setEdge(this),b.setEdge(this),a.setSym(b),b.setSym(a),a.getFromNode().addOutEdge(a),b.getFromNode().addOutEdge(b)},getDirEdge:function(){if(Number.isInteger(arguments[0])){var a=arguments[0];return this.dirEdge[a]}if(arguments[0]instanceof Ce){var b=arguments[0];return this.dirEdge[0].getFromNode()===b?this.dirEdge[0]:this.dirEdge[1].getFromNode()===b?this.dirEdge[1]:null}},remove:function(){this.dirEdge=null},getOppositeNode:function(a){return this.dirEdge[0].getFromNode()===a?this.dirEdge[0].getToNode():this.dirEdge[1].getFromNode()===a?this.dirEdge[1].getToNode():null},interfaces_:function(){return[]},getClass:function(){return ze}}),t(Ae.prototype,{getNextEdge:function(a){var b=this.getIndex(a);return this.outEdges.get(this.getIndex(b+1))},getCoordinate:function(){var a=this.iterator();return a.hasNext()?a.next().getCoordinate():null},iterator:function(){return this.sortEdges(),this.outEdges.iterator()},sortEdges:function(){this.sorted||(ng.sort(this.outEdges),this.sorted=!0)},remove:function(a){this.outEdges.remove(a)},getEdges:function(){return this.sortEdges(),this.outEdges},getNextCWEdge:function(a){var b=this.getIndex(a);return this.outEdges.get(this.getIndex(b-1))},getIndex:function(){if(arguments[0]instanceof ze){var a=arguments[0];this.sortEdges();for(var b,c=0;c<this.outEdges.size();c++)if(b=this.outEdges.get(c),b.getEdge()===a)return c;return-1}if(arguments[0]instanceof we){var d=arguments[0];this.sortEdges();for(var b,c=0;c<this.outEdges.size();c++)if(b=this.outEdges.get(c),b===d)return c;return-1}if(Number.isInteger(arguments[0])){var e=arguments[0],f=e%this.outEdges.size();return 0>f&&(f+=this.outEdges.size()),f}},add:function(a){this.outEdges.add(a),this.sorted=!1},getDegree:function(){return this.outEdges.size()},interfaces_:function(){return[]},getClass:function(){return Ae}}),l(Ce,ve),t(Ce.prototype,{isRemoved:function(){return null===this.pt},addOutEdge:function(a){this.deStar.add(a)},getCoordinate:function(){return this.pt},getOutEdges:function(){return this.deStar},remove:function(){if(0===arguments.length)this.pt=null;else if(1===arguments.length){var a=arguments[0];this.deStar.remove(a)}},getIndex:function(a){return this.deStar.getIndex(a)},getDegree:function(){return this.deStar.getDegree()},interfaces_:function(){return[]},getClass:function(){return Ce}}),Ce.getEdgesBetween=function(a,b){var c=we.toEdges(a.getOutEdges().getEdges()),d=new K(c),e=we.toEdges(b.getOutEdges().getEdges());return d.retainAll(e),d},l(De,ze),t(De.prototype,{getLine:function(){return this.line},interfaces_:function(){return[]},getClass:function(){return De}}),t(Ee.prototype,{find:function(a){return this.nodeMap.get(a)},iterator:function(){return this.nodeMap.values().iterator()},remove:function(a){return this.nodeMap.remove(a)},values:function(){return this.nodeMap.values()},add:function(a){return this.nodeMap.put(a.getCoordinate(),a),a},interfaces_:function(){return[]},getClass:function(){return Ee}}),t(Fe.prototype,{findNodesOfDegree:function(a){for(var b,c=new x,d=this.nodeIterator();d.hasNext();)b=d.next(),b.getDegree()===a&&c.add(b);return c},dirEdgeIterator:function(){return this.dirEdges.iterator()},edgeIterator:function(){return this.edges.iterator()},remove:function(){if(arguments[0]instanceof ze){var b=arguments[0];this.remove(b.getDirEdge(0)),this.remove(b.getDirEdge(1)),this.edges.remove(b),b.remove()}else if(arguments[0]instanceof we){var c=arguments[0],d=c.getSym();null!==d&&d.setSym(null),c.getFromNode().remove(c),c.remove(),this.dirEdges.remove(c)}else if(arguments[0]instanceof Ce){for(var e=arguments[0],f=e.getOutEdges().getEdges(),g=f.iterator();g.hasNext();){var h=g.next(),d=h.getSym();null!==d&&this.remove(d),this.dirEdges.remove(h);var j=h.getEdge();null!==j&&this.edges.remove(j)}this.nodeMap.remove(e.getCoordinate()),e.remove()}},findNode:function(a){return this.nodeMap.find(a)},getEdges:function(){return this.edges},nodeIterator:function(){return this.nodeMap.iterator()},contains:function(){if(arguments[0]instanceof ze){var a=arguments[0];return this.edges.contains(a)}if(arguments[0]instanceof we){var b=arguments[0];return this.dirEdges.contains(b)}},add:function(){if(arguments[0]instanceof Ce){var a=arguments[0];this.nodeMap.add(a)}else if(arguments[0]instanceof ze){var b=arguments[0];this.edges.add(b),this.add(b.getDirEdge(0)),this.add(b.getDirEdge(1))}else if(arguments[0]instanceof we){var c=arguments[0];this.dirEdges.add(c)}},getNodes:function(){return this.nodeMap.values()},interfaces_:function(){return[]},getClass:function(){return Fe}}),l(Ge,Fe),t(Ge.prototype,{addEdge:function(b){if(b.isEmpty())return null;var c=Y.removeRepeatedPoints(b.getCoordinates());if(1>=c.length)return null;var d=c[0],e=c[c.length-1],f=this.getNode(d),g=this.getNode(e),h=new xe(f,g,c[1],!0),j=new xe(g,f,c[c.length-2],!1),a=new De(b);a.setDirectedEdges(h,j),this.add(a)},getNode:function(a){var b=this.findNode(a);return null===b&&(b=new Ce(a),this.add(b)),b},interfaces_:function(){return[]},getClass:function(){return Ge}}),t(He.prototype,{buildEdgeStringsForUnprocessedNodes:function(){for(var a,b=this.graph.getNodes().iterator();b.hasNext();)a=b.next(),a.isMarked()||(ea.isTrue(2===a.getDegree()),this.buildEdgeStringsStartingAt(a),a.setMarked(!0))},buildEdgeStringsForNonDegree2Nodes:function(){for(var a,b=this.graph.getNodes().iterator();b.hasNext();)a=b.next(),2!==a.getDegree()&&(this.buildEdgeStringsStartingAt(a),a.setMarked(!0))},buildEdgeStringsForObviousStartNodes:function(){this.buildEdgeStringsForNonDegree2Nodes()},getMergedLineStrings:function(){return this.merge(),this.mergedLineStrings},buildEdgeStringsStartingAt:function(a){for(var b,c=a.getOutEdges().iterator();c.hasNext();)b=c.next(),b.getEdge().isMarked()||this.edgeStrings.add(this.buildEdgeStringStartingWith(b))},merge:function(){if(null!==this.mergedLineStrings)return null;ve.setMarked(this.graph.nodeIterator(),!1),ve.setMarked(this.graph.edgeIterator(),!1),this.edgeStrings=new x,this.buildEdgeStringsForObviousStartNodes(),this.buildEdgeStringsForIsolatedLoops(),this.mergedLineStrings=new x;for(var a,b=this.edgeStrings.iterator();b.hasNext();)a=b.next(),this.mergedLineStrings.add(a.toLineString())},buildEdgeStringStartingWith:function(a){var b=new ue(this.factory),c=a;do b.add(c),c.getEdge().setMarked(!0),c=c.getNext();while(null!==c&&c!==a);return b},add:function(){if(arguments[0]instanceof k)arguments[0].apply({interfaces_:function(){return[q]},filter:function(a){a instanceof Ca&&this.add(a)}});else if(N(arguments[0],ga)){var a=arguments[0];this.mergedLineStrings=null;for(var b,c=a.iterator();c.hasNext();)b=c.next(),this.add(b)}else if(arguments[0]instanceof Ca){var d=arguments[0];null===this.factory&&(this.factory=d.getFactory()),this.graph.addEdge(d)}},buildEdgeStringsForIsolatedLoops:function(){this.buildEdgeStringsForUnprocessedNodes()},interfaces_:function(){return[]},getClass:function(){return He}});var Cg=Object.freeze({LineMerger:He}),Dg=Object.freeze({OverlayOp:Xc});l(Ie,we),t(Ie.prototype,{getNext:function(){return this.next},isInRing:function(){return null!==this.edgeRing},setRing:function(a){this.edgeRing=a},setLabel:function(a){this.label=a},getLabel:function(){return this.label},setNext:function(a){this.next=a},getRing:function(){return this.edgeRing},interfaces_:function(){return[]},getClass:function(){return Ie}}),l(Je,ze),t(Je.prototype,{getLine:function(){return this.line},interfaces_:function(){return[]},getClass:function(){return Je}}),t(Ke.prototype,{visitInteriorRing:function(b,c){var d=b.getCoordinates(),e=d[0],f=Ke.findDifferentPoint(d,e),g=c.findEdgeInSameDirection(e,f),h=c.findEdgeEnd(g),j=null;h.getLabel().getLocation(0,dc.RIGHT)===C.INTERIOR?j=h:h.getSym().getLabel().getLocation(0,dc.RIGHT)===C.INTERIOR&&(j=h.getSym()),ea.isTrue(null!==j,"unable to find dirEdge with Interior on RHS"),this.visitLinkedDirectedEdges(j)},visitShellInteriors:function(a,b){if(a instanceof Ga){var c=a;this.visitInteriorRing(c.getExteriorRing(),b)}if(a instanceof Ja)for(var c,d=a,e=0;e<d.getNumGeometries();e++)c=d.getGeometryN(e),this.visitInteriorRing(c.getExteriorRing(),b)},getCoordinate:function(){return this.disconnectedRingcoord},setInteriorEdgesInResult:function(a){for(var b,c=a.getEdgeEnds().iterator();c.hasNext();)b=c.next(),b.getLabel().getLocation(0,dc.RIGHT)===C.INTERIOR&&b.setInResult(!0)},visitLinkedDirectedEdges:function(a){var b=a;do ea.isTrue(null!==b,"found null Directed Edge"),b.setVisited(!0),b=b.getNext();while(b!==a)},buildEdgeRings:function(a){for(var b,c=new x,d=a.iterator();d.hasNext();)if(b=d.next(),b.isInResult()&&null===b.getEdgeRing()){var e=new ic(b,this.geometryFactory);e.linkDirectedEdgesForMinimalEdgeRings();var f=e.buildMinimalRings();c.addAll(f)}return c},hasUnvisitedShellEdge:function(a){for(var b,c=0;c<a.size();c++)if(b=a.get(c),!b.isHole()){var d=b.getEdges(),e=d.get(0);if(e.getLabel().getLocation(0,dc.RIGHT)===C.INTERIOR)for(var f=0;f<d.size();f++)if(e=d.get(f),!e.isVisited())return this.disconnectedRingcoord=e.getCoordinate(),!0}return!1},isInteriorsConnected:function(){var a=new x;this.geomGraph.computeSplitEdges(a);var b=new pc(new xc());b.addEdges(a),this.setInteriorEdgesInResult(b),b.linkResultDirectedEdges();var c=this.buildEdgeRings(b.getEdgeEnds());return this.visitShellInteriors(this.geomGraph.getGeometry(),b),!this.hasUnvisitedShellEdge(c)},interfaces_:function(){return[]},getClass:function(){return Ke}}),Ke.findDifferentPoint=function(a,b){for(var c=0;c<a.length;c++)if(!a[c].equals(b))return a[c];return null},t(Le.prototype,{createEdgeEndForNext:function(a,b,c,d){var e=c.segmentIndex+1;if(e>=a.getNumPoints()&&null===d)return null;var f=a.getCoordinate(e);null!==d&&d.segmentIndex===c.segmentIndex&&(f=d.coord);var g=new mc(a,c.coord,f,new fc(a.getLabel()));b.add(g)},createEdgeEndForPrev:function(b,c,d,e){var f=d.segmentIndex;if(0===d.dist){if(0===f)return null;f--}var g=b.getCoordinate(f);null!==e&&e.segmentIndex>=f&&(g=e.coord);var h=new fc(b.getLabel());h.flip();var j=new mc(b,d.coord,g,h);c.add(j)},computeEdgeEnds:function(){if(1===arguments.length){for(var b,d=arguments[0],f=new x,e=d;e.hasNext();)b=e.next(),this.computeEdgeEnds(b,f);return f}if(2===arguments.length){var g=arguments[0],h=arguments[1],j=g.getEdgeIntersectionList();j.addEndpoints();var k=j.iterator(),a=null,m=null;if(!k.hasNext())return null;var l=k.next();do a=m,m=l,l=null,k.hasNext()&&(l=k.next()),null!==m&&(this.createEdgeEndForPrev(g,h,m,a),this.createEdgeEndForNext(g,h,m,l));while(null!==m)}},interfaces_:function(){return[]},getClass:function(){return Le}}),l(Me,mc),t(Me.prototype,{insert:function(a){this.edgeEnds.add(a)},print:function(a){a.println("EdgeEndBundle--> Label: "+this.label);for(var b=this.iterator();b.hasNext();)b.next().print(a),a.println()},iterator:function(){return this.edgeEnds.iterator()},getEdgeEnds:function(){return this.edgeEnds},computeLabelOn:function(a,b){for(var c=0,d=!1,e=this.iterator();e.hasNext();){var f=e.next(),g=f.getLabel().getLocation(a);g===C.BOUNDARY&&c++,g===C.INTERIOR&&(d=!0)}var g=C.NONE;d&&(g=C.INTERIOR),0<c&&(g=Tc.determineBoundary(b,c)),this.label.setLocation(a,g)},computeLabelSide:function(a,b){for(var c,d=this.iterator();d.hasNext();)if(c=d.next(),c.getLabel().isArea()){var e=c.getLabel().getLocation(a,b);if(e===C.INTERIOR)return this.label.setLocation(a,b,C.INTERIOR),null;e===C.EXTERIOR&&this.label.setLocation(a,b,C.EXTERIOR)}},getLabel:function(){return this.label},computeLabelSides:function(a){this.computeLabelSide(a,dc.LEFT),this.computeLabelSide(a,dc.RIGHT)},updateIM:function(a){Sc.updateIM(this.label,a)},computeLabel:function(a){for(var b=!1,c=this.iterator();c.hasNext();)c.next().getLabel().isArea()&&(b=!0);this.label=b?new fc(C.NONE,C.NONE,C.NONE):new fc(C.NONE);for(var d=0;2>d;d++)this.computeLabelOn(d,a),b&&this.computeLabelSides(d)},interfaces_:function(){return[]},getClass:function(){return Me}}),l(Ne,vc),t(Ne.prototype,{updateIM:function(a){for(var b=this.iterator();b.hasNext();)b.next().updateIM(a)},insert:function(a){var b=this.edgeMap.get(a);null===b?(b=new Me(a),this.insertEdgeEnd(a,b)):b.insert(a)},interfaces_:function(){return[]},getClass:function(){return Ne}}),l(Oe,kc),t(Oe.prototype,{updateIMFromEdges:function(a){this.edges.updateIM(a)},computeIM:function(a){a.setAtLeastIfValid(this.label.getLocation(0),this.label.getLocation(1),0)},interfaces_:function(){return[]},getClass:function(){return Oe}}),l(Qe,oc),t(Qe.prototype,{createNode:function(a){return new Oe(a,new Ne())},interfaces_:function(){return[]},getClass:function(){return Qe}}),t(Re.prototype,{insertEdgeEnds:function(a){for(var b,c=a.iterator();c.hasNext();)b=c.next(),this.nodes.add(b)},getNodeIterator:function(){return this.nodes.iterator()},copyNodesAndLabels:function(a,b){for(var c,d=a.getNodeIterator();d.hasNext();)c=d.next(),this.nodes.addNode(c.getCoordinate()).setLabel(b,c.getLabel().getLocation(b))},build:function(a){this.computeIntersectionNodes(a,0),this.copyNodesAndLabels(a,0);var b=new Le,c=b.computeEdgeEnds(a.getEdgeIterator());this.insertEdgeEnds(c)},computeIntersectionNodes:function(b,c){for(var d=b.getEdgeIterator();d.hasNext();)for(var e=d.next(),f=e.getLabel().getLocation(c),g=e.getEdgeIntersectionList().iterator();g.hasNext();){var h=g.next(),j=this.nodes.addNode(h.coord);f===C.BOUNDARY?j.setLabelBoundary(c):j.getLabel().isNull(c)&&j.setLabel(c,C.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return Re}}),t(Se.prototype,{isNodeEdgeAreaLabelsConsistent:function(){for(var a,b=this.nodeGraph.getNodeIterator();b.hasNext();)if(a=b.next(),!a.getEdges().isAreaLabelsConsistent(this.geomGraph))return this.invalidPoint=a.getCoordinate().copy(),!1;return!0},getInvalidPoint:function(){return this.invalidPoint},hasDuplicateRings:function(){for(var a=this.nodeGraph.getNodeIterator();a.hasNext();)for(var b,c=a.next(),d=c.getEdges().iterator();d.hasNext();)if(b=d.next(),1<b.getEdgeEnds().size())return this.invalidPoint=b.getEdge().getCoordinate(0),!0;return!1},isNodeConsistentArea:function(){var a=this.geomGraph.computeSelfNodes(this.li,!0,!0);return a.hasProperIntersection()?(this.invalidPoint=a.getProperIntersectionPoint(),!1):(this.nodeGraph.build(this.geomGraph),this.isNodeEdgeAreaLabelsConsistent())},interfaces_:function(){return[]},getClass:function(){return Se}}),t(Te.prototype,{buildIndex:function(){this.index=new Jb;for(var a=0;a<this.rings.size();a++){var b=this.rings.get(a),c=b.getEnvelopeInternal();this.index.insert(c,b)}},getNestedPoint:function(){return this.nestedPt},isNonNested:function(){this.buildIndex();for(var b=0;b<this.rings.size();b++)for(var c=this.rings.get(b),d=c.getCoordinates(),e=this.index.query(c.getEnvelopeInternal()),f=0;f<e.size();f++){var g=e.get(f),h=g.getCoordinates();if(c!==g&&c.getEnvelopeInternal().intersects(g.getEnvelopeInternal())){var j=Ve.findPtNotNode(d,g,this.graph);if(null!==j){var a=eb.isPointInRing(j,h);if(a)return this.nestedPt=j,!1}}}return!0},add:function(a){this.rings.add(a),this.totalEnv.expandToInclude(a.getEnvelopeInternal())},interfaces_:function(){return[]},getClass:function(){return Te}}),t(Ue.prototype,{getErrorType:function(){return this.errorType},getMessage:function(){return Ue.errMsg[this.errorType]},getCoordinate:function(){return this.pt},toString:function(){var a="";return null!==this.pt&&(a=" at or near point "+this.pt),this.getMessage()+a},interfaces_:function(){return[]},getClass:function(){return Ue}}),Ue.ERROR=0,Ue.REPEATED_POINT=1,Ue.HOLE_OUTSIDE_SHELL=2,Ue.NESTED_HOLES=3,Ue.DISCONNECTED_INTERIOR=4,Ue.SELF_INTERSECTION=5,Ue.RING_SELF_INTERSECTION=6,Ue.NESTED_SHELLS=7,Ue.DUPLICATE_RINGS=8,Ue.TOO_FEW_POINTS=9,Ue.INVALID_COORDINATE=10,Ue.RING_NOT_CLOSED=11,Ue.errMsg=["Topology Validation Error","Repeated Point","Hole lies outside shell","Holes are nested","Interior is disconnected","Self-intersection","Ring Self-intersection","Nested shells","Duplicate Rings","Too few distinct points in geometry component","Invalid Coordinate","Ring is not closed"],t(Ve.prototype,{checkInvalidCoordinates:function(){if(arguments[0]instanceof Array){for(var a=arguments[0],b=0;b<a.length;b++)if(!Ve.isValid(a[b]))return this.validErr=new Ue(Ue.INVALID_COORDINATE,a[b]),null;}else if(arguments[0]instanceof Ga){var c=arguments[0];if(this.checkInvalidCoordinates(c.getExteriorRing().getCoordinates()),null!==this.validErr)return null;for(var b=0;b<c.getNumInteriorRing();b++)if(this.checkInvalidCoordinates(c.getInteriorRingN(b).getCoordinates()),null!==this.validErr)return null}},checkHolesNotNested:function(a,b){for(var c,d=new Te(b),e=0;e<a.getNumInteriorRing();e++)c=a.getInteriorRingN(e),d.add(c);d.isNonNested()||(this.validErr=new Ue(Ue.NESTED_HOLES,d.getNestedPoint()))},checkConsistentArea:function(a){var b=new Se(a);return b.isNodeConsistentArea()?void(b.hasDuplicateRings()&&(this.validErr=new Ue(Ue.DUPLICATE_RINGS,b.getInvalidPoint()))):(this.validErr=new Ue(Ue.SELF_INTERSECTION,b.getInvalidPoint()),null)},isValid:function(){return this.checkValid(this.parentGeometry),null===this.validErr},checkShellInsideHole:function(a,b,c){var d=a.getCoordinates(),e=b.getCoordinates(),f=Ve.findPtNotNode(d,b,c);if(null!==f&&!eb.isPointInRing(f,e))return f;var g=Ve.findPtNotNode(e,a,c);return null===g?(ea.shouldNeverReachHere("points in shell and hole appear to be equal"),null):eb.isPointInRing(g,d)?g:null},checkNoSelfIntersectingRings:function(a){for(var b,c=a.getEdgeIterator();c.hasNext();)if(b=c.next(),this.checkNoSelfIntersectingRing(b.getEdgeIntersectionList()),null!==this.validErr)return null},checkConnectedInteriors:function(a){var b=new Ke(a);b.isInteriorsConnected()||(this.validErr=new Ue(Ue.DISCONNECTED_INTERIOR,b.getCoordinate()))},checkNoSelfIntersectingRing:function(a){for(var b,c=new ma,d=!0,e=a.iterator();e.hasNext();)if(b=e.next(),d)d=!1;else{if(c.contains(b.coord))return this.validErr=new Ue(Ue.RING_SELF_INTERSECTION,b.coord),null;c.add(b.coord)}},checkHolesInShell:function(a,b){for(var c=a.getExteriorRing(),d=new nd(c),e=0;e<a.getNumInteriorRing();e++){var f=a.getInteriorRingN(e),g=Ve.findPtNotNode(f.getCoordinates(),c,b);if(null===g)return null;if(!d.isInside(g))return this.validErr=new Ue(Ue.HOLE_OUTSIDE_SHELL,g),null}},checkTooFewPoints:function(a){if(a.hasTooFewPoints())return this.validErr=new Ue(Ue.TOO_FEW_POINTS,a.getInvalidPoint()),null},getValidationError:function(){return this.checkValid(this.parentGeometry),this.validErr},checkValid:function(){if(arguments[0]instanceof Ea){var b=arguments[0];this.checkInvalidCoordinates(b.getCoordinates())}else if(arguments[0]instanceof Ha){var d=arguments[0];this.checkInvalidCoordinates(d.getCoordinates())}else if(arguments[0]instanceof Ia){var e=arguments[0];if(this.checkInvalidCoordinates(e.getCoordinates()),null!==this.validErr)return null;if(this.checkClosedRing(e),null!==this.validErr)return null;var g=new Tc(0,e);if(this.checkTooFewPoints(g),null!==this.validErr)return null;var j=new bb;g.computeSelfNodes(j,!0,!0),this.checkNoSelfIntersectingRings(g)}else if(arguments[0]instanceof Ca){var m=arguments[0];if(this.checkInvalidCoordinates(m.getCoordinates()),null!==this.validErr)return null;var g=new Tc(0,m);this.checkTooFewPoints(g)}else if(arguments[0]instanceof Ga){var n=arguments[0];if(this.checkInvalidCoordinates(n),null!==this.validErr)return null;if(this.checkClosedRings(n),null!==this.validErr)return null;var g=new Tc(0,n);if(this.checkTooFewPoints(g),null!==this.validErr)return null;if(this.checkConsistentArea(g),null!==this.validErr)return null;if(!this.isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(g),null!==this.validErr))return null;if(this.checkHolesInShell(n,g),null!==this.validErr)return null;if(this.checkHolesNotNested(n,g),null!==this.validErr)return null;this.checkConnectedInteriors(g)}else if(arguments[0]instanceof Ja){for(var o,l=arguments[0],a=0;a<l.getNumGeometries();a++){if(o=l.getGeometryN(a),this.checkInvalidCoordinates(o),null!==this.validErr)return null;if(this.checkClosedRings(o),null!==this.validErr)return null}var g=new Tc(0,l);if(this.checkTooFewPoints(g),null!==this.validErr)return null;if(this.checkConsistentArea(g),null!==this.validErr)return null;if(!this.isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(g),null!==this.validErr))return null;for(var o,a=0;a<l.getNumGeometries();a++)if(o=l.getGeometryN(a),this.checkHolesInShell(o,g),null!==this.validErr)return null;for(var o,a=0;a<l.getNumGeometries();a++)if(o=l.getGeometryN(a),this.checkHolesNotNested(o,g),null!==this.validErr)return null;if(this.checkShellsNotNested(l,g),null!==this.validErr)return null;this.checkConnectedInteriors(g)}else if(arguments[0]instanceof ra){for(var p,f=arguments[0],a=0;a<f.getNumGeometries();a++)if(p=f.getGeometryN(a),this.checkValid(p),null!==this.validErr)return null;}else if(arguments[0]instanceof k){var c=arguments[0];if(this.validErr=null,c.isEmpty())return null;if(c instanceof Ea)this.checkValid(c);else if(c instanceof Ha)this.checkValid(c);else if(c instanceof Ia)this.checkValid(c);else if(c instanceof Ca)this.checkValid(c);else if(c instanceof Ga)this.checkValid(c);else if(c instanceof Ja)this.checkValid(c);else{if(!(c instanceof ra))throw new UnsupportedOperationException(c.getClass().getName());this.checkValid(c)}}},setSelfTouchingRingFormingHoleValid:function(a){this.isSelfTouchingRingFormingHoleValid=a},checkShellNotNested:function(b,c,d){var e=b.getCoordinates(),f=c.getExteriorRing(),g=f.getCoordinates(),h=Ve.findPtNotNode(e,f,d);if(null===h)return null;if(!eb.isPointInRing(h,g))return null;if(0>=c.getNumInteriorRing())return this.validErr=new Ue(Ue.NESTED_SHELLS,h),null;for(var j,k=null,a=0;a<c.getNumInteriorRing();a++)if(j=c.getInteriorRingN(a),null===(k=this.checkShellInsideHole(b,j,d)))return null;this.validErr=new Ue(Ue.NESTED_SHELLS,k)},checkClosedRings:function(a){if(this.checkClosedRing(a.getExteriorRing()),null!==this.validErr)return null;for(var b=0;b<a.getNumInteriorRing();b++)if(this.checkClosedRing(a.getInteriorRingN(b)),null!==this.validErr)return null},checkClosedRing:function(a){if(!a.isClosed()){var b=null;1<=a.getNumPoints()&&(b=a.getCoordinateN(0)),this.validErr=new Ue(Ue.RING_NOT_CLOSED,b)}},checkShellsNotNested:function(a,b){for(var c=0;c<a.getNumGeometries();c++)for(var d=a.getGeometryN(c),e=d.getExteriorRing(),f=0;f<a.getNumGeometries();f++)if(c!==f){var g=a.getGeometryN(f);if(this.checkShellNotNested(e,g,b),null!==this.validErr)return null}},interfaces_:function(){return[]},getClass:function(){return Ve}}),Ve.findPtNotNode=function(a,b,c){for(var d,e=c.findEdge(b),f=e.getEdgeIntersectionList(),g=0;g<a.length;g++)if(d=a[g],!f.isIntersection(d))return d;return null},Ve.isValid=function(){if(arguments[0]instanceof k)return new Ve(arguments[0]).isValid();if(arguments[0]instanceof fa){var a=arguments[0];return!(da.isNaN(a.x)||da.isInfinite(a.x)||da.isNaN(a.y)||da.isInfinite(a.y))}},t(We.prototype,{isIncluded:function(){return this._isIncluded},getCoordinates:function(){if(null===this.ringPts){for(var a=new w,b=this.deList.iterator();b.hasNext();){var c=b.next(),d=c.getEdge();We.addEdge(d.getLine().getCoordinates(),c.getEdgeDirection(),a)}this.ringPts=a.toCoordinateArray()}return this.ringPts},isIncludedSet:function(){return this._isIncludedSet},isValid:function(){return this.getCoordinates(),!(3>=this.ringPts.length)&&(this.getRing(),Ve.isValid(this.ring))},build:function(a){var b=a;do this.add(b),b.setRing(this),b=b.getNext(),ea.isTrue(null!==b,"found null DE in ring"),ea.isTrue(b===a||!b.isInRing(),"found DE already in ring");while(b!==a)},isOuterHole:function(){return!!this._isHole&&!this.hasShell()},getPolygon:function(){var a=null;if(null!==this.holes){a=Array(this.holes.size()).fill(null);for(var b=0;b<this.holes.size();b++)a[b]=this.holes.get(b)}return this.factory.createPolygon(this.ring,a)},isHole:function(){return this._isHole},isProcessed:function(){return this._isProcessed},addHole:function(){if(arguments[0]instanceof Ia){var a=arguments[0];null===this.holes&&(this.holes=new x),this.holes.add(a)}else if(arguments[0]instanceof We){var b=arguments[0];b.setShell(this);var c=b.getRing();null===this.holes&&(this.holes=new x),this.holes.add(c)}},setIncluded:function(a){this._isIncluded=a,this._isIncludedSet=!0},getOuterHole:function(){if(this.isHole())return null;for(var a=0;a<this.deList.size();a++){var b=this.deList.get(a),c=b.getSym().getRing();if(c.isOuterHole())return c}return null},computeHole:function(){var a=this.getRing();this._isHole=eb.isCCW(a.getCoordinates())},hasShell:function(){return null!==this.shell},isOuterShell:function(){return null!==this.getOuterHole()},getLineString:function(){return this.getCoordinates(),this.factory.createLineString(this.ringPts)},toString:function(){return _a.toLineString(new Pa(this.getCoordinates()))},getShell:function(){return this.isHole()?this.shell:this},add:function(a){this.deList.add(a)},getRing:function(){if(null!==this.ring)return this.ring;this.getCoordinates(),3>this.ringPts.length&&A.out.println(this.ringPts);try{this.ring=this.factory.createLinearRing(this.ringPts)}catch(a){if(!(a instanceof r))throw a;A.out.println(this.ringPts)}return this.ring},updateIncluded:function(){if(this.isHole())return null;for(var a=0;a<this.deList.size();a++){var b=this.deList.get(a),c=b.getSym().getRing().getShell();if(null!==c&&c.isIncludedSet())return this.setIncluded(!c.isIncluded()),null}},setShell:function(a){this.shell=a},setProcessed:function(a){this._isProcessed=a},interfaces_:function(){return[]},getClass:function(){return We}}),We.findDirEdgesInRing=function(a){var b=a,c=new x;do c.add(b),b=b.getNext(),ea.isTrue(null!==b,"found null DE in ring"),ea.isTrue(b===a||!b.isInRing(),"found DE already in ring");while(b!==a);return c},We.addEdge=function(a,b,c){if(b)for(var d=0;d<a.length;d++)c.add(a[d],!1);else for(var d=a.length-1;0<=d;d--)c.add(a[d],!1)},We.findEdgeRingContaining=function(b,d){for(var e=b.getRing(),g=e.getEnvelopeInternal(),h=e.getCoordinateN(0),j=null,k=null,m=d.iterator();m.hasNext();){var a=m.next(),n=a.getRing(),l=n.getEnvelopeInternal();if(!l.equals(g)&&l.contains(g)){h=Y.ptNotInList(e.getCoordinates(),n.getCoordinates());var c=!1;eb.isPointInRing(h,n.getCoordinates())&&(c=!0),c&&(null===j||k.contains(l))&&(j=a,k=j.getRing().getEnvelopeInternal())}}return j},t(Xe.prototype,{compare:function(a,b){return a.getRing().getEnvelope().compareTo(b.getRing().getEnvelope())},interfaces_:function(){return[o]},getClass:function(){return Xe}}),We.EnvelopeComparator=Xe,l(Ye,Fe),t(Ye.prototype,{findEdgeRing:function(a){var b=new We(this.factory);return b.build(a),b},computeDepthParity:function(){if(0===arguments.length)for(;;)return null;else 1===arguments.length&&arguments[0]},computeNextCWEdges:function(){for(var a,b=this.nodeIterator();b.hasNext();)a=b.next(),Ye.computeNextCWEdges(a)},addEdge:function(b){if(b.isEmpty())return null;var c=Y.removeRepeatedPoints(b.getCoordinates());if(2>c.length)return null;var d=c[0],e=c[c.length-1],f=this.getNode(d),g=this.getNode(e),h=new Ie(f,g,c[1],!0),j=new Ie(g,f,c[c.length-2],!1),a=new Je(b);a.setDirectedEdges(h,j),this.add(a)},deleteCutEdges:function(){this.computeNextCWEdges(),Ye.findLabeledEdgeRings(this.dirEdges);for(var a,b=new x,c=this.dirEdges.iterator();c.hasNext();)if(a=c.next(),!a.isMarked()){var d=a.getSym();if(a.getLabel()===d.getLabel()){a.setMarked(!0),d.setMarked(!0);var e=a.getEdge();b.add(e.getLine())}}return b},getEdgeRings:function(){this.computeNextCWEdges(),Ye.label(this.dirEdges,-1);var a=Ye.findLabeledEdgeRings(this.dirEdges);this.convertMaximalToMinimalEdgeRings(a);for(var b,c=new x,d=this.dirEdges.iterator();d.hasNext();)if(b=d.next(),!b.isMarked()&&!b.isInRing()){var e=this.findEdgeRing(b);c.add(e)}return c},getNode:function(a){var b=this.findNode(a);return null===b&&(b=new Ce(a),this.add(b)),b},convertMaximalToMinimalEdgeRings:function(a){for(var b=a.iterator();b.hasNext();){var c=b.next(),d=c.getLabel(),e=Ye.findIntersectionNodes(c,d);if(null!==e)for(var f,g=e.iterator();g.hasNext();)f=g.next(),Ye.computeNextCCWEdges(f,d)}},deleteDangles:function(){for(var b=this.findNodesOfDegree(1),c=new K,d=new jb,e=b.iterator();e.hasNext();)d.push(e.next());for(;!d.isEmpty();){var f=d.pop();Ye.deleteAllEdges(f);for(var g,h=f.getOutEdges().getEdges(),e=h.iterator();e.hasNext();){g=e.next(),g.setMarked(!0);var j=g.getSym();null!==j&&j.setMarked(!0);var a=g.getEdge();c.add(a.getLine());var k=g.getToNode();1===Ye.getDegreeNonDeleted(k)&&d.push(k)}}return c},interfaces_:function(){return[]},getClass:function(){return Ye}}),Ye.findLabeledEdgeRings=function(a){for(var b,c=new x,d=1,e=a.iterator();e.hasNext();)if(b=e.next(),!(b.isMarked()||0<=b.getLabel())){c.add(b);var f=We.findDirEdgesInRing(b);Ye.label(f,d),d++}return c},Ye.getDegreeNonDeleted=function(a){for(var b=a.getOutEdges().getEdges(),c=0,d=b.iterator();d.hasNext();)d.next().isMarked()||c++;return c},Ye.deleteAllEdges=function(a){for(var b,c=a.getOutEdges().getEdges(),d=c.iterator();d.hasNext();){b=d.next(),b.setMarked(!0);var e=b.getSym();null!==e&&e.setMarked(!0)}},Ye.label=function(a,b){for(var c=a.iterator();c.hasNext();)c.next().setLabel(b)},Ye.computeNextCWEdges=function(a){for(var b,c=a.getOutEdges(),d=null,e=null,f=c.getEdges().iterator();f.hasNext();)if(b=f.next(),!b.isMarked()){if(null===d&&(d=b),null!==e){var g=e.getSym();g.setNext(b)}e=b}if(null!==e){var g=e.getSym();g.setNext(d)}},Ye.computeNextCCWEdges=function(b,d){for(var e=b.getOutEdges(),f=null,g=null,h=e.getEdges(),j=h.size()-1;0<=j;j--){var k=h.get(j),a=k.getSym(),m=null;k.getLabel()===d&&(m=k);var l=null;a.getLabel()===d&&(l=a),null===m&&null===l||(null!==l&&(g=l),null!==m&&(null!==g&&(g.setNext(m),g=null),null===f&&(f=m)))}null!==g&&(ea.isTrue(null!==f),g.setNext(f))},Ye.getDegree=function(a,b){for(var c=a.getOutEdges().getEdges(),d=0,e=c.iterator();e.hasNext();)e.next().getLabel()===b&&d++;return d},Ye.findIntersectionNodes=function(a,b){var c=a,d=null;do{var e=c.getFromNode();1<Ye.getDegree(e,b)&&(null===d&&(d=new x),d.add(e)),c=c.getNext(),ea.isTrue(null!==c,"found null DE in ring"),ea.isTrue(c===a||!c.isInRing(),"found DE already in ring")}while(c!==a);return d},t(Ze.prototype,{getGeometry:function(){return null===this.geomFactory&&(this.geomFactory=new Za),this.polygonize(),this.extractOnlyPolygonal?this.geomFactory.buildGeometry(this.polyList):this.geomFactory.createGeometryCollection(Za.toGeometryArray(this.polyList))},getInvalidRingLines:function(){return this.polygonize(),this.invalidRingLines},findValidRings:function(a,b,c){for(var d,e=a.iterator();e.hasNext();)d=e.next(),d.isValid()?b.add(d):c.add(d.getLineString())},polygonize:function(){if(null!==this.polyList)return null;if(this.polyList=new x,null===this.graph)return null;this.dangles=this.graph.deleteDangles(),this.cutEdges=this.graph.deleteCutEdges();var a=this.graph.getEdgeRings(),b=new x;this.invalidRingLines=new x,this.isCheckingRingsValid?this.findValidRings(a,b,this.invalidRingLines):b=a,this.findShellsAndHoles(b),Ze.assignHolesToShells(this.holeList,this.shellList),ng.sort(this.shellList,new We.EnvelopeComparator);var c=!0;this.extractOnlyPolygonal&&(Ze.findDisjointShells(this.shellList),c=!1),this.polyList=Ze.extractPolygons(this.shellList,c)},getDangles:function(){return this.polygonize(),this.dangles},getCutEdges:function(){return this.polygonize(),this.cutEdges},getPolygons:function(){return this.polygonize(),this.polyList},add:function(){if(N(arguments[0],ga))for(var a,b=arguments[0],c=b.iterator();c.hasNext();)a=c.next(),this.add(a);else if(arguments[0]instanceof Ca){var d=arguments[0];this.geomFactory=d.getFactory(),null===this.graph&&(this.graph=new Ye(this.geomFactory)),this.graph.addEdge(d)}else if(arguments[0]instanceof k){var e=arguments[0];e.apply(this.lineStringAdder)}},setCheckRingsValid:function(a){this.isCheckingRingsValid=a},findShellsAndHoles:function(a){this.holeList=new x,this.shellList=new x;for(var b,c=a.iterator();c.hasNext();)b=c.next(),b.computeHole(),b.isHole()?this.holeList.add(b):this.shellList.add(b)},interfaces_:function(){return[]},getClass:function(){return Ze}}),Ze.findOuterShells=function(a){for(var b=a.iterator();b.hasNext();){var c=b.next(),d=c.getOuterHole();null===d||d.isProcessed()||(c.setIncluded(!0),d.setProcessed(!0))}},Ze.extractPolygons=function(a,b){for(var c,d=new x,e=a.iterator();e.hasNext();)c=e.next(),(b||c.isIncluded())&&d.add(c.getPolygon());return d},Ze.assignHolesToShells=function(a,b){for(var c,d=a.iterator();d.hasNext();)c=d.next(),Ze.assignHoleToShell(c,b)},Ze.assignHoleToShell=function(a,b){var c=We.findEdgeRingContaining(a,b);null!==c&&c.addHole(a)},Ze.findDisjointShells=function(a){Ze.findOuterShells(a);var b=null;do{b=!1;for(var c,d=a.iterator();d.hasNext();)c=d.next(),c.isIncludedSet()||(c.updateIncluded(),c.isIncludedSet()||(b=!0))}while(b)},t($e.prototype,{filter:function(a){a instanceof Ca&&this.p.add(a)},interfaces_:function(){return[q]},getClass:function(){return $e}}),Ze.LineStringAdder=$e;var Eg=Object.freeze({Polygonizer:Ze});t(_e.prototype,{insertEdgeEnds:function(a){for(var b,c=a.iterator();c.hasNext();)b=c.next(),this.nodes.add(b)},computeProperIntersectionIM:function(a,b){var c=this.arg[0].getGeometry().getDimension(),d=this.arg[1].getGeometry().getDimension(),e=a.hasProperIntersection(),f=a.hasProperInteriorIntersection();2===c&&2===d?e&&b.setAtLeast("212101212"):2===c&&1===d?(e&&b.setAtLeast("FFF0FFFF2"),f&&b.setAtLeast("1FFFFF1FF")):1===c&&2===d?(e&&b.setAtLeast("F0FFFFFF2"),f&&b.setAtLeast("1F1FFFFFF")):1===c&&1===d&&f&&b.setAtLeast("0FFFFFFFF")},labelIsolatedEdges:function(a,b){for(var c,d=this.arg[a].getEdgeIterator();d.hasNext();)c=d.next(),c.isIsolated()&&(this.labelIsolatedEdge(c,b,this.arg[b].getGeometry()),this.isolatedEdges.add(c))},labelIsolatedEdge:function(a,b,c){if(0<c.getDimension()){var d=this.ptLocator.locate(a.getCoordinate(),c);a.getLabel().setAllLocations(b,d)}else a.getLabel().setAllLocations(b,C.EXTERIOR)},computeIM:function(){var a=new gb;if(a.set(C.EXTERIOR,C.EXTERIOR,2),!this.arg[0].getGeometry().getEnvelopeInternal().intersects(this.arg[1].getGeometry().getEnvelopeInternal()))return this.computeDisjointIM(a),a;this.arg[0].computeSelfNodes(this.li,!1),this.arg[1].computeSelfNodes(this.li,!1);var b=this.arg[0].computeEdgeIntersections(this.arg[1],this.li,!1);this.computeIntersectionNodes(0),this.computeIntersectionNodes(1),this.copyNodesAndLabels(0),this.copyNodesAndLabels(1),this.labelIsolatedNodes(),this.computeProperIntersectionIM(b,a);var c=new Le,d=c.computeEdgeEnds(this.arg[0].getEdgeIterator());this.insertEdgeEnds(d);var e=c.computeEdgeEnds(this.arg[1].getEdgeIterator());return this.insertEdgeEnds(e),this.labelNodeEdges(),this.labelIsolatedEdges(0,1),this.labelIsolatedEdges(1,0),this.updateIM(a),a},labelNodeEdges:function(){for(var a=this.nodes.iterator();a.hasNext();)a.next().getEdges().computeLabelling(this.arg)},copyNodesAndLabels:function(a){for(var b,c=this.arg[a].getNodeIterator();c.hasNext();)b=c.next(),this.nodes.addNode(b.getCoordinate()).setLabel(a,b.getLabel().getLocation(a))},labelIntersectionNodes:function(a){for(var b=this.arg[a].getEdgeIterator();b.hasNext();)for(var c=b.next(),d=c.getLabel().getLocation(a),e=c.getEdgeIntersectionList().iterator();e.hasNext();){var f=e.next(),g=this.nodes.find(f.coord);g.getLabel().isNull(a)&&(d===C.BOUNDARY?g.setLabelBoundary(a):g.setLabel(a,C.INTERIOR))}},labelIsolatedNode:function(a,b){var c=this.ptLocator.locate(a.getCoordinate(),this.arg[b].getGeometry());a.getLabel().setAllLocations(b,c)},computeIntersectionNodes:function(a){for(var b=this.arg[a].getEdgeIterator();b.hasNext();)for(var c=b.next(),d=c.getLabel().getLocation(a),e=c.getEdgeIntersectionList().iterator();e.hasNext();){var f=e.next(),g=this.nodes.addNode(f.coord);d===C.BOUNDARY?g.setLabelBoundary(a):g.getLabel().isNull(a)&&g.setLabel(a,C.INTERIOR)}},labelIsolatedNodes:function(){for(var a=this.nodes.iterator();a.hasNext();){var b=a.next(),c=b.getLabel();ea.isTrue(0<c.getGeometryCount(),"node with empty label found"),b.isIsolated()&&(c.isNull(0)?this.labelIsolatedNode(b,0):this.labelIsolatedNode(b,1))}},updateIM:function(a){for(var b=this.isolatedEdges.iterator();b.hasNext();)b.next().updateIM(a);for(var c,d=this.nodes.iterator();d.hasNext();)c=d.next(),c.updateIM(a),c.updateIMFromEdges(a)},computeDisjointIM:function(a){var b=this.arg[0].getGeometry();b.isEmpty()||(a.set(C.INTERIOR,C.EXTERIOR,b.getDimension()),a.set(C.BOUNDARY,C.EXTERIOR,b.getBoundaryDimension()));var c=this.arg[1].getGeometry();c.isEmpty()||(a.set(C.EXTERIOR,C.INTERIOR,c.getDimension()),a.set(C.EXTERIOR,C.BOUNDARY,c.getBoundaryDimension()))},interfaces_:function(){return[]},getClass:function(){return _e}}),t(af.prototype,{isContainedInBoundary:function(a){if(a instanceof Ga)return!1;if(a instanceof Ea)return this.isPointContainedInBoundary(a);if(a instanceof Ca)return this.isLineStringContainedInBoundary(a);for(var b,c=0;c<a.getNumGeometries();c++)if(b=a.getGeometryN(c),!this.isContainedInBoundary(b))return!1;return!0},isLineSegmentContainedInBoundary:function(a,b){if(a.equals(b))return this.isPointContainedInBoundary(a);if(a.x===b.x){if(a.x===this.rectEnv.getMinX()||a.x===this.rectEnv.getMaxX())return!0;}else if(a.y===b.y&&(a.y===this.rectEnv.getMinY()||a.y===this.rectEnv.getMaxY()))return!0;return!1},isLineStringContainedInBoundary:function(a){for(var b=a.getCoordinateSequence(),c=new fa,d=new fa,e=0;e<b.size()-1;e++)if(b.getCoordinate(e,c),b.getCoordinate(e+1,d),!this.isLineSegmentContainedInBoundary(c,d))return!1;return!0},isPointContainedInBoundary:function(){if(arguments[0]instanceof Ea){var a=arguments[0];return this.isPointContainedInBoundary(a.getCoordinate())}if(arguments[0]instanceof fa){var b=arguments[0];return b.x===this.rectEnv.getMinX()||b.x===this.rectEnv.getMaxX()||b.y===this.rectEnv.getMinY()||b.y===this.rectEnv.getMaxY()}},contains:function(a){return!!this.rectEnv.contains(a.getEnvelopeInternal())&&!this.isContainedInBoundary(a)},interfaces_:function(){return[]},getClass:function(){return af}}),af.contains=function(a,b){return new af(a).contains(b)},t(bf.prototype,{intersects:function(a,b){var c=new y(a,b);if(!this.rectEnv.intersects(c))return!1;if(this.rectEnv.intersects(a))return!0;if(this.rectEnv.intersects(b))return!0;if(0<a.compareTo(b)){var d=a;a=b,b=d}var e=!1;return b.y>a.y&&(e=!0),e?this.li.computeIntersection(a,b,this.diagDown0,this.diagDown1):this.li.computeIntersection(a,b,this.diagUp0,this.diagUp1),!!this.li.hasIntersection()},interfaces_:function(){return[]},getClass:function(){return bf}}),t(cf.prototype,{applyTo:function(a){for(var b,c=0;c<a.getNumGeometries()&&!this._isDone;c++)if(b=a.getGeometryN(c),b instanceof ra)this.applyTo(b);else if(this.visit(b),this.isDone())return this._isDone=!0,null},interfaces_:function(){return[]},getClass:function(){return cf}}),t(df.prototype,{intersects:function(a){if(!this.rectEnv.intersects(a.getEnvelopeInternal()))return!1;var b=new ef(this.rectEnv);if(b.applyTo(a),b.intersects())return!0;var c=new ff(this.rectangle);if(c.applyTo(a),c.containsPoint())return!0;var d=new gf(this.rectangle);return d.applyTo(a),!!d.intersects()},interfaces_:function(){return[]},getClass:function(){return df}}),df.intersects=function(a,b){return new df(a).intersects(b)},l(ef,cf),t(ef.prototype,{isDone:function(){return!0===this._intersects},visit:function(a){var b=a.getEnvelopeInternal();return this.rectEnv.intersects(b)?this.rectEnv.contains(b)?(this._intersects=!0,null):b.getMinX()>=this.rectEnv.getMinX()&&b.getMaxX()<=this.rectEnv.getMaxX()?(this._intersects=!0,null):b.getMinY()>=this.rectEnv.getMinY()&&b.getMaxY()<=this.rectEnv.getMaxY()?(this._intersects=!0,null):void 0:null},intersects:function(){return this._intersects},interfaces_:function(){return[]},getClass:function(){return ef}}),l(ff,cf),t(ff.prototype,{isDone:function(){return!0===this._containsPoint},visit:function(a){if(!(a instanceof Ga))return null;var b=a.getEnvelopeInternal();if(!this.rectEnv.intersects(b))return null;for(var c=new fa,d=0;4>d;d++)if(this.rectSeq.getCoordinate(d,c),b.contains(c)&&uc.containsPointInPolygon(c,a))return this._containsPoint=!0,null},containsPoint:function(){return this._containsPoint},interfaces_:function(){return[]},getClass:function(){return ff}}),l(gf,cf),t(gf.prototype,{intersects:function(){return this.hasIntersection},isDone:function(){return!0===this.hasIntersection},visit:function(a){var b=a.getEnvelopeInternal();if(!this.rectEnv.intersects(b))return null;var c=Ic.getLines(a);this.checkIntersectionWithLineStrings(c)},checkIntersectionWithLineStrings:function(a){for(var b,c=a.iterator();c.hasNext();)if(b=c.next(),this.checkIntersectionWithSegments(b),this.hasIntersection)return null},checkIntersectionWithSegments:function(a){for(var b=a.getCoordinateSequence(),c=1;c<b.size();c++)if(b.getCoordinate(c-1,this.p0),b.getCoordinate(c,this.p1),this.rectIntersector.intersects(this.p0,this.p1))return this.hasIntersection=!0,null},interfaces_:function(){return[]},getClass:function(){return gf}}),l(hf,Uc),t(hf.prototype,{getIntersectionMatrix:function(){return this._relate.computeIM()},interfaces_:function(){return[]},getClass:function(){return hf}}),hf.covers=function(a,b){return!!a.getEnvelopeInternal().covers(b.getEnvelopeInternal())&&(!!a.isRectangle()||hf.relate(a,b).isCovers())},hf.intersects=function(a,b){return!!a.getEnvelopeInternal().intersects(b.getEnvelopeInternal())&&(a.isRectangle()?df.intersects(a,b):b.isRectangle()?df.intersects(b,a):hf.relate(a,b).isIntersects())},hf.touches=function(a,b){return!!a.getEnvelopeInternal().intersects(b.getEnvelopeInternal())&&hf.relate(a,b).isTouches(a.getDimension(),b.getDimension())},hf.within=function(a,b){return b.contains(a)},hf.coveredBy=function(a,b){return hf.covers(b,a)},hf.relate=function(){if(2===arguments.length){var b=arguments[0],c=arguments[1],d=new hf(b,c),e=d.getIntersectionMatrix();return e}if(3===arguments.length){if("string"==typeof arguments[2]&&arguments[0]instanceof k&&arguments[1]instanceof k){var f=arguments[0],g=arguments[1],h=arguments[2];return hf.relateWithCheck(f,g).matches(h)}if(N(arguments[2],j)&&arguments[0]instanceof k&&arguments[1]instanceof k){var m=arguments[0],a=arguments[1],n=arguments[2],d=new hf(m,a,n),e=d.getIntersectionMatrix();return e}}},hf.overlaps=function(a,b){return!!a.getEnvelopeInternal().intersects(b.getEnvelopeInternal())&&hf.relate(a,b).isOverlaps(a.getDimension(),b.getDimension())},hf.disjoint=function(a,b){return!a.intersects(b)},hf.relateWithCheck=function(a,b){return a.checkNotGeometryCollection(a),a.checkNotGeometryCollection(b),hf.relate(a,b)},hf.crosses=function(a,b){return!!a.getEnvelopeInternal().intersects(b.getEnvelopeInternal())&&hf.relate(a,b).isCrosses(a.getDimension(),b.getDimension())},hf.contains=function(a,b){return!!a.getEnvelopeInternal().contains(b.getEnvelopeInternal())&&(a.isRectangle()?af.contains(a,b):hf.relate(a,b).isContains())};var Fg=Object.freeze({RelateOp:hf});t(jf.prototype,{extractElements:function(a,b){if(null===a)return null;for(var c,d=0;d<a.getNumGeometries();d++)c=a.getGeometryN(d),this.skipEmpty&&c.isEmpty()||b.add(c)},combine:function(){for(var a,b=new x,c=this.inputGeoms.iterator();c.hasNext();)a=c.next(),this.extractElements(a,b);return 0===b.size()?null===this.geomFactory?null:this.geomFactory.createGeometryCollection(null):this.geomFactory.buildGeometry(b)},interfaces_:function(){return[]},getClass:function(){return jf}}),jf.combine=function(){if(1===arguments.length){var a=arguments[0],b=new jf(a);return b.combine()}if(2===arguments.length){var c=arguments[0],d=arguments[1],b=new jf(jf.createList(c,d));return b.combine()}if(3===arguments.length){var e=arguments[0],f=arguments[1],g=arguments[2],b=new jf(jf.createList(e,f,g));return b.combine()}},jf.extractFactory=function(a){return a.isEmpty()?null:a.iterator().next().getFactory()},jf.createList=function(){if(2===arguments.length){var a=arguments[0],b=arguments[1],c=new x;return c.add(a),c.add(b),c}if(3===arguments.length){var d=arguments[0],e=arguments[1],f=arguments[2],c=new x;return c.add(d),c.add(e),c.add(f),c}},t(kf.prototype,{union:function(){for(var a=new wb,b=new ma,c=0;c<this.pointGeom.getNumGeometries();c++){var d=this.pointGeom.getGeometryN(c),e=d.getCoordinate();a.locate(e,this.otherGeom)===C.EXTERIOR&&b.add(e)}if(0===b.size())return this.otherGeom;var f=null,g=Y.toCoordinateArray(b);return f=1===g.length?this.geomFact.createPoint(g[0]):this.geomFact.createMultiPointFromCoords(g),jf.combine(f,this.otherGeom)},interfaces_:function(){return[]},getClass:function(){return kf}}),kf.union=function(a,b){return new kf(a,b).union()},t(lf.prototype,{filter:function(a){-1!==this.sortIndex&&a.getSortIndex()!==this.sortIndex||this.comps.add(a)},interfaces_:function(){return[pa]},getClass:function(){return lf}}),lf.extract=function(){if(2===arguments.length){var a=arguments[0],b=arguments[1];return lf.extract(a,b,new x)}if(3===arguments.length){var c=arguments[0],d=arguments[1],e=arguments[2];return c.getSortIndex()===d?e.add(c):c instanceof ra&&c.apply(new lf(d,e)),e}},t(mf.prototype,{reduceToGeometries:function(a){for(var b=new x,c=a.iterator();c.hasNext();){var d=c.next(),e=null;N(d,v)?e=this.unionTree(d):d instanceof k&&(e=d),b.add(e)}return b},extractByEnvelope:function(a,b,c){for(var d,e=new x,f=0;f<b.getNumGeometries();f++)d=b.getGeometryN(f),d.getEnvelopeInternal().intersects(a)?e.add(d):c.add(d);return this.geomFactory.buildGeometry(e)},unionOptimized:function(a,b){var c=a.getEnvelopeInternal(),d=b.getEnvelopeInternal();if(!c.intersects(d))return jf.combine(a,b);if(1>=a.getNumGeometries()&&1>=b.getNumGeometries())return this.unionActual(a,b);var e=c.intersection(d);return this.unionUsingEnvelopeIntersection(a,b,e)},union:function(){if(null===this.inputPolys)throw new IllegalStateException("union() method cannot be called twice");if(this.inputPolys.isEmpty())return null;this.geomFactory=this.inputPolys.iterator().next().getFactory();for(var a,b=new Jb(mf.STRTREE_NODE_CAPACITY),c=this.inputPolys.iterator();c.hasNext();)a=c.next(),b.insert(a.getEnvelopeInternal(),a);this.inputPolys=null;var d=b.itemsTree();return this.unionTree(d)},binaryUnion:function(){if(1===arguments.length){var a=arguments[0];return this.binaryUnion(a,0,a.size())}if(3===arguments.length){var b=arguments[0],c=arguments[1],d=arguments[2];if(1>=d-c){var e=mf.getGeometry(b,c);return this.unionSafe(e,null)}if(2==d-c)return this.unionSafe(mf.getGeometry(b,c),mf.getGeometry(b,c+1));var f=Math.trunc((d+c)/2),e=this.binaryUnion(b,c,f),g=this.binaryUnion(b,f,d);return this.unionSafe(e,g)}},repeatedUnion:function(a){for(var b,c=null,d=a.iterator();d.hasNext();)b=d.next(),c=null===c?b.copy():c.union(b);return c},unionSafe:function(a,b){return null===a&&null===b?null:null===a?b.copy():null===b?a.copy():this.unionOptimized(a,b)},unionActual:function(a,b){return mf.restrictToPolygons(a.union(b))},unionTree:function(a){var b=this.reduceToGeometries(a);return this.binaryUnion(b)},unionUsingEnvelopeIntersection:function(a,b,c){var d=new x,e=this.extractByEnvelope(c,a,d),f=this.extractByEnvelope(c,b,d),g=this.unionActual(e,f);return d.add(g),jf.combine(d)},bufferUnion:function(){if(1===arguments.length){var a=arguments[0],b=a.get(0).getFactory(),c=b.buildGeometry(a),d=c.buffer(0);return d}if(2===arguments.length){var e=arguments[0],f=arguments[1],b=e.getFactory(),c=b.createGeometryCollection([e,f]),d=c.buffer(0);return d}},interfaces_:function(){return[]},getClass:function(){return mf}}),mf.restrictToPolygons=function(a){if(N(a,Fa))return a;var b=ke.getPolygons(a);return 1===b.size()?b.get(0):a.getFactory().createMultiPolygon(Za.toPolygonArray(b))},mf.getGeometry=function(a,b){return b>=a.size()?null:a.get(b)},mf.union=function(a){return new mf(a).union()},mf.STRTREE_NODE_CAPACITY=4,t(nf.prototype,{unionNoOpt:function(a){var b=this.geomFact.createPoint();return Zc.overlayOp(a,b,Xc.UNION)},unionWithNull:function(a,b){return null===a&&null===b?null:null===b?a:null===a?b:a.union(b)},extract:function(){if(N(arguments[0],ga))for(var a,b=arguments[0],c=b.iterator();c.hasNext();)a=c.next(),this.extract(a);else if(arguments[0]instanceof k){var d=arguments[0];null===this.geomFact&&(this.geomFact=d.getFactory()),lf.extract(d,k.SORTINDEX_POLYGON,this.polygons),lf.extract(d,k.SORTINDEX_LINESTRING,this.lines),lf.extract(d,k.SORTINDEX_POINT,this.points)}},union:function(){if(null===this.geomFact)return null;var a=null;if(0<this.points.size()){var b=this.geomFact.buildGeometry(this.points);a=this.unionNoOpt(b)}var c=null;if(0<this.lines.size()){var d=this.geomFact.buildGeometry(this.lines);c=this.unionNoOpt(d)}var e=null;0<this.polygons.size()&&(e=mf.union(this.polygons));var f=this.unionWithNull(c,e),g=null;return g=null===a?f:null===f?a:kf.union(a,f),null===g?this.geomFact.createGeometryCollection():g},interfaces_:function(){return[]},getClass:function(){return nf}}),nf.union=function(){if(1===arguments.length){if(N(arguments[0],ga)){var a=arguments[0],b=new nf(a);return b.union()}if(arguments[0]instanceof k){var c=arguments[0],b=new nf(c);return b.union()}}else if(2===arguments.length){var d=arguments[0],e=arguments[1],b=new nf(d,e);return b.union()}};var Gg=Object.freeze({UnaryUnionOp:nf}),Hg=Object.freeze({IsValidOp:Ve,ConsistentAreaTester:Se}),Ig=Object.freeze({BoundaryOp:ta,IsSimpleOp:Nd,buffer:Ag,distance:Bg,linemerge:Cg,overlay:Dg,polygonize:Eg,relate:Fg,union:Gg,valid:Hg});l(of,Ka.CoordinateOperation),t(of.prototype,{editCoordinates:function(b,c){if(0===b.length)return null;for(var d,e=Array(b.length).fill(null),f=0;f<b.length;f++)d=new fa(b[f]),this.targetPM.makePrecise(d),e[f]=d;var g=new w(e,!1),h=g.toCoordinateArray(),j=0;c instanceof Ca&&(j=2),c instanceof Ia&&(j=4);var a=e;return this.removeCollapsed&&(a=null),h.length<j?a:h},interfaces_:function(){return[]},getClass:function(){return of}}),t(pf.prototype,{fixPolygonalTopology:function(a){var b=a;this.changePrecisionModel||(b=this.changePM(a,this.targetPM));var c=b.buffer(0),d=c;return this.changePrecisionModel||(d=this.changePM(c,a.getPrecisionModel())),d},reducePointwise:function(a){var b=null;b=this.changePrecisionModel?new Ka(this.createFactory(a.getFactory(),this.targetPM)):new Ka;var c=this.removeCollapsed;return 2<=a.getDimension()&&(c=!0),b.edit(a,new of(this.targetPM,c))},changePM:function(a,b){return this.createEditor(a.getFactory(),b).edit(a,new Ka.NoOpGeometryOperation)},setRemoveCollapsedComponents:function(a){this.removeCollapsed=a},createFactory:function(a,b){return new Za(b,a.getSRID(),a.getCoordinateSequenceFactory())},setChangePrecisionModel:function(a){this.changePrecisionModel=a},reduce:function(a){var b=this.reducePointwise(a);return this.isPointwise?b:N(b,Fa)?b.isValid()?b:this.fixPolygonalTopology(b):b},setPointwise:function(a){this.isPointwise=a},createEditor:function(a,b){return a.getPrecisionModel()===b?new Ka:new Ka(this.createFactory(a,b))},interfaces_:function(){return[]},getClass:function(){return pf}}),pf.reduce=function(a,b){return new pf(b).reduce(a)},pf.reducePointwise=function(a,b){var c=new pf(b);return c.setPointwise(!0),c.reduce(a)};var Jg=Object.freeze({GeometryPrecisionReducer:pf});t(qf.prototype,{simplifySection:function(a,b){if(a+1===b)return null;this.seg.p0=this.pts[a],this.seg.p1=this.pts[b];for(var c,d=-1,e=a,f=a+1;f<b;f++)c=this.seg.distance(this.pts[f]),c>d&&(d=c,e=f);if(d<=this.distanceTolerance)for(var f=a+1;f<b;f++)this.usePt[f]=!1;else this.simplifySection(a,e),this.simplifySection(e,b)},setDistanceTolerance:function(a){this.distanceTolerance=a},simplify:function(){this.usePt=Array(this.pts.length).fill(null);for(var a=0;a<this.pts.length;a++)this.usePt[a]=!0;this.simplifySection(0,this.pts.length-1);for(var b=new w,a=0;a<this.pts.length;a++)this.usePt[a]&&b.add(new fa(this.pts[a]));return b.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return qf}}),qf.simplify=function(a,b){var c=new qf(a);return c.setDistanceTolerance(b),c.simplify()},t(rf.prototype,{setEnsureValid:function(a){this.isEnsureValidTopology=a},getResultGeometry:function(){return this.inputGeom.isEmpty()?this.inputGeom.copy():new sf(this.isEnsureValidTopology,this.distanceTolerance).transform(this.inputGeom)},setDistanceTolerance:function(a){if(0>a)throw new ca("Tolerance must be non-negative");this.distanceTolerance=a},interfaces_:function(){return[]},getClass:function(){return rf}}),rf.simplify=function(a,b){var c=new rf(a);return c.setDistanceTolerance(b),c.getResultGeometry()},l(sf,nb),t(sf.prototype,{transformPolygon:function(a,b){if(a.isEmpty())return null;var c=nb.prototype.transformPolygon.call(this,a,b);return b instanceof Ja?c:this.createValidArea(c)},createValidArea:function(a){return this.isEnsureValidTopology?a.buffer(0):a},transformCoordinates:function(a){var b=a.toCoordinateArray(),c=null;return c=0===b.length?[].fill(null):qf.simplify(b,this.distanceTolerance),this.factory.getCoordinateSequenceFactory().create(c)},transformMultiPolygon:function(a,b){var c=nb.prototype.transformMultiPolygon.call(this,a,b);return this.createValidArea(c)},transformLinearRing:function(a,b){var c=nb.prototype.transformLinearRing.call(this,a,b);return!(b instanceof Ga)||c instanceof Ia?c:null},interfaces_:function(){return[]},getClass:function(){return sf}}),rf.DPTransformer=sf,l(tf,fb),t(tf.prototype,{getIndex:function(){return this.index},getParent:function(){return this.parent},interfaces_:function(){return[]},getClass:function(){return tf}}),t(uf.prototype,{addToResult:function(a){this.resultSegs.add(a)},asLineString:function(){return this.parentLine.getFactory().createLineString(uf.extractCoordinates(this.resultSegs))},getResultSize:function(){var a=this.resultSegs.size();return 0===a?0:a+1},getParent:function(){return this.parentLine},getSegment:function(a){return this.segs[a]},getParentCoordinates:function(){return this.parentLine.getCoordinates()},getMinimumSize:function(){return this.minimumSize},asLinearRing:function(){return this.parentLine.getFactory().createLinearRing(uf.extractCoordinates(this.resultSegs))},getSegments:function(){return this.segs},init:function(){var a=this.parentLine.getCoordinates();this.segs=Array(a.length-1).fill(null);for(var b,c=0;c<a.length-1;c++)b=new tf(a[c],a[c+1],this.parentLine,c),this.segs[c]=b},getResultCoordinates:function(){return uf.extractCoordinates(this.resultSegs)},interfaces_:function(){return[]},getClass:function(){return uf}}),uf.extractCoordinates=function(a){for(var b=Array(a.size()+1).fill(null),c=null,d=0;d<a.size();d++)c=a.get(d),b[d]=c.p0;return b[b.length-1]=c.p1,b},t(vf.prototype,{remove:function(a){this.index.remove(new y(a.p0,a.p1),a)},add:function(){if(arguments[0]instanceof uf)for(var a,b=arguments[0],c=b.getSegments(),d=0;d<c.length;d++)a=c[d],this.add(a);else if(arguments[0]instanceof fb){var e=arguments[0];this.index.insert(new y(e.p0,e.p1),e)}},query:function(a){var b=new y(a.p0,a.p1),c=new wf(a);return this.index.query(b,c),c.getItems()},interfaces_:function(){return[]},getClass:function(){return vf}}),t(wf.prototype,{visitItem:function(a){var b=a;y.intersects(b.p0,b.p1,this.querySeg.p0,this.querySeg.p1)&&this.items.add(a)},getItems:function(){return this.items},interfaces_:function(){return[Db]},getClass:function(){return wf}}),t(xf.prototype,{flatten:function(a,b){var c=this.linePts[a],d=this.linePts[b],e=new fb(c,d);return this.remove(this.line,a,b),this.outputIndex.add(e),e},hasBadIntersection:function(a,b,c){return!!this.hasBadOutputIntersection(c)||!!this.hasBadInputIntersection(a,b,c)},setDistanceTolerance:function(a){this.distanceTolerance=a},simplifySection:function(b,c,d){d+=1;var e=[,,].fill(null);if(b+1===c){var f=this.line.getSegment(b);return this.line.addToResult(f),null}var g=!0;this.line.getResultSize()<this.line.getMinimumSize()&&d+1<this.line.getMinimumSize()&&(g=!1);var h=[,].fill(null),j=this.findFurthestPoint(this.linePts,b,c,h);h[0]>this.distanceTolerance&&(g=!1);var a=new fb;if(a.p0=this.linePts[b],a.p1=this.linePts[c],e[0]=b,e[1]=c,this.hasBadIntersection(this.line,e,a)&&(g=!1),g){var f=this.flatten(b,c);return this.line.addToResult(f),null}this.simplifySection(b,j,d),this.simplifySection(j,c,d)},hasBadOutputIntersection:function(a){for(var b,c=this.outputIndex.query(a),d=c.iterator();d.hasNext();)if(b=d.next(),this.hasInteriorIntersection(b,a))return!0;return!1},findFurthestPoint:function(b,c,d,e){var f=new fb;f.p0=b[c],f.p1=b[d];for(var g=-1,h=c,j=c+1;j<d;j++){var a=b[j],k=f.distance(a);k>g&&(g=k,h=j)}return e[0]=g,h},simplify:function(a){this.line=a,this.linePts=a.getParentCoordinates(),this.simplifySection(0,this.linePts.length-1,0)},remove:function(a,b,c){for(var d,e=b;e<c;e++)d=a.getSegment(e),this.inputIndex.remove(d)},hasInteriorIntersection:function(a,b){return this.li.computeIntersection(a.p0,a.p1,b.p0,b.p1),this.li.isInteriorIntersection()},hasBadInputIntersection:function(a,b,c){for(var d,e=this.inputIndex.query(c),f=e.iterator();f.hasNext();)if(d=f.next(),this.hasInteriorIntersection(d,c)){if(xf.isInLineSection(a,b,d))continue;return!0}return!1},interfaces_:function(){return[]},getClass:function(){return xf}}),xf.isInLineSection=function(a,b,c){if(c.getParent()!==a.getParent())return!1;var d=c.getIndex();return d>=b[0]&&d<b[1]},t(yf.prototype,{setDistanceTolerance:function(a){this.distanceTolerance=a},simplify:function(a){for(var b=a.iterator();b.hasNext();)this.inputIndex.add(b.next());for(var c,b=a.iterator();b.hasNext();)c=new xf(this.inputIndex,this.outputIndex),c.setDistanceTolerance(this.distanceTolerance),c.simplify(b.next())},interfaces_:function(){return[]},getClass:function(){return yf}}),t(zf.prototype,{getResultGeometry:function(){return this.inputGeom.isEmpty()?this.inputGeom.copy():(this.linestringMap=new Wa,this.inputGeom.apply(new Bf(this)),this.lineSimplifier.simplify(this.linestringMap.values()),new Af(this.linestringMap).transform(this.inputGeom))},setDistanceTolerance:function(a){if(0>a)throw new ca("Tolerance must be non-negative");this.lineSimplifier.setDistanceTolerance(a)},interfaces_:function(){return[]},getClass:function(){return zf}}),zf.simplify=function(a,b){var c=new zf(a);return c.setDistanceTolerance(b),c.getResultGeometry()},l(Af,nb),t(Af.prototype,{transformCoordinates:function(a,b){if(0===a.size())return null;if(b instanceof Ca){var c=this.linestringMap.get(b);return this.createCoordinateSequence(c.getResultCoordinates())}return nb.prototype.transformCoordinates.call(this,a,b)},interfaces_:function(){return[]},getClass:function(){return Af}}),t(Bf.prototype,{filter:function(a){if(a instanceof Ca){var b=a;if(b.isEmpty())return null;var c=b.isClosed()?4:2,d=new uf(b,c);this.tps.linestringMap.put(b,d)}},interfaces_:function(){return[q]},getClass:function(){return Bf}}),zf.LineStringTransformer=Af,zf.LineStringMapBuilderFilter=Bf;var Kg=Object.freeze({DouglasPeuckerSimplifier:rf,TopologyPreservingSimplifier:zf});t(Cf.prototype,{splitAt:function(){if(1===arguments.length){var a=arguments[0],b=this.minimumLen/this.segLen;if(a.distance(this.seg.p0)<this.minimumLen)return this.splitPt=this.seg.pointAlong(b),null;if(a.distance(this.seg.p1)<this.minimumLen)return this.splitPt=Cf.pointAlongReverse(this.seg,b),null;this.splitPt=a}else if(2===arguments.length){var c=arguments[0],d=arguments[1],e=this.getConstrainedLength(c),f=e/this.segLen;this.splitPt=d.equals2D(this.seg.p0)?this.seg.pointAlong(f):Cf.pointAlongReverse(this.seg,f)}},setMinimumLength:function(a){this.minimumLen=a},getConstrainedLength:function(a){return a<this.minimumLen?this.minimumLen:a},getSplitPoint:function(){return this.splitPt},interfaces_:function(){return[]},getClass:function(){return Cf}}),Cf.pointAlongReverse=function(a,b){var c=new fa;return c.x=a.p1.x-b*(a.p1.x-a.p0.x),c.y=a.p1.y-b*(a.p1.y-a.p0.y),c},t(Df.prototype,{findSplitPoint:function(){},interfaces_:function(){return[]},getClass:function(){return Df}}),t(Ef.prototype,{findSplitPoint:function(b,c){var d=b.getLineSegment(),e=d.getLength(),f=e/2,g=new Cf(d),h=Ef.projectedSplitPoint(b,c),j=.8*(2*h.distance(c)),a=j;return a>f&&(a=f),g.setMinimumLength(a),g.splitAt(h),g.getSplitPoint()},interfaces_:function(){return[Df]},getClass:function(){return Ef}}),Ef.projectedSplitPoint=function(a,b){return a.getLineSegment().project(b)},t(Ff.prototype,{interfaces_:function(){return[]},getClass:function(){return Ff}}),Ff.triArea=function(a,b,c){return(b.x-a.x)*(c.y-a.y)-(b.y-a.y)*(c.x-a.x)},Ff.isInCircleDDNormalized=function(b,j,e,k){var m=R.valueOf(b.x).selfSubtract(k.x),n=R.valueOf(b.y).selfSubtract(k.y),o=R.valueOf(j.x).selfSubtract(k.x),q=R.valueOf(j.y).selfSubtract(k.y),a=R.valueOf(e.x).selfSubtract(k.x),r=R.valueOf(e.y).selfSubtract(k.y),l=m.multiply(q).selfSubtract(o.multiply(n)),c=o.multiply(r).selfSubtract(a.multiply(q)),f=a.multiply(n).selfSubtract(m.multiply(r)),h=m.multiply(m).selfAdd(n.multiply(n)),p=o.multiply(o).selfAdd(q.multiply(q)),d=a.multiply(a).selfAdd(r.multiply(r));return 0<h.selfMultiply(c).selfAdd(p.selfMultiply(f)).selfAdd(d.selfMultiply(l)).doubleValue()},Ff.checkRobustInCircle=function(b,c,d,e){var f=Ff.isInCircleNonRobust(b,c,d,e),g=Ff.isInCircleDDSlow(b,c,d,e),h=Ff.isInCircleCC(b,c,d,e),j=qd.circumcentre(b,c,d);A.out.println("p radius diff a = "+Math.abs(e.distance(j)-b.distance(j))/b.distance(j)),f===g&&f===h||(A.out.println("inCircle robustness failure (double result = "+f+", DD result = "+g+", CC result = "+h+")"),A.out.println(_a.toLineString(new Pa([b,c,d,e]))),A.out.println("Circumcentre = "+_a.toPoint(j)+" radius = "+b.distance(j)),A.out.println("p radius diff a = "+Math.abs(e.distance(j)/b.distance(j)-1)),A.out.println("p radius diff b = "+Math.abs(e.distance(j)/c.distance(j)-1)),A.out.println("p radius diff c = "+Math.abs(e.distance(j)/d.distance(j)-1)),A.out.println())},Ff.isInCircleDDFast=function(b,c,d,e){var f=R.sqr(b.x).selfAdd(R.sqr(b.y)).selfMultiply(Ff.triAreaDDFast(c,d,e)),g=R.sqr(c.x).selfAdd(R.sqr(c.y)).selfMultiply(Ff.triAreaDDFast(b,d,e)),h=R.sqr(d.x).selfAdd(R.sqr(d.y)).selfMultiply(Ff.triAreaDDFast(b,c,e)),j=R.sqr(e.x).selfAdd(R.sqr(e.y)).selfMultiply(Ff.triAreaDDFast(b,c,d));return 0<f.selfSubtract(g).selfAdd(h).selfSubtract(j).doubleValue()},Ff.isInCircleCC=function(a,b,c,d){var e=qd.circumcentre(a,b,c),f=a.distance(e);return 0>=d.distance(e)-f},Ff.isInCircleNormalized=function(b,c,d,e){var f=b.x-e.x,g=b.y-e.y,h=c.x-e.x,j=c.y-e.y,a=d.x-e.x,k=d.y-e.y;return 0<(f*f+g*g)*(h*k-a*j)+(h*h+j*j)*(a*g-f*k)+(a*a+k*k)*(f*j-h*g)},Ff.isInCircleDDSlow=function(b,j,e,k){var m=R.valueOf(k.x),n=R.valueOf(k.y),o=R.valueOf(b.x),q=R.valueOf(b.y),a=R.valueOf(j.x),r=R.valueOf(j.y),l=R.valueOf(e.x),c=R.valueOf(e.y),f=o.multiply(o).add(q.multiply(q)).multiply(Ff.triAreaDDSlow(a,r,l,c,m,n)),h=a.multiply(a).add(r.multiply(r)).multiply(Ff.triAreaDDSlow(o,q,l,c,m,n)),p=l.multiply(l).add(c.multiply(c)).multiply(Ff.triAreaDDSlow(o,q,a,r,m,n)),d=m.multiply(m).add(n.multiply(n)).multiply(Ff.triAreaDDSlow(o,q,a,r,l,c));return 0<f.subtract(h).add(p).subtract(d).doubleValue()},Ff.isInCircleNonRobust=function(a,b,c,d){return 0<(a.x*a.x+a.y*a.y)*Ff.triArea(b,c,d)-(b.x*b.x+b.y*b.y)*Ff.triArea(a,c,d)+(c.x*c.x+c.y*c.y)*Ff.triArea(a,b,d)-(d.x*d.x+d.y*d.y)*Ff.triArea(a,b,c)},Ff.isInCircleRobust=function(a,b,c,d){return Ff.isInCircleNormalized(a,b,c,d)},Ff.triAreaDDSlow=function(a,b,c,d,e,f){return c.subtract(a).multiply(f.subtract(b)).subtract(d.subtract(b).multiply(e.subtract(a)))},Ff.triAreaDDFast=function(a,b,c){var d=R.valueOf(b.x).selfSubtract(a.x).selfMultiply(R.valueOf(c.y).selfSubtract(a.y)),e=R.valueOf(b.y).selfSubtract(a.y).selfMultiply(R.valueOf(c.x).selfSubtract(a.x));return d.selfSubtract(e)},t(Gf.prototype,{circleCenter:function(a,b){var c=new Gf(this.getX(),this.getY()),d=this.bisector(c,a),e=this.bisector(a,b),f=new D(d,e),g=null;try{g=new Gf(f.getX(),f.getY())}catch(d){if(!(d instanceof E))throw d;A.err.println("a: "+c+"  b: "+a+"  c: "+b),A.err.println(d)}return g},dot:function(a){return this.p.x*a.getX()+this.p.y*a.getY()},magn:function(){return Math.sqrt(this.p.x*this.p.x+this.p.y*this.p.y)},getZ:function(){return this.p.z},bisector:function(a,b){var c=b.getX()-a.getX(),d=b.getY()-a.getY();return new D(new D(a.getX()+c/2,a.getY()+d/2,1),new D(a.getX()-d+c/2,a.getY()+c+d/2,1))},equals:function(){if(1===arguments.length){var a=arguments[0];return this.p.x===a.getX()&&this.p.y===a.getY()}if(2===arguments.length){var b=arguments[0],c=arguments[1];return this.p.distance(b.getCoordinate())<c}},getCoordinate:function(){return this.p},isInCircle:function(a,b,c){return Ff.isInCircleRobust(a.p,b.p,c.p,this.p)},interpolateZValue:function(b,d,e){var g=b.getX(),h=b.getY(),j=d.getX()-g,k=e.getX()-g,m=d.getY()-h,n=e.getY()-h,o=j*n-k*m,l=this.getX()-g,c=this.getY()-h;return b.getZ()+(n*l-k*c)/o*(d.getZ()-b.getZ())+(-m*l+j*c)/o*(e.getZ()-b.getZ())},midPoint:function(a){return new Gf((this.p.x+a.getX())/2,(this.p.y+a.getY())/2,(this.p.z+a.getZ())/2)},rightOf:function(a){return this.isCCW(a.dest(),a.orig())},isCCW:function(a,b){return 0<(a.p.x-this.p.x)*(b.p.y-this.p.y)-(a.p.y-this.p.y)*(b.p.x-this.p.x)},getX:function(){return this.p.x},crossProduct:function(a){return this.p.x*a.getY()-this.p.y*a.getX()},setZ:function(a){this.p.z=a},times:function(a){return new Gf(a*this.p.x,a*this.p.y)},cross:function(){return new Gf(this.p.y,-this.p.x)},leftOf:function(a){return this.isCCW(a.orig(),a.dest())},toString:function(){return"POINT ("+this.p.x+" "+this.p.y+")"},sub:function(a){return new Gf(this.p.x-a.getX(),this.p.y-a.getY())},getY:function(){return this.p.y},classify:function(a,b){var c=this,d=b.sub(a),e=c.sub(a),f=d.crossProduct(e);return 0<f?Gf.LEFT:0>f?Gf.RIGHT:0>d.getX()*e.getX()||0>d.getY()*e.getY()?Gf.BEHIND:d.magn()<e.magn()?Gf.BEYOND:a.equals(c)?Gf.ORIGIN:b.equals(c)?Gf.DESTINATION:Gf.BETWEEN},sum:function(a){return new Gf(this.p.x+a.getX(),this.p.y+a.getY())},distance:function(a,b){return Math.sqrt(Math.pow(b.getX()-a.getX(),2)+Math.pow(b.getY()-a.getY(),2))},circumRadiusRatio:function(a,b){var c=this.circleCenter(a,b),d=this.distance(c,a),e=this.distance(this,a),f=this.distance(a,b);return f<e&&(e=f),f=this.distance(b,this),f<e&&(e=f),d/e},interfaces_:function(){return[]},getClass:function(){return Gf}}),Gf.interpolateZ=function(){if(3===arguments.length){var b=arguments[0],j=arguments[1],e=arguments[2],k=j.distance(e),n=b.distance(j),q=e.z-j.z;return j.z+q*(n/k)}if(4===arguments.length){var o=arguments[0],r=arguments[1],a=arguments[2],s=arguments[3],l=r.x,c=r.y,f=a.x-l,h=s.x-l,p=a.y-c,t=s.y-c,g=f*t-h*p,u=o.x-l,v=o.y-c;return r.z+(t*u-h*v)/g*(a.z-r.z)+(-p*u+f*v)/g*(s.z-r.z)}},Gf.LEFT=0,Gf.RIGHT=1,Gf.BEYOND=2,Gf.BEHIND=3,Gf.BETWEEN=4,Gf.ORIGIN=5,Gf.DESTINATION=6,l(Hf,Gf),t(Hf.prototype,{getConstraint:function(){return this.constraint},setOnConstraint:function(a){this._isOnConstraint=a},merge:function(a){a._isOnConstraint&&(this._isOnConstraint=!0,this.constraint=a.constraint)},isOnConstraint:function(){return this._isOnConstraint},setConstraint:function(a){this._isOnConstraint=!0,this.constraint=a},interfaces_:function(){return[]},getClass:function(){return Hf}}),t(If.prototype,{equalsNonOriented:function(a){return!!this.equalsOriented(a)||!!this.equalsOriented(a.sym())},toLineSegment:function(){return new fb(this.vertex.getCoordinate(),this.dest().getCoordinate())},dest:function(){return this.sym().orig()},oNext:function(){return this.next},equalsOriented:function(a){return this.orig().getCoordinate().equals2D(a.orig().getCoordinate())&&this.dest().getCoordinate().equals2D(a.dest().getCoordinate())},dNext:function(){return this.sym().oNext().sym()},lPrev:function(){return this.next.sym()},rPrev:function(){return this.sym().oNext()},rot:function(){return this._rot},oPrev:function(){return this._rot.next._rot},sym:function(){return this._rot._rot},setOrig:function(a){this.vertex=a},lNext:function(){return this.invRot().oNext().rot()},getLength:function(){return this.orig().getCoordinate().distance(this.dest().getCoordinate())},invRot:function(){return this._rot.sym()},setDest:function(a){this.sym().setOrig(a)},setData:function(a){this.data=a},getData:function(){return this.data},delete:function(){this._rot=null},orig:function(){return this.vertex},rNext:function(){return this._rot.next.invRot()},toString:function(){var a=this.vertex.getCoordinate(),b=this.dest().getCoordinate();return _a.toLineString(a,b)},isLive:function(){return null!==this._rot},getPrimary:function(){return 0>=this.orig().getCoordinate().compareTo(this.dest().getCoordinate())?this:this.sym()},dPrev:function(){return this.invRot().oNext().invRot()},setNext:function(a){this.next=a},interfaces_:function(){return[]},getClass:function(){return If}}),If.makeEdge=function(a,b){var c=new If,d=new If,e=new If,f=new If;c._rot=d,d._rot=e,e._rot=f,f._rot=c,c.setNext(c),d.setNext(f),e.setNext(e),f.setNext(d);var g=c;return g.setOrig(a),g.setDest(b),g},If.swap=function(a){var b=a.oPrev(),c=a.sym().oPrev();If.splice(a,b),If.splice(a.sym(),c),If.splice(a,b.lNext()),If.splice(a.sym(),c.lNext()),a.setOrig(b.dest()),a.setDest(c.dest())},If.splice=function(b,c){var d=b.oNext().rot(),e=c.oNext().rot(),f=c.oNext(),g=b.oNext(),h=e.oNext(),j=d.oNext();b.setNext(f),c.setNext(g),d.setNext(h),e.setNext(j)},If.connect=function(a,b){var c=If.makeEdge(a.dest(),b.orig());return If.splice(c,a.lNext()),If.splice(c.sym(),b),c},t(Jf.prototype,{insertSite:function(a){var b=this.subdiv.locate(a);if(this.subdiv.isVertexOfEdge(b,a))return b;this.subdiv.isOnEdge(b,a.getCoordinate())&&(b=b.oPrev(),this.subdiv.delete(b.oNext()));var c=this.subdiv.makeEdge(b.orig(),a);If.splice(c,b);var d=c;do c=this.subdiv.connect(b,c.sym()),b=c.oPrev();while(b.lNext()!==d);for(;;){var e=b.oPrev();if(e.dest().rightOf(b)&&a.isInCircle(b.orig(),e.dest(),b.dest()))If.swap(b),b=b.oPrev();else{if(b.oNext()===d)return c;b=b.oNext().lPrev()}}},insertSites:function(a){for(var b,c=a.iterator();c.hasNext();)b=c.next(),this.insertSite(b)},interfaces_:function(){return[]},getClass:function(){return Jf}}),t(Kf.prototype,{locate:function(){},interfaces_:function(){return[]},getClass:function(){return Kf}}),t(Lf.prototype,{init:function(){this.lastEdge=this.findEdge()},locate:function(a){this.lastEdge.isLive()||this.init();var b=this.subdiv.locateFromEdge(a,this.lastEdge);return this.lastEdge=b,b},findEdge:function(){return this.subdiv.getEdges().iterator().next()},interfaces_:function(){return[Kf]},getClass:function(){return Lf}}),l(Mf,u),t(Mf.prototype,{getSegment:function(){return this.seg},interfaces_:function(){return[]},getClass:function(){return Mf}}),Mf.msgWithSpatial=function(a,b){return null===b?a:a+" [ "+b+" ]"},t(Nf.prototype,{visit:function(){},interfaces_:function(){return[]},getClass:function(){return Nf}}),t(Of.prototype,{getTriangleVertices:function(a){var b=new Rf;return this.visitTriangles(b,a),b.getTriangleVertices()},isFrameVertex:function(a){return!!a.equals(this.frameVertex[0])||!!a.equals(this.frameVertex[1])||!!a.equals(this.frameVertex[2])},isVertexOfEdge:function(a,b){return b.equals(a.orig(),this.tolerance)||b.equals(a.dest(),this.tolerance)},connect:function(a,b){var c=If.connect(a,b);return this.quadEdges.add(c),c},getVoronoiCellPolygon:function(b,c){var d=new x,e=b;do{var f=b.rot().orig().getCoordinate();d.add(f),b=b.oPrev()}while(b!==e);var g=new w;g.addAll(d,!1),g.closeRing(),4>g.size()&&(A.out.println(g),g.add(g.get(g.size()-1),!0));var h=g.toCoordinateArray(),j=c.createPolygon(c.createLinearRing(h),null),a=e.orig();return j.setUserData(a.getCoordinate()),j},setLocator:function(a){this.locator=a},initSubdiv:function(){var a=this.makeEdge(this.frameVertex[0],this.frameVertex[1]),b=this.makeEdge(this.frameVertex[1],this.frameVertex[2]);If.splice(a.sym(),b);var c=this.makeEdge(this.frameVertex[2],this.frameVertex[0]);return If.splice(b.sym(),c),If.splice(c.sym(),a),a},isFrameBorderEdge:function(a){var b=[,,,].fill(null);Of.getTriangleEdges(a,b);var c=[,,,].fill(null);Of.getTriangleEdges(a.sym(),c);var d=a.lNext().dest();if(this.isFrameVertex(d))return!0;var e=a.sym().lNext().dest();return!!this.isFrameVertex(e)},makeEdge:function(a,b){var c=If.makeEdge(a,b);return this.quadEdges.add(c),c},visitTriangles:function(a,b){this.visitedKey++;var c=new jb;c.push(this.startingEdge);for(var d,e=new K;!c.empty();)if(d=c.pop(),!e.contains(d)){var f=this.fetchTriangleToVisit(d,c,b,e);null!==f&&a.visit(f)}},isFrameEdge:function(a){return this.isFrameVertex(a.orig())||this.isFrameVertex(a.dest())},isOnEdge:function(a,b){return this.seg.setCoordinates(a.orig().getCoordinate(),a.dest().getCoordinate()),this.seg.distance(b)<this.edgeCoincidenceTolerance},getEnvelope:function(){return new y(this.frameEnv)},createFrame:function(a){var b=a.getWidth(),c=a.getHeight(),d=0;d=b>c?10*b:10*c,this.frameVertex[0]=new Gf((a.getMaxX()+a.getMinX())/2,a.getMaxY()+d),this.frameVertex[1]=new Gf(a.getMinX()-d,a.getMinY()-d),this.frameVertex[2]=new Gf(a.getMaxX()+d,a.getMinY()-d),this.frameEnv=new y(this.frameVertex[0].getCoordinate(),this.frameVertex[1].getCoordinate()),this.frameEnv.expandToInclude(this.frameVertex[2].getCoordinate())},getTriangleCoordinates:function(a){var b=new Sf;return this.visitTriangles(b,a),b.getTriangles()},getVertices:function(a){for(var b=new K,c=this.quadEdges.iterator();c.hasNext();){var d=c.next(),e=d.orig();!a&&this.isFrameVertex(e)||b.add(e);var f=d.dest();!a&&this.isFrameVertex(f)||b.add(f)}return b},fetchTriangleToVisit:function(b,c,d,e){var f=b,g=0,h=!1;do{this.triEdges[g]=f,this.isFrameEdge(f)&&(h=!0);var j=f.sym();e.contains(j)||c.push(j),e.add(f),g++,f=f.lNext()}while(f!==b);return h&&!d?null:this.triEdges},getEdges:function(){if(0===arguments.length)return this.quadEdges;if(1===arguments.length){for(var a,b=arguments[0],c=this.getPrimaryEdges(!1),d=Array(c.size()).fill(null),e=0,f=c.iterator();f.hasNext();)a=f.next(),d[e++]=b.createLineString([a.orig().getCoordinate(),a.dest().getCoordinate()]);return b.createMultiLineString(d)}},getVertexUniqueEdges:function(b){for(var c=new x,d=new K,e=this.quadEdges.iterator();e.hasNext();){var f=e.next(),g=f.orig();d.contains(g)||(d.add(g),!b&&this.isFrameVertex(g)||c.add(f));var h=f.sym(),j=h.orig();d.contains(j)||(d.add(j),!b&&this.isFrameVertex(j)||c.add(h))}return c},getTriangleEdges:function(a){var b=new Qf;return this.visitTriangles(b,a),b.getTriangleEdges()},getPrimaryEdges:function(a){this.visitedKey++;var b=new x,c=new jb;c.push(this.startingEdge);for(var d,e=new K;!c.empty();)if(d=c.pop(),!e.contains(d)){var f=d.getPrimary();!a&&this.isFrameEdge(f)||b.add(f),c.push(d.oNext()),c.push(d.sym().oNext()),e.add(d),e.add(d.sym())}return b},delete:function(a){If.splice(a,a.oPrev()),If.splice(a.sym(),a.sym().oPrev());var b=a.sym(),c=a.rot(),d=a.rot().sym();this.quadEdges.remove(a),this.quadEdges.remove(b),this.quadEdges.remove(c),this.quadEdges.remove(d),a.delete(),b.delete(),c.delete(),d.delete()},locateFromEdge:function(a,b){for(var c=0,d=this.quadEdges.size(),e=b;;){if(++c>d)throw new Mf(e.toLineSegment());if(a.equals(e.orig())||a.equals(e.dest()))break;if(a.rightOf(e))e=e.sym();else if(a.rightOf(e.oNext())){if(a.rightOf(e.dPrev()))break;e=e.dPrev()}else e=e.oNext()}return e},getTolerance:function(){return this.tolerance},getVoronoiCellPolygons:function(a){this.visitTriangles(new Pf,!0);for(var b,c=new x,d=this.getVertexUniqueEdges(!1),e=d.iterator();e.hasNext();)b=e.next(),c.add(this.getVoronoiCellPolygon(b,a));return c},getVoronoiDiagram:function(a){var b=this.getVoronoiCellPolygons(a);return a.createGeometryCollection(Za.toGeometryArray(b))},getTriangles:function(a){for(var b,c=this.getTriangleCoordinates(!1),d=Array(c.size()).fill(null),e=0,f=c.iterator();f.hasNext();)b=f.next(),d[e++]=a.createPolygon(a.createLinearRing(b),null);return a.createGeometryCollection(d)},insertSite:function(a){var b=this.locate(a);if(a.equals(b.orig(),this.tolerance)||a.equals(b.dest(),this.tolerance))return b;var c=this.makeEdge(b.orig(),a);If.splice(c,b);var d=c;do c=this.connect(b,c.sym()),b=c.oPrev();while(b.lNext()!==d);return d},locate:function(){if(1===arguments.length){if(arguments[0]instanceof Gf){var a=arguments[0];return this.locator.locate(a)}if(arguments[0]instanceof fa){var b=arguments[0];return this.locator.locate(new Gf(b))}}else if(2===arguments.length){var c=arguments[0],d=arguments[1],e=this.locator.locate(new Gf(c));if(null===e)return null;var f=e;e.dest().getCoordinate().equals2D(c)&&(f=e.sym());var g=f;do{if(g.dest().getCoordinate().equals2D(d))return g;g=g.oNext()}while(g!==f);return null}},interfaces_:function(){return[]},getClass:function(){return Of}}),Of.getTriangleEdges=function(a,b){if(b[0]=a,b[1]=b[0].lNext(),b[2]=b[1].lNext(),b[2].lNext()!==b[0])throw new ca("Edges do not form a triangle")},t(Pf.prototype,{visit:function(a){for(var b=a[0].orig().getCoordinate(),c=a[1].orig().getCoordinate(),d=a[2].orig().getCoordinate(),e=qd.circumcentre(b,c,d),f=new Gf(e),g=0;3>g;g++)a[g].rot().setOrig(f)},interfaces_:function(){return[Nf]},getClass:function(){return Pf}}),t(Qf.prototype,{getTriangleEdges:function(){return this.triList},visit:function(a){this.triList.add(a.clone())},interfaces_:function(){return[Nf]},getClass:function(){return Qf}}),t(Rf.prototype,{visit:function(a){this.triList.add([a[0].orig(),a[1].orig(),a[2].orig()])},getTriangleVertices:function(){return this.triList},interfaces_:function(){return[Nf]},getClass:function(){return Rf}}),t(Sf.prototype,{checkTriangleSize:function(a){2<=a.length?_a.toLineString(a[0],a[1]):1<=a.length&&_a.toPoint(a[0])},visit:function(a){this.coordList.clear();for(var b,c=0;3>c;c++)b=a[c].orig(),this.coordList.add(b.getCoordinate());if(0<this.coordList.size()){this.coordList.closeRing();var d=this.coordList.toCoordinateArray();if(4!==d.length)return null;this.triCoords.add(d)}},getTriangles:function(){return this.triCoords},interfaces_:function(){return[Nf]},getClass:function(){return Sf}}),Of.TriangleCircumcentreVisitor=Pf,Of.TriangleEdgesListVisitor=Qf,Of.TriangleVertexListVisitor=Rf,Of.TriangleCoordinatesVisitor=Sf,Of.EDGE_COINCIDENCE_TOL_FACTOR=1e3,t(Tf.prototype,{getLineSegment:function(){return this.ls},getEndZ:function(){return this.ls.getCoordinate(1).z},getStartZ:function(){return this.ls.getCoordinate(0).z},intersection:function(a){return this.ls.intersection(a.getLineSegment())},getStart:function(){return this.ls.getCoordinate(0)},getEnd:function(){return this.ls.getCoordinate(1)},getEndY:function(){return this.ls.getCoordinate(1).y},getStartX:function(){return this.ls.getCoordinate(0).x},equalsTopo:function(a){return this.ls.equalsTopo(a.getLineSegment())},getStartY:function(){return this.ls.getCoordinate(0).y},setData:function(a){this.data=a},getData:function(){return this.data},getEndX:function(){return this.ls.getCoordinate(1).x},toString:function(){return this.ls.toString()},interfaces_:function(){return[]},getClass:function(){return Tf}}),t(Uf.prototype,{visit:function(){},interfaces_:function(){return[]},getClass:function(){return Uf}}),t(Vf.prototype,{isRepeated:function(){return 1<this.count},getRight:function(){return this.right},getCoordinate:function(){return this.p},setLeft:function(a){this.left=a},getX:function(){return this.p.x},getData:function(){return this.data},getCount:function(){return this.count},getLeft:function(){return this.left},getY:function(){return this.p.y},increment:function(){++this.count},setRight:function(a){this.right=a},interfaces_:function(){return[]},getClass:function(){return Vf}}),t(Wf.prototype,{insert:function(){if(1===arguments.length){var a=arguments[0];return this.insert(a,null)}if(2===arguments.length){var b=arguments[0],c=arguments[1];if(null===this.root)return this.root=new Vf(b,c),this.root;if(0<this.tolerance){var d=this.findBestMatchNode(b);if(null!==d)return d.increment(),d}return this.insertExact(b,c)}},query:function(){var a=arguments,b=this;if(1===arguments.length){var c=arguments[0],d=new x;return this.query(c,d),d}if(2===arguments.length)if(arguments[0]instanceof y&&N(arguments[1],v))!function(){var c=a[0],d=a[1];b.queryNode(b.root,c,!0,{interfaces_:function(){return[Uf]},visit:function(a){d.add(a)}})}();else if(arguments[0]instanceof y&&N(arguments[1],Uf)){var e=arguments[0],f=arguments[1];this.queryNode(this.root,e,!0,f)}},queryNode:function(b,c,d,e){if(null===b)return null;var f=null,g=null,h=null;d?(f=c.getMinX(),g=c.getMaxX(),h=b.getX()):(f=c.getMinY(),g=c.getMaxY(),h=b.getY());var j=f<h,a=h<=g;j&&this.queryNode(b.getLeft(),c,!d,e),c.contains(b.getCoordinate())&&e.visit(b),a&&this.queryNode(b.getRight(),c,!d,e)},findBestMatchNode:function(a){var b=new Xf(a,this.tolerance);return this.query(b.queryEnvelope(),b),b.getNode()},isEmpty:function(){return null===this.root},insertExact:function(a,b){for(var c=this.root,d=this.root,e=!0,f=!0;null!==c;){if(null!==c&&a.distance(c.getCoordinate())<=this.tolerance)return c.increment(),c;f=e?a.x<c.getX():a.y<c.getY(),d=c,c=f?c.getLeft():c.getRight(),e=!e}++this.numberOfNodes;var g=new Vf(a,b);return f?d.setLeft(g):d.setRight(g),g},interfaces_:function(){return[]},getClass:function(){return Wf}}),Wf.toCoordinates=function(){if(1===arguments.length){var b=arguments[0];return Wf.toCoordinates(b,!1)}if(2===arguments.length){for(var c=arguments[0],d=arguments[1],e=new w,f=c.iterator();f.hasNext();)for(var g=f.next(),h=d?g.getCount():1,j=0;j<h;j++)e.add(g.getCoordinate(),!0);return e.toCoordinateArray()}},t(Xf.prototype,{visit:function(a){var b=this.p.distance(a.getCoordinate());if(!(b<=this.tolerance))return null;var c=!1;(null===this.matchNode||b<this.matchDist||null!==this.matchNode&&b===this.matchDist&&1>a.getCoordinate().compareTo(this.matchNode.getCoordinate()))&&(c=!0),c&&(this.matchNode=a,this.matchDist=b)},queryEnvelope:function(){var a=new y(this.p);return a.expandBy(this.tolerance),a},getNode:function(){return this.matchNode},interfaces_:function(){return[Uf]},getClass:function(){return Xf}}),Wf.BestMatchVisitor=Xf,t(Yf.prototype,{getInitialVertices:function(){return this.initialVertices},getKDT:function(){return this.kdt},enforceConstraints:function(){this.addConstraintVertices();var a=0,b=0;do b=this.enforceGabriel(this.segments),a++;while(0<b&&a<Yf.MAX_SPLIT_ITER)},insertSites:function(a){for(var b,c=a.iterator();c.hasNext();)b=c.next(),this.insertSite(b)},getVertexFactory:function(){return this.vertexFactory},getPointArray:function(){for(var a,b=Array(this.initialVertices.size()+this.segVertices.size()).fill(null),c=0,d=this.initialVertices.iterator();d.hasNext();)a=d.next(),b[c++]=a.getCoordinate();for(var a,e=this.segVertices.iterator();e.hasNext();)a=e.next(),b[c++]=a.getCoordinate();return b},setConstraints:function(a,b){this.segments=a,this.segVertices=b},computeConvexHull:function(){var a=new Za,b=this.getPointArray(),c=new lb(b,a);this.convexHull=c.getConvexHull()},addConstraintVertices:function(){this.computeConvexHull(),this.insertSites(this.segVertices)},findNonGabrielPoint:function(b){var j=b.getStart(),e=b.getEnd(),k=new fa((j.x+e.x)/2,(j.y+e.y)/2),m=j.distance(k),n=new y(k);n.expandBy(m);for(var o=this.kdt.query(n),a=null,p=da.MAX_VALUE,l=o.iterator();l.hasNext();){var c=l.next(),f=c.getCoordinate();if(!f.equals2D(j)&&!f.equals2D(e)){var h=k.distance(f);if(h<m){var d=h;(null===a||d<p)&&(a=f,p=d)}}}return a},getConstraintSegments:function(){return this.segments},setSplitPointFinder:function(a){this.splitFinder=a},getConvexHull:function(){return this.convexHull},getTolerance:function(){return this.tolerance},enforceGabriel:function(b){for(var c=new x,d=0,e=new x,f=b.iterator();f.hasNext();){var g=f.next(),h=this.findNonGabrielPoint(g);if(null!==h){this.splitPt=this.splitFinder.findSplitPoint(g,h);var j=this.createVertex(this.splitPt,g),a=(this.insertSite(j),new Tf(g.getStartX(),g.getStartY(),g.getStartZ(),j.getX(),j.getY(),j.getZ(),g.getData())),k=new Tf(j.getX(),j.getY(),j.getZ(),g.getEndX(),g.getEndY(),g.getEndZ(),g.getData());c.add(a),c.add(k),e.add(g),d+=1}}return b.removeAll(e),b.addAll(c),d},createVertex:function(){if(1===arguments.length){var a=arguments[0],b=null;return b=null===this.vertexFactory?new Hf(a):this.vertexFactory.createVertex(a,null)}if(2===arguments.length){var c=arguments[0],d=arguments[1],b=null;return b=null===this.vertexFactory?new Hf(c):this.vertexFactory.createVertex(c,d),b.setOnConstraint(!0),b}},getSubdivision:function(){return this.subdiv},computeBoundingBox:function(){var a=Yf.computeVertexEnvelope(this.initialVertices),b=Yf.computeVertexEnvelope(this.segVertices),c=new y(a);c.expandToInclude(b);var d=.2*c.getWidth(),e=.2*c.getHeight(),f=Math.max(d,e);this.computeAreaEnv=new y(c),this.computeAreaEnv.expandBy(f)},setVertexFactory:function(a){this.vertexFactory=a},formInitialDelaunay:function(){this.computeBoundingBox(),this.subdiv=new Of(this.computeAreaEnv,this.tolerance),this.subdiv.setLocator(new Lf(this.subdiv)),this.incDel=new Jf(this.subdiv),this.insertSites(this.initialVertices)},insertSite:function(){if(arguments[0]instanceof Hf){var a=arguments[0],b=this.kdt.insert(a.getCoordinate(),a);if(b.isRepeated()){var c=b.getData();return c.merge(a),c}return this.incDel.insertSite(a),a}if(arguments[0]instanceof fa){var d=arguments[0];this.insertSite(this.createVertex(d))}},interfaces_:function(){return[]},getClass:function(){return Yf}}),Yf.computeVertexEnvelope=function(a){for(var b,c=new y,d=a.iterator();d.hasNext();)b=d.next(),c.expandToInclude(b.getCoordinate());return c},Yf.MAX_SPLIT_ITER=99,t(Zf.prototype,{create:function(){if(null!==this.subdiv)return null;var a=Zf.envelope(this.siteCoords),b=Zf.toVertices(this.siteCoords);this.subdiv=new Of(a,this.tolerance),new Jf(this.subdiv).insertSites(b)},setTolerance:function(a){this.tolerance=a},setSites:function(){if(arguments[0]instanceof k){var a=arguments[0];this.siteCoords=Zf.extractUniqueCoordinates(a)}else if(N(arguments[0],ga)){var b=arguments[0];this.siteCoords=Zf.unique(Y.toCoordinateArray(b))}},getEdges:function(a){return this.create(),this.subdiv.getEdges(a)},getSubdivision:function(){return this.create(),this.subdiv},getTriangles:function(a){return this.create(),this.subdiv.getTriangles(a)},interfaces_:function(){return[]},getClass:function(){return Zf}}),Zf.extractUniqueCoordinates=function(a){if(null===a)return new w;var b=a.getCoordinates();return Zf.unique(b)},Zf.envelope=function(a){for(var b,c=new y,d=a.iterator();d.hasNext();)b=d.next(),c.expandToInclude(b);return c},Zf.unique=function(a){var b=Y.copyDeep(a);return na.sort(b),new w(b,!1)},Zf.toVertices=function(a){for(var b,c=new x,d=a.iterator();d.hasNext();)b=d.next(),c.add(new Gf(b));return c},t($f.prototype,{createSiteVertices:function(a){for(var b,c=new x,d=a.iterator();d.hasNext();)b=d.next(),this.constraintVertexMap.containsKey(b)||c.add(new Hf(b));return c},create:function(){if(null!==this.subdiv)return null;var a=Zf.envelope(this.siteCoords),b=new x;null!==this.constraintLines&&(a.expandToInclude(this.constraintLines.getEnvelopeInternal()),this.createVertices(this.constraintLines),b=$f.createConstraintSegments(this.constraintLines));var c=this.createSiteVertices(this.siteCoords),d=new Yf(c,this.tolerance);d.setConstraints(b,new x(this.constraintVertexMap.values())),d.formInitialDelaunay(),d.enforceConstraints(),this.subdiv=d.getSubdivision()},setTolerance:function(a){this.tolerance=a},setConstraints:function(a){this.constraintLines=a},setSites:function(a){this.siteCoords=Zf.extractUniqueCoordinates(a)},getEdges:function(a){return this.create(),this.subdiv.getEdges(a)},getSubdivision:function(){return this.create(),this.subdiv},getTriangles:function(a){return this.create(),this.subdiv.getTriangles(a)},createVertices:function(a){for(var b,c=a.getCoordinates(),d=0;d<c.length;d++)b=new Hf(c[d]),this.constraintVertexMap.put(c[d],b)},interfaces_:function(){return[]},getClass:function(){return $f}}),$f.createConstraintSegments=function(){if(1===arguments.length){for(var b,c=arguments[0],d=Ic.getLines(c),e=new x,f=d.iterator();f.hasNext();)b=f.next(),$f.createConstraintSegments(b,e);return e}if(2===arguments.length)for(var g=arguments[0],h=arguments[1],j=g.getCoordinates(),f=1;f<j.length;f++)h.add(new Tf(j[f-1],j[f]))},t(_f.prototype,{create:function(){if(null!==this.subdiv)return null;var a=Zf.envelope(this.siteCoords);this.diagramEnv=a;var b=Math.max(this.diagramEnv.getWidth(),this.diagramEnv.getHeight());this.diagramEnv.expandBy(b),null!==this.clipEnv&&this.diagramEnv.expandToInclude(this.clipEnv);var c=Zf.toVertices(this.siteCoords);this.subdiv=new Of(a,this.tolerance),new Jf(this.subdiv).insertSites(c)},getDiagram:function(a){this.create();var b=this.subdiv.getVoronoiDiagram(a);return _f.clipGeometryCollection(b,this.diagramEnv)},setTolerance:function(a){this.tolerance=a},setSites:function(){if(arguments[0]instanceof k){var a=arguments[0];this.siteCoords=Zf.extractUniqueCoordinates(a)}else if(N(arguments[0],ga)){var b=arguments[0];this.siteCoords=Zf.unique(Y.toCoordinateArray(b))}},setClipEnvelope:function(a){this.clipEnv=a},getSubdivision:function(){return this.create(),this.subdiv},interfaces_:function(){return[]},getClass:function(){return _f}}),_f.clipGeometryCollection=function(a,b){for(var c=a.getFactory().toGeometry(b),d=new x,e=0;e<a.getNumGeometries();e++){var f=a.getGeometryN(e),g=null;b.contains(f.getEnvelopeInternal())?g=f:b.intersects(f.getEnvelopeInternal())&&(g=c.intersection(f),g.setUserData(f.getUserData())),null===g||g.isEmpty()||d.add(g)}return a.getFactory().createGeometryCollection(Za.toGeometryArray(d))};var Lg=Object.freeze({Vertex:Gf}),Mg=Object.freeze({ConformingDelaunayTriangulationBuilder:$f,DelaunayTriangulationBuilder:Zf,VoronoiDiagramBuilder:_f,quadedge:Lg});t(ag.prototype,{interfaces_:function(){return[]},getClass:function(){return ag}}),ag.union=function(a,b){if(a.isEmpty()||b.isEmpty()){if(a.isEmpty()&&b.isEmpty())return Xc.createEmptyResult(Xc.UNION,a,b,a.getFactory());if(a.isEmpty())return b.copy();if(b.isEmpty())return a.copy()}return a.checkNotGeometryCollection(a),a.checkNotGeometryCollection(b),Zc.overlayOp(a,b,Xc.UNION)},t(k.prototype,{equalsTopo:function(a){return!!this.getEnvelopeInternal().equals(a.getEnvelopeInternal())&&hf.relate(this,a).isEquals(this.getDimension(),a.getDimension())},union:function(){if(0===arguments.length)return nf.union(this);if(1===arguments.length){var a=arguments[0];return ag.union(this,a)}},isValid:function(){return Ve.isValid(this)},intersection:function(a){if(this.isEmpty()||a.isEmpty())return Xc.createEmptyResult(Xc.INTERSECTION,this,a,this.factory);if(this.isGeometryCollection()){var b=a;return cc.map(this,{interfaces_:function(){return[MapOp]},map:function(a){return a.intersection(b)}})}return this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(a),Zc.overlayOp(this,a,Xc.INTERSECTION)},covers:function(a){return hf.covers(this,a)},coveredBy:function(a){return hf.coveredBy(this,a)},touches:function(a){return hf.touches(this,a)},intersects:function(a){return hf.intersects(this,a)},within:function(a){return hf.within(this,a)},overlaps:function(a){return hf.overlaps(this,a)},disjoint:function(a){return hf.disjoint(this,a)},crosses:function(a){return hf.crosses(this,a)},buffer:function(){if(1===arguments.length){var a=arguments[0];return je.bufferOp(this,a)}if(2===arguments.length){var b=arguments[0],c=arguments[1];return je.bufferOp(this,b,c)}if(3===arguments.length){var d=arguments[0],e=arguments[1],f=arguments[2];return je.bufferOp(this,d,e,f)}},convexHull:function(){return new lb(this).getConvexHull()},relate:function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return hf.relate.apply(hf,[this].concat(b))},getCentroid:function(){if(this.isEmpty())return this.factory.createPoint();var a=hb.getCentroid(this);return this.createPointFromInternalCoord(a,this)},getInteriorPoint:function(){if(this.isEmpty())return this.factory.createPoint();var a=null,b=this.getDimension();if(0===b){var c=new bd(this);a=c.getInteriorPoint()}else if(1===b){var c=new ad(this);a=c.getInteriorPoint()}else{var c=new $c(this);a=c.getInteriorPoint()}return this.createPointFromInternalCoord(a,this)},symDifference:function(a){if(this.isEmpty()||a.isEmpty()){if(this.isEmpty()&&a.isEmpty())return Xc.createEmptyResult(Xc.SYMDIFFERENCE,this,a,this.factory);if(this.isEmpty())return a.copy();if(a.isEmpty())return this.copy()}return this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(a),Zc.overlayOp(this,a,Xc.SYMDIFFERENCE)},createPointFromInternalCoord:function(a,b){return b.getPrecisionModel().makePrecise(a),b.getFactory().createPoint(a)},toText:function(){return new _a().write(this)},toString:function(){this.toText()},contains:function(a){return hf.contains(this,a)},difference:function(a){return this.isEmpty()?Xc.createEmptyResult(Xc.DIFFERENCE,this,a,this.factory):a.isEmpty()?this.copy():(this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(a),Zc.overlayOp(this,a,Xc.DIFFERENCE))},isSimple:function(){return new Nd(this).isSimple()},isWithinDistance:function(a,b){return!(this.getEnvelopeInternal().distance(a.getEnvelopeInternal())>b)&&qe.isWithinDistance(this,a,b)},distance:function(a){return qe.distance(this,a)},isEquivalentClass:function(a){return this.getClass()===a.getClass()}}),aa.version="1.3.0 (6e65adb)",aa.algorithm=og,aa.densify=pg,aa.dissolve=qg,aa.geom=mg,aa.geomgraph=rg,aa.index=ug,aa.io=yg,aa.noding=zg,aa.operation=Ig,aa.precision=Jg,aa.simplify=Kg,aa.triangulate=Mg,Object.defineProperty(aa,"__esModule",{value:!0})})},{}],177:[function(b,c){function j(l,t){switch(l.geometry?l.geometry.type:l.type){case"Point":return k(a(l),t);case"Polygon":var e=[];s(l,function(a){e.push(a)});var n,c,f,h,p,d,g,u,v=r(l,t),m=v.geometry.coordinates,x=0,y=0,w=0,b=e.map(function(a){return[a[0]-m[0],a[1]-m[1]]});for(n=0;n<e.length-1;n++)c=b[n],h=c[0],d=c[1],f=b[n+1],p=f[0],g=f[1],u=h*g-p*d,w+=u,x+=(h+p)*u,y+=(d+g)*u;if(0===w)return v;var z=.5*w,A=1/(6*z);return k([m[0]+A*x,m[1]+A*y],t);default:var B=q(o(l));return B?j(B,t):r(l,t);}}var k=b("@turf/helpers").point,q=b("@turf/convex"),o=b("@turf/explode"),r=b("@turf/centroid"),a=b("@turf/invariant").getCoord,s=b("@turf/meta").coordEach;c.exports=j},{"@turf/centroid":178,"@turf/convex":181,"@turf/explode":200,"@turf/helpers":203,"@turf/invariant":204,"@turf/meta":205}],178:[function(a,b){var c=a("@turf/meta").coordEach,d=a("@turf/helpers").point;b.exports=function(a,b){var e=0,f=0,g=0;return c(a,function(a){e+=a[0],f+=a[1],g++},!0),d([e/g,f/g],b)}},{"@turf/helpers":179,"@turf/meta":180}],179:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],180:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],181:[function(a,b){var c=a("@turf/meta").coordEach,d=a("convex-hull"),f=a("@turf/helpers").polygon;b.exports=function(b){var g=[];c(b,function(a){g.push([a[0],a[1]])});var e=d(g);if(3<=e.length){for(var h=[],j=0;j<e.length;j++)h.push(g[e[j][0]]);return h.push(g[e[e.length-1][1]]),f([h])}}},{"@turf/helpers":182,"@turf/meta":183,"convex-hull":186}],182:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],183:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],184:[function(a,b){"use strict";function c(b,c){for(var d=Array(c+1),e=0;e<b.length;++e)d[e]=b[e];for(var e=0;e<=b.length;++e){for(var g=b.length;g<=c;++g){for(var h=Array(c),j=0;j<c;++j)h[j]=Math.pow(g+1-e,j);d[g]=h}if(f.apply(void 0,d))return!0}return!1}function d(a){var b=a.length;if(0===b)return[];if(1===b)return[0];for(var d=a[0].length,e=[a[0]],f=[0],g=1;g<b;++g)if(e.push(a[g]),!c(e,d))e.pop();else if(f.push(g),f.length===d+1)return f;return f}b.exports=d;var f=a("robust-orientation")},{"robust-orientation":192}],185:[function(a,b,c){"use strict";"use restrict";function d(a){var b=32;return a&=-a,a&&b--,65535&a&&(b-=16),16711935&a&&(b-=8),252645135&a&&(b-=4),858993459&a&&(b-=2),1431655765&a&&(b-=1),b}c.INT_BITS=32,c.INT_MAX=2147483647,c.INT_MIN=-2147483648,c.sign=function(a){return(0<a)-(0>a)},c.abs=function(a){var b=a>>31;return(a^b)-b},c.min=function(a,b){return b^(a^b)&-(a<b)},c.max=function(a,b){return a^(a^b)&-(a<b)},c.isPow2=function(a){return!(a&a-1)&&a},c.log2=function(a){var b,c;return b=(65535<a)<<4,a>>>=b,c=(255<a)<<3,a>>>=c,b|=c,c=(15<a)<<2,a>>>=c,b|=c,c=(3<a)<<1,a>>>=c,(b|=c)|a>>1},c.log10=function(a){return 1e9<=a?9:1e8<=a?8:1e7<=a?7:1e6<=a?6:1e5<=a?5:1e4<=a?4:1e3<=a?3:100<=a?2:10<=a?1:0},c.popCount=function(a){return a-=1431655765&a>>>1,16843009*(252645135&(a=(858993459&a)+(858993459&a>>>2))+(a>>>4))>>>24},c.countTrailingZeros=d,c.nextPow2=function(a){return a+=0===a,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,(a|=a>>>16)+1},c.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,(a|=a>>>16)-(a>>>1)},c.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,1&27030>>>(a&=15)};var e=Array(256);!function(a){for(var b=0;256>b;++b){var c=b,d=b,e=7;for(c>>>=1;c;c>>>=1)d<<=1,d|=1&c,--e;a[b]=255&d<<e}}(e),c.reverse=function(a){return e[255&a]<<24|e[255&a>>>8]<<16|e[255&a>>>16]<<8|e[255&a>>>24]},c.interleave2=function(a,b){return a&=65535,a=16711935&(a|a<<8),a=252645135&(a|a<<4),a=858993459&(a|a<<2),a=1431655765&(a|a<<1),b&=65535,b=16711935&(b|b<<8),b=252645135&(b|b<<4),b=858993459&(b|b<<2),b=1431655765&(b|b<<1),a|b<<1},c.deinterleave2=function(a,b){return a=1431655765&a>>>b,a=858993459&(a|a>>>1),a=252645135&(a|a>>>2),a=16711935&(a|a>>>4),(a=65535&(a|a>>>16))<<16>>16},c.interleave3=function(a,b,c){return a&=1023,a=4278190335&(a|a<<16),a=251719695&(a|a<<8),a=3272356035&(a|a<<4),a=1227133513&(a|a<<2),b&=1023,b=4278190335&(b|b<<16),b=251719695&(b|b<<8),b=3272356035&(b|b<<4),b=1227133513&(b|b<<2),a|=b<<1,c&=1023,c=4278190335&(c|c<<16),c=251719695&(c|c<<8),c=3272356035&(c|c<<4),c=1227133513&(c|c<<2),a|c<<2},c.deinterleave3=function(a,b){return a=1227133513&a>>>b,a=3272356035&(a|a>>>2),a=251719695&(a|a>>>4),a=4278190335&(a|a>>>8),(a=1023&(a|a>>>16))<<22>>22},c.nextCombination=function(a){var b=a|a-1;return b+1|(~b&-~b)-1>>>d(a)+1}},{}],186:[function(a,b){"use strict";var c=a("./lib/ch1d"),d=a("./lib/ch2d"),f=a("./lib/chnd");b.exports=function(a){var b=a.length;if(0===b)return[];if(1===b)return[[0]];var e=a[0].length;return 0===e?[]:1===e?c(a):2===e?d(a):f(a,e)}},{"./lib/ch1d":187,"./lib/ch2d":188,"./lib/chnd":189}],187:[function(a,b){"use strict";function c(a){for(var b=0,c=0,d=1;d<a.length;++d)a[d][0]<a[b][0]&&(b=d),a[d][0]>a[c][0]&&(c=d);return b<c?[[b],[c]]:b>c?[[c],[b]]:[[b]]}b.exports=c},{}],188:[function(a,b){"use strict";function c(b){var c=d(b),e=c.length;if(2>=e)return[];for(var f,a=Array(e),g=c[e-1],h=0;h<e;++h)f=c[h],a[h]=[g,f],g=f;return a}b.exports=c;var d=a("monotone-convex-hull-2d")},{"monotone-convex-hull-2d":191}],189:[function(b,c){"use strict";function d(a,b){for(var c=a.length,d=Array(c),e=0;e<b.length;++e)d[e]=a[b[e]];for(var f=b.length,e=0;e<c;++e)0>b.indexOf(e)&&(d[f++]=a[e]);return d}function f(b,c){for(var d=b.length,e=c.length,f=0;f<d;++f)for(var g,a=b[f],h=0;h<a.length;++h)if(g=a[h],g<e)a[h]=c[g];else{g-=e;for(var j=0;j<e;++j)g>=c[j]&&(g+=1);a[h]=g}return b}function e(a,b){try{return g(a,!0)}catch(k){var c=h(a);if(c.length<=b)return[];var e=d(a,c),j=g(e,!0);return f(j,c)}}c.exports=e;var g=b("incremental-convex-hull"),h=b("affine-hull")},{"affine-hull":184,"incremental-convex-hull":190}],190:[function(b,d){"use strict";function j(a,b,c){this.vertices=a,this.adjacent=b,this.boundary=c,this.lastVisited=-1}function e(a,b,c){this.vertices=a,this.cell=b,this.index=c}function k(a,b){return l(a.vertices,b.vertices)}function g(a){for(var b=["function orient(){var tuple=this.tuple;return test("],c=0;c<=a;++c)0<c&&b.push(","),b.push("tuple[",c,"]");b.push(")}return orient");var d=new Function("test",b.join("")),e=q[a+1];return e||(e=q),d(e)}function m(a,b,d){this.dimension=a,this.vertices=b,this.simplices=d,this.interior=d.filter(function(a){return!a.boundary}),this.tuple=Array(a+1);for(var e=0;e<=a;++e)this.tuple[e]=this.vertices[e];var f=c[a];f||(f=c[a]=g(a)),this.orient=f}function a(a,b){var k=a.length;if(0===k)throw new Error("Must have at least d+1 points");var l=a[0].length;if(k<=l)throw new Error("Must input at least d+1 points");var n=a.slice(0,l+1),o=q.apply(void 0,n);if(0===o)throw new Error("Input not in general position");for(var r=Array(l+1),s=0;s<=l;++s)r[s]=s;0>o&&(r[0]=1,r[1]=0);for(var c=new j(r,Array(l+1),!1),f=c.adjacent,h=Array(l+2),s=0;s<=l;++s){for(var p=r.slice(),d=0;d<=l;++d)d===s&&(p[d]=-1);var g=p[0];p[0]=p[1],p[1]=g;var t=new j(p,Array(l+1),!0);f[s]=t,h[s]=t}h[l+1]=c;for(var s=0;s<=l;++s)for(var v,p=f[s].vertices,x=f[s].adjacent,d=0;d<=l;++d)if(v=p[d],0>v)x[d]=c;else for(var y=0;y<=l;++y)0>f[y].vertices.indexOf(v)&&(x[d]=f[y]);for(var z=new m(l,n,h),s=l+1;s<k;++s)z.insert(a[s],!!b);return z.boundary()}d.exports=a;var q=b("robust-orientation"),l=b("simplicial-complex").compareCells;j.prototype.flip=function(){var a=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=a;var b=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=b};var c=[],f=m.prototype;f.handleBoundaryDegeneracy=function(b,d){var e=this.dimension,g=this.vertices.length-1,j=this.tuple,k=this.vertices,m=[b];for(b.lastVisited=-g;0<m.length;){b=m.pop();for(var n,l=(b.vertices,b.adjacent),a=0;a<=e;++a)if(n=l[a],n.boundary&&!(n.lastVisited<=-g)){for(var o,h=n.vertices,c=0;c<=e;++c)o=h[c],j[c]=0>o?d:k[o];var f=this.orient();if(0<f)return n;n.lastVisited=-g,0===f&&m.push(n)}}return null},f.walk=function(b,d){var e=this.vertices.length-1,g=this.dimension,j=this.vertices,k=this.tuple,m=d?0|this.interior.length*Math.random():this.interior.length-1,o=this.interior[m];t:for(;!o.boundary;){for(var a=o.vertices,q=o.adjacent,l=0;l<=g;++l)k[l]=j[a[l]];o.lastVisited=e;for(var c,l=0;l<=g;++l)if(c=q[l],!(c.lastVisited>=e)){var f=k[l];k[l]=b;var h=this.orient();if(k[l]=f,0>h){o=c;continue t}c.lastVisited=c.boundary?-e:e}return}return o},f.addPeaks=function(o,q){var r=this.vertices.length-1,t=this.dimension,s=this.vertices,a=this.tuple,u=this.interior,l=this.simplices,c=[q];q.lastVisited=r,q.vertices[q.vertices.indexOf(-1)]=r,q.boundary=!1,u.push(q);for(var f=[];0<c.length;){var q=c.pop(),h=q.vertices,p=q.adjacent,d=h.indexOf(r);if(!(0>d))for(var g=0;g<=t;++g)if(g!==d){var y=p[g];if(y.boundary&&!(y.lastVisited>=r)){var v=y.vertices;if(y.lastVisited!==-r){for(var m=0,x=0;x<=t;++x)0>v[x]?(m=x,a[x]=o):a[x]=s[v[x]];var z=this.orient();if(0<z){v[m]=r,y.boundary=!1,u.push(y),c.push(y),y.lastVisited=r;continue}y.lastVisited=-r}var w=y.adjacent,b=h.slice(),B=p.slice(),E=new j(b,B,!0);l.push(E);var C=w.indexOf(q);if(!(0>C)){w[C]=E,B[d]=y,b[g]=-1,B[g]=q,p[g]=E,E.flip();for(var F,x=0;x<=t;++x)if(F=b[x],!(0>F||F===r)){for(var G,H=Array(t-1),I=0,J=0;J<=t;++J)G=b[J],0>G||J===x||(H[I++]=G);f.push(new e(H,E,x))}}}}}f.sort(k);for(var g=0;g+1<f.length;g+=2){var K=f[g],L=f[g+1],M=K.index,A=L.index;0>M||0>A||(K.cell.adjacent[K.index]=L.cell,L.cell.adjacent[L.index]=K.cell)}},f.insert=function(b,c){var d=this.vertices;d.push(b);var e=this.walk(b,c);if(e){for(var f,a=this.dimension,g=this.tuple,h=0;h<=a;++h)f=e.vertices[h],g[h]=0>f?b:d[f];var j=this.orient(g);0>j||(0!==j||(e=this.handleBoundaryDegeneracy(e,b)))&&this.addPeaks(b,e)}},f.boundary=function(){for(var b,d=this.dimension,g=[],e=this.simplices,h=e.length,j=0;j<h;++j)if(b=e[j],b.boundary){for(var k=Array(d),m=b.vertices,a=0,n=0,l=0;l<=d;++l)0<=m[l]?k[a++]=m[l]:n=1&l;if(n===(1&d)){var c=k[0];k[0]=k[1],k[1]=c}g.push(k)}return g}},{"robust-orientation":192,"simplicial-complex":196}],191:[function(a,b){"use strict";function c(b){var g=b.length;if(3>g){for(var e=Array(g),j=0;j<g;++j)e[j]=j;return 2===g&&b[0][0]===b[1][0]&&b[0][1]===b[1][1]?[0]:e}for(var k=Array(g),j=0;j<g;++j)k[j]=j;k.sort(function(a,c){var d=b[a][0]-b[c][0];return d||b[a][1]-b[c][1]});for(var m=[k[0],k[1]],n=[k[0],k[1]],j=2;j<g;++j){for(var a=k[j],o=b[a],l=m.length;1<l&&0>=d(b[m[l-2]],b[m[l-1]],o);)l-=1,m.pop();for(m.push(a),l=n.length;1<l&&0<=d(b[n[l-2]],b[n[l-1]],o);)l-=1,n.pop();n.push(a)}for(var e=Array(n.length+m.length-2),c=0,j=0,f=m.length;j<f;++j)e[c++]=m[j];for(var h=n.length-2;0<h;--h)e[c++]=n[h];return e}b.exports=c;var d=a("robust-orientation")[3]},{"robust-orientation":192}],192:[function(b,j){"use strict";function k(a,b){for(var c=Array(a.length-1),d=1;d<a.length;++d)for(var e=c[d-1]=Array(a.length-1),f=0,g=0;f<a.length;++f)f!==b&&(e[g++]=a[d][f]);return c}function m(a){for(var b=Array(a),c=0;c<a;++c){b[c]=Array(a);for(var d=0;d<a;++d)b[c][d]=["m",d,"[",a-c-1,"]"].join("")}return b}function q(a){return 1&a?"-":""}function r(a){if(1===a.length)return a[0];if(2===a.length)return["sum(",a[0],",",a[1],")"].join("");var b=a.length>>1;return["sum(",r(a.slice(0,b)),",",r(a.slice(b)),")"].join("")}function s(a){if(2===a.length)return[["sum(prod(",a[0][0],",",a[1][1],"),prod(-",a[0][1],",",a[1][0],"))"].join("")];for(var b=[],c=0;c<a.length;++c)b.push(["scale(",r(s(k(a,c))),",",q(c),a[0][c],")"].join(""));return b}function a(a){for(var b=[],e=[],j=m(a),n=[],o=0;o<a;++o)0==(1&o)?b.push.apply(b,s(k(j,o))):e.push.apply(e,s(k(j,o))),n.push("m"+o);var l=r(b),d=r(e),g="orientation"+a+"Exact",p=["function ",g,"(",n.join(),"){var p=",l,",n=",d,",d=sub(p,n);return d[d.length-1];};return ",g].join("");return new Function("sum","prod","scale","sub",p)(c,w,f,h)}function e(b){var c=g[b.length];return c||(c=g[b.length]=a(b.length)),c.apply(void 0,b)}var w=b("two-product"),c=b("robust-sum"),f=b("robust-scale"),h=b("robust-subtract"),l=5,d=a(3),z=a(4),g=[function(){return 0},function(){return 0},function(a,b){return b[0]-a[0]},function(b,c,e){var f,g=(b[1]-e[1])*(c[0]-e[0]),h=(b[0]-e[0])*(c[1]-e[1]),j=g-h;if(0<g){if(0>=h)return j;f=g+h}else{if(!(0>g))return j;if(0<=h)return j;f=-(g+h)}var k=3.3306690738754716e-16*f;return j>=k||j<=-k?j:d(b,c,e)},function(j,k,e,n){var q=j[0]-n[0],r=k[0]-n[0],o=e[0]-n[0],s=j[1]-n[1],a=k[1]-n[1],t=e[1]-n[1],l=j[2]-n[2],c=k[2]-n[2],f=e[2]-n[2],h=r*t,p=o*a,d=o*s,g=q*t,u=q*a,m=r*s,v=l*(h-p)+c*(d-g)+f*(u-m),x=(Math.abs(h)+Math.abs(p))*Math.abs(l)+(Math.abs(d)+Math.abs(g))*Math.abs(c)+(Math.abs(u)+Math.abs(m))*Math.abs(f),w=7.771561172376103e-16*x;return v>w||-v>w?v:z(j,k,e,n)}];!function(){for(;g.length<=l;)g.push(a(g.length));for(var b=[],c=["slow"],d=0;d<=l;++d)b.push("a"+d),c.push("o"+d);for(var f=["function getOrientation(",b.join(),"){switch(arguments.length){case 0:case 1:return 0;"],d=2;d<=l;++d)f.push("case ",d,":return o",d,"(",b.slice(0,d).join(),");");f.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),c.push(f.join(""));var h=Function.apply(void 0,c);j.exports=h.apply(void 0,[e].concat(g));for(var d=0;d<=l;++d)j.exports[d]=g[d]}()},{"robust-scale":193,"robust-subtract":194,"robust-sum":195,"two-product":197}],193:[function(a,b){"use strict";function c(b,k){var e=b.length;if(1===e){var m=g(b[0],k);return m[0]?m:[m[1]]}var n=Array(2*e),o=[0.1,0.1],a=[0.1,0.1],q=0;g(b[0],k,o),o[0]&&(n[q++]=o[0]);for(var l=1;l<e;++l){g(b[l],k,a);var c=o[1];j(c,a[0],o),o[0]&&(n[q++]=o[0]);var f=a[1],h=o[1],p=f+h,d=h-(p-f);o[1]=p,d&&(n[q++]=d)}return o[1]&&(n[q++]=o[1]),0===q&&(n[q++]=0),n.length=q,n}var g=a("two-product"),j=a("two-sum");b.exports=c},{"two-product":197,"two-sum":198}],194:[function(a,b){"use strict";function j(b,c){var d=b+c,e=d-b,f=b-(d-e)+(c-e);return f?[f,d]:[d]}function c(a,k){var e=0|a.length,n=0|k.length;if(1===e&&1===n)return j(a[0],-k[0]);var q,o,s=Array(e+n),t=0,l=0,c=0,f=Math.abs,h=a[l],p=f(h),d=-k[c],g=f(d);p<g?(o=h,(l+=1)<e&&(h=a[l],p=f(h))):(o=d,(c+=1)<n&&(d=-k[c],g=f(d))),l<e&&p<g||c>=n?(q=h,(l+=1)<e&&(h=a[l],p=f(h))):(q=d,(c+=1)<n&&(d=-k[c],g=f(d)));for(var u,v,m,x,y,w=q+o,b=w-q,z=o-b,A=z,B=w;l<e&&c<n;)p<g?(q=h,(l+=1)<e&&(h=a[l],p=f(h))):(q=d,(c+=1)<n&&(d=-k[c],g=f(d))),o=A,w=q+o,b=w-q,z=o-b,z&&(s[t++]=z),u=B+w,v=u-B,m=u-v,x=w-v,y=B-m,A=y+x,B=u;for(;l<e;)q=h,o=A,w=q+o,b=w-q,z=o-b,z&&(s[t++]=z),u=B+w,v=u-B,m=u-v,x=w-v,y=B-m,A=y+x,B=u,(l+=1)<e&&(h=a[l]);for(;c<n;)q=d,o=A,w=q+o,b=w-q,z=o-b,z&&(s[t++]=z),u=B+w,v=u-B,m=u-v,x=w-v,y=B-m,A=y+x,B=u,(c+=1)<n&&(d=-k[c]);return A&&(s[t++]=A),B&&(s[t++]=B),t||(s[t++]=0),s.length=t,s}b.exports=c},{}],195:[function(a,b){"use strict";function j(b,c){var d=b+c,e=d-b,f=b-(d-e)+(c-e);return f?[f,d]:[d]}function c(a,k){var e=0|a.length,n=0|k.length;if(1===e&&1===n)return j(a[0],k[0]);var q,o,s=Array(e+n),t=0,l=0,c=0,f=Math.abs,h=a[l],p=f(h),d=k[c],g=f(d);p<g?(o=h,(l+=1)<e&&(h=a[l],p=f(h))):(o=d,(c+=1)<n&&(d=k[c],g=f(d))),l<e&&p<g||c>=n?(q=h,(l+=1)<e&&(h=a[l],p=f(h))):(q=d,(c+=1)<n&&(d=k[c],g=f(d)));for(var u,v,m,x,y,w=q+o,b=w-q,z=o-b,A=z,B=w;l<e&&c<n;)p<g?(q=h,(l+=1)<e&&(h=a[l],p=f(h))):(q=d,(c+=1)<n&&(d=k[c],g=f(d))),o=A,w=q+o,b=w-q,z=o-b,z&&(s[t++]=z),u=B+w,v=u-B,m=u-v,x=w-v,y=B-m,A=y+x,B=u;for(;l<e;)q=h,o=A,w=q+o,b=w-q,z=o-b,z&&(s[t++]=z),u=B+w,v=u-B,m=u-v,x=w-v,y=B-m,A=y+x,B=u,(l+=1)<e&&(h=a[l]);for(;c<n;)q=d,o=A,w=q+o,b=w-q,z=o-b,z&&(s[t++]=z),u=B+w,v=u-B,m=u-v,x=w-v,y=B-m,A=y+x,B=u,(c+=1)<n&&(d=k[c]);return A&&(s[t++]=A),B&&(s[t++]=B),t||(s[t++]=0),s.length=t,s}b.exports=c},{}],196:[function(b,g,e){"use strict";"use restrict";function h(a){for(var b=0,c=Math.max,d=0,e=a.length;d<e;++d)b=c(b,a[d].length);return b-1}function j(b){for(var c=-1,d=Math.max,e=0,f=b.length;e<f;++e)for(var g=b[e],h=0,j=g.length;h<j;++h)c=d(c,g[h]);return c+1}function k(b,d){var e=b.length,g=b.length-d.length,j=Math.min;if(g)return g;switch(e){case 0:return 0;case 1:return b[0]-d[0];case 2:var k=b[0]+b[1]-d[0]-d[1];return k||j(b[0],b[1])-j(d[0],d[1]);case 3:var m=b[0]+b[1],n=d[0]+d[1];if(k=m+b[2]-(n+d[2]))return k;var a=j(b[0],b[1]),o=j(d[0],d[1]),k=j(a,b[2])-j(o,d[2]);return k||j(a+b[2],m)-j(o+d[2],n);default:var l=b.slice(0);l.sort();var c=d.slice(0);c.sort();for(var f=0;f<e;++f)if(g=l[f]-c[f])return g;return 0;}}function m(a,b){return k(a[0],b[0])}function p(a,b){if(b){for(var c=a.length,d=Array(c),e=0;e<c;++e)d[e]=[a[e],b[e]];d.sort(m);for(var e=0;e<c;++e)a[e]=d[e][0],b[e]=d[e][1];return a}return a.sort(k),a}function q(a){if(0===a.length)return[];for(var b,c=1,d=a.length,e=1;e<d;++e)if(b=a[e],k(b,a[e-1])){if(e===c){c++;continue}a[c++]=b}return a.length=c,a}function w(b,c){for(var d=0,e=b.length-1,f=-1;d<=e;){var g=d+e>>1,h=k(b[g],c);0>=h?(0===h&&(f=g),d=g+1):0<h&&(e=g-1)}return f}function c(b,c){for(var e=Array(b.length),h=0,j=e.length;h<j;++h)e[h]=[];for(var m=[],h=0,n=c.length;h<n;++h)for(var a=c[h],o=a.length,l=1;l<1<<o;++l){m.length=v.popCount(l);for(var q=0,p=0;p<o;++p)l&1<<p&&(m[q++]=a[p]);var d=w(b,m);if(!(0>d))for(;;)if(e[d++].push(h),d>=b.length||0!==k(b[d],m))break}return e}function f(b,d){if(0>d)return[];for(var e=[],f=0;f<b.length;++f)for(var g=b[f],h=(1<<d+1)-1;h<1<<g.length;h=v.nextCombination(h)){for(var j=Array(d+1),a=0,k=0;k<g.length;++k)h&1<<k&&(j[a++]=g[k]);e.push(j)}return p(e)}function a(b,c){for(var d=new l(c),e=0;e<b.length;++e)for(var f=b[e],g=0;g<f.length;++g)for(var h=g+1;h<f.length;++h)d.link(f[g],f[h]);for(var j=[],a=d.ranks,e=0;e<a.length;++e)a[e]=-1;for(var k,e=0;e<b.length;++e)k=d.find(b[e][0]),0>a[k]?(a[k]=j.length,j.push([b[e].slice(0)])):j[a[k]].push(b[e].slice(0));return j}function d(b){for(var c=q(p(f(b,0))),d=new l(c.length),e=0;e<b.length;++e)for(var g=b[e],j=0;j<g.length;++j)for(var k=w(c,[g[j]]),m=j+1;m<g.length;++m)d.link(k,w(c,[g[m]]));for(var a=[],n=d.ranks,e=0;e<n.length;++e)n[e]=-1;for(var h,e=0;e<b.length;++e)h=d.find(w(c,[b[e][0]])),0>n[h]?(n[h]=a.length,a.push([b[e].slice(0)])):a[n[h]].push(b[e].slice(0));return a}var v=b("bit-twiddle"),l=b("union-find");e.dimension=h,e.countVertices=j,e.cloneCells=function(a){for(var b=Array(a.length),c=0,d=a.length;c<d;++c)b[c]=a[c].slice(0);return b},e.compareCells=k,e.normalize=p,e.unique=q,e.findCell=w,e.incidence=c,e.dual=function(b,d){if(!d)return c(q(f(b,0)),b,0);for(var g=Array(d),h=0;h<d;++h)g[h]=[];for(var h=0,j=b.length;h<j;++h)for(var k=b[h],l=0,m=k.length;l<m;++l)g[k[l]].push(h);return g},e.explode=function(a){for(var b=[],d=0,e=a.length;d<e;++d)for(var f=a[d],g=0|f.length,h=1;h<1<<g;++h){for(var j=[],k=0;k<g;++k)1&h>>>k&&j.push(f[k]);b.push(j)}return p(b)},e.skeleton=f,e.boundary=function(b){for(var d=[],e=0,f=b.length;e<f;++e)for(var g=b[e],h=0,j=g.length;h<j;++h){for(var k=Array(g.length-1),a=0,l=0;a<j;++a)a!==h&&(k[l++]=g[a]);d.push(k)}return p(d)},e.connectedComponents=function(b,c){return c?a(b,c):d(b)}},{"bit-twiddle":185,"union-find":199}],197:[function(a,b){"use strict";function c(b,c,e){var g=b*c,j=d*b,k=j-(j-b),a=b-k,m=d*c,l=m-(m-c),f=c-l,h=a*f-(g-k*l-a*l-k*f);return e?(e[0]=h,e[1]=g,e):[h,g]}b.exports=c;var d=+(Math.pow(2,27)+1)},{}],198:[function(a,b){"use strict";function c(b,c,d){var e=b+c,f=e-b,g=c-f,h=b-(e-f);return d?(d[0]=h+g,d[1]=e,d):[h+g,e]}b.exports=c},{}],199:[function(a,b){"use strict";"use restrict";function c(a){this.roots=Array(a),this.ranks=Array(a);for(var b=0;b<a;++b)this.roots[b]=b,this.ranks[b]=0}b.exports=c;var d=c.prototype;Object.defineProperty(d,"length",{get:function(){return this.roots.length}}),d.makeSet=function(){var a=this.roots.length;return this.roots.push(a),this.ranks.push(0),a},d.find=function(a){for(var b=a,c=this.roots;c[a]!==a;)a=c[a];for(;c[b]!==a;){var d=c[b];c[b]=a,b=d}return a},d.link=function(b,c){var d=this.find(b),e=this.find(c);if(d!==e){var f=this.ranks,g=this.roots,h=f[d],j=f[e];h<j?g[d]=e:j<h?g[e]=d:(g[e]=d,++f[d])}}},{}],200:[function(b,c){var d=b("@turf/meta"),e=b("@turf/helpers"),f=e.point,g=d.coordEach,h=d.featureEach,a=e.featureCollection;c.exports=function(b){var c=[];return"FeatureCollection"===b.type?h(b,function(a){g(a,function(b){c.push(f(b,a.properties))})}):g(b,function(a){c.push(f(a,b.properties))}),a(c)}},{"@turf/helpers":201,"@turf/meta":202}],201:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],202:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],203:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],204:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],205:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],206:[function(a,b,c){arguments[4][168][0].apply(c,arguments)},{"@turf/bbox":207,"@turf/helpers":209,dup:168}],207:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{"@turf/meta":208,dup:22}],208:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],209:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],210:[function(a,b,c){arguments[4][178][0].apply(c,arguments)},{"@turf/helpers":211,"@turf/meta":212,dup:178}],211:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],212:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],213:[function(a,b){var c=a("@turf/destination"),d=a("@turf/helpers").polygon;b.exports=function(b,f,g,h,j){if(!b)throw new Error("center is required");if(!f)throw new Error("radius is required");g=g||64,j=j||b.properties||{};for(var k=[],a=0;a<g;a++)k.push(c(b,f,360*a/g,h).geometry.coordinates);return k.push(k[0]),d([k],j)}},{"@turf/destination":214,"@turf/helpers":217}],214:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{"@turf/helpers":215,"@turf/invariant":216,dup:5}],215:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],216:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],217:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],218:[function(a,b,c){arguments[4][83][0].apply(c,arguments)},{"@turf/helpers":219,"@turf/invariant":220,dup:83}],219:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],220:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],221:[function(b,c){function d(a){var b={type:"Feature"};return Object.keys(a).forEach(function(c){switch(c){case"type":case"properties":case"geometry":return;default:b[c]=a[c];}}),b.properties=f(a.properties),b.geometry=g(a.geometry),b}function f(a){var b={};return a?(Object.keys(a).forEach(function(c){var d=a[c];"object"==("undefined"===typeof d?"undefined":j(d))?(d.length&&(b[c]=d.map(function(a){return a})),b[c]=f(d)):b[c]=d}),b):b}function e(a){var b={type:"FeatureCollection"};return Object.keys(a).forEach(function(c){switch(c){case"type":case"features":return;default:b[c]=a[c];}}),b.features=a.features.map(function(a){return d(a)}),b}function g(a){var b={type:a.type};return a.bbox&&(b.bbox=a.bbox),"GeometryCollection"===a.type?(b.geometries=a.geometries.map(function(a){return g(a)}),b):(b.coordinates=h(a.coordinates),b)}function h(a){return"object"==j(a[0])?a.map(function(a){return h(a)}):a.slice()}c.exports=function(a){if(!a)throw new Error("geojson is required");switch(a.type){case"Feature":return d(a);case"FeatureCollection":return e(a);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return g(a);default:throw new Error("unknown GeoJSON type");}}},{}],222:[function(b,d){var e=b("@turf/meta"),g=b("@turf/clone"),h=b("@turf/helpers"),j=b("@turf/invariant"),k=b("density-clustering"),a=b("@turf/distance"),m=e.coordAll,l=j.collectionOf,c=h.convertDistance;d.exports=function(b,d,e,f){if(l(b,"Point","Input must contain Points"),null===d||void 0===d)throw new Error("maxDistance is required");if(!(0<Math.sign(d)))throw new Error("Invalid maxDistance");if(!(void 0===f||null===f||0<Math.sign(f)))throw new Error("Invalid minPoints");b=g(b,!0),f=f||3;var j=new k.DBSCAN,n=j.run(m(b),c(d,e),f,a),o=-1;return n.forEach(function(a){o++,a.forEach(function(a){var c=b.features[a];c.properties||(c.properties={}),c.properties.cluster=o,c.properties.dbscan="core"})}),j.noise.forEach(function(a){var c=b.features[a];c.properties||(c.properties={}),c.properties.dbscan=c.properties.cluster?"edge":"noise"}),b}},{"@turf/clone":223,"@turf/distance":224,"@turf/helpers":227,"@turf/invariant":228,"@turf/meta":229,"density-clustering":234}],223:[function(a,b,c){arguments[4][221][0].apply(c,arguments)},{dup:221}],224:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":225,"@turf/invariant":226,dup:8}],225:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],226:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],227:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],228:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],229:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],230:[function(a,b){function c(a,b,c,d){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(a,b,c,d)}c.prototype.run=function(a,b,c,d){this._init(a,b,c,d);for(var e=0;e<this._datasetLength;e++)if(1!==this._visited[e]){this._visited[e]=1;var f=this._regionQuery(e);if(f.length<this.minPts)this.noise.push(e);else{var g=this.clusters.length;this.clusters.push([]),this._addToCluster(e,g),this._expandCluster(g,f)}}return this.clusters},c.prototype._init=function(a,b,c,d){if(a){if(!(a instanceof Array))throw Error("Dataset must be of type array, "+("undefined"===typeof a?"undefined":j(a))+" given");this.dataset=a,this.clusters=[],this.noise=[],this._datasetLength=a.length,this._visited=Array(this._datasetLength),this._assigned=Array(this._datasetLength)}b&&(this.epsilon=b),c&&(this.minPts=c),d&&(this.distance=d)},c.prototype._expandCluster=function(a,b){for(var c,d=0;d<b.length;d++){if(c=b[d],1!==this._visited[c]){this._visited[c]=1;var e=this._regionQuery(c);e.length>=this.minPts&&(b=this._mergeArrays(b,e))}1!==this._assigned[c]&&this._addToCluster(c,a)}},c.prototype._addToCluster=function(a,b){this.clusters[b].push(a),this._assigned[a]=1},c.prototype._regionQuery=function(a){for(var b=[],c=0;c<this._datasetLength;c++)this.distance(this.dataset[a],this.dataset[c])<this.epsilon&&b.push(c);return b},c.prototype._mergeArrays=function(a,b){for(var c,d=b.length,e=0;e<d;e++)c=b[e],0>a.indexOf(c)&&a.push(c);return a},c.prototype._euclideanDistance=function(a,b){for(var c=0,d=Math.min(a.length,b.length);d--;)c+=(a[d]-b[d])*(a[d]-b[d]);return Math.sqrt(c)},void 0!==b&&b.exports&&(b.exports=c)},{}],231:[function(a,b){function c(a,b,c){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(a,b,c)}c.prototype.init=function(a,b,c){this.assignments=[],this.centroids=[],void 0!==a&&(this.dataset=a),void 0!==b&&(this.k=b),void 0!==c&&(this.distance=c)},c.prototype.run=function(b,d){this.init(b,d);for(var e=this.dataset.length,f=0;f<this.k;f++)this.centroids[f]=this.randomCentroid();for(var g=!0;g;){g=this.assign();for(var h=0;h<this.k;h++){for(var j=Array(m),k=0,a=0;a<m;a++)j[a]=0;for(var m,c=0;c<e;c++)if(m=this.dataset[c].length,h===this.assignments[c]){for(var a=0;a<m;a++)j[a]+=this.dataset[c][a];k++}if(0<k){for(var a=0;a<m;a++)j[a]/=k;this.centroids[h]=j}else this.centroids[h]=this.randomCentroid(),g=!0}}return this.getClusters()},c.prototype.randomCentroid=function(){var a,b,c=this.dataset.length-1;do b=Math.round(Math.random()*c),a=this.dataset[b];while(0<=this.centroids.indexOf(a));return a},c.prototype.assign=function(){for(var a,b=!1,c=this.dataset.length,d=0;d<c;d++)(a=this.argmin(this.dataset[d],this.centroids,this.distance))!=this.assignments[d]&&(this.assignments[d]=a,b=!0);return b},c.prototype.getClusters=function(){for(var a,b=Array(this.k),c=0;c<this.assignments.length;c++)a=this.assignments[c],void 0===b[a]&&(b[a]=[]),b[a].push(c);return b},c.prototype.argmin=function(b,c,d){for(var e,f=Number.MAX_VALUE,g=0,h=c.length,j=0;j<h;j++)(e=d(b,c[j]))<f&&(f=e,g=j);return g},c.prototype.distance=function(a,b){for(var c,d=0,e=Math.min(a.length,b.length);e--;)c=a[e]-b[e],d+=c*c;return Math.sqrt(d)},void 0!==b&&b.exports&&(b.exports=c)},{}],232:[function(a,b){function c(a,b,c,d){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(a,b,c,d)}if(void 0!==b&&b.exports)var d=a("./PriorityQueue.js");c.prototype.run=function(b,c,e,f){this._init(b,c,e,f);for(var g=0,h=this.dataset.length;g<h;g++)if(1!==this._processed[g]){this._processed[g]=1,this.clusters.push([g]);var j=this.clusters.length-1;this._orderedList.push(g);var a=new d(null,null,"asc"),k=this._regionQuery(g);void 0!==this._distanceToCore(g)&&(this._updateQueue(g,k,a),this._expandCluster(j,a))}return this.clusters},c.prototype.getReachabilityPlot=function(){for(var a=[],b=0,c=this._orderedList.length;b<c;b++){var d=this._orderedList[b],e=this._reachability[d];a.push([d,e])}return a},c.prototype._init=function(a,b,c,d){if(a){if(!(a instanceof Array))throw Error("Dataset must be of type array, "+("undefined"===typeof a?"undefined":j(a))+" given");this.dataset=a,this.clusters=[],this._reachability=Array(this.dataset.length),this._processed=Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}b&&(this.epsilon=b),c&&(this.minPts=c),d&&(this.distance=d)},c.prototype._updateQueue=function(a,b,c){var d=this;this._coreDistance=this._distanceToCore(a),b.forEach(function(b){if(void 0===d._processed[b]){var e=d.distance(d.dataset[a],d.dataset[b]),f=Math.max(d._coreDistance,e);void 0===d._reachability[b]?(d._reachability[b]=f,c.insert(b,f)):f<d._reachability[b]&&(d._reachability[b]=f,c.remove(b),c.insert(b,f))}})},c.prototype._expandCluster=function(a,b){for(var c,d=b.getElements(),e=0,f=d.length;e<f;e++)if(c=d[e],void 0===this._processed[c]){var g=this._regionQuery(c);this._processed[c]=1,this.clusters[a].push(c),this._orderedList.push(c),void 0!==this._distanceToCore(c)&&(this._updateQueue(c,g,b),this._expandCluster(a,b))}},c.prototype._distanceToCore=function(a){for(var b=this.epsilon,c=0;c<b;c++)if(this._regionQuery(a,c).length>=this.minPts)return c},c.prototype._regionQuery=function(a,b){b=b||this.epsilon;for(var c=[],d=0,e=this.dataset.length;d<e;d++)this.distance(this.dataset[a],this.dataset[d])<b&&c.push(d);return c},c.prototype._euclideanDistance=function(a,b){for(var c=0,d=Math.min(a.length,b.length);d--;)c+=(a[d]-b[d])*(a[d]-b[d]);return Math.sqrt(c)},void 0!==b&&b.exports&&(b.exports=c)},{"./PriorityQueue.js":233}],233:[function(a,b){function c(a,b,c){this._queue=[],this._priorities=[],this._sorting="desc",this._init(a,b,c)}c.prototype.insert=function(a,b){for(var c,d=this._queue.length,e=d;e--;)c=this._priorities[e],"desc"===this._sorting?b>c&&(d=e):b<c&&(d=e);this._insertAt(a,b,d)},c.prototype.remove=function(a){for(var b=this._queue.length;b--;)if(a===this._queue[b]){this._queue.splice(b,1),this._priorities.splice(b,1);break}},c.prototype.forEach=function(a){this._queue.forEach(a)},c.prototype.getElements=function(){return this._queue},c.prototype.getElementPriority=function(a){return this._priorities[a]},c.prototype.getPriorities=function(){return this._priorities},c.prototype.getElementsWithPriorities=function(){for(var a=[],b=0,c=this._queue.length;b<c;b++)a.push([this._queue[b],this._priorities[b]]);return a},c.prototype._init=function(a,b,c){if(a&&b){if(this._queue=[],this._priorities=[],a.length!==b.length)throw new Error("Arrays must have the same length");for(var d=0;d<a.length;d++)this.insert(a[d],b[d])}c&&(this._sorting=c)},c.prototype._insertAt=function(a,b,c){this._queue.length===c?(this._queue.push(a),this._priorities.push(b)):(this._queue.splice(c,0,a),this._priorities.splice(c,0,b))},void 0!==b&&b.exports&&(b.exports=c)},{}],234:[function(a,b){void 0!==b&&b.exports&&(b.exports={DBSCAN:a("./DBSCAN.js"),KMEANS:a("./KMEANS.js"),OPTICS:a("./OPTICS.js"),PriorityQueue:a("./PriorityQueue.js")})},{"./DBSCAN.js":230,"./KMEANS.js":231,"./OPTICS.js":232,"./PriorityQueue.js":233}],235:[function(b,c){var d=b("@turf/meta"),g=b("@turf/clone"),j=b("skmeans"),e=b("@turf/invariant"),k=d.coordAll,a=d.featureEach,m=e.collectionOf;c.exports=function(b,d,e){m(b,"Point","Input must contain Points");var l=b.features.length;d=d||Math.round(Math.sqrt(l/2)),d>l&&(d=l),!1!==e&&void 0!==e||(b=g(b,!0));var n=k(b),o=n.slice(0,d),c=j(n,d,o),f={};return c.centroids.forEach(function(a,b){f[b]=a}),a(b,function(a,b){var d=c.idxs[b];a.properties.cluster=d,a.properties.centroid=f[d]}),b}},{"@turf/clone":236,"@turf/invariant":237,"@turf/meta":238,skmeans:241}],236:[function(a,b,c){arguments[4][221][0].apply(c,arguments)},{dup:221}],237:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],238:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],239:[function(a,b){"use strict";b.exports={eudist:function(a,b,c){for(var d,e=a.length,f=0,g=0;g<e;g++)d=(a[g]||0)-(b[g]||0),f+=d*d;return c?Math.sqrt(f):f},mandist:function(a,b,c){for(var d=a.length,e=0,f=0;f<d;f++)e+=Math.abs((a[f]||0)-(b[f]||0));return c?Math.sqrt(e):e},dist:function(a,b,c){var d=Math.abs(a-b);return c?d:d*d}}},{}],240:[function(a,b){"use strict";var c=a("./distance.js"),j=c.eudist,k=c.dist;b.exports={kmrand:function(b,c){for(var d={},e=[],f=c<<2,g=b.length,h=0<b[0].length;e.length<c&&0<f--;){var j=b[Math.floor(Math.random()*g)],a=h?j.join("_"):""+j;d[a]||(d[a]=!0,e.push(j))}if(e.length<c)throw new Error("Error initializating clusters");return e},kmpp:function(o,q){var e=o[0].length?j:k,n=[],r=o.length,s=0<o[0].length,a={},t=o[Math.floor(Math.random()*r)],l=s?t.join("_"):""+t;for(n.push(t),a[l]=!0;n.length<q;){for(var c=[],f=n.length,h=0,p=[],d=0;d<r;d++){for(var g,m=1/0,u=0;u<f;u++)g=e(o[d],n[u]),g<=m&&(m=g);c[d]=m}for(var v=0;v<r;v++)h+=c[v];for(var x=0;x<r;x++)p[x]={i:x,v:o[x],pr:c[x]/h,cs:0};p.sort(function(a,b){return a.pr-b.pr}),p[0].cs=p[0].pr;for(var y=1;y<r;y++)p[y].cs=p[y-1].cs+p[y].pr;for(var w=Math.random(),b=0;b<r-1&&p[b++].cs<w;);n.push(p[b-1].v)}return n}}},{"./distance.js":239}],241:[function(b,d){"use strict";function n(a,b,c){c=c||[];for(var d=0;d<a;d++)c[d]=b;return c}function e(c,t,H,J){var K=[],Q=[],s=[],U=[],h=!1,V=J||l,d=c.length,g=c[0].length,y=0<g,v=[];if(H)K="kmrand"==H?a(c,t):"kmpp"==H?u(c,t):H;else for(var m,E={};K.length<t;)m=Math.floor(Math.random()*d),E[m]||(E[m]=!0,K.push(c[m]));do{n(t,0,v);for(var x=0;x<d;x++){for(var U,w=1/0,b=0,I=0;I<t;I++)U=y?j(c[x],K[I]):Math.abs(c[x]-K[I]),U<=w&&(w=U,b=I);s[x]=b,v[b]++}for(var N=[],Q=[],C=0;C<t;C++)N[C]=y?n(g,0,N[C]):0,Q[C]=K[C];if(y){for(var S=0;S<t;S++)K[S]=[];for(var M=0;M<d;M++)for(var L=s[M],P=N[L],R=c[M],T=0;T<g;T++)P[T]+=R[T];h=!0;for(var O=0;O<t;O++){for(var W=K[O],A=N[O],D=Q[O],F=v[O],q=0;q<g;q++)W[q]=A[q]/F||0;if(h)for(var k=0;k<g;k++)if(D[k]!=W[k]){h=!1;break}}}else{for(var G=0;G<d;G++)N[s[G]]+=c[G];for(var X=0;X<t;X++)K[X]=N[X]/v[X]||0;h=!0;for(var B=0;B<t;B++)if(Q[B]!=K[B]){h=!1;break}}h=h||0>=--V}while(!h);return{it:l-V,k:t,idxs:s,centroids:K}}var f=b("./distance.js"),g=b("./kinit.js"),j=f.eudist,a=(f.mandist,f.dist,g.kmrand),u=g.kmpp,l=1e4;d.exports=e},{"./distance.js":239,"./kinit.js":240}],242:[function(b,d){function g(b,d,e){if(!b)throw new Error("geojson is required");if("FeatureCollection"!==b.type)throw new Error("geojson must be a FeatureCollection");if(void 0===d||null===d)throw new Error("property is required");for(var f=h(b,d),g=Object.keys(f),j=0;j<g.length;j++){for(var k=g[j],a=f[k],m=[],l=0;l<a.length;l++)m.push(b.features[a[l]]);e(p(m),k,j)}}function e(a,b,c,d){var f=d;return g(a,b,function(a,b,e){f=0===e&&void 0===d?a:c(f,a,b,e)}),f}function h(a,b){var c={};return m(a,function(a,d){var e=a.properties||{};if(e.hasOwnProperty(b)){var f=e[b];c.hasOwnProperty(f)?c[f].push(d):c[f]=[d]}}),c}function k(a,b){if(void 0===a)return!1;var c="undefined"===typeof b?"undefined":j(b);if("number"===c||"string"===c)return a.hasOwnProperty(b);if(Array.isArray(b)){for(var d=0;d<b.length;d++)if(!k(a,b[d]))return!1;return!0}return l(a,b)}function l(a,b){for(var c,d=Object.keys(b),e=0;e<d.length;e++)if(c=d[e],a[c]!==b[c])return!1;return!0}var m=b("@turf/meta").featureEach,p=b("@turf/helpers").featureCollection;d.exports={getCluster:function(a,b){if(!a)throw new Error("geojson is required");if("FeatureCollection"!==a.type)throw new Error("geojson must be a FeatureCollection");if(void 0===b||null===b)throw new Error("filter is required");var c=[];return m(a,function(a){k(a.properties,b)&&c.push(a)}),p(c)},clusterEach:g,clusterReduce:e,createBins:h,applyFilter:k,propertiesContainsFilter:l,filterProperties:function(a,b){if(!b)return{};if(!b.length)return{};for(var c,d={},f=0;f<b.length;f++)c=b[f],a.hasOwnProperty(c)&&(d[c]=a[c]);return d}}},{"@turf/helpers":243,"@turf/meta":244}],243:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],244:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],245:[function(a,b){var c=a("@turf/bbox"),d=a("@turf/inside"),f=a("rbush");b.exports=function(b,g,e,h){var j=f(6),a=g.features.map(function(a){return{minX:a.geometry.coordinates[0],minY:a.geometry.coordinates[1],maxX:a.geometry.coordinates[0],maxY:a.geometry.coordinates[1],property:a.properties[e]}});return j.load(a),b.features.forEach(function(a){a.properties||(a.properties={});var b=c(a),e=j.search({minX:b[0],minY:b[1],maxX:b[2],maxY:b[3]}),f=[];e.forEach(function(b){d({type:"Point",coordinates:[b.minX,b.minY]},a)&&f.push(b.property)}),a.properties[h]=f}),b}},{"@turf/bbox":246,"@turf/inside":248,rbush:251}],246:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{"@turf/meta":247,dup:22}],247:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],248:[function(a,b,c){arguments[4][36][0].apply(c,arguments)},{"@turf/invariant":249,dup:36}],249:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],250:[function(a,b,c){arguments[4][56][0].apply(c,arguments)},{dup:56}],251:[function(a,b,c){arguments[4][57][0].apply(c,arguments)},{dup:57,quickselect:250}],252:[function(a,b){var c=a("@turf/meta");b.exports=function(a){function b(a,b,c){c?d[b].coordinates=d[b].coordinates.concat(a.geometry.coordinates):d[b].coordinates.push(a.geometry.coordinates),d[b].properties.push(a.properties)}var d={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}},e=Object.keys(d).reduce(function(a,b){return a[b.replace("Multi","")]=b,a},{});return c.featureEach(a,function(a){a.geometry&&(d[a.geometry.type]?b(a,a.geometry.type,!0):e[a.geometry.type]&&b(a,e[a.geometry.type],!1))}),{type:"FeatureCollection",features:Object.keys(d).filter(function(a){return d[a].coordinates.length}).sort().map(function(a){return{type:"Feature",properties:{collectedProperties:d[a].properties},geometry:{type:a,coordinates:d[a].coordinates}}})}}},{"@turf/meta":253}],253:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],254:[function(b,d){function f(b){var c=[],d={};return a(b,function(a){if(a.geometry){var b=a.geometry.coordinates.join("-");d.hasOwnProperty(b)||(c.push(a),d[b]=!0)}}),l(c)}var g=b("@turf/tin"),e=b("@turf/helpers"),h=b("@turf/distance"),j=b("geojson-dissolve"),a=b("@turf/meta").featureEach,k=e.feature,l=e.featureCollection;d.exports=function(a,b,d){if(!a)throw new Error("points is required");if(void 0===b||null===b)throw new Error("maxEdge is required");if("number"!=typeof b)throw new Error("invalid maxEdge");var l=f(a),m=g(l);if(m.features=m.features.filter(function(c){var e=c.geometry.coordinates[0][0],f=c.geometry.coordinates[0][1],g=c.geometry.coordinates[0][2],j=h(e,f,d),a=h(f,g,d),k=h(e,g,d);return j<=b&&a<=b&&k<=b}),1>m.features.length)throw new Error("too few polygons found to compute concave hull");var n=j(m.features);return 1===n.coordinates.length&&(n.coordinates=n.coordinates[0],n.type="Polygon"),k(n)}},{"@turf/distance":255,"@turf/helpers":258,"@turf/meta":259,"@turf/tin":260,"geojson-dissolve":262}],255:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":256,"@turf/invariant":257,dup:8}],256:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],257:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],258:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],259:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],260:[function(b,c){function j(b,d,e){this.a=b,this.b=d,this.c=e;var g,h,j=d.x-b.x,k=d.y-b.y,m=e.x-b.x,a=e.y-b.y,n=j*(b.x+d.x)+k*(b.y+d.y),l=m*(b.x+e.x)+a*(b.y+e.y),c=2*(j*(e.y-d.y)-k*(e.x-d.x));this.x=(a*n-k*l)/c,this.y=(j*l-m*n)/c,g=this.x-b.x,h=this.y-b.y,this.r=g*g+h*h}function k(a,b){return b.x-a.x}function d(a){var b,c,d,e,f,g=a.length;t:for(;g;)for(c=a[--g],b=a[--g],d=g;d;)if(f=a[--d],e=a[--d],b===e&&c===f||b===f&&c===e){a.splice(g,2),a.splice(d,2),g-=2;continue t}}function f(o){if(3>o.length)return[];o.sort(k);for(var q,e,n,r,a,t,l=o.length-1,c=o[l].x,f=o[0].x,h=o[l].y,p=h;l--;)o[l].y<h&&(h=o[l].y),o[l].y>p&&(p=o[l].y);var u,g=f-c,y=p-h,v=g>y?g:y,m=.5*(f+c),z=.5*(p+h),A=[new j({x:m-20*v,y:z-v,__sentinel:!0},{x:m,y:z+20*v,__sentinel:!0},{x:m+20*v,y:z-v,__sentinel:!0})],w=[],b=[];for(l=o.length;l--;){for(b.length=0,u=A.length;u--;)g=o[l].x-A[u].x,0<g&&g*g>A[u].r?(w.push(A[u]),A.splice(u,1)):(y=o[l].y-A[u].y,g*g+y*y>A[u].r||(b.push(A[u].a,A[u].b,A[u].b,A[u].c,A[u].c,A[u].a),A.splice(u,1)));for(d(b),u=b.length;u;)e=b[--u],q=b[--u],n=o[l],r=e.x-q.x,a=e.y-q.y,t=2*(r*(n.y-e.y)-a*(n.x-e.x)),1e-12<Math.abs(t)&&A.push(new j(q,e,n))}for(Array.prototype.push.apply(w,A),l=w.length;l--;)(w[l].a.__sentinel||w[l].b.__sentinel||w[l].c.__sentinel)&&w.splice(l,1);return w}var e=b("@turf/helpers"),a=e.polygon,g=e.featureCollection;c.exports=function(b,c){if("FeatureCollection"!==b.type)throw new Error("points must be a FeatureCollection");var d=!1;return g(f(b.features.map(function(a){var b={x:a.geometry.coordinates[0],y:a.geometry.coordinates[1]};return c?b.z=a.properties[c]:3===a.geometry.coordinates.length&&(d=!0,b.z=a.geometry.coordinates[2]),b})).map(function(b){var c=[b.a.x,b.a.y],e=[b.b.x,b.b.y],f=[b.c.x,b.c.y],g={};return d?(c.push(b.a.z),e.push(b.b.z),f.push(b.c.z)):g={a:b.a.z,b:b.b.z,c:b.c.z},a([[c,e,f,c]],g)}))}},{"@turf/helpers":261}],261:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],262:[function(b,d){function g(a){return a.length?Array.isArray(a[0])?a[0]:Array.prototype.slice.call(a):[]}function h(b){var c={geoms:{type:"GeometryCollection",geometries:JSON.parse(JSON.stringify(b))}},d=k(c);return a(d,d.objects.geoms.geometries)}function j(a){for(var b=null,c=0;c<a.length;c++)if(!b)b=a[c].type;else if(b!==a[c].type)return null;return b}var k=b("topojson-server").topology,a=b("topojson-client").merge,m=b("geojson-linestring-dissolve"),e=b("@turf/meta").geomEach,c=b("geojson-flatten");d.exports=function(){var a=g(arguments),b=a.reduce(function(a,b){var d=c(b);Array.isArray(d)||(d=[d]);for(var f=0;f<d.length;f++)e(d[f],function(b){a.push(b)});return a},[]),d=j(b);if(!d)throw new Error("List does not contain only homoegenous GeoJSON");return"LineString"===d?m(b):"Polygon"===d?h(b):b}},{"@turf/meta":259,"geojson-flatten":263,"geojson-linestring-dissolve":264,"topojson-client":265,"topojson-server":266}],263:[function(a,b){function c(a){switch(a&&a.type||null){case"FeatureCollection":return a.features=a.features.reduce(function(a,b){return a.concat(c(b))},[]),a;case"Feature":return a.geometry?c(a.geometry).map(function(b){return{type:"Feature",properties:JSON.parse(JSON.stringify(a.properties)),geometry:b}}):a;case"MultiPoint":return a.coordinates.map(function(a){return{type:"Point",coordinates:a}});case"MultiPolygon":return a.coordinates.map(function(a){return{type:"Polygon",coordinates:a}});case"MultiLineString":return a.coordinates.map(function(a){return{type:"LineString",coordinates:a}});case"GeometryCollection":return a.geometries.map(c).reduce(function(a,b){return a.concat(b)},[]);case"Point":case"Polygon":case"LineString":return[a];}}b.exports=c},{}],264:[function(a,b){function c(a){return a[0].toString()+","+a[1].toString()}function d(b,d){var e,f=c(b.coordinates[0]),g=c(b.coordinates[b.coordinates.length-1]),h=c(d.coordinates[0]),j=c(d.coordinates[d.coordinates.length-1]);if(f===j)e=d.coordinates.concat(b.coordinates.slice(1));else if(h===g)e=b.coordinates.concat(d.coordinates.slice(1));else if(f===h)e=b.coordinates.slice(1).reverse().concat(d.coordinates);else{if(g!==j)return null;e=b.coordinates.concat(d.coordinates.reverse().slice(1))}return{type:"LineString",coordinates:e}}b.exports=function(a){for(var b,c=a.slice(),e=[];0<c.length;)b=c.shift(),c=c.reduce(function(a,c){var e=d(b,c);return e?b=e:a.push(c),a},[]),e.push(b);return e=1===e.length?e[0]:{type:"MultiLineString",coordinates:e.map(function(a){return a.coordinates})}}},{}],265:[function(b,c,d){!function(b,e){"object"==("undefined"===typeof d?"undefined":j(d))&&void 0!==c?e(d):"function"==typeof a&&a.amd?a(["exports"],e):e(b.topojson=b.topojson||{})}(this,function(b){"use strict";function d(a,b){var c=b.id,d=b.bbox,g=null==b.properties?{}:b.properties,h=f(a,b);return null==c&&null==d?{type:"Feature",properties:g,geometry:h}:null==d?{type:"Feature",id:c,properties:g,geometry:h}:{type:"Feature",id:c,bbox:d,properties:g,geometry:h}}function f(b,c){function d(b,c){c.length&&c.pop();for(var d=l[0>b?~b:b],e=0,f=d.length;e<f;++e)c.push(m(d[e],e));0>b&&a(c,f)}function g(a){return m(a)}function h(a){for(var b=[],c=0,e=a.length;c<e;++c)d(a[c],b);return 2>b.length&&b.push(b[0]),b}function e(a){for(var b=h(a);4>b.length;)b.push(b[0]);return b}function j(a){return a.map(e)}function k(a){var b,c=a.type;switch(c){case"GeometryCollection":return{type:c,geometries:a.geometries.map(k)};case"Point":b=g(a.coordinates);break;case"MultiPoint":b=a.coordinates.map(g);break;case"LineString":b=h(a.arcs);break;case"MultiLineString":b=a.arcs.map(h);break;case"Polygon":b=j(a.arcs);break;case"MultiPolygon":b=a.arcs.map(j);break;default:return null;}return{type:c,coordinates:b}}var m=q(b.transform),l=b.arcs;return k(c)}function e(a,b,d){var e,f,g;if(1<arguments.length)e=j(a,b,d);else for(f=0,e=Array(g=a.arcs.length);f<g;++f)e[f]=f;return{type:"MultiLineString",arcs:c(a,e)}}function j(b,d,e){function f(b){var c=0>b?~b:b;(l[c]||(l[c]=[])).push({i:b,g:a})}function g(a){a.forEach(f)}function h(a){a.forEach(g)}function j(a){a.forEach(h)}function k(b){switch(a=b,b.type){case"GeometryCollection":b.geometries.forEach(k);break;case"LineString":g(b.arcs);break;case"MultiLineString":case"Polygon":h(b.arcs);break;case"MultiPolygon":j(b.arcs);}}var a,m=[],l=[];return k(d),l.forEach(null==e?function(a){m.push(a[0].i)}:function(a){e(a[0].g,a[a.length-1].g)&&m.push(a[0].i)}),m}function k(a){for(var b,c=-1,d=a.length,e=a[d-1],f=0;++c<d;)b=e,e=a[c],f+=b[0]*e[1]-b[1]*e[0];return Math.abs(f)}function m(b,d){function e(a){switch(a.type){case"GeometryCollection":a.geometries.forEach(e);break;case"Polygon":g(a.arcs);break;case"MultiPolygon":a.arcs.forEach(g);}}function g(b){b.forEach(function(a){a.forEach(function(a){(j[a=0>a?~a:a]||(j[a]=[])).push(b)})}),a.push(b)}function h(a){return k(f(b,{type:"Polygon",arcs:[a]}).coordinates[0])}var j={},a=[],m=[];return d.forEach(e),a.forEach(function(a){if(!a._){var b=[],c=[a];for(a._=1,m.push(b);a=c.pop();)b.push(a),a.forEach(function(a){a.forEach(function(a){j[0>a?~a:a].forEach(function(a){a._||(a._=1,c.push(a))})})})}}),a.forEach(function(a){delete a._}),{type:"MultiPolygon",arcs:m.map(function(a){var d,e=[];if(a.forEach(function(a){a.forEach(function(a){a.forEach(function(a){2>j[0>a?~a:a].length&&e.push(a)})})}),e=c(b,e),1<(d=e.length))for(var f,g,k=1,m=h(e[0]);k<d;++k)(f=h(e[k]))>m&&(g=e[0],e[0]=e[k],e[k]=g,m=f);return e})}}var p=function(a){return a},q=function(a){if(null==a)return p;var b,d,e=a.scale[0],f=a.scale[1],g=a.translate[0],h=a.translate[1];return function(j,k){k||(b=d=0);var a=2,m=j.length,l=Array(m);for(l[0]=(b+=j[0])*e+g,l[1]=(d+=j[1])*f+h;a<m;)l[a]=j[a],++a;return l}},n=function(b){function c(b){b=f(b),b[0]<g&&(g=b[0]),b[0]>j&&(j=b[0]),b[1]<h&&(h=b[1]),b[1]>a&&(a=b[1])}function d(a){switch(a.type){case"GeometryCollection":a.geometries.forEach(d);break;case"Point":c(a.coordinates);break;case"MultiPoint":a.coordinates.forEach(c);}}var e,f=q(b.transform),g=1/0,h=g,j=-g,a=-g;for(e in b.arcs.forEach(function(b){for(var c,d=-1,e=b.length;++d<e;)c=f(b[d],d),c[0]<g&&(g=c[0]),c[0]>j&&(j=c[0]),c[1]<h&&(h=c[1]),c[1]>a&&(a=c[1])}),b.objects)d(b.objects[e]);return[g,h,j,a]},a=function(a,b){for(var c,d=a.length,e=d-b;e<--d;)c=a[e],a[e++]=a[d],a[d]=c},c=function(b,c){function d(a){var c,d=b.arcs[0>a?~a:a],f=d[0];return b.transform?(c=[0,0],d.forEach(function(a){c[0]+=a[0],c[1]+=a[1]})):c=d[d.length-1],0>a?[c,f]:[f,c]}function e(a,b){for(var c in a){var d=a[c];delete b[d.start],delete d.start,delete d.end,d.forEach(function(a){f[0>a?~a:a]=1}),j.push(d)}}var f={},g={},h={},j=[],a=-1;return c.forEach(function(d,e){var f,g=b.arcs[0>d?~d:d];!(3>g.length)||g[1][0]||g[1][1]||(f=c[++a],c[a]=d,c[e]=f)}),c.forEach(function(b){var f,e,j=d(b),k=j[0],a=j[1];if(f=h[k]){if(delete h[f.end],f.push(b),f.end=a,e=g[a]){delete g[e.start];var m=e===f?f:f.concat(e);g[m.start=f.start]=h[m.end=e.end]=m}else g[f.start]=h[f.end]=f;}else if(!(f=g[a]))f=[b],g[f.start=k]=h[f.end=a]=f;else if(delete g[f.start],f.unshift(b),f.start=k,e=h[k]){delete h[e.end];var l=e===f?f:e.concat(f);g[l.start=e.start]=h[l.end=f.end]=l}else g[f.start]=h[f.end]=f}),e(h,g),e(g,h),c.forEach(function(a){f[0>a?~a:a]||j.push([a])}),j},l=function(a,b){for(var c,d=0,e=a.length;d<e;)c=d+e>>>1,a[c]<b?d=c+1:e=c;return d},w=function(a){if(null==a)return p;var b,d,e=a.scale[0],g=a.scale[1],j=a.translate[0],k=a.translate[1];return function(m,n){n||(b=d=0);var a=2,o=m.length,l=Array(o),c=Math.round((m[0]-j)/e),f=Math.round((m[1]-k)/g);for(l[0]=c-b,b=c,l[1]=f-d,d=f;a<o;)l[a]=m[a],++a;return l}};b.bbox=n,b.feature=function(a,b){return"GeometryCollection"===b.type?{type:"FeatureCollection",features:b.geometries.map(function(b){return d(a,b)})}:d(a,b)},b.mesh=function(a){return f(a,e.apply(this,arguments))},b.meshArcs=e,b.merge=function(a){return f(a,m.apply(this,arguments))},b.mergeArcs=m,b.neighbors=function(b){function g(a,b){a.forEach(function(a){0>a&&(a=~a);var c=m[a];c?c.push(b):m[a]=[b]})}function j(a,b){a.forEach(function(a){g(a,b)})}function k(a,b){"GeometryCollection"===a.type?a.geometries.forEach(function(a){k(a,b)}):a.type in o&&o[a.type](a.arcs,b)}var m={},q=b.map(function(){return[]}),o={LineString:g,MultiLineString:j,Polygon:j,MultiPolygon:function(a,b){a.forEach(function(a){j(a,b)})}};for(var r in b.forEach(k),m)for(var a=m[r],s=a.length,t=0;t<s;++t)for(var c=t+1;c<s;++c){var f,h=a[t],p=a[c];(f=q[h])[r=l(f,p)]!==p&&f.splice(r,0,p),(f=q[p])[r=l(f,h)]!==h&&f.splice(r,0,h)}return q},b.quantize=function(b,j){function k(a){return h(a)}function l(a){var b;switch(a.type){case"GeometryCollection":b={type:"GeometryCollection",geometries:a.geometries.map(l)};break;case"Point":b={type:"Point",coordinates:k(a.coordinates)};break;case"MultiPoint":b={type:"MultiPoint",coordinates:a.coordinates.map(k)};break;default:return a;}return null!=a.id&&(b.id=a.id),null!=a.bbox&&(b.bbox=a.bbox),null!=a.properties&&(b.properties=a.properties),b}function m(a){var b,c=0,d=1,e=a.length,f=Array(e);for(f[0]=h(a[0],0);++c<e;)((b=h(a[c],c))[0]||b[1])&&(f[d++]=b);return 1===d&&(f[d++]=[0,0]),f.length=d,f}if(b.transform)throw new Error("already quantized");if(j&&j.scale)c=b.bbox;else{if(!(2<=(q=Math.floor(j))))throw new Error("n must be \u22652");c=b.bbox||n(b);var q,o=c[0],r=c[1],a=c[2],s=c[3];j={scale:[a-o?(a-o)/(q-1):1,s-r?(s-r)/(q-1):1],translate:[o,r]}}var c,t,h=w(j),p=b.objects,d={};for(t in p)d[t]=l(p[t]);return{type:"Topology",bbox:c,transform:j,objects:d,arcs:b.arcs.map(m)}},b.transform=q,b.untransform=w,Object.defineProperty(b,"__esModule",{value:!0})})},{}],266:[function(b,c,d){!function(b,e){"object"==("undefined"===typeof d?"undefined":j(d))&&void 0!==c?e(d):"function"==typeof a&&a.amd?a(["exports"],e):e(b.topojson=b.topojson||{})}(this,function(j){"use strict";function k(a,b,c,d){q(a,b,c),q(a,b,b+d),q(a,b+d,c)}function q(a,b,c){for(var d,e=b+(c-- -b>>1);b<e;++b,--c)d=a[b],a[b]=a[c],a[c]=d}function z(a){return null==a?{type:null}:("FeatureCollection"===a.type?e:"Feature"===a.type?n:o)(a)}function e(a){var b={type:"GeometryCollection",geometries:a.features.map(n)};return null!=a.bbox&&(b.bbox=a.bbox),b}function n(a){var b,c=o(a.geometry);for(b in null!=a.id&&(c.id=a.id),null!=a.bbox&&(c.bbox=a.bbox),a.properties){c.properties=a.properties;break}return c}function o(a){if(null==a)return{type:null};var b="GeometryCollection"===a.type?{type:"GeometryCollection",geometries:a.geometries.map(o)}:"Point"===a.type||"MultiPoint"===a.type?{type:a.type,coordinates:a.coordinates}:{type:a.type,arcs:a.coordinates};return null!=a.bbox&&(b.bbox=a.bbox),b}function A(a){var b,c=a[0],d=a[1];return d<c&&(b=c,c=d,d=b),c+31*d}function a(a,b){var c,d=a[0],e=a[1],f=b[0],g=b[1];return e<d&&(c=d,d=e,e=c),g<f&&(c=f,f=g,g=c),d===f&&e===g}var u=function(b){function d(a){null!=a&&m.hasOwnProperty(a.type)&&m[a.type](a)}function e(b){var c=b[0],d=b[1];c<h&&(h=c),c>k&&(k=c),d<j&&(j=d),d>a&&(a=d)}function f(a){a.forEach(e)}function g(a){a.forEach(f)}var h=1/0,j=1/0,k=-1/0,a=-1/0,m={GeometryCollection:function(a){a.geometries.forEach(d)},Point:function(a){e(a.coordinates)},MultiPoint:function(a){a.coordinates.forEach(e)},LineString:function(a){f(a.arcs)},MultiLineString:function(a){a.arcs.forEach(f)},Polygon:function(a){a.arcs.forEach(f)},MultiPolygon:function(a){a.arcs.forEach(g)}};for(var l in b)d(b[l]);return k>=h&&a>=j?[h,j,k,a]:void 0},B=function(b,d,e,a,f){function g(c){for(var g=d(c)&k,h=j[g],l=0;h!=f;){if(e(h,c))return!0;if(++l>=b)throw new Error("full hashset");h=j[g=g+1&k]}return j[g]=c,!0}function h(c){for(var g=d(c)&k,h=j[g],l=0;h!=f;){if(e(h,c))return!0;if(++l>=b)break;h=j[g=g+1&k]}return!1}3===arguments.length&&(a=Array,f=null);for(var j=new a(b=1<<Math.max(4,Math.ceil(Math.log(b)/Math.LN2))),k=b-1,l=0;l<b;++l)j[l]=f;return{add:g,has:h,values:function(){for(var a,b=[],c=0,d=j.length;c<d;++c)a=j[c],a!=f&&b.push(a);return b}}},C=function(b,d,e,g,j,k){function l(g,h){for(var k=d(g)&f,l=q[k],a=0;l!=j;){if(e(l,g))return c[k]=h;if(++a>=b)throw new Error("full hashmap");l=q[k=k+1&f]}return q[k]=g,c[k]=h,h}function m(g,h){for(var k=d(g)&f,l=q[k],m=0;l!=j;){if(e(l,g))return c[k];if(++m>=b)throw new Error("full hashmap");l=q[k=k+1&f]}return q[k]=g,c[k]=h,h}function n(g,h){for(var k=d(g)&f,l=q[k],a=0;l!=j;){if(e(l,g))return c[k];if(++a>=b)break;l=q[k=k+1&f]}return h}3===arguments.length&&(g=k=Array,j=null);for(var q=new g(b=1<<Math.max(4,Math.ceil(Math.log(b)/Math.LN2))),c=new k(b),f=b-1,h=0;h<b;++h)q[h]=j;return{set:l,maybeSet:m,get:n,keys:function(){for(var a,b=[],c=0,d=q.length;c<d;++c)a=q[c],a!=j&&b.push(a);return b}}},f=function(a,b){return a[0]===b[0]&&a[1]===b[1]},c=new ArrayBuffer(16),h=new Float64Array(c),d=new Uint32Array(c),D=function(a){h[0]=a[0],h[1]=a[1];var b=d[0]^d[1];return 2147483647&(b=b<<5^b>>7^d[2]^d[3])},F=function(c){function h(a,b,c,d){if(g[c]!==a){g[c]=a;var f=u[c];if(0<=f){var h=m[c];f===b&&h===d||f===d&&h===b||(++v,t[c]=1)}else u[c]=b,m[c]=d}}function j(a){return D(s[a])}function k(a,b){return f(s[a],s[b])}var e,n,o,q,a,s=c.coordinates,l=c.lines,p=c.rings,d=function(){for(var a=C(1.4*s.length,j,k,Int32Array,-1,Int32Array),b=new Int32Array(s.length),c=0,d=s.length;c<d;++c)b[c]=a.maybeSet(c,c);return b}(),g=new Int32Array(s.length),u=new Int32Array(s.length),m=new Int32Array(s.length),t=new Int8Array(s.length),v=0;for(e=0,n=s.length;e<n;++e)g[e]=u[e]=m[e]=-1;for(e=0,n=l.length;e<n;++e){var r=l[e],b=r[0],w=r[1];for(q=d[b],a=d[++b],++v,t[q]=1;++b<=w;)h(e,o=q,q=a,a=d[b]);++v,t[a]=1}for(e=0,n=s.length;e<n;++e)g[e]=-1;for(e=0,n=p.length;e<n;++e){var x=p[e],y=x[0]+1,z=x[1];for(o=d[z-1],q=d[y-1],a=d[y],h(e,o,q,a);++y<=z;)h(e,o=q,q=a,a=d[y])}g=u=m=null;var A,E=B(1.4*v,D,f);for(e=0,n=s.length;e<n;++e)t[A=d[e]]&&E.add(s[A]);return E},l=function(b){var e,j,m,n=F(b),o=b.coordinates,q=b.lines,a=b.rings;for(j=0,m=q.length;j<m;++j)for(var r=q[j],l=r[0],s=r[1];++l<s;)n.has(o[l])&&(e={0:l,1:r[1]},r[1]=l,r=r.next=e);for(j=0,m=a.length;j<m;++j)for(var f=a[j],h=f[0],p=h,t=f[1],g=n.has(o[h]);++p<t;)n.has(o[p])&&(g?(e={0:p,1:f[1]},f[1]=p,f=f.next=e):(k(o,h,t,t-p),o[t]=o[h],g=!0,p=h));return b},m=function(b){function h(b){var d,f,g,h,k,a,n,l;if(g=p.get(d=w[b[0]]))for(n=0,l=g.length;n<l;++n)if(h=g[n],e(h,b))return b[0]=h[0],void(b[1]=h[1]);if(k=p.get(f=w[b[1]]))for(n=0,l=k.length;n<l;++n)if(a=k[n],j(a,b))return b[1]=a[0],void(b[0]=a[1]);g?g.push(b):p.set(d,[b]),k?k.push(b):p.set(f,[b]),m.push(b)}function e(a,b){var c=a[0],d=b[0],e=a[1];if(c-e!=d-b[1])return!1;for(;c<=e;++c,++d)if(!f(w[c],w[d]))return!1;return!0}function j(a,b){var c=a[0],d=b[0],e=a[1],g=b[1];if(c-e!=d-g)return!1;for(;c<=e;++c,--g)if(!f(w[c],w[g]))return!1;return!0}function k(b,d){var e=b[0],g=d[0],h=b[1],j=d[1],k=h-e;if(k!==j-g)return!1;for(var a=r(b),m=r(d),l=0;l<k;++l)if(!f(w[e+(l+a)%k],w[g+(l+m)%k]))return!1;return!0}function q(b,d){var e=b[0],g=d[0],h=b[1],j=d[1],k=h-e;if(k!==j-g)return!1;for(var a=r(b),m=k-r(d),l=0;l<k;++l)if(!f(w[e+(l+a)%k],w[j-(l+m)%k]))return!1;return!0}function r(a){for(var b,c=a[0],d=a[1],e=c,f=e,g=w[e];++e<d;)b=w[e],(b[0]<g[0]||b[0]===g[0]&&b[1]<g[1])&&(f=e,g=b);return f-c}var n,a,o,l,w=b.coordinates,c=b.lines,d=b.rings,g=c.length+d.length;for(delete b.lines,delete b.rings,o=0,l=c.length;o<l;++o)for(n=c[o];n=n.next;)++g;for(o=0,l=d.length;o<l;++o)for(a=d[o];a=a.next;)++g;var p=C(1.4*(2*g),D,f),m=b.arcs=[];for(o=0,l=c.length;o<l;++o){n=c[o];do h(n);while(n=n.next)}for(o=0,l=d.length;o<l;++o)if(a=d[o],a.next)do h(a);while(a=a.next);else!function(b){var c,d,e,f,a;if(d=p.get(c=w[b[0]]))for(f=0,a=d.length;f<a;++f){if(e=d[f],k(e,b))return b[0]=e[0],void(b[1]=e[1]);if(q(e,b))return b[0]=e[1],void(b[1]=e[0])}if(d=p.get(c=w[b[0]+r(b)]))for(f=0,a=d.length;f<a;++f){if(e=d[f],k(e,b))return b[0]=e[0],void(b[1]=e[1]);if(q(e,b))return b[0]=e[1],void(b[1]=e[0])}d?d.push(b):p.set(c,[b]),m.push(b)}(a);return b},v=function(b){for(var d=-1,e=b.length;++d<e;){for(var g,h,j=b[d],k=0,m=1,a=j.length,n=j[0],l=n[0],c=n[1];++k<a;)n=j[k],g=n[0],h=n[1],g===l&&h===c||(j[m++]=[g-l,h-c],l=g,c=h);1===m&&(j[m++]=[0,0]),j.length=m}return b},x=function(b){function d(a){a&&n.hasOwnProperty(a.type)&&n[a.type](a)}function e(a){for(var b=0,c=a.length;b<c;++b)m[++h]=a[b];var d={0:h-c+1,1:h};return j.push(d),d}function f(a){for(var b=0,c=a.length;b<c;++b)m[++h]=a[b];var d={0:h-c+1,1:h};return k.push(d),d}function g(a){return a.map(f)}var h=-1,j=[],k=[],m=[],n={GeometryCollection:function(a){a.geometries.forEach(d)},LineString:function(a){a.arcs=e(a.arcs)},MultiLineString:function(a){a.arcs=a.arcs.map(e)},Polygon:function(a){a.arcs=a.arcs.map(f)},MultiPolygon:function(a){a.arcs=a.arcs.map(g)}};for(var l in b)d(b[l]);return{type:"Topology",coordinates:m,lines:j,rings:k,objects:b}},w=function(a){var b,c={};for(b in a)c[b]=z(a[b]);return c},b=function(b,j,e){function k(a){return[Math.round((a[0]-v)*w),Math.round((a[1]-l)*p)]}function m(b,c){for(var d,e,g,j,k,m=-1,a=0,n=b.length,f=Array(n);++m<n;)d=b[m],j=Math.round((d[0]-v)*w),k=Math.round((d[1]-l)*p),j===e&&k===g||(f[a++]=[e=j,g=k]);for(f.length=a;a<c;)a=f.push([f[0][0],f[0][1]]);return f}function n(a){return m(a,2)}function o(a){return m(a,4)}function q(a){return a.map(o)}function a(a){null!=a&&d.hasOwnProperty(a.type)&&d[a.type](a)}var v=j[0],l=j[1],c=j[2],f=j[3],w=c-v?(e-1)/(c-v):1,p=f-l?(e-1)/(f-l):1,d={GeometryCollection:function(b){b.geometries.forEach(a)},Point:function(a){a.coordinates=k(a.coordinates)},MultiPoint:function(a){a.coordinates=a.coordinates.map(k)},LineString:function(a){a.arcs=n(a.arcs)},MultiLineString:function(a){a.arcs=a.arcs.map(n)},Polygon:function(a){a.arcs=q(a.arcs)},MultiPolygon:function(a){a.arcs=a.arcs.map(q)}};for(var g in b)a(b[g]);return{scale:[1/w,1/p],translate:[v,l]}};j.topology=function(f,j){function e(a){a&&p.hasOwnProperty(a.type)&&p[a.type](a)}function k(a){var b=[];do{var c=h.get(a);b.push(a[0]<a[1]?c:~c)}while(a=a.next);return b}function n(a){return a.map(k)}var q=u(f=w(f)),o=0<j&&q&&b(f,q,j),r=m(l(x(f))),c=r.coordinates,h=C(1.4*r.arcs.length,A,a);f=r.objects,r.bbox=q,r.arcs=r.arcs.map(function(a,b){return h.set(a,b),c.slice(a[0],a[1]+1)}),delete r.coordinates,c=null;var p={GeometryCollection:function(a){a.geometries.forEach(e)},LineString:function(a){a.arcs=k(a.arcs)},MultiLineString:function(a){a.arcs=a.arcs.map(k)},Polygon:function(a){a.arcs=a.arcs.map(k)},MultiPolygon:function(a){a.arcs=a.arcs.map(n)}};for(var d in f)e(f[d]);return o&&(r.transform=o,r.arcs=v(r.arcs)),r},Object.defineProperty(j,"__esModule",{value:!0})})},{}],267:[function(a,b,c){arguments[4][181][0].apply(c,arguments)},{"@turf/helpers":268,"@turf/meta":269,"convex-hull":272,dup:181}],268:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],269:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],270:[function(a,b,c){arguments[4][184][0].apply(c,arguments)},{dup:184,"robust-orientation":278}],271:[function(a,b,c){arguments[4][185][0].apply(c,arguments)},{dup:185}],272:[function(a,b,c){arguments[4][186][0].apply(c,arguments)},{"./lib/ch1d":273,"./lib/ch2d":274,"./lib/chnd":275,dup:186}],273:[function(a,b,c){arguments[4][187][0].apply(c,arguments)},{dup:187}],274:[function(a,b,c){arguments[4][188][0].apply(c,arguments)},{dup:188,"monotone-convex-hull-2d":277}],275:[function(a,b,c){arguments[4][189][0].apply(c,arguments)},{"affine-hull":270,dup:189,"incremental-convex-hull":276}],276:[function(a,b,c){arguments[4][190][0].apply(c,arguments)},{dup:190,"robust-orientation":278,"simplicial-complex":282}],277:[function(a,b,c){arguments[4][191][0].apply(c,arguments)},{dup:191,"robust-orientation":278}],278:[function(a,b,c){arguments[4][192][0].apply(c,arguments)},{dup:192,"robust-scale":279,"robust-subtract":280,"robust-sum":281,"two-product":283}],279:[function(a,b,c){arguments[4][193][0].apply(c,arguments)},{dup:193,"two-product":283,"two-sum":284}],280:[function(a,b,c){arguments[4][194][0].apply(c,arguments)},{dup:194}],281:[function(a,b,c){arguments[4][195][0].apply(c,arguments)},{dup:195}],282:[function(a,b,c){arguments[4][196][0].apply(c,arguments)},{"bit-twiddle":271,dup:196,"union-find":285}],283:[function(a,b,c){arguments[4][197][0].apply(c,arguments)},{dup:197}],284:[function(a,b,c){arguments[4][198][0].apply(c,arguments)},{dup:198}],285:[function(a,b,c){arguments[4][199][0].apply(c,arguments)},{dup:199}],286:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{"@turf/helpers":287,"@turf/invariant":288,dup:5}],287:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],288:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],289:[function(b,c){function g(b){switch(b.type){case"Polygon":return 1<d(b)?b:void 0;case"MultiPolygon":var c=[];if(a(b,function(a){1<d(a)&&c.push(a.geometry.coordinates)}),c.length)return{type:"MultiPolygon",coordinates:c};}}var e=b("jsts"),d=b("@turf/area"),j=b("@turf/helpers").feature,k=b("@turf/invariant").getGeom,a=b("@turf/meta").flattenEach;c.exports=function(a,b){var m=k(a),n=k(b),q=a.properties||{};if(m=g(m),n=g(n),m){if(!n)return j(m,q);var r=new e.io.GeoJSONReader,l=r.read(m),c=r.read(n),f=l.difference(c);if(!f.isEmpty()){var h=new e.io.GeoJSONWriter,p=h.write(f);return j(p,q)}}}},{"@turf/area":290,"@turf/helpers":294,"@turf/invariant":295,"@turf/meta":296,jsts:297}],290:[function(a,b,c){arguments[4][12][0].apply(c,arguments)},{"@mapbox/geojson-area":291,"@turf/meta":292,dup:12}],291:[function(a,b,c){arguments[4][13][0].apply(c,arguments)},{dup:13,wgs84:293}],292:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],293:[function(a,b,c){arguments[4][15][0].apply(c,arguments)},{dup:15}],294:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],295:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],296:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],297:[function(a,b,c){arguments[4][176][0].apply(c,arguments)},{dup:176}],298:[function(b,c){function d(a){if(null===a||void 0===a)throw new Error("No polygon was passed");a.geometry.type="LineString";var b=[].concat.apply([],a.geometry.coordinates);return a.geometry.coordinates=b,a}var e=b("@turf/union"),h=b("@turf/boolean-overlap"),k=b("@turf/bbox"),f=b("rbush"),a=b("geojson-utils"),g=b("get-closest");c.exports=function(l,o){for(var q=[],n=[],c=new f,r=0;r<l.features.length;r++){var s=k(l.features[r]),p={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],origIndexPosition:r};n.push(p)}c.load(n);for(var t=0;t<l.features.length;t++){for(var u=l.features[t],y=k(u),v={minX:y[0],minY:y[1],maxX:y[2],maxY:y[3]},m=c.search(v),x=!1,z=0;z<m.length;z++){u=l.features[t];var w=m[z].origIndexPosition;if(0<q.length&&0!==w)if(w>q[q.length-1])w-=q.length;else{var b=g.greaterNumber(w,q);0!==b&&(w-=b)}if(w!==t){var A=l.features[w];if(void 0===("undefined"===typeof o?"undefined":j(o))||A.properties[o]===u.properties[o]){var B=h(u,A);if(!B){var D=JSON.stringify(u),E=JSON.stringify(A),F=d(JSON.parse(D)),G=d(JSON.parse(E));B=a.lineStringsIntersect(F.geometry,G.geometry)}B&&(l.features[t]=e(u,A),q.push(m[z].origIndexPosition),q.sort(function(a,b){return a-b}),c.remove(m[z]),l.features.splice(w,1),v.origIndexPosition=t,c.remove(v,function(a,b){return a.origIndexPosition===b.origIndexPosition}),x=!0)}}}if(x){var H=k(u);c.insert({minX:H[0],minY:H[1],maxX:H[2],maxY:H[3],origIndexPosition:t}),t--}}return l}},{"@turf/bbox":299,"@turf/boolean-overlap":301,"@turf/union":367,"geojson-utils":369,"get-closest":370,rbush:372}],299:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{"@turf/meta":300,dup:22}],300:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],301:[function(a,b,c){arguments[4][91][0].apply(c,arguments)},{"@turf/invariant":302,"@turf/line-intersect":303,"@turf/line-overlap":317,"@turf/meta":362,dup:91,"geojson-equality":366}],302:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],303:[function(a,b,c){arguments[4][44][0].apply(c,arguments)},{"@turf/helpers":307,"@turf/invariant":308,"@turf/line-segment":309,"@turf/meta":313,dup:44,"geojson-rbush":314}],304:[function(a,b,c){arguments[4][20][0].apply(c,arguments)},{"@turf/helpers":305,dup:20}],305:[function(a,b,c){arguments[4][46][0].apply(c,arguments)},{dup:46}],306:[function(a,b,c){arguments[4][47][0].apply(c,arguments)},{"@turf/meta":313,dup:47}],307:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],308:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],309:[function(a,b,c){arguments[4][50][0].apply(c,arguments)},{"@turf/helpers":310,"@turf/invariant":311,"@turf/meta":312,dup:50}],310:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],311:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],312:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],313:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],314:[function(a,b,c){arguments[4][55][0].apply(c,arguments)},{"@turf/bbox":306,"@turf/bbox-polygon":304,"@turf/helpers":307,"@turf/meta":313,dup:55,rbush:316}],315:[function(a,b,c){arguments[4][56][0].apply(c,arguments)},{dup:56}],316:[function(a,b,c){arguments[4][57][0].apply(c,arguments)},{dup:57,quickselect:315}],317:[function(a,b,c){arguments[4][107][0].apply(c,arguments)},{"@turf/boolean-point-on-line":321,"@turf/helpers":323,"@turf/invariant":324,"@turf/line-segment":325,"@turf/meta":329,"@turf/point-on-line":330,"deep-equal":356,dup:107,"geojson-rbush":359}],318:[function(a,b,c){arguments[4][20][0].apply(c,arguments)},{"@turf/helpers":319,dup:20}],319:[function(a,b,c){arguments[4][46][0].apply(c,arguments)},{dup:46}],320:[function(a,b,c){arguments[4][47][0].apply(c,arguments)},{"@turf/meta":329,dup:47}],321:[function(a,b,c){arguments[4][34][0].apply(c,arguments)},{"@turf/invariant":322,dup:34}],322:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],323:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],324:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],325:[function(a,b,c){arguments[4][50][0].apply(c,arguments)},{"@turf/helpers":326,"@turf/invariant":327,"@turf/meta":328,dup:50}],326:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],327:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],328:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],329:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],330:[function(a,b,c){arguments[4][120][0].apply(c,arguments)},{"@turf/bearing":331,"@turf/destination":333,"@turf/distance":336,"@turf/helpers":339,"@turf/invariant":340,"@turf/line-intersect":341,"@turf/meta":355,dup:120}],331:[function(a,b,c){arguments[4][3][0].apply(c,arguments)},{"@turf/invariant":332,dup:3}],332:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],333:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{"@turf/helpers":334,"@turf/invariant":335,dup:5}],334:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],335:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],336:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":337,"@turf/invariant":338,dup:8}],337:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],338:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],339:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],340:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],341:[function(a,b,c){arguments[4][44][0].apply(c,arguments)},{"@turf/helpers":345,"@turf/invariant":346,"@turf/line-segment":347,"@turf/meta":351,dup:44,"geojson-rbush":352}],342:[function(a,b,c){arguments[4][20][0].apply(c,arguments)},{"@turf/helpers":343,dup:20}],343:[function(a,b,c){arguments[4][46][0].apply(c,arguments)},{dup:46}],344:[function(a,b,c){arguments[4][47][0].apply(c,arguments)},{"@turf/meta":351,dup:47}],345:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],346:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],347:[function(a,b,c){arguments[4][50][0].apply(c,arguments)},{"@turf/helpers":348,"@turf/invariant":349,"@turf/meta":350,dup:50}],348:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],349:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],350:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],351:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],352:[function(a,b,c){arguments[4][55][0].apply(c,arguments)},{"@turf/bbox":344,"@turf/bbox-polygon":342,"@turf/helpers":345,"@turf/meta":351,dup:55,rbush:354}],353:[function(a,b,c){arguments[4][56][0].apply(c,arguments)},{dup:56}],354:[function(a,b,c){arguments[4][57][0].apply(c,arguments)},{dup:57,quickselect:353}],355:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],356:[function(a,b,c){arguments[4][87][0].apply(c,arguments)},{"./lib/is_arguments.js":357,"./lib/keys.js":358,dup:87}],357:[function(a,b,c){arguments[4][88][0].apply(c,arguments)},{dup:88}],358:[function(a,b,c){arguments[4][89][0].apply(c,arguments)},{dup:89}],359:[function(a,b,c){arguments[4][55][0].apply(c,arguments)},{"@turf/bbox":320,"@turf/bbox-polygon":318,"@turf/helpers":323,"@turf/meta":329,dup:55,rbush:361}],360:[function(a,b,c){arguments[4][56][0].apply(c,arguments)},{dup:56}],361:[function(a,b,c){arguments[4][57][0].apply(c,arguments)},{dup:57,quickselect:360}],362:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],363:[function(a,b,c){arguments[4][87][0].apply(c,arguments)},{"./lib/is_arguments.js":364,"./lib/keys.js":365,dup:87}],364:[function(a,b,c){arguments[4][88][0].apply(c,arguments)},{dup:88}],365:[function(a,b,c){arguments[4][89][0].apply(c,arguments)},{dup:89}],366:[function(a,b,c){arguments[4][90][0].apply(c,arguments)},{"deep-equal":363,dup:90}],367:[function(a,b){var c=a("jsts");b.exports=function(){for(var a=new c.io.GeoJSONReader,b=a.read(JSON.stringify(arguments[0].geometry)),d=1;d<arguments.length;d++)b=b.union(a.read(JSON.stringify(arguments[d].geometry)));return b=new c.io.GeoJSONWriter().write(b),{type:"Feature",geometry:b,properties:arguments[0].properties}}},{jsts:368}],368:[function(a,b,c){arguments[4][176][0].apply(c,arguments)},{dup:176}],369:[function(a,b){!function(){function d(a){for(var b=[],c=[],d=0;d<a[0].length;d++)b.push(a[0][d][1]),c.push(a[0][d][0]);return b=b.sort(function(a,b){return a-b}),c=c.sort(function(a,b){return a-b}),[[b[0],c[0]],[b[b.length-1],c[c.length-1]]]}function f(a,b,c){for(var d=[[0,0]],e=0;e<c.length;e++){for(var f=0;f<c[e].length;f++)d.push(c[e][f]);d.push(c[e][0]),d.push([0,0])}for(var g=!1,e=0,f=d.length-1;e<d.length;f=e++)d[e][0]>b!=d[f][0]>b&&a<(d[f][1]-d[e][1])*(b-d[e][0])/(d[f][0]-d[e][0])+d[e][1]&&(g=!g);return g}var g=this.gju={};void 0!==b&&b.exports&&(b.exports=g),g.lineStringsIntersect=function(b,d){for(var e=[],g=0;g<=b.coordinates.length-2;++g)for(var j=0;j<=d.coordinates.length-2;++j){var k={x:b.coordinates[g][1],y:b.coordinates[g][0]},m={x:b.coordinates[g+1][1],y:b.coordinates[g+1][0]},n={x:d.coordinates[j][1],y:d.coordinates[j][0]},a={x:d.coordinates[j+1][1],y:d.coordinates[j+1][0]},o=(a.x-n.x)*(k.y-n.y)-(a.y-n.y)*(k.x-n.x),l=(m.x-k.x)*(k.y-n.y)-(m.y-k.y)*(k.x-n.x),c=(a.y-n.y)*(m.x-k.x)-(a.x-n.x)*(m.y-k.y);if(0!=c){var f=o/c,h=l/c;0<=f&&1>=f&&0<=h&&1>=h&&e.push({type:"Point",coordinates:[k.x+f*(m.x-k.x),k.y+f*(m.y-k.y)]})}}return 0==e.length&&(e=!1),e},g.pointInBoundingBox=function(a,b){return!(a.coordinates[1]<b[0][0]||a.coordinates[1]>b[1][0]||a.coordinates[0]<b[0][1]||a.coordinates[0]>b[1][1])},g.pointInPolygon=function(b,c){for(var e="Polygon"==c.type?[c.coordinates]:c.coordinates,h=!1,j=0;j<e.length;j++)g.pointInBoundingBox(b,d(e[j]))&&(h=!0);if(!h)return!1;for(var a=!1,j=0;j<e.length;j++)f(b.coordinates[1],b.coordinates[0],e[j])&&(a=!0);return a},g.pointInMultiPolygon=function(b,e){for(var h="MultiPolygon"==e.type?[e.coordinates]:e.coordinates,j=!1,k=!1,a=0;a<h.length;a++){for(var m=h[a],l=0;l<m.length;l++)j||g.pointInBoundingBox(b,d(m[l]))&&(j=!0);if(!j)return!1;for(var l=0;l<m.length;l++)k||f(b.coordinates[1],b.coordinates[0],m[l])&&(k=!0)}return k},g.numberToRadius=function(a){return a*Math.PI/180},g.numberToDegree=function(a){return 180*a/Math.PI},g.drawCircle=function(b,d,e){for(var h=[d.coordinates[1],d.coordinates[0]],j=b/1e3/6371,k=[g.numberToRadius(h[0]),g.numberToRadius(h[1])],e=e||15,m=[[h[0],h[1]]],a=0;a<e;a++){var n=2*Math.PI*a/e,l=Math.asin(Math.sin(k[0])*Math.cos(j)+Math.cos(k[0])*Math.sin(j)*Math.cos(n)),c=k[1]+Math.atan2(Math.sin(n)*Math.sin(j)*Math.cos(k[0]),Math.cos(j)-Math.sin(k[0])*Math.sin(l));m[a]=[],m[a][1]=g.numberToDegree(l),m[a][0]=g.numberToDegree(c)}return{type:"Polygon",coordinates:[m]}},g.rectangleCentroid=function(a){var b=a.coordinates[0],c=b[0][0],d=b[0][1];return{type:"Point",coordinates:[c+(b[2][0]-c)/2,d+(b[2][1]-d)/2]}},g.pointDistance=function(b,c){var d=b.coordinates[0],e=b.coordinates[1],f=c.coordinates[0],h=c.coordinates[1],j=g.numberToRadius(h-e),a=g.numberToRadius(f-d),k=Math.pow(Math.sin(j/2),2)+Math.cos(g.numberToRadius(e))*Math.cos(g.numberToRadius(h))*Math.pow(Math.sin(a/2),2);return 1e3*(6371*(2*Math.atan2(Math.sqrt(k),Math.sqrt(1-k))))},g.geometryWithinRadius=function(a,b,c){if("Point"==a.type)return g.pointDistance(a,b)<=c;if("LineString"==a.type||"Polygon"==a.type){var d,e={};for(var f in d="Polygon"==a.type?a.coordinates[0]:a.coordinates,d)if(e.coordinates=d[f],g.pointDistance(e,b)>c)return!1}return!0},g.area=function(a){for(var b,c,d=0,e=a.coordinates[0],f=e.length-1,g=0;g<e.length;f=g++){var b={x:e[g][1],y:e[g][0]},c={x:e[f][1],y:e[f][0]};d+=b.x*c.y,d-=b.y*c.x}return d/=2},g.centroid=function(b){for(var c,d,e,f=0,h=0,j=b.coordinates[0],a=j.length-1,k=0;k<j.length;a=k++){var d={x:j[k][1],y:j[k][0]},e={x:j[a][1],y:j[a][0]};c=d.x*e.y-e.x*d.y,f+=(d.x+e.x)*c,h+=(d.y+e.y)*c}return c=6*g.area(b),{type:"Point",coordinates:[h/c,f/c]}},g.simplify=function(j,k){k=k||20,j=j.map(function(a){return{lng:a.coordinates[0],lat:a.coordinates[1]}});var e,n,q,r,o,s,a,t,l,c,f,h,p,d,g,u,v,m,x,y=.5*(Math.PI/180),w=[],b=[],z=[];if(3>j.length)return j;for(e=j.length,c=360*k/(6378137*(2*Math.PI)),c*=c,q=0,b[0]=0,z[0]=e-1,n=1;0<n;)if(r=b[n-1],o=z[n-1],n--,1<o-r){for(f=j[o].lng()-j[r].lng(),h=j[o].lat()-j[r].lat(),180<Math.abs(f)&&(f=360-Math.abs(f)),f*=Math.cos(y*(j[o].lat()+j[r].lat())),p=f*f+h*h,s=r+1,a=r,l=-1;s<o;s++)d=j[s].lng()-j[r].lng(),g=j[s].lat()-j[r].lat(),180<Math.abs(d)&&(d=360-Math.abs(d)),d*=Math.cos(y*(j[s].lat()+j[r].lat())),u=d*d+g*g,v=j[s].lng()-j[o].lng(),m=j[s].lat()-j[o].lat(),180<Math.abs(v)&&(v=360-Math.abs(v)),v*=Math.cos(y*(j[s].lat()+j[o].lat())),x=v*v+m*m,(t=u>=p+x?x:x>=p+u?u:(d*h-g*f)*(d*h-g*f)/p)>l&&(a=s,l=t);l<c?(w[q]=r,q++):(n++,b[n-1]=a,z[n-1]=o,n++,b[n-1]=r,z[n-1]=a)}else w[q]=r,q++;w[q]=e-1,q++;for(var A=[],s=0;s<q;s++)A.push(j[w[s]]);return A.map(function(a){return{type:"Point",coordinates:[a.lng,a.lat]}})},g.destinationPoint=function(b,c,d){d/=6371,c=g.numberToRadius(c);var e=g.numberToRadius(b.coordinates[0]),f=g.numberToRadius(b.coordinates[1]),h=Math.asin(Math.sin(f)*Math.cos(d)+Math.cos(f)*Math.sin(d)*Math.cos(c)),j=e+Math.atan2(Math.sin(c)*Math.sin(d)*Math.cos(f),Math.cos(d)-Math.sin(f)*Math.sin(h));return j=(j+3*Math.PI)%(2*Math.PI)-Math.PI,{type:"Point",coordinates:[g.numberToDegree(j),g.numberToDegree(h)]}}}()},{}],370:[function(a,b){"use strict";function c(a,b,c){var d,f;if(!Array.isArray(b))throw new Error("Get closest expects an array as second argument");return b.forEach(function(b,e){var g=c(b,a);0<=g&&(void 0===f||g<f)&&(f=g,d=e)}),d}b.exports={number:function(a,b){return c(a,b,function(a,b){return Math.abs(a-b)})},greaterNumber:function(a,b){return c(a,b,function(a,b){return a-b})},lowerNumber:function(a,b){return c(a,b,function(a,b){return b-a})},custom:function(a,b,d){return c(a,b,d)}}},{}],371:[function(a,b,c){arguments[4][56][0].apply(c,arguments)},{dup:56}],372:[function(a,b,c){arguments[4][57][0].apply(c,arguments)},{dup:57,quickselect:371}],373:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":374,"@turf/invariant":375,dup:8}],374:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],375:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],376:[function(a,b){var c=a("@turf/bbox"),d=a("@turf/bbox-polygon");b.exports=function(a){return d(c(a))}},{"@turf/bbox":379,"@turf/bbox-polygon":377}],377:[function(a,b,c){arguments[4][20][0].apply(c,arguments)},{"@turf/helpers":378,dup:20}],378:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],379:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{"@turf/meta":380,dup:22}],380:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],381:[function(a,b,c){arguments[4][200][0].apply(c,arguments)},{"@turf/helpers":382,"@turf/meta":383,dup:200}],382:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],383:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],384:[function(a,b){var c=a("@turf/meta").flattenEach,d=a("@turf/helpers").featureCollection;b.exports=function(a){if(!a)throw new Error("geojson is required");var b=[];return c(a,function(a){b.push(a)}),d(b)}},{"@turf/helpers":385,"@turf/meta":386}],385:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],386:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],387:[function(a,b){var c=a("@turf/meta").coordEach;b.exports=function(a,b){if(!a)throw new Error("geojson is required");return!1!==b&&void 0!==b||(a=JSON.parse(JSON.stringify(a))),c(a,function(a){var b=a[0],c=a[1];a[0]=c,a[1]=b}),a}},{"@turf/meta":388}],388:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],389:[function(b,c){"use strict";var d=Math.PI/180,f=180/Math.PI,g=function(a,b){this.lon=a,this.lat=b,this.x=d*a,this.y=d*b};g.prototype.view=function(){return(this.lon+"").slice(0,4)+","+(this.lat+"").slice(0,4)},g.prototype.antipode=function(){var a=-1*this.lat,b=0>this.lon?180+this.lon:-1*(180-this.lon);return new g(b,a)};var e=function(){this.coords=[],this.length=0};e.prototype.move_to=function(a){this.length++,this.coords.push(a)};var h=function(a){this.properties=a||{},this.geometries=[]};h.prototype.json=function(){if(0>=this.geometries.length)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var a=[],b=0;b<this.geometries.length;b++)a.push(this.geometries[b].coords);return{geometry:{type:"MultiLineString",coordinates:a},type:"Feature",properties:this.properties}},h.prototype.wkt=function(){for(var a="",b="LINESTRING(",c=function(a){b+=a[0]+" "+a[1]+","},d=0;d<this.geometries.length;d++){if(0===this.geometries[d].coords.length)return"LINESTRING(empty)";this.geometries[d].coords.forEach(c),a+=b.substring(0,b.length-1)+")"}return a};var j=function(a,b,c){if(!a||void 0===a.x||void 0===a.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!b||void 0===b.x||void 0===b.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new g(a.x,a.y),this.end=new g(b.x,b.y),this.properties=c||{};var d=this.start.x-this.end.x,f=this.start.y-this.end.y,h=Math.pow(Math.sin(f/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(d/2),2);if(this.g=2*Math.asin(Math.sqrt(h)),this.g===Math.PI)throw new Error("it appears "+a.view()+" and "+b.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+a+" and "+b)};j.prototype.interpolate=function(b){var c=Math.sin((1-b)*this.g)/Math.sin(this.g),d=Math.sin(b*this.g)/Math.sin(this.g),e=c*Math.cos(this.start.y)*Math.cos(this.start.x)+d*Math.cos(this.end.y)*Math.cos(this.end.x),g=c*Math.cos(this.start.y)*Math.sin(this.start.x)+d*Math.cos(this.end.y)*Math.sin(this.end.x),h=c*Math.sin(this.start.y)+d*Math.sin(this.end.y),j=f*Math.atan2(h,Math.sqrt(Math.pow(e,2)+Math.pow(g,2)));return[f*Math.atan2(g,e),j]},j.prototype.Arc=function(a,j){var k=[];if(!a||2>=a)k.push([this.start.lon,this.start.lat]),k.push([this.end.lon,this.end.lat]);else for(var n=0;n<a;++n){var r=1/(a-1)*n,o=this.interpolate(r);k.push(o)}for(var s=!1,l=0,c=j&&j.offset?j.offset:10,f=180-c,u=-180+c,p=360-c,d=1;d<k.length;++d){var g=k[d-1][0],y=k[d][0],v=Math.abs(y-g);v>p&&(y>f&&g<u||g>f&&y<u)?s=!0:v>l&&(l=v)}var m=[];if(s&&l<c){var x=[];m.push(x);for(var z,b=0;b<k.length;++b)if(z=parseFloat(k[b][0]),0<b&&Math.abs(z-k[b-1][0])>p){var w=parseFloat(k[b-1][0]),B=parseFloat(k[b-1][1]),E=parseFloat(k[b][0]),C=parseFloat(k[b][1]);if(-180<w&&w<u&&180===E&&b+1<k.length&&-180<k[b-1][0]&&k[b-1][0]<u){x.push([-180,k[b][1]]),b++,x.push([k[b][0],k[b][1]]);continue}if(w>f&&180>w&&-180===E&&b+1<k.length&&k[b-1][0]>f&&180>k[b-1][0]){x.push([180,k[b][1]]),b++,x.push([k[b][0],k[b][1]]);continue}if(w<u&&E>f){var G=w;w=E,E=G;var H=B;B=C,C=H}if(w>f&&E<u&&(E+=360),180>=w&&180<=E&&w<E){var I=(180-w)/(E-w),J=I*C+(1-I)*B;x.push([k[b-1][0]>f?180:-180,J]),x=[],x.push([k[b-1][0]>f?-180:180,J]),m.push(x)}else x=[],m.push(x);x.push([z,k[b][1]])}else x.push([k[b][0],k[b][1]])}else{var K=[];m.push(K);for(var L=0;L<k.length;++L)K.push([k[L][0],k[L][1]])}for(var M,D=new h(this.properties),N=0;N<m.length;++N){M=new e,D.geometries.push(M);for(var A=m[N],F=0;F<A.length;++F)M.move_to(A[F])}return D},c.exports={Coord:g,Arc:h,GreatCircle:j}},{}],390:[function(a,b){var c=a("./arc"),d=a("@turf/invariant").getCoord;b.exports=function(a,b,e,f,g){return a=d(a),b=d(b),e=e||{},f=f||100,g=g||10,new c.GreatCircle({x:a[0],y:a[1]},{x:b[0],y:b[1]},e).Arc(f,{offset:g}).json()}},{"./arc":389,"@turf/invariant":391}],391:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],392:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],393:[function(b,d){function e(b,d,e){for(var f=[],g=0;6>g;g++){var h=b[0]+d*l[g],j=b[1]+e*c[g];f.push([h,j])}return f.push(f[0].slice()),a([f])}function g(b,d,e){for(var f,g=[],h=0;6>h;h++)f=[],f.push(b),f.push([b[0]+d*l[h],b[1]+e*c[h]]),f.push([b[0]+d*l[(h+1)%6],b[1]+e*c[(h+1)%6]]),f.push(b),g.push(a([f]));return g}for(var j,k=b("@turf/distance"),m=b("@turf/helpers"),o=m.point,a=m.polygon,n=m.featureCollection,l=[],c=[],f=0;6>f;f++)j=2*Math.PI/6*f,l.push(Math.cos(j)),c.push(Math.sin(j));d.exports=function(a,j,l,r){var s=a[0],t=a[1],c=a[2],f=a[3],h=(t+f)/2,p=(s+c)/2,d=j/k(o([s,h]),o([c,h]),l),u=d*(c-s),y=j/k(o([p,t]),o([p,f]),l),v=y*(f-t),m=u/2,x=2*m,z=Math.sqrt(3)/2*v,w=c-s,b=f-t,B=.75*x,C=w/(x-m/2),E=Math.ceil(C);Math.round(C)===E&&E++;var G=(E*B-m/2-w)/2-m/2,H=Math.ceil(b/z),I=(b-H*z)/2,J=H*z-b>z/2;J&&(I-=z/4);for(var K=n([]),L=0;L<E;L++)for(var M,N=0;N<=H;N++)if(M=1==L%2,(0!==N||!M)&&(0!==N||!J)){var A=L*B+s-G,F=N*z+t+I;M&&(F-=z/2),r?K.features.push.apply(K.features,g([A,F],u/2,v/2)):K.features.push(e([A,F],u/2,v/2))}return K}},{"@turf/distance":394,"@turf/helpers":397}],394:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":395,"@turf/invariant":396,dup:8}],395:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],396:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],397:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],398:[function(a,b){var j=a("@turf/bbox"),c=a("@turf/distance"),k=a("@turf/centroid"),m=a("@turf/square-grid");b.exports=function(b,o,q,n,a){if(!o)throw new Error("valueField is required");if(void 0===q||null===q)throw new Error("weight is required");if(void 0===n||null===n)throw new Error("cellWidth is required");if(0===b.features.filter(function(a){return a.properties&&a.properties.hasOwnProperty(o)}).length)throw new Error("Specified Data Field is Missing");for(var r=m(j(b),n,a),l=r.features.length,s=0;s<l;s++){for(var f,g=0,h=0,p=0;p<b.features.length;p++){f=c(k(r.features[s]),b.features[p],a),0===f&&(g=b.features[p].properties[o]);var d=1/Math.pow(f,q);h+=d,g+=d*b.features[p].properties[o]}r.features[s].properties[o]=g/h}return r}},{"@turf/bbox":399,"@turf/centroid":401,"@turf/distance":404,"@turf/square-grid":407}],399:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{"@turf/meta":400,dup:22}],400:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],401:[function(a,b,c){arguments[4][178][0].apply(c,arguments)},{"@turf/helpers":402,"@turf/meta":403,dup:178}],402:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],403:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],404:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":405,"@turf/invariant":406,dup:8}],405:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],406:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],407:[function(b,c){var j=b("@turf/distance"),k=b("@turf/bbox"),d=b("@turf/helpers"),m=d.point,e=d.polygon,a=d.featureCollection;c.exports=function(q,r,s,n){var o=[];if(!q)throw new Error("bbox is required");if(Array.isArray(q)||(q=k(q)),4!==q.length)throw new Error("bbox must contain 4 numbers");var l=q[0],c=q[1],f=q[2],h=q[3],p=j(m([l,c]),m([f,c]),s),d=j(m([l,c]),m([l,h]),s),g=Math.ceil(p/r),u=Math.ceil(d/r),v=r/p*(f-l);!0===n&&(v*=p/r/g);var x=r/d*(h-c);!0===n&&(x*=d/r/u);for(var w=l,b=0;b<g;b++){for(var y,z=c,A=0;A<u;A++)y=e([[[w,z],[w,z+x],[w+v,z+x],[w+v,z],[w,z]]]),o.push(y),z+=x;w+=v}return a(o)}},{"@turf/bbox":408,"@turf/distance":410,"@turf/helpers":413}],408:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{"@turf/meta":409,dup:22}],409:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],410:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":411,"@turf/invariant":412,dup:8}],411:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],412:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],413:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],414:[function(a,b,c){arguments[4][36][0].apply(c,arguments)},{"@turf/invariant":415,dup:36}],415:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],416:[function(b,d){var e=b("@turf/meta"),j=b("@turf/bbox"),k=b("@turf/hex-grid"),m=b("@turf/point-grid"),g=b("@turf/distance"),a=b("@turf/centroid"),n=b("@turf/invariant"),o=b("@turf/square-grid"),c=b("@turf/triangle-grid"),f=e.featureEach,h=n.collectionOf;d.exports=function(b,p,q,n,u,l){if(!b)throw new Error("points is required");if(h(b,"Point","input must contain Points"),!p)throw new Error("cellSize is required");if(void 0!==l&&"number"!=typeof l)throw new Error("weight must be a number");n=n||"elevation",q=q||"square",l=l||1;var r,s=j(b);switch(q){case"point":case"points":r=m(s,p,u,!0);break;case"square":case"squares":r=o(s,p,u);break;case"hex":case"hexes":r=k(s,p,u);break;case"triangle":case"triangles":r=c(s,p,u);break;default:throw new Error("invalid gridType");}return f(r,function(d){var e=0,j=0;f(b,function(b){var k,m="point"===q?d:a(d),c=g(m,b,u);if(void 0!==n&&(k=b.properties[n]),void 0===k&&(k=b.geometry.coordinates[2]),void 0===k)throw new Error("zValue is missing");0===c&&(e=k);var f=1/Math.pow(c,l);j+=f,e+=f*k}),d.properties[n]=e/j}),r}},{"@turf/bbox":417,"@turf/centroid":419,"@turf/distance":422,"@turf/hex-grid":425,"@turf/invariant":430,"@turf/meta":431,"@turf/point-grid":432,"@turf/square-grid":442,"@turf/triangle-grid":449}],417:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{"@turf/meta":418,dup:22}],418:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],419:[function(a,b,c){arguments[4][178][0].apply(c,arguments)},{"@turf/helpers":420,"@turf/meta":421,dup:178}],420:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],421:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],422:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":423,"@turf/invariant":424,dup:8}],423:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],424:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],425:[function(a,b,c){arguments[4][393][0].apply(c,arguments)},{"@turf/distance":426,"@turf/helpers":429,dup:393}],426:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":427,"@turf/invariant":428,dup:8}],427:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],428:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],429:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],430:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],431:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],432:[function(b,d){var j=b("@turf/distance"),k=b("@turf/bbox"),e=b("@turf/helpers"),g=b("@turf/inside"),f=b("@turf/invariant"),q=f.getGeomType,r=e.point,l=e.featureCollection;d.exports=function(c,s,e,n,o){var a=[],f=c;if(!c)throw new Error("bbox is required");if(Array.isArray(c)||(c=k(c)),4!==c.length)throw new Error("bbox must contain 4 numbers");var h=c[0],p=c[1],d=c[2],u=c[3],y=s/j(r([h,p]),r([d,p]),e),v=y*(d-h),m=s/j(r([h,p]),r([h,u]),e),x=m*(u-p);if(!1!==n)var z=d-h,w=u-p,b=Math.floor(z/v),A=Math.floor(w/x),B=(z-b*v)/2,C=(w-A*x)/2;var D=!Array.isArray(f)&&("Polygon"===q(f)||"MultiPolygon"===q(f)),E=h;for(!1!==n&&(E+=B);E<=d;){var F=p;for(!1!==n&&(F+=C);F<=u;){var G=r([E,F]);!0===o&&D?g(G,f)&&a.push(G):a.push(G),F+=x}E+=v}return l(a)}},{"@turf/bbox":433,"@turf/distance":435,"@turf/helpers":438,"@turf/inside":439,"@turf/invariant":441}],433:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{"@turf/meta":434,dup:22}],434:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],435:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":436,"@turf/invariant":437,dup:8}],436:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],437:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],438:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],439:[function(a,b,c){arguments[4][36][0].apply(c,arguments)},{"@turf/invariant":440,dup:36}],440:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],441:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],442:[function(a,b,c){arguments[4][407][0].apply(c,arguments)},{"@turf/bbox":443,"@turf/distance":445,"@turf/helpers":448,dup:407}],443:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{"@turf/meta":444,dup:22}],444:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],445:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":446,"@turf/invariant":447,dup:8}],446:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],447:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],448:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],449:[function(a,b){var g=a("@turf/distance"),c=a("@turf/helpers"),e=c.polygon,j=c.featureCollection;b.exports=function(b,k,m){for(var n=j([]),o=k/g([b[0],b[1]],[b[2],b[1]],m),a=o*(b[2]-b[0]),q=k/g([b[0],b[1]],[b[0],b[3]],m),l=q*(b[3]-b[1]),c=0,f=b[0];f<=b[2];){for(var h=0,p=b[1];p<=b[3];)0==c%2&&0==h%2?n.features.push(e([[[f,p],[f,p+l],[f+a,p],[f,p]]]),e([[[f,p+l],[f+a,p+l],[f+a,p],[f,p+l]]])):0==c%2&&1==h%2?n.features.push(e([[[f,p],[f+a,p+l],[f+a,p],[f,p]]]),e([[[f,p],[f,p+l],[f+a,p+l],[f,p]]])):0==h%2&&1==c%2?n.features.push(e([[[f,p],[f,p+l],[f+a,p+l],[f,p]]]),e([[[f,p],[f+a,p+l],[f+a,p],[f,p]]])):1==h%2&&1==c%2&&n.features.push(e([[[f,p],[f,p+l],[f+a,p],[f,p]]]),e([[[f,p+l],[f+a,p+l],[f+a,p],[f,p+l]]])),p+=l,h++;c++,f+=a}return n}},{"@turf/distance":450,"@turf/helpers":453}],450:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":451,"@turf/invariant":452,dup:8}],451:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],452:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],453:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],454:[function(a,b){var c=a("jsts"),d=a("@turf/truncate");b.exports=function(b,f){var e="Feature"===b.type?b.geometry:b,g="Feature"===f.type?f.geometry:f,h=new c.io.GeoJSONReader,j=h.read(d(e)),a=h.read(d(g)),k=j.intersection(a);return k.isEmpty()?{type:"Feature",properties:{},geometry:null}:{type:"Feature",properties:{},geometry:new c.io.GeoJSONWriter().write(k)}}},{"@turf/truncate":455,jsts:457}],455:[function(a,b){function c(a,b,c){a.length>c&&a.splice(c,a.length);for(var d=0;d<a.length;d++)a[d]=Math.round(a[d]*b)/b;return a}var d=a("@turf/meta").coordEach;b.exports=function(a,b,f,g){if(b=void 0===b||null===b||isNaN(b)?6:b,f=void 0===f||null===f||isNaN(f)?3:f,!a)throw new Error("<geojson> is required");if("number"!=typeof b)throw new Error("<precision> must be a number");if("number"!=typeof f)throw new Error("<coordinates> must be a number");!1!==g&&void 0!==g||(a=JSON.parse(JSON.stringify(a)));var h=Math.pow(10,b);return d(a,function(a){c(a,h,f)}),a}},{"@turf/meta":456}],456:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],457:[function(a,b,c){arguments[4][176][0].apply(c,arguments)},{dup:176}],458:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],459:[function(b,j){function k(b,d,e){for(var j=[],k=1;k<d.length;k++){var m=+d[k-1],a=+d[k],n=g.isoBands(b,m,a-m),l=w(n),c=o(l),f={};f.groupedRings=c,f[e]=m+"-"+a,j.push(f)}return j}function q(b,d,e){var f=z(e),g=f[2]-f[0],h=f[3]-f[1],j=f[0],k=f[1],a=d[0].length-1,l=d.length-1,c=function(b){b[0]=b[0]*(g/a)+j,b[1]=b[1]*(h/l)+k};return b.forEach(function(a){a.groupedRings.forEach(function(a){a.forEach(function(a){a.forEach(c)})})}),b}function w(a){var b=[],c=[];a.forEach(function(a){var d=l(p([a]));c.push(d),b.push({ring:a,area:d})}),c.sort(function(a,b){return b-a});var d=[];return c.forEach(function(a){for(var c=0;c<b.length;c++)if(b[c].area===a){d.push(b[c].ring),b.splice(c,1);break}}),d}function o(b){for(var c=b.map(function(a){return{lrCoordinates:a,grouped:!1}}),d=[];!a(c);)for(var e=0;e<c.length;e++)if(!c[e].grouped){var f=[];f.push(c[e].lrCoordinates),c[e].grouped=!0;for(var g=p([c[e].lrCoordinates]),h=e+1;h<c.length;h++)if(!c[h].grouped){var j=p([c[h].lrCoordinates]);n(j,g)&&(f.push(c[h].lrCoordinates),c[h].grouped=!0)}d.push(f)}return d}function n(a,b){for(var d=f(a),e=0;e<d.features.length;e++)if(!c(d.features[e],b))return!1;return!0}function a(a){for(var b=0;b<a.length;b++)if(!1===a[b].grouped)return!1;return!0}var z=b("@turf/bbox"),l=b("@turf/area"),c=b("@turf/inside"),e=b("@turf/helpers"),f=b("@turf/explode"),h=b("@turf/invariant"),d=b("grid-to-matrix"),g=b("marchingsquares"),p=e.polygon,r=e.multiPolygon,m=h.collectionOf,v=e.featureCollection;j.exports=function(b,g,h,j){var o=function(a){return!!a&&a.constructor===Object};if(m(b,"Point","Input must contain Points"),!g||!Array.isArray(g))throw new Error("breaks is required");if(j=j||{},j.commonProperties&&!o(j.commonProperties))throw new Error("commonProperties is not an Object");if(j.isobandProperties&&!Array.isArray(j.isobandProperties))throw new Error("isobandProperties is not an Array");if(h&&"string"!=typeof h)throw new Error("zProperty is not a string");h=h||"elevation";var p=j.commonProperties||{},a=j.isobandProperties||[],s=d(b,h,!0),l=k(s,g,h);l=q(l,s,b);var c=l.map(function(b,c){if(a[c]&&!o(a[c]))throw new Error("Each mappedProperty is required to be an Object");var d=Object.assign({},p,a[c]);return d[h]=b[h],r(b.groupedRings,d)});return v(c)}},{"@turf/area":461,"@turf/bbox":462,"@turf/explode":463,"@turf/helpers":464,"@turf/inside":465,"@turf/invariant":466,"grid-to-matrix":468,marchingsquares:473}],460:[function(a,b,c){arguments[4][13][0].apply(c,arguments)},{dup:13,wgs84:474}],461:[function(a,b){var c=a("@mapbox/geojson-area").geometry,d=a("@turf/meta").geomReduce;b.exports=function(a){return d(a,function(a,b){return a+c(b)},0)}},{"@mapbox/geojson-area":460,"@turf/meta":467}],462:[function(a,b,c){arguments[4][47][0].apply(c,arguments)},{"@turf/meta":467,dup:47}],463:[function(a,b){var c=a("@turf/helpers").featureCollection,d=a("@turf/meta").featureEach,f=a("@turf/meta").coordEach,g=a("@turf/helpers").point;b.exports=function(a){var b=[];return"FeatureCollection"===a.type?d(a,function(a){f(a,function(c){b.push(g(c,a.properties))})}):f(a,function(c){b.push(g(c,a.properties))}),c(b)}},{"@turf/helpers":464,"@turf/meta":467}],464:[function(a,b){function c(a,b){if(!a)throw new Error("No geometry passed");return{type:"Feature",properties:b||{},geometry:a}}b.exports.feature=c,b.exports.point=function(a,b){if(!a)throw new Error("No coordinates passed");if(void 0===a.length)throw new Error("Coordinates must be an array");if(2>a.length)throw new Error("Coordinates must be at least 2 numbers long");if("number"!=typeof a[0]||"number"!=typeof a[1])throw new Error("Coordinates must numbers");return c({type:"Point",coordinates:a},b)},b.exports.polygon=function(a,b){if(!a)throw new Error("No coordinates passed");for(var d,e=0;e<a.length;e++){if(d=a[e],4>d.length)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var f=0;f<d[d.length-1].length;f++)if(d[d.length-1][f]!==d[0][f])throw new Error("First and last Position are not equivalent.")}return c({type:"Polygon",coordinates:a},b)},b.exports.lineString=function(a,b){if(!a)throw new Error("No coordinates passed");return c({type:"LineString",coordinates:a},b)},b.exports.featureCollection=function(a){if(!a)throw new Error("No features passed");return{type:"FeatureCollection",features:a}},b.exports.multiLineString=function(a,b){if(!a)throw new Error("No coordinates passed");return c({type:"MultiLineString",coordinates:a},b)},b.exports.multiPoint=function(a,b){if(!a)throw new Error("No coordinates passed");return c({type:"MultiPoint",coordinates:a},b)},b.exports.multiPolygon=function(a,b){if(!a)throw new Error("No coordinates passed");return c({type:"MultiPolygon",coordinates:a},b)},b.exports.geometryCollection=function(a,b){if(!a)throw new Error("No geometries passed");return c({type:"GeometryCollection",geometries:a},b)};var d={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,kilometers:6373,kilometres:6373,feet:20908792.65};b.exports.radiansToDistance=function(a,b){var c=d[b||"kilometers"];if(void 0===c)throw new Error("Invalid unit");return a*c},b.exports.distanceToRadians=function(a,b){var c=d[b||"kilometers"];if(void 0===c)throw new Error("Invalid unit");return a/c},b.exports.distanceToDegrees=function(a,b){var c=d[b||"kilometers"];if(void 0===c)throw new Error("Invalid unit");return 57.2958*(a/c)}},{}],465:[function(a,b){function c(b,c,d){var e=!1;c[0][0]===c[c.length-1][0]&&c[0][1]===c[c.length-1][1]&&(c=c.slice(0,c.length-1));for(var f=0,g=c.length-1;f<c.length;g=f++){var h=c[f][0],j=c[f][1],a=c[g][0],k=c[g][1];if(0==b[1]*(h-a)+j*(a-b[0])+k*(b[0]-h)&&0>=(h-b[0])*(a-b[0])&&0>=(j-b[1])*(k-b[1]))return!d;j>b[1]!=k>b[1]&&b[0]<(a-h)*(b[1]-j)/(k-j)+h&&(e=!e)}return e}var d=a("@turf/invariant");b.exports=function(b,f){var e=d.getCoord(b),g=f.geometry.coordinates;"Polygon"===f.geometry.type&&(g=[g]);for(var h=0,j=!1;h<g.length&&!j;h++)if(c(e,g[h][0])){for(var k=!1,m=1;m<g[h].length&&!k;)c(e,g[h][m],!0)&&(k=!0),m++;k||(j=!0)}return j}},{"@turf/invariant":466}],466:[function(a,b){function c(a){if(!a)throw new Error("No obj passed");var b;if(a.length?b=a:a.coordinates?b=a.coordinates:a.geometry&&a.geometry.coordinates&&(b=a.geometry.coordinates),b)return d(b),b;throw new Error("No valid coordinates")}function d(a){if(1<a.length&&"number"==typeof a[0]&&"number"==typeof a[1])return!0;if(a[0].length)return d(a[0]);throw new Error("coordinates must only contain numbers")}b.exports.geojsonType=function(a,b,c){if(!b||!c)throw new Error("type and name required");if(!a||a.type!==b)throw new Error("Invalid input to "+c+": must be a "+b+", given "+a.type)},b.exports.collectionOf=function(a,b,c){if(!a)throw new Error("No featureCollection passed");if(!c)throw new Error(".collectionOf() requires a name");if(!a||"FeatureCollection"!==a.type)throw new Error("Invalid input to "+c+", FeatureCollection required");for(var d,e=0;e<a.features.length;e++){if(d=a.features[e],!d||"Feature"!==d.type||!d.geometry)throw new Error("Invalid input to "+c+", Feature with geometry required");if(!d.geometry||d.geometry.type!==b)throw new Error("Invalid input to "+c+": must be a "+b+", given "+d.geometry.type)}},b.exports.featureOf=function(a,b,c){if(!a)throw new Error("No feature passed");if(!c)throw new Error(".featureOf() requires a name");if(!a||"Feature"!==a.type||!a.geometry)throw new Error("Invalid input to "+c+", Feature with geometry required");if(!a.geometry||a.geometry.type!==b)throw new Error("Invalid input to "+c+": must be a "+b+", given "+a.geometry.type)},b.exports.getCoord=function(a){if(!a)throw new Error("No obj passed");var b=c(a);if(1<b.length&&"number"==typeof b[0]&&"number"==typeof b[1])return b;throw new Error("Coordinate is not a valid Point")},b.exports.getCoords=c},{}],467:[function(b,d){function f(b,j,e){var k,n,o,q,a,r,l,c,s,h,p=0,d=0,g="FeatureCollection"===b.type,t="Feature"===b.type,u=g?b.features.length:1;for(k=0;k<u;k++)for(s=g?b.features[k].geometry:t?b.geometry:b,h="GeometryCollection"===s.type,l=h?s.geometries.length:1,q=0;q<l;q++)if(r=h?s.geometries[q]:s,c=r.coordinates,p=e&&("Polygon"===r.type||"MultiPolygon"===r.type)?1:0,"Point"===r.type)j(c,d),d++;else if("LineString"===r.type||"MultiPoint"===r.type)for(n=0;n<c.length;n++)j(c[n],d),d++;else if("Polygon"===r.type||"MultiLineString"===r.type)for(n=0;n<c.length;n++)for(o=0;o<c[n].length-p;o++)j(c[n][o],d),d++;else if("MultiPolygon"===r.type)for(n=0;n<c.length;n++)for(o=0;o<c[n].length;o++)for(a=0;a<c[n][o].length-p;a++)j(c[n][o][a],d),d++;else{if("GeometryCollection"!==r.type)throw new Error("Unknown Geometry Type");for(n=0;n<r.geometries.length;n++)f(r.geometries[n],j,e)}}function e(a,b,c,d){var e=c;return f(a,function(a,d){e=0===d&&void 0===c?a:b(e,a,d)},d),e}function g(a,b){var c;switch(a.type){case"FeatureCollection":for(c=0;c<a.features.length;c++)b(a.features[c].properties,c);break;case"Feature":b(a.properties,0);}}function h(a,b){if("Feature"===a.type)b(a,0);else if("FeatureCollection"===a.type)for(var c=0;c<a.features.length;c++)b(a.features[c],c)}function a(b,d){var e,g,j,k,m,n,a,o=0,l="FeatureCollection"===b.type,p="Feature"===b.type,f=l?b.features.length:1;for(e=0;e<f;e++)for(n=l?b.features[e].geometry:p?b.geometry:b,a="GeometryCollection"===n.type,m=a?n.geometries.length:1,j=0;j<m;j++)if(k=a?n.geometries[j]:n,"Point"===k.type||"LineString"===k.type||"MultiPoint"===k.type||"Polygon"===k.type||"MultiLineString"===k.type||"MultiPolygon"===k.type)d(k,o),o++;else{if("GeometryCollection"!==k.type)throw new Error("Unknown Geometry Type");for(g=0;g<k.geometries.length;g++)d(k.geometries[g],o),o++}}d.exports.coordEach=f,d.exports.coordReduce=e,d.exports.propEach=g,d.exports.propReduce=function(a,b,c){var d=c;return g(a,function(a,e){d=0===e&&void 0===c?a:b(d,a,e)}),d},d.exports.featureEach=h,d.exports.featureReduce=function(a,b,c){var d=c;return h(a,function(a,e){d=0===e&&void 0===c?a:b(d,a,e)}),d},d.exports.coordAll=function(a){var b=[];return f(a,function(a){b.push(a)}),b},d.exports.geomEach=a,d.exports.geomReduce=function(b,c,d){var e=d;return a(b,function(a,b){e=0===b&&void 0===d?a:c(e,a,b)}),e}},{}],468:[function(a,b){function d(a,b){var d={};return f(a,function(a){var b=c(a)[1];d[b]||(d[b]=[]),d[b].push(a)}),Object.keys(d).map(function(a){return d[a].sort(function(a,b){return c(a)[0]-c(b)[0]})}).sort(function(a,d){return b?c(a[0])[1]-c(d[0])[1]:c(d[0])[1]-c(a[0])[1]})}var g=a("@turf/invariant"),c=g.getCoords,f=a("@turf/meta").featureEach;b.exports=function(b,h,e){g.collectionOf(b,"Point","input must contain Points"),h=h||"elevation";for(var j=d(b,e),k=[],m=0;m<j.length;m++){for(var a,f=j[m],n=[],l=0;l<f.length;l++)a=f[l],a.properties[h]?n.push(a.properties[h]):n.push(0);k.push(n)}return k}},{"@turf/invariant":469,"@turf/meta":470}],469:[function(a,b){function c(a){if(!a)throw new Error("obj is required");var b;if(a.length?b=a:a.coordinates?b=a.coordinates:a.geometry&&a.geometry.coordinates&&(b=a.geometry.coordinates),b)return d(b),b;throw new Error("No valid coordinates")}function d(a){if(1<a.length&&"number"==typeof a[0]&&"number"==typeof a[1])return!0;if(Array.isArray(a[0])&&a[0].length)return d(a[0]);throw new Error("coordinates must only contain numbers")}function f(a){if(!a)throw new Error("geojson is required");if(void 0!==a.geometry)return a.geometry;if(a.coordinates||a.geometries)return a;throw new Error("geojson must be a valid Feature or Geometry Object")}b.exports={geojsonType:function(a,b,c){if(!b||!c)throw new Error("type and name required");if(!a||a.type!==b)throw new Error("Invalid input to "+c+": must be a "+b+", given "+a.type)},collectionOf:function(a,b,c){if(!a)throw new Error("No featureCollection passed");if(!c)throw new Error(".collectionOf() requires a name");if(!a||"FeatureCollection"!==a.type)throw new Error("Invalid input to "+c+", FeatureCollection required");for(var d,e=0;e<a.features.length;e++){if(d=a.features[e],!d||"Feature"!==d.type||!d.geometry)throw new Error("Invalid input to "+c+", Feature with geometry required");if(!d.geometry||d.geometry.type!==b)throw new Error("Invalid input to "+c+": must be a "+b+", given "+d.geometry.type)}},featureOf:function(a,b,c){if(!a)throw new Error("No feature passed");if(!c)throw new Error(".featureOf() requires a name");if(!a||"Feature"!==a.type||!a.geometry)throw new Error("Invalid input to "+c+", Feature with geometry required");if(!a.geometry||a.geometry.type!==b)throw new Error("Invalid input to "+c+": must be a "+b+", given "+a.geometry.type)},getCoord:function(a){if(!a)throw new Error("obj is required");var b=c(a);if(1<b.length&&"number"==typeof b[0]&&"number"==typeof b[1])return b;throw new Error("Coordinate is not a valid Point")},getCoords:c,containsNumber:d,getGeom:f,getGeomType:function(a){if(!a)throw new Error("geojson is required");var b=f(a);if(b)return b.type}}},{}],470:[function(b,f){function g(b,j,e){if(null!==b){var k,m,n,o,a,q,l,c,f,r,p=0,d=0,s=b.type,t="FeatureCollection"===s,u=t?b.features.length:1;for(k=0;k<u;k++){var v=0;for(f=t?b.features[k].geometry:"Feature"===s?b.geometry:b,r=!!f&&"GeometryCollection"===f.type,l=r?f.geometries.length:1,m=0;m<l;m++)if(null!==(q=r?f.geometries[m]:f)){c=q.coordinates;var x=q.type;switch(p=e&&("Polygon"===x||"MultiPolygon"===x)?1:0,x){case null:break;case"Point":j(c,d,k,v),d++,v++;break;case"LineString":case"MultiPoint":for(n=0;n<c.length;n++)j(c[n],d,k,v),d++,v++;break;case"Polygon":case"MultiLineString":for(n=0;n<c.length;n++)for(o=0;o<c[n].length-p;o++)j(c[n][o],d,k,v),d++,v++;break;case"MultiPolygon":for(n=0;n<c.length;n++)for(o=0;o<c[n].length;o++)for(a=0;a<c[n][o].length-p;a++)j(c[n][o][a],d,k,v),d++,v++;break;case"GeometryCollection":for(n=0;n<q.geometries.length;n++)g(q.geometries[n],j,e);break;default:throw new Error("Unknown Geometry Type");}}}}}function j(a,b,c,d){var e=c;return g(a,function(a,d,f,g){e=0===d&&void 0===c?a:b(e,a,d,f,g)},d),e}function k(a,b){var c;switch(a.type){case"FeatureCollection":for(c=0;c<a.features.length;c++)b(a.features[c].properties,c);break;case"Feature":b(a.properties,0);}}function l(a,b){if("Feature"===a.type)b(a,0);else if("FeatureCollection"===a.type)for(var c=0;c<a.features.length;c++)b(a.features[c],c)}function m(b,d){var e,g,j,k,m,n,o,q,l=0,r="FeatureCollection"===b.type,f="Feature"===b.type,h=r?b.features.length:1;for(e=0;e<h;e++)for(n=r?b.features[e].geometry:f?b.geometry:b,q=r?b.features[e].properties:f?b.properties:{},o=!!n&&"GeometryCollection"===n.type,m=o?n.geometries.length:1,j=0;j<m;j++)if(null!==(k=o?n.geometries[j]:n))switch(k.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":d(k,l,q),l++;break;case"GeometryCollection":for(g=0;g<k.geometries.length;g++)d(k.geometries[g],l,q),l++;break;default:throw new Error("Unknown Geometry Type");}else d(null,l,q),l++}function p(a,b){m(a,function(a,c,d){var e=null===a?null:a.type;switch(e){case null:case"Point":case"LineString":case"Polygon":return void b(s(a,d),c,0);}var f;"MultiPoint"===e?f="Point":"MultiLineString"===e?f="LineString":"MultiPolygon"===e?f="Polygon":void 0,a.coordinates.forEach(function(a,e){b(s({type:f,coordinates:a},d),c,e)})})}function q(a,b){p(a,function(a,c){var d=0;if(a.geometry){var e=a.geometry.type;"Point"!==e&&"MultiPoint"!==e&&j(a,function(e,f){var g=u([e,f],a.properties);return b(g,c,d),d++,f})}})}function s(a,b){if(void 0===a)throw new Error("No geometry passed");return{type:"Feature",properties:b||{},geometry:a}}function u(a,b){if(!a)throw new Error("No coordinates passed");if(2>a.length)throw new Error("Coordinates must be an array of two or more positions");return{type:"Feature",properties:b||{},geometry:{type:"LineString",coordinates:a}}}f.exports={coordEach:g,coordReduce:j,propEach:k,propReduce:function(a,b,c){var d=c;return k(a,function(a,e){d=0===e&&void 0===c?a:b(d,a,e)}),d},featureEach:l,featureReduce:function(a,b,c){var d=c;return l(a,function(a,e){d=0===e&&void 0===c?a:b(d,a,e)}),d},coordAll:function(a){var b=[];return g(a,function(a){b.push(a)}),b},geomEach:m,geomReduce:function(a,b,c){var d=c;return m(a,function(a,e,f){d=0===e&&void 0===c?a:b(d,a,e,f)}),d},flattenEach:p,flattenReduce:function(a,b,c){var d=c;return p(a,function(a,e,f){d=0===e&&0===f&&void 0===c?a:b(d,a,e,f)}),d},segmentEach:q,segmentReduce:function(a,b,c){var d=c;return q(a,function(a,e,f){d=0===e&&void 0===c?a:b(d,a,e,f)}),d}}},{}],471:[function(b,c){!function(b,d){"function"==typeof a&&a.amd?a([],function(){return{isoBands:d()}}):"object"==("undefined"===typeof c?"undefined":j(c))&&c.exports?c.exports={isoBands:d()}:b.MarchingSquaresJS={isoBands:d(),isoContours:b.MarchingSquaresJS?b.MarchingSquaresJS.isoContours:null}}(this,function(){function H(b,f,e,g){g=g||{};for(var j=Object.keys(l),k=0;k<j.length;k++){var a=j[k],m=g[a];m=void 0!==m&&null!==m?m:l[a],c[a]=m}c.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+f+":"+(f+e)+"]");var h,n=K(b,f,e);return c.polygons?(c.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),h=r(n)):(c.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),h=Q(n)),"function"==typeof c.successCallback&&c.successCallback(h),h}function t(a,b,c){return(a-b)/(c-b)}function J(a){return-1<a.constructor.toString().indexOf("Array")}function K(e,j,k){for(var n=e.length-1,q=e[0].length-1,z={rows:n,cols:q,cells:[]},s=j+Math.abs(k),a=0;a<n;++a){z.cells[a]=[];for(var u=0;u<q;++u){var l=0,A=e[a+1][u],f=e[a+1][u+1],h=e[a][u+1],p=e[a][u];if(!(isNaN(A)||isNaN(f)||isNaN(h)||isNaN(p))){l|=A<j?0:A>s?128:64,l|=f<j?0:f>s?32:16,l|=h<j?0:h>s?8:4,l|=p<j?0:p>s?2:1;var d=+l,B=0;if(17===l||18===l||33===l||34===l||38===l||68===l||72===l||98===l||102===l||132===l||136===l||137===l||152===l||153===l){var D=(A+f+h+p)/4;B=D>s?2:D<j?0:1,34===l?1===B?l=35:0===B&&(l=136):136===l?1===B?(l=35,B=4):0===B&&(l=34):17===l?1===B?(l=155,B=4):0===B&&(l=153):68===l?1===B?(l=103,B=4):0===B&&(l=102):153===l?1===B&&(l=155):102===l?1===B&&(l=103):152===l?2>B&&(l=156,B=1):137===l?2>B&&(l=139,B=1):98===l?2>B&&(l=99,B=1):38===l?2>B&&(l=39,B=1):18===l?0<B?(l=156,B=4):l=152:33===l?0<B?(l=139,B=4):l=137:72===l?0<B?(l=99,B=4):l=98:132===l&&(0<B?(l=39,B=4):l=38)}if(0!=l&&170!=l){var v,F,G,H,J,K,L,M;v=F=G=H=J=K=L=M=.5;var O=[];1===l?(G=1-t(j,h,p),M=1-t(j,A,p),O.push(_[l])):169===l?(G=t(s,p,h),M=t(s,p,A),O.push(_[l])):4===l?(K=1-t(j,f,h),H=t(j,p,h),O.push(X[l])):166===l?(K=t(s,h,f),H=1-t(s,h,p),O.push(X[l])):16===l?(J=t(j,h,f),F=t(j,A,f),O.push(W[l])):154===l?(J=1-t(s,f,h),F=1-t(s,f,A),O.push(W[l])):64===l?(L=t(j,p,A),v=1-t(j,f,A),O.push(ba[l])):106===l?(L=1-t(s,A,p),v=t(s,A,f),O.push(ba[l])):168===l?(H=t(s,p,h),G=t(j,p,h),M=t(j,p,A),L=t(s,p,A),O.push(Y[l]),O.push(_[l])):2===l?(H=1-t(j,h,p),G=1-t(s,h,p),M=1-t(s,A,p),L=1-t(j,A,p),O.push(Y[l]),O.push(_[l])):162===l?(J=t(s,h,f),K=t(j,h,f),H=1-t(j,h,p),G=1-t(s,h,p),O.push(Y[l]),O.push(_[l])):8===l?(J=1-t(j,f,h),K=1-t(s,f,h),H=t(s,p,h),G=t(j,p,h),O.push(W[l]),O.push(X[l])):138===l?(J=1-t(j,f,h),K=1-t(s,f,h),v=1-t(s,f,A),F=1-t(j,f,A),O.push(W[l]),O.push(X[l])):32===l?(J=t(s,h,f),K=t(j,h,f),v=t(j,A,f),F=t(s,A,f),O.push(W[l]),O.push(X[l])):42===l?(M=1-t(s,A,p),L=1-t(j,A,p),v=t(j,A,f),F=t(s,A,f),O.push(aa[l]),O.push(ba[l])):128===l&&(M=t(j,p,A),L=t(s,p,A),v=1-t(s,f,A),F=1-t(j,f,A),O.push(aa[l]),O.push(ba[l])),5===l?(K=1-t(j,f,h),M=1-t(j,A,p),O.push(X[l])):165===l?(K=t(s,h,f),M=t(s,p,A),O.push(X[l])):20===l?(H=t(j,p,h),F=t(j,A,f),O.push(Y[l])):150===l?(H=1-t(s,h,p),F=1-t(s,f,A),O.push(Y[l])):80===l?(J=t(j,h,f),L=t(j,p,A),O.push(W[l])):90===l?(J=1-t(s,f,h),L=1-t(s,A,p),O.push(W[l])):65===l?(G=1-t(j,h,p),v=1-t(j,f,A),O.push(_[l])):105===l?(G=t(s,p,h),v=t(s,A,f),O.push(_[l])):160===l?(J=t(s,h,f),K=t(j,h,f),M=t(j,p,A),L=t(s,p,A),O.push(W[l]),O.push(X[l])):10===l?(J=1-t(j,f,h),K=1-t(s,f,h),M=1-t(s,A,p),L=1-t(j,A,p),O.push(W[l]),O.push(X[l])):130===l?(H=1-t(j,h,p),G=1-t(s,h,p),v=1-t(s,f,A),F=1-t(j,f,A),O.push(Y[l]),O.push(_[l])):40===l?(H=t(s,p,h),G=t(j,p,h),v=t(j,A,f),F=t(s,A,f),O.push(Y[l]),O.push(_[l])):101===l?(K=t(s,h,f),v=t(s,A,f),O.push(X[l])):69===l?(K=1-t(j,f,h),v=1-t(j,f,A),O.push(X[l])):149===l?(M=t(s,p,A),F=1-t(s,f,A),O.push(aa[l])):21===l?(M=1-t(j,A,p),F=t(j,A,f),O.push(aa[l])):86===l?(H=1-t(s,h,p),L=1-t(s,A,p),O.push(Y[l])):84===l?(H=t(j,p,h),L=t(j,p,A),O.push(Y[l])):89===l?(J=1-t(s,f,h),G=t(s,p,h),O.push(_[l])):81===l?(J=t(j,h,f),G=1-t(j,h,p),O.push(_[l])):96===l?(J=t(s,h,f),K=t(j,h,f),L=t(j,p,A),v=t(s,A,f),O.push(W[l]),O.push(X[l])):74===l?(J=1-t(j,f,h),K=1-t(s,f,h),L=1-t(s,A,p),v=1-t(j,f,A),O.push(W[l]),O.push(X[l])):24===l?(J=1-t(s,f,h),H=t(s,p,h),G=t(j,p,h),F=t(j,A,f),O.push(W[l]),O.push(_[l])):146===l?(J=t(j,h,f),H=1-t(j,h,p),G=1-t(s,h,p),F=1-t(s,f,A),O.push(W[l]),O.push(_[l])):6===l?(K=1-t(j,f,h),H=1-t(s,h,p),M=1-t(s,A,p),L=1-t(j,A,p),O.push(X[l]),O.push(Y[l])):164===l?(K=t(s,h,f),H=t(j,p,h),M=t(j,p,A),L=t(s,p,A),O.push(X[l]),O.push(Y[l])):129===l?(G=1-t(j,h,p),M=t(s,p,A),v=1-t(s,f,A),F=1-t(j,f,A),O.push(_[l]),O.push(aa[l])):41===l?(G=t(s,p,h),M=1-t(j,A,p),v=t(j,A,f),F=t(s,A,f),O.push(_[l]),O.push(aa[l])):66===l?(H=1-t(j,h,p),G=1-t(s,h,p),L=1-t(s,A,p),v=1-t(j,f,A),O.push(Y[l]),O.push(_[l])):104===l?(H=t(s,p,h),G=t(j,p,h),L=t(j,p,A),v=t(s,A,f),O.push(_[l]),O.push(ca[l])):144===l?(J=t(j,h,f),M=t(j,p,A),L=t(s,p,A),F=1-t(s,f,A),O.push(W[l]),O.push(ba[l])):26===l?(J=1-t(s,f,h),M=1-t(s,A,p),L=1-t(j,A,p),F=t(j,A,f),O.push(W[l]),O.push(ba[l])):36===l?(K=t(s,h,f),H=t(j,p,h),v=t(j,A,f),F=t(s,A,f),O.push(X[l]),O.push(Y[l])):134===l?(K=1-t(j,f,h),H=1-t(s,h,p),v=1-t(s,f,A),F=1-t(j,f,A),O.push(X[l]),O.push(Y[l])):9===l?(J=1-t(j,f,h),K=1-t(s,f,h),G=t(s,p,h),M=1-t(j,A,p),O.push(W[l]),O.push(X[l])):161===l?(J=t(s,h,f),K=t(j,h,f),G=1-t(j,h,p),M=t(s,p,A),O.push(W[l]),O.push(X[l])):37===l?(K=t(s,h,f),M=1-t(j,A,p),v=t(j,A,f),F=t(s,A,f),O.push(X[l]),O.push(aa[l])):133===l?(K=1-t(j,f,h),M=t(s,p,A),v=1-t(s,f,A),F=1-t(j,f,A),O.push(X[l]),O.push(aa[l])):148===l?(H=t(j,p,h),M=t(j,p,A),L=t(s,p,A),F=1-t(s,f,A),O.push(Y[l]),O.push(ba[l])):22===l?(H=1-t(s,h,p),M=1-t(s,A,p),L=1-t(j,A,p),F=t(j,A,f),O.push(Y[l]),O.push(ba[l])):82===l?(J=t(j,h,f),H=1-t(j,h,p),G=1-t(s,h,p),L=1-t(s,A,p),O.push(W[l]),O.push(_[l])):88===l?(J=1-t(s,f,h),H=t(s,p,h),G=t(j,p,h),L=t(j,p,A),O.push(W[l]),O.push(_[l])):73===l?(J=1-t(j,f,h),K=1-t(s,f,h),G=t(s,p,h),v=1-t(j,f,A),O.push(W[l]),O.push(X[l])):97===l?(J=t(s,h,f),K=t(j,h,f),G=1-t(j,h,p),v=t(s,A,f),O.push(W[l]),O.push(X[l])):145===l?(J=t(j,h,f),G=1-t(j,h,p),M=t(s,p,A),F=1-t(s,f,A),O.push(W[l]),O.push(aa[l])):25===l?(J=1-t(s,f,h),G=t(s,p,h),M=1-t(j,A,p),F=t(j,A,f),O.push(W[l]),O.push(aa[l])):70===l?(K=1-t(j,f,h),H=1-t(s,h,p),L=1-t(s,A,p),v=1-t(j,f,A),O.push(X[l]),O.push(Y[l])):100===l?(K=t(s,h,f),H=t(j,p,h),L=t(j,p,A),v=t(s,A,f),O.push(X[l]),O.push(Y[l])):34===l?(0===B?(J=1-t(j,f,h),K=1-t(s,f,h),H=t(s,p,h),G=t(j,p,h),M=t(j,p,A),L=t(s,p,A),v=1-t(s,f,A),F=1-t(j,f,A)):(J=t(s,h,f),K=t(j,h,f),H=1-t(j,h,p),G=1-t(s,h,p),M=1-t(s,A,p),L=1-t(j,A,p),v=t(j,A,f),F=t(s,A,f)),O.push(W[l]),O.push(X[l]),O.push(aa[l]),O.push(ba[l])):35===l?(4===B?(J=1-t(j,f,h),K=1-t(s,f,h),H=t(s,p,h),G=t(j,p,h),M=t(j,p,A),L=t(s,p,A),v=1-t(s,f,A),F=1-t(j,f,A)):(J=t(s,h,f),K=t(j,h,f),H=1-t(j,h,p),G=1-t(s,h,p),M=1-t(s,A,p),L=1-t(j,A,p),v=t(j,A,f),F=t(s,A,f)),O.push(W[l]),O.push(X[l]),O.push(_[l]),O.push(ba[l])):136===l?(0===B?(J=t(s,h,f),K=t(j,h,f),H=1-t(j,h,p),G=1-t(s,h,p),M=1-t(s,A,p),L=1-t(j,A,p),v=t(j,A,f),F=t(s,A,f)):(J=1-t(j,f,h),K=1-t(s,f,h),H=t(s,p,h),G=t(j,p,h),M=t(j,p,A),L=t(s,p,A),v=1-t(s,f,A),F=1-t(j,f,A)),O.push(W[l]),O.push(X[l]),O.push(aa[l]),O.push(ba[l])):153===l?(0===B?(J=t(j,h,f),G=1-t(j,h,p),M=1-t(j,A,p),F=t(j,A,f)):(J=1-t(s,f,h),G=t(s,p,h),M=t(s,p,A),F=1-t(s,f,A)),O.push(W[l]),O.push(_[l])):102===l?(0===B?(K=1-t(j,f,h),H=t(j,p,h),L=t(j,p,A),v=1-t(j,f,A)):(K=t(s,h,f),H=1-t(s,h,p),L=1-t(s,A,p),v=t(s,A,f)),O.push(X[l]),O.push(ba[l])):155===l?(4===B?(J=t(j,h,f),G=1-t(j,h,p),M=1-t(j,A,p),F=t(j,A,f)):(J=1-t(s,f,h),G=t(s,p,h),M=t(s,p,A),F=1-t(s,f,A)),O.push(W[l]),O.push(aa[l])):103===l?(4===B?(K=1-t(j,f,h),H=t(j,p,h),L=t(j,p,A),v=1-t(j,f,A)):(K=t(s,h,f),H=1-t(s,h,p),L=1-t(s,A,p),v=t(s,A,f)),O.push(X[l]),O.push(Y[l])):152===l?(0===B?(J=t(j,h,f),H=1-t(j,h,p),G=1-t(s,h,p),M=1-t(s,A,p),L=1-t(j,A,p),F=t(j,A,f)):(J=1-t(s,f,h),H=t(s,p,h),G=t(j,p,h),M=t(j,p,A),L=t(s,p,A),F=1-t(s,f,A)),O.push(W[l]),O.push(Y[l]),O.push(_[l])):156===l?(4===B?(J=t(j,h,f),H=1-t(j,h,p),G=1-t(s,h,p),M=1-t(s,A,p),L=1-t(j,A,p),F=t(j,A,f)):(J=1-t(s,f,h),H=t(s,p,h),G=t(j,p,h),M=t(j,p,A),L=t(s,p,A),F=1-t(s,f,A)),O.push(W[l]),O.push(_[l]),O.push(ba[l])):137===l?(0===B?(J=t(s,h,f),K=t(j,h,f),G=1-t(j,h,p),M=1-t(j,A,p),v=t(j,A,f),F=t(s,A,f)):(J=1-t(j,f,h),K=1-t(s,f,h),G=t(s,p,h),M=t(s,p,A),v=1-t(s,f,A),F=1-t(j,f,A)),O.push(W[l]),O.push(X[l]),O.push(_[l])):139===l?(4===B?(J=t(s,h,f),K=t(j,h,f),G=1-t(j,h,p),M=1-t(j,A,p),v=t(j,A,f),F=t(s,A,f)):(J=1-t(j,f,h),K=1-t(s,f,h),G=t(s,p,h),M=t(s,p,A),v=1-t(s,f,A),F=1-t(j,f,A)),O.push(W[l]),O.push(X[l]),O.push(aa[l])):98===l?(0===B?(J=1-t(j,f,h),K=1-t(s,f,h),H=t(s,p,h),G=t(j,p,h),L=t(j,p,A),v=1-t(j,f,A)):(J=t(s,h,f),K=t(j,h,f),H=1-t(j,h,p),G=1-t(s,h,p),L=1-t(s,A,p),v=t(s,A,f)),O.push(W[l]),O.push(X[l]),O.push(ba[l])):99===l?(4===B?(J=1-t(j,f,h),K=1-t(s,f,h),H=t(s,p,h),G=t(j,p,h),L=t(j,p,A),v=1-t(j,f,A)):(J=t(s,h,f),K=t(j,h,f),H=1-t(j,h,p),G=1-t(s,h,p),L=1-t(s,A,p),v=t(s,A,f)),O.push(W[l]),O.push(X[l]),O.push(_[l])):38===l?(0===B?(K=1-t(j,f,h),H=t(j,p,h),M=t(j,p,A),L=t(s,p,A),v=1-t(s,f,A),F=1-t(j,f,A)):(K=t(s,h,f),H=1-t(s,h,p),M=1-t(s,A,p),L=1-t(j,A,p),v=t(j,A,f),F=t(s,A,f)),O.push(X[l]),O.push(aa[l]),O.push(ba[l])):39===l?(4===B?(K=1-t(j,f,h),H=t(j,p,h),M=t(j,p,A),L=t(s,p,A),v=1-t(s,f,A),F=1-t(j,f,A)):(K=t(s,h,f),H=1-t(s,h,p),M=1-t(s,A,p),L=1-t(j,A,p),v=t(j,A,f),F=t(s,A,f)),O.push(X[l]),O.push(Y[l]),O.push(ba[l])):85===l&&(J=1,K=0,H=1,G=0,M=0,L=1,v=0,F=1),(0>v||1<v||0>F||1<F||0>J||1<J||0>H||1<H||0>M||1<M||0>L||1<L)&&console.log("MarchingSquaresJS-isoBands: "+l+" "+d+" "+A+","+f+","+h+","+p+" "+B+" "+v+" "+F+" "+J+" "+K+" "+H+" "+G+" "+M+" "+L),z.cells[a][u]={cval:l,cval_real:d,flipped:B,topleft:v,topright:F,righttop:J,rightbottom:K,bottomright:H,bottomleft:G,leftbottom:M,lefttop:L,edges:O}}}}}return z}function Q(b){for(var j=[],k=b.rows,m=b.cols,n=[],q=0;q<k;q++)for(var s=0;s<m;s++)if(void 0!==b.cells[q][s]&&0<b.cells[q][s].edges.length){var l=b.cells[q][s],c=o(l),f=null,h=s,p=q;null!==c&&n.push([c.p[0]+h,c.p[1]+p]);do{if(null===(f=a(b.cells[p][h],c.x,c.y,c.o)))break;if(n.push([f.p[0]+h,f.p[1]+p]),h+=f.x,p+=f.y,c=f,0>p||p>=k||0>h||h>=m||void 0===b.cells[p][h]){h-=f.x,p-=f.y;var d=e(b,h,p,f.x,f.y,f.o);if(null===d)break;d.path.forEach(function(a){n.push(a)}),h=d.i,p=d.j,c=d}}while(void 0!==b.cells[p][h]&&0<b.cells[p][h].edges.length);j.push(n),n=[],0<b.cells[q][s].edges.length&&s--}return j}function e(b,g,e,j,k,m){for(var n=b.cells[e][g],q=n.cval_real,a=g+j,s=e+k,t=[],v=!1;!v;){if(void 0===b.cells[s]||void 0===b.cells[s][a]){if(s-=k,a-=j,n=b.cells[s][a],q=n.cval_real,-1===k){if(0!==m){if(!(q&d)){if(q&p){t.push([a+n.bottomright,s]),j=0,k=1,m=1,v=!0;break}t.push([a+n.bottomleft,s]),j=0,k=1,m=0,v=!0;break}t.push([a,s]),j=-1,k=0,m=0}else if(q&d)t.push([a,s]),j=-1,k=0,m=0;else{if(!(q&p)){t.push([a+n.bottomright,s]),j=0,k=1,m=1,v=!0;break}t.push([a+1,s]),j=1,k=0,m=0}}else if(1===k){if(0===m){if(!(q&h)){if(q&$){t.push([a+n.topleft,s+1]),j=0,k=-1,m=0,v=!0;break}t.push([a+n.topright,s+1]),j=0,k=-1,m=1,v=!0;break}t.push([a+1,s+1]),j=1,k=0,m=1}else t.push([a+1,s+1]),j=1,k=0,m=1;}else if(-1!==j){if(1!==j){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(0===m){if(!(q&p)){t.push([a+1,s+n.rightbottom]),j=-1,k=0,m=0,v=!0;break}t.push([a+1,s]),j=0,k=-1,m=1}else{if(!(q&p)){if(q&h){t.push([a+1,s+n.righttop]),j=-1,k=0,m=1;break}t.push([a+1,s+n.rightbottom]),j=-1,k=0,m=0,v=!0;break}t.push([a+1,s]),j=0,k=-1,m=1}}else if(0===m){if(!(q&$)){if(q&d){t.push([a,s+n.leftbottom]),j=1,k=0,m=0,v=!0;break}t.push([a,s+n.lefttop]),j=1,k=0,m=1,v=!0;break}t.push([a,s+1]),j=0,k=1,m=0}else{if(!(q&$)){console.log("MarchingSquaresJS-isoBands: wtf");break}t.push([a,s+1]),j=0,k=1,m=0}}else if(n=b.cells[s][a],q=n.cval_real,-1===j){if(0!==m){if(!(q&$)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+a+","+s);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(void 0!==b.cells[s-1]&&void 0!==b.cells[s-1][a])j=0,k=-1,m=1;else{if(!(q&d)){t.push([a+n.bottomright,s]),j=0,k=1,m=1,v=!0;break}t.push([a,s])}}else if(1===j){if(0===m){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==b.cells[s+1]&&void 0!==b.cells[s+1][a])j=0,k=1,m=0;else{if(!(q&h)){t.push([a+n.topleft,s+1]),j=0,k=-1,m=0,v=!0;break}t.push([a+1,s+1]),j=1,k=0,m=1}}else if(-1===k){if(1!==m){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==b.cells[s][a+1])j=1,k=0,m=1;else{if(!(q&p)){t.push([a+1,s+n.righttop]),j=-1,k=0,m=1,v=!0;break}t.push([a+1,s]),j=0,k=-1,m=1}}else{if(1!==k){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(0!==m){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==b.cells[s][a-1])j=-1,k=0,m=0;else{if(!(q&$)){t.push([a,s+n.leftbottom]),j=1,k=0,m=0,v=!0;break}t.push([a,s+1]),j=0,k=1,m=0}}if(a+=j,s+=k,a===g&&s===e)break}return{path:t,i:a,j:s,x:j,y:k,o:m}}function Z(a,b){delete a.edges[b];for(var c=b+1;c<a.edges.length;c++)a.edges[c-1]=a.edges[c];a.edges.pop()}function o(a){if(0<a.edges.length){var b=a.edges[a.edges.length-1],c=a.cval_real;switch(b){case 0:return c&h?{p:[1,a.righttop],x:-1,y:0,o:1}:{p:[a.topleft,1],x:0,y:-1,o:0};case 1:return c&p?{p:[a.topleft,1],x:0,y:-1,o:0}:{p:[1,a.rightbottom],x:-1,y:0,o:0};case 2:return c&p?{p:[a.bottomright,0],x:0,y:1,o:1}:{p:[a.topleft,1],x:0,y:-1,o:0};case 3:return c&d?{p:[a.topleft,1],x:0,y:-1,o:0}:{p:[a.bottomleft,0],x:0,y:1,o:0};case 4:return c&h?{p:[1,a.righttop],x:-1,y:0,o:1}:{p:[a.topright,1],x:0,y:-1,o:1};case 5:return c&p?{p:[a.topright,1],x:0,y:-1,o:1}:{p:[1,a.rightbottom],x:-1,y:0,o:0};case 6:return c&p?{p:[a.bottomright,0],x:0,y:1,o:1}:{p:[a.topright,1],x:0,y:-1,o:1};case 7:return c&d?{p:[a.topright,1],x:0,y:-1,o:1}:{p:[a.bottomleft,0],x:0,y:1,o:0};case 8:return c&p?{p:[a.bottomright,0],x:0,y:1,o:1}:{p:[1,a.righttop],x:-1,y:0,o:1};case 9:return c&d?{p:[1,a.righttop],x:-1,y:0,o:1}:{p:[a.bottomleft,0],x:0,y:1,o:0};case 10:return c&d?{p:[0,a.leftbottom],x:1,y:0,o:0}:{p:[1,a.righttop],x:-1,y:0,o:1};case 11:return c&$?{p:[1,a.righttop],x:-1,y:0,o:1}:{p:[0,a.lefttop],x:1,y:0,o:1};case 12:return c&p?{p:[a.bottomright,0],x:0,y:1,o:1}:{p:[1,a.rightbottom],x:-1,y:0,o:0};case 13:return c&d?{p:[1,a.rightbottom],x:-1,y:0,o:0}:{p:[a.bottomleft,0],x:0,y:1,o:0};case 14:return c&d?{p:[0,a.leftbottom],x:1,y:0,o:0}:{p:[1,a.rightbottom],x:-1,y:0,o:0};case 15:return c&$?{p:[1,a.rightbottom],x:-1,y:0,o:0}:{p:[0,a.lefttop],x:1,y:0,o:1};case 16:return c&p?{p:[a.bottomright,0],x:0,y:1,o:1}:{p:[0,a.leftbottom],x:1,y:0,o:0};case 17:return c&$?{p:[a.bottomright,0],x:0,y:1,o:1}:{p:[0,a.lefttop],x:1,y:0,o:1};case 18:return c&d?{p:[0,a.leftbottom],x:1,y:0,o:0}:{p:[a.bottomleft,0],x:0,y:1,o:0};case 19:return c&$?{p:[a.bottomleft,0],x:0,y:1,o:0}:{p:[0,a.lefttop],x:1,y:0,o:1};case 20:return c&$?{p:[a.topleft,1],x:0,y:-1,o:0}:{p:[0,a.leftbottom],x:1,y:0,o:0};case 21:return c&h?{p:[0,a.leftbottom],x:1,y:0,o:0}:{p:[a.topright,1],x:0,y:-1,o:1};case 22:return c&$?{p:[a.topleft,1],x:0,y:-1,o:0}:{p:[0,a.lefttop],x:1,y:0,o:1};case 23:return c&h?{p:[0,a.lefttop],x:1,y:0,o:1}:{p:[a.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(a);}}return null}function a(j,t,e,n){var z,r,o,B,G,H=j.cval;if(-1===t?0===n?(z=X[H],o=E[H],B=C[H],G=I[H]):(z=W[H],o=w[H],B=b[H],G=y[H]):1===t?0===n?(z=aa[H],o=F[H],B=q[H],G=k[H]):(z=ba[H],o=S[H],B=A[H],G=D[H]):-1===e?0===n?(z=ca[H],o=f[H],B=g[H],G=s[H]):(z=da[H],o=m[H],B=v[H],G=x[H]):1===e?0===n?(z=_[H],o=M[H],B=L[H],G=N[H]):(z=Y[H],o=P[H],B=R[H],G=O[H]):void 0,r=j.edges.indexOf(z),void 0===j.edges[r])return null;switch(Z(j,r),H=j.cval_real,z){case 0:H&h?(t=j.topleft,e=1):(t=1,e=j.righttop);break;case 1:H&p?(t=1,e=j.rightbottom):(t=j.topleft,e=1);break;case 2:H&p?(t=j.topleft,e=1):(t=j.bottomright,e=0);break;case 3:H&d?(t=j.bottomleft,e=0):(t=j.topleft,e=1);break;case 4:H&h?(t=j.topright,e=1):(t=1,e=j.righttop);break;case 5:H&p?(t=1,e=j.rightbottom):(t=j.topright,e=1);break;case 6:H&p?(t=j.topright,e=1):(t=j.bottomright,e=0);break;case 7:H&d?(t=j.bottomleft,e=0):(t=j.topright,e=1);break;case 8:H&p?(t=1,e=j.righttop):(t=j.bottomright,e=0);break;case 9:H&d?(t=j.bottomleft,e=0):(t=1,e=j.righttop);break;case 10:H&d?(t=1,e=j.righttop):(t=0,e=j.leftbottom);break;case 11:H&$?(t=0,e=j.lefttop):(t=1,e=j.righttop);break;case 12:H&p?(t=1,e=j.rightbottom):(t=j.bottomright,e=0);break;case 13:H&d?(t=j.bottomleft,e=0):(t=1,e=j.rightbottom);break;case 14:H&d?(t=1,e=j.rightbottom):(t=0,e=j.leftbottom);break;case 15:H&$?(t=0,e=j.lefttop):(t=1,e=j.rightbottom);break;case 16:H&p?(t=0,e=j.leftbottom):(t=j.bottomright,e=0);break;case 17:H&$?(t=0,e=j.lefttop):(t=j.bottomright,e=0);break;case 18:H&d?(t=j.bottomleft,e=0):(t=0,e=j.leftbottom);break;case 19:H&$?(t=0,e=j.lefttop):(t=j.bottomleft,e=0);break;case 20:H&$?(t=0,e=j.leftbottom):(t=j.topleft,e=1);break;case 21:H&h?(t=j.topright,e=1):(t=0,e=j.leftbottom);break;case 22:H&$?(t=0,e=j.lefttop):(t=j.topleft,e=1);break;case 23:H&h?(t=j.topright,e=1):(t=0,e=j.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(j),null;}return void 0!==t&&void 0!==e&&void 0!==o&&void 0!==B&&void 0!==G||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(j),console.log(t+" "+e+" "+o+" "+B+" "+G)),{p:[t,e],x:o,y:B,o:G}}function r(a){var b=[],c=0;return a.cells.forEach(function(a,d){a.forEach(function(a,e){if(void 0!==a){var f=ea[a.cval](a);"object"==("undefined"===typeof f?"undefined":j(f))&&J(f)?"object"==j(f[0])&&J(f[0])?"object"==j(f[0][0])&&J(f[0][0])?f.forEach(function(a){a.forEach(function(a){a[0]+=e,a[1]+=d}),b[c++]=a}):(f.forEach(function(a){a[0]+=e,a[1]+=d}),b[c++]=f):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}})}),b}var l={successCallback:null,verbose:!1,polygons:!1},c={},$=64,h=16,p=4,d=1,f=[],g=[],s=[],m=[],v=[],x=[],w=[],b=[],y=[],E=[],C=[],I=[],M=[],L=[],N=[],P=[],R=[],O=[],S=[],A=[],D=[],F=[],q=[],k=[];w[85]=E[85]=-1,b[85]=C[85]=0,y[85]=I[85]=1,S[85]=F[85]=1,A[85]=q[85]=0,D[85]=k[85]=1,f[85]=m[85]=0,g[85]=v[85]=-1,s[85]=N[85]=0,P[85]=M[85]=0,R[85]=L[85]=1,x[85]=O[85]=1,F[1]=F[169]=0,q[1]=q[169]=-1,k[1]=k[169]=0,M[1]=M[169]=-1,L[1]=L[169]=0,N[1]=N[169]=0,E[4]=E[166]=0,C[4]=C[166]=-1,I[4]=I[166]=1,P[4]=P[166]=1,R[4]=R[166]=0,O[4]=O[166]=0,w[16]=w[154]=0,b[16]=b[154]=1,y[16]=y[154]=1,m[16]=m[154]=1,v[16]=v[154]=0,x[16]=x[154]=1,S[64]=S[106]=0,A[64]=A[106]=1,D[64]=D[106]=0,f[64]=f[106]=-1,g[64]=g[106]=0,s[64]=s[106]=1,S[2]=S[168]=0,A[2]=A[168]=-1,D[2]=D[168]=1,F[2]=F[168]=0,q[2]=q[168]=-1,k[2]=k[168]=0,M[2]=M[168]=-1,L[2]=L[168]=0,N[2]=N[168]=0,P[2]=P[168]=-1,R[2]=R[168]=0,O[2]=O[168]=1,w[8]=w[162]=0,b[8]=b[162]=-1,y[8]=y[162]=0,E[8]=E[162]=0,C[8]=C[162]=-1,I[8]=I[162]=1,M[8]=M[162]=1,L[8]=L[162]=0,N[8]=N[162]=1,P[8]=P[162]=1,R[8]=R[162]=0,O[8]=O[162]=0,w[32]=w[138]=0,b[32]=b[138]=1,y[32]=y[138]=1,E[32]=E[138]=0,C[32]=C[138]=1,I[32]=I[138]=0,f[32]=f[138]=1,g[32]=g[138]=0,s[32]=s[138]=0,m[32]=m[138]=1,v[32]=v[138]=0,x[32]=x[138]=1,F[128]=F[42]=0,q[128]=q[42]=1,k[128]=k[42]=1,S[128]=S[42]=0,A[128]=A[42]=1,D[128]=D[42]=0,f[128]=f[42]=-1,g[128]=g[42]=0,s[128]=s[42]=1,m[128]=m[42]=-1,v[128]=v[42]=0,x[128]=x[42]=0,E[5]=E[165]=-1,C[5]=C[165]=0,I[5]=I[165]=0,F[5]=F[165]=1,q[5]=q[165]=0,k[5]=k[165]=0,P[20]=P[150]=0,R[20]=R[150]=1,O[20]=O[150]=1,m[20]=m[150]=0,v[20]=v[150]=-1,x[20]=x[150]=1,w[80]=w[90]=-1,b[80]=b[90]=0,y[80]=y[90]=1,S[80]=S[90]=1,A[80]=A[90]=0,D[80]=D[90]=1,M[65]=M[105]=0,L[65]=L[105]=1,N[65]=N[105]=0,f[65]=f[105]=0,g[65]=g[105]=-1,s[65]=s[105]=0,w[160]=w[10]=-1,b[160]=b[10]=0,y[160]=y[10]=1,E[160]=E[10]=-1,C[160]=C[10]=0,I[160]=I[10]=0,F[160]=F[10]=1,q[160]=q[10]=0,k[160]=k[10]=0,S[160]=S[10]=1,A[160]=A[10]=0,D[160]=D[10]=1,P[130]=P[40]=0,R[130]=R[40]=1,O[130]=O[40]=1,M[130]=M[40]=0,L[130]=L[40]=1,N[130]=N[40]=0,f[130]=f[40]=0,g[130]=g[40]=-1,s[130]=s[40]=0,m[130]=m[40]=0,v[130]=v[40]=-1,x[130]=x[40]=1,E[37]=E[133]=0,C[37]=C[133]=1,I[37]=I[133]=1,F[37]=F[133]=0,q[37]=q[133]=1,k[37]=k[133]=0,f[37]=f[133]=-1,g[37]=g[133]=0,s[37]=s[133]=0,m[37]=m[133]=1,v[37]=v[133]=0,x[37]=x[133]=0,P[148]=P[22]=-1,R[148]=R[22]=0,O[148]=O[22]=0,F[148]=F[22]=0,q[148]=q[22]=-1,k[148]=k[22]=1,S[148]=S[22]=0,A[148]=A[22]=1,D[148]=D[22]=1,m[148]=m[22]=-1,v[148]=v[22]=0,x[148]=x[22]=1,w[82]=w[88]=0,b[82]=b[88]=-1,y[82]=y[88]=1,P[82]=P[88]=1,R[82]=R[88]=0,O[82]=O[88]=1,M[82]=M[88]=-1,L[82]=L[88]=0,N[82]=N[88]=1,S[82]=S[88]=0,A[82]=A[88]=-1,D[82]=D[88]=0,w[73]=w[97]=0,b[73]=b[97]=1,y[73]=y[97]=0,E[73]=E[97]=0,C[73]=C[97]=-1,I[73]=I[97]=0,M[73]=M[97]=1,L[73]=L[97]=0,N[73]=N[97]=0,f[73]=f[97]=1,g[73]=g[97]=0,s[73]=s[97]=1,w[145]=w[25]=0,b[145]=b[25]=-1,y[145]=y[25]=0,M[145]=M[25]=1,L[145]=L[25]=0,N[145]=N[25]=1,F[145]=F[25]=0,q[145]=q[25]=1,k[145]=k[25]=1,m[145]=m[25]=-1,v[145]=v[25]=0,x[145]=x[25]=0,E[70]=E[100]=0,C[70]=C[100]=1,I[70]=I[100]=0,P[70]=P[100]=-1,R[70]=R[100]=0,O[70]=O[100]=1,S[70]=S[100]=0,A[70]=A[100]=-1,D[70]=D[100]=1,f[70]=f[100]=1,g[70]=g[100]=0,s[70]=s[100]=0,E[101]=E[69]=0,C[101]=C[69]=1,I[101]=I[69]=0,f[101]=f[69]=1,g[101]=g[69]=0,s[101]=s[69]=0,F[149]=F[21]=0,q[149]=q[21]=1,k[149]=k[21]=1,m[149]=m[21]=-1,v[149]=v[21]=0,x[149]=x[21]=0,P[86]=P[84]=-1,R[86]=R[84]=0,O[86]=O[84]=1,S[86]=S[84]=0,A[86]=A[84]=-1,D[86]=D[84]=1,w[89]=w[81]=0,b[89]=b[81]=-1,y[89]=y[81]=0,M[89]=M[81]=1,L[89]=L[81]=0,N[89]=N[81]=1,w[96]=w[74]=0,b[96]=b[74]=1,y[96]=y[74]=0,E[96]=E[74]=-1,C[96]=C[74]=0,I[96]=I[74]=1,S[96]=S[74]=1,A[96]=A[74]=0,D[96]=D[74]=0,f[96]=f[74]=1,g[96]=g[74]=0,s[96]=s[74]=1,w[24]=w[146]=0,b[24]=b[146]=-1,y[24]=y[146]=1,P[24]=P[146]=1,R[24]=R[146]=0,O[24]=O[146]=1,M[24]=M[146]=0,L[24]=L[146]=1,N[24]=N[146]=1,m[24]=m[146]=0,v[24]=v[146]=-1,x[24]=x[146]=0,E[6]=E[164]=-1,C[6]=C[164]=0,I[6]=I[164]=1,P[6]=P[164]=-1,R[6]=R[164]=0,O[6]=O[164]=0,F[6]=F[164]=0,q[6]=q[164]=-1,k[6]=k[164]=1,S[6]=S[164]=1,A[6]=A[164]=0,D[6]=D[164]=0,M[129]=M[41]=0,L[129]=L[41]=1,N[129]=N[41]=1,F[129]=F[41]=0,q[129]=q[41]=1,k[129]=k[41]=0,f[129]=f[41]=-1,g[129]=g[41]=0,s[129]=s[41]=0,m[129]=m[41]=0,v[129]=v[41]=-1,x[129]=x[41]=0,P[66]=P[104]=0,R[66]=R[104]=1,O[66]=O[104]=0,M[66]=M[104]=-1,L[66]=L[104]=0,N[66]=N[104]=1,S[66]=S[104]=0,A[66]=A[104]=-1,D[66]=D[104]=0,f[66]=f[104]=0,g[66]=g[104]=-1,s[66]=s[104]=1,w[144]=w[26]=-1,b[144]=b[26]=0,y[144]=y[26]=0,F[144]=F[26]=1,q[144]=q[26]=0,k[144]=k[26]=1,S[144]=S[26]=0,A[144]=A[26]=1,D[144]=D[26]=1,m[144]=m[26]=-1,v[144]=v[26]=0,x[144]=x[26]=1,E[36]=E[134]=0,C[36]=C[134]=1,I[36]=I[134]=1,P[36]=P[134]=0,R[36]=R[134]=1,O[36]=O[134]=0,f[36]=f[134]=0,g[36]=g[134]=-1,s[36]=s[134]=1,m[36]=m[134]=1,v[36]=v[134]=0,x[36]=x[134]=0,w[9]=w[161]=-1,b[9]=b[161]=0,y[9]=y[161]=0,E[9]=E[161]=0,C[9]=C[161]=-1,I[9]=I[161]=0,M[9]=M[161]=1,L[9]=L[161]=0,N[9]=N[161]=0,F[9]=F[161]=1,q[9]=q[161]=0,k[9]=k[161]=1,w[136]=0,b[136]=1,y[136]=1,E[136]=0,C[136]=1,I[136]=0,P[136]=-1,R[136]=0,O[136]=1,M[136]=-1,L[136]=0,N[136]=0,F[136]=0,q[136]=-1,k[136]=0,S[136]=0,A[136]=-1,D[136]=1,f[136]=1,g[136]=0,s[136]=0,m[136]=1,v[136]=0,x[136]=1,w[34]=0,b[34]=-1,y[34]=0,E[34]=0,C[34]=-1,I[34]=1,P[34]=1,R[34]=0,O[34]=0,M[34]=1,L[34]=0,N[34]=1,F[34]=0,q[34]=1,k[34]=1,S[34]=0,A[34]=1,D[34]=0,f[34]=-1,g[34]=0,s[34]=1,m[34]=-1,v[34]=0,x[34]=0,w[35]=0,b[35]=1,y[35]=1,E[35]=0,C[35]=-1,I[35]=1,P[35]=1,R[35]=0,O[35]=0,M[35]=-1,L[35]=0,N[35]=0,F[35]=0,q[35]=-1,k[35]=0,S[35]=0,A[35]=1,D[35]=0,f[35]=-1,g[35]=0,s[35]=1,m[35]=1,v[35]=0,x[35]=1,w[153]=0,b[153]=1,y[153]=1,M[153]=-1,L[153]=0,N[153]=0,F[153]=0,q[153]=-1,k[153]=0,m[153]=1,v[153]=0,x[153]=1,E[102]=0,C[102]=-1,I[102]=1,P[102]=1,R[102]=0,O[102]=0,S[102]=0,A[102]=1,D[102]=0,f[102]=-1,g[102]=0,s[102]=1,w[155]=0,b[155]=-1,y[155]=0,M[155]=1,L[155]=0,N[155]=1,F[155]=0,q[155]=1,k[155]=1,m[155]=-1,v[155]=0,x[155]=0,E[103]=0,C[103]=1,I[103]=0,P[103]=-1,R[103]=0,O[103]=1,S[103]=0,A[103]=-1,D[103]=1,f[103]=1,g[103]=0,s[103]=0,w[152]=0,b[152]=1,y[152]=1,P[152]=-1,R[152]=0,O[152]=1,M[152]=-1,L[152]=0,N[152]=0,F[152]=0,q[152]=-1,k[152]=0,S[152]=0,A[152]=-1,D[152]=1,m[152]=1,v[152]=0,x[152]=1,w[156]=0,b[156]=-1,y[156]=1,P[156]=1,R[156]=0,O[156]=1,M[156]=-1,L[156]=0,N[156]=0,F[156]=0,q[156]=-1,k[156]=0,S[156]=0,A[156]=1,D[156]=1,m[156]=-1,v[156]=0,x[156]=1,w[137]=0,b[137]=1,y[137]=1,E[137]=0,C[137]=1,I[137]=0,M[137]=-1,L[137]=0,N[137]=0,F[137]=0,q[137]=-1,k[137]=0,f[137]=1,g[137]=0,s[137]=0,m[137]=1,v[137]=0,x[137]=1,w[139]=0,b[139]=1,y[139]=1,E[139]=0,C[139]=-1,I[139]=0,M[139]=1,L[139]=0,N[139]=0,F[139]=0,q[139]=1,k[139]=0,f[139]=-1,g[139]=0,s[139]=0,m[139]=1,v[139]=0,x[139]=1,w[98]=0,b[98]=-1,y[98]=0,E[98]=0,C[98]=-1,I[98]=1,P[98]=1,R[98]=0,O[98]=0,M[98]=1,L[98]=0,N[98]=1,S[98]=0,A[98]=1,D[98]=0,f[98]=-1,g[98]=0,s[98]=1,w[99]=0,b[99]=1,y[99]=0,E[99]=0,C[99]=-1,I[99]=1,P[99]=1,R[99]=0,O[99]=0,M[99]=-1,L[99]=0,N[99]=1,S[99]=0,A[99]=-1,D[99]=0,f[99]=1,g[99]=0,s[99]=1,E[38]=0,C[38]=-1,I[38]=1,P[38]=1,R[38]=0,O[38]=0,F[38]=0,q[38]=1,k[38]=1,S[38]=0,A[38]=1,D[38]=0,f[38]=-1,g[38]=0,s[38]=1,m[38]=-1,v[38]=0,x[38]=0,E[39]=0,C[39]=1,I[39]=1,P[39]=-1,R[39]=0,O[39]=0,F[39]=0,q[39]=-1,k[39]=1,S[39]=0,A[39]=1,D[39]=0,f[39]=-1,g[39]=0,s[39]=1,m[39]=1,v[39]=0,x[39]=0;var n=function(a){return[[a.bottomleft,0],[0,0],[0,a.leftbottom]]},u=function(a){return[[1,a.rightbottom],[1,0],[a.bottomright,0]]},B=function(a){return[[a.topright,1],[1,1],[1,a.righttop]]},z=function(a){return[[0,a.lefttop],[0,1],[a.topleft,1]]},G=function(a){return[[a.bottomright,0],[a.bottomleft,0],[0,a.leftbottom],[0,a.lefttop]]},T=function(a){return[[a.bottomright,0],[a.bottomleft,0],[1,a.righttop],[1,a.rightbottom]]},V=function(a){return[[1,a.righttop],[1,a.rightbottom],[a.topleft,1],[a.topright,1]]},U=function(a){return[[0,a.leftbottom],[0,a.lefttop],[a.topleft,1],[a.topright,1]]},W=[],X=[],Y=[],_=[],aa=[],ba=[],ca=[],da=[];_[1]=aa[1]=18,_[169]=aa[169]=18,Y[4]=X[4]=12,Y[166]=X[166]=12,W[16]=da[16]=4,W[154]=da[154]=4,ba[64]=ca[64]=22,ba[106]=ca[106]=22,Y[2]=ba[2]=17,_[2]=aa[2]=18,Y[168]=ba[168]=17,_[168]=aa[168]=18,W[8]=_[8]=9,X[8]=Y[8]=12,W[162]=_[162]=9,X[162]=Y[162]=12,W[32]=da[32]=4,X[32]=ca[32]=1,W[138]=da[138]=4,X[138]=ca[138]=1,aa[128]=da[128]=21,ba[128]=ca[128]=22,aa[42]=da[42]=21,ba[42]=ca[42]=22,X[5]=aa[5]=14,X[165]=aa[165]=14,Y[20]=da[20]=6,Y[150]=da[150]=6,W[80]=ba[80]=11,W[90]=ba[90]=11,_[65]=ca[65]=3,_[105]=ca[105]=3,W[160]=ba[160]=11,X[160]=aa[160]=14,W[10]=ba[10]=11,X[10]=aa[10]=14,Y[130]=da[130]=6,_[130]=ca[130]=3,Y[40]=da[40]=6,_[40]=ca[40]=3,X[101]=ca[101]=1,X[69]=ca[69]=1,aa[149]=da[149]=21,aa[21]=da[21]=21,Y[86]=ba[86]=17,Y[84]=ba[84]=17,W[89]=_[89]=9,W[81]=_[81]=9,W[96]=ca[96]=0,X[96]=ba[96]=15,W[74]=ca[74]=0,X[74]=ba[74]=15,W[24]=Y[24]=8,_[24]=da[24]=7,W[146]=Y[146]=8,_[146]=da[146]=7,X[6]=ba[6]=15,Y[6]=aa[6]=16,X[164]=ba[164]=15,Y[164]=aa[164]=16,_[129]=da[129]=7,aa[129]=ca[129]=20,_[41]=da[41]=7,aa[41]=ca[41]=20,Y[66]=ca[66]=2,_[66]=ba[66]=19,Y[104]=ca[104]=2,_[104]=ba[104]=19,W[144]=aa[144]=10,ba[144]=da[144]=23,W[26]=aa[26]=10,ba[26]=da[26]=23,X[36]=da[36]=5,Y[36]=ca[36]=2,X[134]=da[134]=5,Y[134]=ca[134]=2,W[9]=aa[9]=10,X[9]=_[9]=13,W[161]=aa[161]=10,X[161]=_[161]=13,X[37]=da[37]=5,aa[37]=ca[37]=20,X[133]=da[133]=5,aa[133]=ca[133]=20,Y[148]=aa[148]=16,ba[148]=da[148]=23,Y[22]=aa[22]=16,ba[22]=da[22]=23,W[82]=Y[82]=8,_[82]=ba[82]=19,W[88]=Y[88]=8,_[88]=ba[88]=19,W[73]=ca[73]=0,X[73]=_[73]=13,W[97]=ca[97]=0,X[97]=_[97]=13,W[145]=_[145]=9,aa[145]=da[145]=21,W[25]=_[25]=9,aa[25]=da[25]=21,X[70]=ca[70]=1,Y[70]=ba[70]=17,X[100]=ca[100]=1,Y[100]=ba[100]=17,W[34]=_[34]=9,X[34]=Y[34]=12,aa[34]=da[34]=21,ba[34]=ca[34]=22,W[136]=da[136]=4,X[136]=ca[136]=1,Y[136]=ba[136]=17,_[136]=aa[136]=18,W[35]=da[35]=4,X[35]=Y[35]=12,_[35]=aa[35]=18,ba[35]=ca[35]=22,W[153]=da[153]=4,_[153]=aa[153]=18,X[102]=Y[102]=12,ba[102]=ca[102]=22,W[155]=_[155]=9,aa[155]=da[155]=23,X[103]=ca[103]=1,Y[103]=ba[103]=17,W[152]=da[152]=4,Y[152]=ba[152]=17,_[152]=aa[152]=18,W[156]=Y[156]=8,_[156]=aa[156]=18,ba[156]=da[156]=23,W[137]=da[137]=4,X[137]=ca[137]=1,_[137]=aa[137]=18,W[139]=da[139]=4,X[139]=_[139]=13,aa[139]=ca[139]=20,W[98]=_[98]=9,X[98]=Y[98]=12,ba[98]=ca[98]=22,W[99]=ca[99]=0,X[99]=Y[99]=12,_[99]=ba[99]=19,X[38]=Y[38]=12,aa[38]=da[38]=21,ba[38]=ca[38]=22,X[39]=da[39]=5,Y[39]=aa[39]=16,ba[39]=ca[39]=22;var ea=[];return ea[1]=ea[169]=n,ea[4]=ea[166]=u,ea[16]=ea[154]=B,ea[64]=ea[106]=z,ea[168]=ea[2]=G,ea[162]=ea[8]=T,ea[138]=ea[32]=V,ea[42]=ea[128]=U,ea[5]=ea[165]=function(a){return[[0,0],[0,a.leftbottom],[1,a.rightbottom],[1,0]]},ea[20]=ea[150]=function(a){return[[1,0],[a.bottomright,0],[a.topright,1],[1,1]]},ea[80]=ea[90]=function(a){return[[1,1],[1,a.righttop],[0,a.lefttop],[0,1]]},ea[65]=ea[105]=function(a){return[[a.bottomleft,0],[0,0],[0,1],[a.topleft,1]]},ea[160]=ea[10]=function(a){return[[1,a.righttop],[1,a.rightbottom],[0,a.leftbottom],[0,a.lefttop]]},ea[130]=ea[40]=function(a){return[[a.topleft,1],[a.topright,1],[a.bottomright,0],[a.bottomleft,0]]},ea[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},ea[101]=ea[69]=function(a){return[[1,a.rightbottom],[1,0],[0,0],[0,1],[a.topleft,1]]},ea[149]=ea[21]=function(a){return[[a.topright,1],[1,1],[1,0],[0,0],[0,a.leftbottom]]},ea[86]=ea[84]=function(a){return[[1,0],[a.bottomright,0],[0,a.lefttop],[0,1],[1,1]]},ea[89]=ea[81]=function(a){return[[1,1],[1,a.righttop],[a.bottomleft,0],[0,0],[0,1]]},ea[96]=ea[74]=function(a){return[[1,a.righttop],[1,a.rightbottom],[0,a.lefttop],[0,1],[a.topleft,1]]},ea[24]=ea[146]=function(a){return[[1,1],[1,a.righttop],[a.bottomright,0],[a.bottomleft,0],[a.topright,1]]},ea[6]=ea[164]=function(a){return[[1,a.rightbottom],[1,0],[a.bottomright,0],[0,a.leftbottom],[0,a.lefttop]]},ea[129]=ea[41]=function(a){return[[a.topright,1],[a.bottomleft,0],[0,0],[0,a.leftbottom],[a.topleft,1]]},ea[66]=ea[104]=function(a){return[[a.bottomright,0],[a.bottomleft,0],[0,a.lefttop],[0,1],[a.topleft,1]]},ea[144]=ea[26]=function(a){return[[1,1],[1,a.righttop],[0,a.leftbottom],[0,a.lefttop],[a.topright,1]]},ea[36]=ea[134]=function(a){return[[1,a.rightbottom],[1,0],[a.bottomright,0],[a.topleft,1],[a.topright,1]]},ea[9]=ea[161]=function(a){return[[1,a.righttop],[1,a.rightbottom],[a.bottomleft,0],[0,0],[0,a.leftbottom]]},ea[37]=ea[133]=function(a){return[[1,a.rightbottom],[1,0],[0,0],[0,a.leftbottom],[a.topleft,1],[a.topright,1]]},ea[148]=ea[22]=function(a){return[[1,1],[1,0],[a.bottomright,0],[0,a.leftbottom],[0,a.lefttop],[a.topright,1]]},ea[82]=ea[88]=function(a){return[[1,1],[1,a.righttop],[a.bottomright,0],[a.bottomleft,0],[0,a.lefttop],[0,1]]},ea[73]=ea[97]=function(a){return[[1,a.righttop],[1,a.rightbottom],[a.bottomleft,0],[0,0],[0,1],[a.topleft,1]]},ea[145]=ea[25]=function(a){return[[1,1],[1,a.righttop],[a.bottomleft,0],[0,0],[0,a.leftbottom],[a.topright,1]]},ea[70]=ea[100]=function(a){return[[1,a.rightbottom],[1,0],[a.bottomright,0],[0,a.lefttop],[0,1],[a.topleft,1]]},ea[34]=function(a){return[U(a),T(a)]},ea[35]=function(a){return[[1,a.righttop],[1,a.rightbottom],[a.bottomright,0],[a.bottomleft,0],[0,a.leftbottom],[0,a.lefttop],[a.topleft,1],[a.topright,1]]},ea[136]=function(a){return[V(a),G(a)]},ea[153]=function(a){return[B(a),n(a)]},ea[102]=function(a){return[u(a),z(a)]},ea[155]=function(a){return[[1,1],[1,a.righttop],[a.bottomleft,0],[0,0],[0,a.leftbottom],[a.topright,1]]},ea[103]=function(a){return[[1,a.rightbottom],[1,0],[a.bottomright,0],[0,a.lefttop],[0,1],[a.topleft,1]]},ea[152]=function(a){return[B(a),G(a)]},ea[156]=function(a){return[[1,1],[1,a.righttop],[a.bottomright,0],[a.bottomleft,0],[0,a.leftbottom],[0,a.lefttop],[a.topright,1]]},ea[137]=function(a){return[V(a),n(a)]},ea[139]=function(a){return[[1,a.righttop],[1,a.rightbottom],[a.bottomleft,0],[0,0],[0,a.leftbottom],[a.topleft,1],[a.topright,1]]},ea[98]=function(a){return[T(a),z(a)]},ea[99]=function(a){return[[1,a.righttop],[1,a.rightbottom],[a.bottomright,0],[a.bottomleft,0],[0,a.lefttop],[0,1],[a.topleft,1]]},ea[38]=function(a){return[u(a),U(a)]},ea[39]=function(a){return[[1,a.rightbottom],[1,0],[a.bottomright,0],[0,a.leftbottom],[0,a.lefttop],[a.topleft,1],[a.topright,1]]},H})},{}],472:[function(b,c){!function(b,d){"function"==typeof a&&a.amd?a([],function(){return{isoContours:d()}}):"object"==("undefined"===typeof c?"undefined":j(c))&&c.exports?c.exports={isoContours:d()}:b.MarchingSquaresJS={isoContours:d(),isoBands:b.MarchingSquaresJS?b.MarchingSquaresJS.isoBands:null}}(this,function(){function b(b,c,d){d=d||{};for(var e=Object.keys(a),h=0;h<e.length;h++){var j=e[h],k=d[j];k=void 0!==k&&null!==k?k:a[j],l[j]=k}l.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+c);var n=m(g(b,c));return"function"==typeof l.successCallback&&l.successCallback(n),n}function d(a,b,c){return(a-b)/(c-b)}function g(b,e){for(var j=b.length-1,k=b[0].length-1,q={rows:j,cols:k,cells:[]},o=0;o<j;++o){q.cells[o]=[];for(var s=0;s<k;++s){var a=0,t=b[o+1][s],l=b[o+1][s+1],c=b[o][s+1],f=b[o][s];if(!(isNaN(t)||isNaN(l)||isNaN(c)||isNaN(f))){a|=t>=e?8:0,a|=l>=e?4:0,a|=c>=e?2:0,a|=f>=e?1:0;var h=!1;if(5===a||10===a){var w=(t+l+c+f)/4;5===a&&w<e?(a=10,h=!0):10===a&&w<e&&(a=5,h=!0)}if(0!=a&&15!=a){var x,z,A,B;x=z=A=B=.5,1===a?(A=1-d(e,t,f),z=1-d(e,c,f)):2===a?(z=d(e,f,c),B=1-d(e,l,c)):3===a?(A=1-d(e,t,f),B=1-d(e,l,c)):4===a?(x=d(e,t,l),B=d(e,c,l)):5===a?(x=d(e,t,l),B=d(e,c,l),z=1-d(e,c,f),A=1-d(e,t,f)):6===a?(z=d(e,f,c),x=d(e,t,l)):7===a?(A=1-d(e,t,f),x=d(e,t,l)):8===a?(A=d(e,f,t),x=1-d(e,l,t)):9===a?(z=1-d(e,c,f),x=1-d(e,l,t)):10===a?(x=1-d(e,l,t),B=1-d(e,l,c),z=d(e,f,c),A=d(e,f,t)):11===a?(x=1-d(e,l,t),B=1-d(e,l,c)):12===a?(A=d(e,f,t),B=d(e,c,l)):13===a?(z=1-d(e,c,f),B=d(e,c,l)):14===a?(A=d(e,f,t),z=d(e,f,c)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+a),q.cells[o][s]={cval:a,flipped:h,top:x,right:B,bottom:z,left:A}}}}}return q}function j(a){return 5===a.cval||10===a.cval}function k(a){return 0===a.cval||15===a.cval}function h(a){k(a)||5===a.cval||10===a.cval||(a.cval=15)}function o(a,b){return"top"===b?[a.top,1]:"bottom"===b?[a.bottom,0]:"right"===b?[1,a.right]:"left"===b?[0,a.left]:void 0}function m(b){var g=[],e=0;return b.rows,b.cols,(b.cells.forEach(function(a,m){a.forEach(function(n,o){if(void 0!==n&&!j(n)&&!k(n)){var a=q(b.cells,m,o),l=!1;if("mergeable"===a.info)for(var c=a.path[a.path.length-1][0],f=a.path[a.path.length-1][1],h=e-1;0<=h;h--)if(1e-7>=Math.abs(g[h][0][0]-c)&&1e-7>=Math.abs(g[h][0][1]-f)){for(var p=a.path.length-2;0<=p;--p)g[h].unshift(a.path[p]);l=!0;break}l||(g[e++]=a.path)}})}),g)}function q(b,j,e){var k,n,q,a=b.length,r=[],s=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],c=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],f=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],p=(b[j][e],b[j][e]),d=p.cval,q=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"][d],g=o(p,q);r.push([e+g[0],j+g[1]]),q=f[d],g=o(p,q),r.push([e+g[0],j+g[1]]),h(p);for(var t=e+s[d],v=j+c[d],m=d;0<=t&&0<=v&&v<a&&(t!=e||v!=j)&&void 0!==(p=b[v][t]);){if(0===(d=p.cval)||15===d)return{path:r,info:"mergeable"};q=f[d],k=s[d],n=c[d],5!==d&&10!==d||(5===d?p.flipped?-1===c[m]?(q="left",k=-1,n=0):(q="right",k=1,n=0):-1===s[m]&&(q="bottom",k=0,n=-1):10===d&&(p.flipped?-1===s[m]?(q="top",k=0,n=1):(q="bottom",k=0,n=-1):1===c[m]&&(q="left",k=-1,n=0))),g=o(p,q),r.push([t+g[0],v+g[1]]),h(p),t+=k,v+=n,m=d}return{path:r,info:"closed"}}var a={successCallback:null,verbose:!1},l={};return b})},{}],473:[function(b,c){!function(d,e){"function"==typeof a&&a.amd?a(["./marchingsquares-isobands","./marchingsquares-isocontours"],e):"object"==("undefined"===typeof c?"undefined":j(c))&&c.exports?c.exports=e(b("./marchingsquares-isobands"),b("./marchingsquares-isocontours")):d.MarchingSquaresJS=e(d.MarchingSquaresJS?d.MarchingSquaresJS.isoBands:null,d.MarchingSquaresJS?d.MarchingSquaresJS.isoContours:null)}(this,function(a,b){return{isoBands:"function"==typeof a?a:"object"==("undefined"===typeof a?"undefined":j(a))&&"function"==typeof a.isoBands?a.isoBands:null,isoContours:"function"==typeof b?b:"object"==("undefined"===typeof b?"undefined":j(b))&&"function"==typeof b.isoContours?b.isoContours:null}})},{"./marchingsquares-isobands":471,"./marchingsquares-isocontours":472}],474:[function(a,b,c){arguments[4][15][0].apply(c,arguments)},{dup:15}],475:[function(b,j){function k(b,d,e,g,h){for(var j=[],k=1;k<d.length;k++){var m=+d[k],a=Object.assign({},g,h[k]);a[e]=m;var n=f(c.isoContours(b,m),a);j.push(n)}return j}function m(b,f,e){var g=v(e),j=g[2]-g[0],k=g[3]-g[1],m=g[0],a=g[1],n=f[0].length-1,l=f.length-1,c=function(b){b[0]=b[0]*(j/n)+m,b[1]=b[1]*(k/l)+a};return b.forEach(function(a){h(a,c)}),b}function q(a){return!!a&&a.constructor===Object}var v=b("@turf/bbox"),e=b("@turf/meta"),a=b("@turf/helpers"),n=b("@turf/invariant"),o=b("grid-to-matrix"),c=b("marchingsquares"),f=a.multiLineString,h=e.coordEach,p=n.collectionOf,d=a.featureCollection;j.exports=function(b,c,g,h,j){if(g=g||"elevation",h=h||{},j=j||[],p(b,"Point","Input must contain Points"),!c)throw new Error("breaks is required");if(!Array.isArray(c))throw new Error("breaks must be an Array");if(!q(h))throw new Error("propertiesToAllIsolines must be an Object");if(!Array.isArray(j))throw new Error("propertiesPerIsoline must be an Array");if("string"!=typeof g)throw new Error("zProperty must be a string");var a=o(b,g,!0),r=k(a,c,g,h,j),l=m(r,a,b);return d(l)}},{"@turf/bbox":476,"@turf/helpers":478,"@turf/invariant":479,"@turf/meta":480,"grid-to-matrix":481,marchingsquares:484}],476:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{"@turf/meta":477,dup:22}],477:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],478:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],479:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],480:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],481:[function(a,b,c){arguments[4][468][0].apply(c,arguments)},{"@turf/invariant":479,"@turf/meta":480,dup:468}],482:[function(a,b,c){arguments[4][471][0].apply(c,arguments)},{dup:471}],483:[function(a,b,c){arguments[4][472][0].apply(c,arguments)},{dup:472}],484:[function(a,b,c){arguments[4][473][0].apply(c,arguments)},{"./marchingsquares-isobands":482,"./marchingsquares-isocontours":483,dup:473}],485:[function(a,b){function c(b,d,e,g,j,k,m,n){var a,o,l,c,f,h={x:null,y:null,onLine1:!1,onLine2:!1};return 0===(a=(n-k)*(e-b)-(m-j)*(g-d))?null!==h.x&&null!==h.y&&h:(o=d-k,l=b-j,c=(m-j)*o-(n-k)*l,f=(e-b)*o-(g-d)*l,o=c/a,l=f/a,h.x=b+o*(e-b),h.y=d+o*(g-d),0<=o&&1>=o&&(h.onLine1=!0),0<=l&&1>=l&&(h.onLine2=!0),h.onLine1&&h.onLine2&&[h.x,h.y])}var d=a("@turf/helpers").point;b.exports=function(a){var b,e,f={type:"FeatureCollection",features:[]};if(e="Feature"===a.type?a.geometry:a,"LineString"===e.type)b=[e.coordinates];else if("MultiLineString"===e.type)b=e.coordinates;else if("MultiPolygon"===e.type)b=[].concat.apply([],e.coordinates);else{if("Polygon"!==e.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");b=e.coordinates}return b.forEach(function(g){b.forEach(function(b){for(var e=0;e<g.length-1;e++)for(var h=e;h<b.length-1;h++){if(g===b){if(1===Math.abs(e-h))continue;if(0===e&&h===g.length-2&&g[e][0]===g[g.length-1][0]&&g[e][1]===g[g.length-1][1])continue}var j=c(g[e][0],g[e][1],g[e+1][0],g[e+1][1],b[h][0],b[h][1],b[h+1][0],b[h+1][1]);j&&f.features.push(d([j[0],j[1]]))}})}),f}},{"@turf/helpers":486}],486:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],487:[function(a,b){function j(a){var b=a%360;return 0>b&&(b+=360),b}var k=a("@turf/destination"),m=a("@turf/circle"),o=a("@turf/helpers").lineString;b.exports=function(b,q,r,n,a,s){if(!b)throw new Error("center is required");if(void 0===r||null===r)throw new Error("bearing1 is required");if(void 0===n||null===n)throw new Error("bearing2 is required");if(!q)throw new Error("radius is required");a=a||64;var l=j(r),c=j(n),f=b.properties;if(l===c)return o(m(b,q,a,s).geometry.coordinates[0],f);for(var h=l,p=l<c?c:c+360,d=h,g=[],u=0;d<p;)g.push(k(b,q,d,s).geometry.coordinates),u++,d=h+360*u/a;return d>p&&g.push(k(b,q,p,s).geometry.coordinates),o(g,f)}},{"@turf/circle":488,"@turf/destination":493,"@turf/helpers":496}],488:[function(a,b,c){arguments[4][213][0].apply(c,arguments)},{"@turf/destination":489,"@turf/helpers":492,dup:213}],489:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{"@turf/helpers":490,"@turf/invariant":491,dup:5}],490:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],491:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],492:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],493:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{"@turf/helpers":494,"@turf/invariant":495,dup:5}],494:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],495:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],496:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],497:[function(b,c){function d(b,c,d,e){var h=g(b,d);if(h<=c)return e(b);for(var j=Math.floor(h/c)+1,a=0;a<j;a++)e(f(b,c*a,c*(a+1),d),a)}var f=b("@turf/line-slice-along"),g=b("@turf/line-distance"),h=b("@turf/helpers").featureCollection,j=b("@turf/meta").flattenEach;c.exports=function(a,b,c,e){if(!a)throw new Error("geojson is required");if(0>=b)throw new Error("segmentLength must be greater than 0");var f=[];return j(a,function(a){e&&(a.geometry.coordinates=a.geometry.coordinates.reverse()),d(a,b,c,function(a){f.push(a)})}),h(f)}},{"@turf/helpers":498,"@turf/line-distance":499,"@turf/line-slice-along":504,"@turf/meta":514}],498:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],499:[function(a,b){var c=a("@turf/distance"),d=a("@turf/meta").segmentReduce;b.exports=function(a,b){if(!a)throw new Error("geojson is required");return d(a,function(a,d){var e=d.geometry.coordinates;return a+c(e[0],e[1],b)},0)}},{"@turf/distance":500,"@turf/meta":503}],500:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":501,"@turf/invariant":502,dup:8}],501:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],502:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],503:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],504:[function(a,b){var g=a("@turf/bearing"),j=a("@turf/distance"),k=a("@turf/destination"),m=a("@turf/helpers").lineString;b.exports=function(b,o,e,n){var a,q=[];if("Feature"===b.type)a=b.geometry.coordinates;else{if("LineString"!==b.type)throw new Error("input must be a LineString Feature or Geometry");a=b.coordinates}for(var l,c,f,h=0,p=0;p<a.length&&!(o>=h&&p===a.length-1);p++){if(h>o&&0===q.length){if(!(l=o-h))return q.push(a[p]),m(q);c=g(a[p],a[p-1])-180,f=k(a[p],l,c,n),q.push(f.geometry.coordinates)}if(h>=e)return(l=e-h)?(c=g(a[p],a[p-1])-180,f=k(a[p],l,c,n),q.push(f.geometry.coordinates),m(q)):(q.push(a[p]),m(q));if(h>=o&&q.push(a[p]),p===a.length-1)return m(q);h+=j(a[p],a[p+1],n)}return m(a[a.length-1])}},{"@turf/bearing":505,"@turf/destination":507,"@turf/distance":510,"@turf/helpers":513}],505:[function(a,b,c){arguments[4][3][0].apply(c,arguments)},{"@turf/invariant":506,dup:3}],506:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],507:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{"@turf/helpers":508,"@turf/invariant":509,dup:5}],508:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],509:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],510:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":511,"@turf/invariant":512,dup:8}],511:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],512:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],513:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],514:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],515:[function(a,b,c){arguments[4][499][0].apply(c,arguments)},{"@turf/distance":516,"@turf/meta":519,dup:499}],516:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":517,"@turf/invariant":518,dup:8}],517:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],518:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],519:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],520:[function(a,b,c){arguments[4][44][0].apply(c,arguments)},{"@turf/helpers":524,"@turf/invariant":525,"@turf/line-segment":526,"@turf/meta":530,dup:44,"geojson-rbush":531}],521:[function(a,b,c){arguments[4][20][0].apply(c,arguments)},{"@turf/helpers":522,dup:20}],522:[function(a,b,c){arguments[4][46][0].apply(c,arguments)},{dup:46}],523:[function(a,b,c){arguments[4][47][0].apply(c,arguments)},{"@turf/meta":530,dup:47}],524:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],525:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],526:[function(a,b,c){arguments[4][50][0].apply(c,arguments)},{"@turf/helpers":527,"@turf/invariant":528,"@turf/meta":529,dup:50}],527:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],528:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],529:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],530:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],531:[function(a,b,c){arguments[4][55][0].apply(c,arguments)},{"@turf/bbox":523,"@turf/bbox-polygon":521,"@turf/helpers":524,"@turf/meta":530,dup:55,rbush:533}],532:[function(a,b,c){arguments[4][56][0].apply(c,arguments)},{dup:56}],533:[function(a,b,c){arguments[4][57][0].apply(c,arguments)},{dup:57,quickselect:532}],534:[function(b,d){function g(a,b,c){var d=[],g=f(b,c),h=m(a),k=[];return h.forEach(function(b,f){if(f!==h.length-1){var e=j(b,h[f+1],g);if(d.push(e),0<f){var l=d[f-1],a=o(e,l);!1!==a&&(l[1]=a,e[0]=a),k.push(l[0]),f===h.length-2&&(k.push(e[0]),k.push(e[1]))}2===h.length&&(k.push(e[0]),k.push(e[1]))}}),p(k,a.properties)}function j(a,b,c){var d=Math.sqrt((a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1])),e=a[0]+c*(b[1]-a[1])/d,f=b[0]+c*(b[1]-a[1])/d;return[[e,a[1]+c*(a[0]-b[0])/d],[f,b[1]+c*(a[0]-b[0])/d]]}var e=b("@turf/meta"),k=b("@turf/helpers"),m=b("@turf/invariant").getCoords,o=b("./intersection"),a=e.flattenEach,p=k.lineString,c=k.multiLineString,f=k.distanceToDegrees;d.exports=function(b,d,e){if(!b)throw new Error("geojson is required");if(void 0===d||null===d||isNaN(d))throw new Error("distance is required");var f="Feature"===b.type?b.geometry.type:b.type,h=b.properties;switch(f){case"LineString":return g(b,d,e);case"MultiLineString":var j=[];return a(b,function(a){j.push(g(a,d,e).geometry.coordinates)}),c(j,h);default:throw new Error("geometry "+f+" is not supported");}}},{"./intersection":535,"@turf/helpers":536,"@turf/invariant":537,"@turf/meta":538}],535:[function(b,c){function d(a){var b=a[0],c=a[1];return[c[0]-b[0],c[1]-b[1]]}function g(a,b){return a[0]*b[1]-b[0]*a[1]}function h(a,b){return[a[0]+b[0],a[1]+b[1]]}function j(a,b){return[a[0]-b[0],a[1]-b[1]]}function k(a,b){return[a*b[0],a*b[1]]}function a(a,b){var e=a[0],m=d(a),n=b[0],l=d(b),c=g(m,l);return h(e,k(g(j(n,e),l)/c,m))}function f(a,b){return 0===g(d(a),d(b))}c.exports=function(b,c){return!f(b,c)&&a(b,c)}},{}],536:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],537:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],538:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],539:[function(a,b,c){arguments[4][107][0].apply(c,arguments)},{"@turf/boolean-point-on-line":543,"@turf/helpers":545,"@turf/invariant":546,"@turf/line-segment":547,"@turf/meta":551,"@turf/point-on-line":552,"deep-equal":578,dup:107,"geojson-rbush":581}],540:[function(a,b,c){arguments[4][20][0].apply(c,arguments)},{"@turf/helpers":541,dup:20}],541:[function(a,b,c){arguments[4][46][0].apply(c,arguments)},{dup:46}],542:[function(a,b,c){arguments[4][47][0].apply(c,arguments)},{"@turf/meta":551,dup:47}],543:[function(a,b,c){arguments[4][34][0].apply(c,arguments)},{"@turf/invariant":544,dup:34}],544:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],545:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],546:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],547:[function(a,b,c){arguments[4][50][0].apply(c,arguments)},{"@turf/helpers":548,"@turf/invariant":549,"@turf/meta":550,dup:50}],548:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],549:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],550:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],551:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],552:[function(a,b,c){arguments[4][120][0].apply(c,arguments)},{"@turf/bearing":553,"@turf/destination":555,"@turf/distance":558,"@turf/helpers":561,"@turf/invariant":562,"@turf/line-intersect":563,"@turf/meta":577,dup:120}],553:[function(a,b,c){arguments[4][3][0].apply(c,arguments)},{"@turf/invariant":554,dup:3}],554:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],555:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{"@turf/helpers":556,"@turf/invariant":557,dup:5}],556:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],557:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],558:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":559,"@turf/invariant":560,dup:8}],559:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],560:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],561:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],562:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],563:[function(a,b,c){arguments[4][44][0].apply(c,arguments)},{"@turf/helpers":567,"@turf/invariant":568,"@turf/line-segment":569,"@turf/meta":573,dup:44,"geojson-rbush":574}],564:[function(a,b,c){arguments[4][20][0].apply(c,arguments)},{"@turf/helpers":565,dup:20}],565:[function(a,b,c){arguments[4][46][0].apply(c,arguments)},{dup:46}],566:[function(a,b,c){arguments[4][47][0].apply(c,arguments)},{"@turf/meta":573,dup:47}],567:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],568:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],569:[function(a,b,c){arguments[4][50][0].apply(c,arguments)},{"@turf/helpers":570,"@turf/invariant":571,"@turf/meta":572,dup:50}],570:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],571:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],572:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],573:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],574:[function(a,b,c){arguments[4][55][0].apply(c,arguments)},{"@turf/bbox":566,"@turf/bbox-polygon":564,"@turf/helpers":567,"@turf/meta":573,dup:55,rbush:576}],575:[function(a,b,c){arguments[4][56][0].apply(c,arguments)},{dup:56}],576:[function(a,b,c){arguments[4][57][0].apply(c,arguments)},{dup:57,quickselect:575}],577:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],578:[function(a,b,c){arguments[4][87][0].apply(c,arguments)},{"./lib/is_arguments.js":579,"./lib/keys.js":580,dup:87}],579:[function(a,b,c){arguments[4][88][0].apply(c,arguments)},{dup:88}],580:[function(a,b,c){arguments[4][89][0].apply(c,arguments)},{dup:89}],581:[function(a,b,c){arguments[4][55][0].apply(c,arguments)},{"@turf/bbox":542,"@turf/bbox-polygon":540,"@turf/helpers":545,"@turf/meta":551,dup:55,rbush:583}],582:[function(a,b,c){arguments[4][56][0].apply(c,arguments)},{dup:56}],583:[function(a,b,c){arguments[4][57][0].apply(c,arguments)},{dup:57,quickselect:582}],584:[function(a,b,c){arguments[4][50][0].apply(c,arguments)},{"@turf/helpers":585,"@turf/invariant":586,"@turf/meta":587,dup:50}],585:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],586:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],587:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],588:[function(a,b,c){arguments[4][504][0].apply(c,arguments)},{"@turf/bearing":589,"@turf/destination":591,"@turf/distance":594,"@turf/helpers":597,dup:504}],589:[function(a,b,c){arguments[4][3][0].apply(c,arguments)},{"@turf/invariant":590,dup:3}],590:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],591:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{"@turf/helpers":592,"@turf/invariant":593,dup:5}],592:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],593:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],594:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":595,"@turf/invariant":596,dup:8}],595:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],596:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],597:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],598:[function(a,b){var d=a("@turf/helpers").lineString,f=a("@turf/point-on-line");b.exports=function(b,g,e){var h;if("Feature"===e.type)h=e.geometry.coordinates;else{if("LineString"!==e.type)throw new Error("input must be a LineString Feature or Geometry");h=e.coordinates}var j,k=f(e,b),a=f(e,g);j=k.properties.index<=a.properties.index?[k,a]:[a,k];for(var m=[j[0].geometry.coordinates],l=j[0].properties.index+1;l<j[1].properties.index+1;l++)m.push(h[l]);return m.push(j[1].geometry.coordinates),d(m,e.properties)}},{"@turf/helpers":599,"@turf/point-on-line":600}],599:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],600:[function(a,b,c){arguments[4][120][0].apply(c,arguments)},{"@turf/bearing":601,"@turf/destination":603,"@turf/distance":606,"@turf/helpers":609,"@turf/invariant":610,"@turf/line-intersect":611,"@turf/meta":625,dup:120}],601:[function(a,b,c){arguments[4][3][0].apply(c,arguments)},{"@turf/invariant":602,dup:3}],602:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],603:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{"@turf/helpers":604,"@turf/invariant":605,dup:5}],604:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],605:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],606:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":607,"@turf/invariant":608,dup:8}],607:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],608:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],609:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],610:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],611:[function(a,b,c){arguments[4][44][0].apply(c,arguments)},{"@turf/helpers":615,"@turf/invariant":616,"@turf/line-segment":617,"@turf/meta":621,dup:44,"geojson-rbush":622}],612:[function(a,b,c){arguments[4][20][0].apply(c,arguments)},{"@turf/helpers":613,dup:20}],613:[function(a,b,c){arguments[4][46][0].apply(c,arguments)},{dup:46}],614:[function(a,b,c){arguments[4][47][0].apply(c,arguments)},{"@turf/meta":621,dup:47}],615:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],616:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],617:[function(a,b,c){arguments[4][50][0].apply(c,arguments)},{"@turf/helpers":618,"@turf/invariant":619,"@turf/meta":620,dup:50}],618:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],619:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],620:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],621:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],622:[function(a,b,c){arguments[4][55][0].apply(c,arguments)},{"@turf/bbox":614,"@turf/bbox-polygon":612,"@turf/helpers":615,"@turf/meta":621,dup:55,rbush:624}],623:[function(a,b,c){arguments[4][56][0].apply(c,arguments)},{dup:56}],624:[function(a,b,c){arguments[4][57][0].apply(c,arguments)},{dup:57,quickselect:623}],625:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],626:[function(b,j){function k(b,a){var c=[],d=o();return m(a,function(f){if(c.forEach(function(a,b){a.id=b}),c.length){var e=d.search(f),g=z(f,e);c=c.filter(function(a){return a.id!==g.id}),d.remove(g),m(q(g,f),function(a){c.push(a),d.insert(a)})}else c=q(b,f).features,d.load(v(c))}),v(c)}function q(b,j){var e=[],k=g(b)[0],m=g(b)[b.geometry.coordinates.length-1];if(A(k,g(j))||A(m,g(j)))return v([b]);var n=o(),a=h(b);n.load(a);var l=n.search(j);if(!l.features.length)return v([b]);var c=z(j,l),f=u(a,function(b,d,f){var h=g(d)[1],k=g(j);return f===c.id?(b.push(k),e.push(s(b)),A(k,h)?[k]:[k,h]):(b.push(h),b)},[k]);return 1<f.length&&e.push(s(f)),v(e)}function z(a,b){if(!b.features)throw new Error("<lines> must contain features");if(1===b.features.length)return b.features[0];var c,d=1/0;return m(b,function(b){var e=p(b,a),f=e.properties.dist;f<d&&(c=b,d=f)}),c}function A(a,b){return a[0]===b[0]&&a[1]===b[1]}var e=b("@turf/meta"),o=b("geojson-rbush"),a=b("@turf/helpers"),l=b("@turf/flatten"),c=b("@turf/truncate"),f=b("@turf/invariant"),h=b("@turf/line-segment"),p=b("@turf/point-on-line"),d=b("@turf/line-intersect"),g=f.getCoords,s=a.lineString,r=f.getGeomType,m=e.featureEach,u=e.featureReduce,v=a.featureCollection;j.exports=function(a,b){if(!a)throw new Error("line is required");if(!b)throw new Error("splitter is required");var f=r(a),g=r(b);if("LineString"!==f)throw new Error("line must be LineString");if("FeatureCollection"===g)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===g)throw new Error("splitter cannot be a GeometryCollection");var h=c(b,7);return"Point"===g?q(a,h):"MultiPoint"===g?k(a,l(h)):"LineString"===g||"MultiLineString"===g||"Polygon"===g||"MultiPolygon"===g?k(a,d(a,h)):void 0}},{"@turf/flatten":630,"@turf/helpers":633,"@turf/invariant":634,"@turf/line-intersect":635,"@turf/line-segment":649,"@turf/meta":653,"@turf/point-on-line":654,"@turf/truncate":680,"geojson-rbush":682}],627:[function(a,b,c){arguments[4][20][0].apply(c,arguments)},{"@turf/helpers":628,dup:20}],628:[function(a,b,c){arguments[4][46][0].apply(c,arguments)},{dup:46}],629:[function(a,b,c){arguments[4][47][0].apply(c,arguments)},{"@turf/meta":653,dup:47}],630:[function(a,b,c){arguments[4][384][0].apply(c,arguments)},{"@turf/helpers":631,"@turf/meta":632,dup:384}],631:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],632:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],633:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],634:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],635:[function(a,b,c){arguments[4][44][0].apply(c,arguments)},{"@turf/helpers":639,"@turf/invariant":640,"@turf/line-segment":641,"@turf/meta":645,dup:44,"geojson-rbush":646}],636:[function(a,b,c){arguments[4][20][0].apply(c,arguments)},{"@turf/helpers":637,dup:20}],637:[function(a,b,c){arguments[4][46][0].apply(c,arguments)},{dup:46}],638:[function(a,b,c){arguments[4][47][0].apply(c,arguments)},{"@turf/meta":645,dup:47}],639:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],640:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],641:[function(a,b,c){arguments[4][50][0].apply(c,arguments)},{"@turf/helpers":642,"@turf/invariant":643,"@turf/meta":644,dup:50}],642:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],643:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],644:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],645:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],646:[function(a,b,c){arguments[4][55][0].apply(c,arguments)},{"@turf/bbox":638,"@turf/bbox-polygon":636,"@turf/helpers":639,"@turf/meta":645,dup:55,rbush:648}],647:[function(a,b,c){arguments[4][56][0].apply(c,arguments)},{dup:56}],648:[function(a,b,c){arguments[4][57][0].apply(c,arguments)},{dup:57,quickselect:647}],649:[function(a,b,c){arguments[4][50][0].apply(c,arguments)},{"@turf/helpers":650,"@turf/invariant":651,"@turf/meta":652,dup:50}],650:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],651:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],652:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],653:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],654:[function(a,b,c){arguments[4][120][0].apply(c,arguments)},{"@turf/bearing":655,"@turf/destination":657,"@turf/distance":660,"@turf/helpers":663,"@turf/invariant":664,"@turf/line-intersect":665,"@turf/meta":679,dup:120}],655:[function(a,b,c){arguments[4][3][0].apply(c,arguments)},{"@turf/invariant":656,dup:3}],656:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],657:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{"@turf/helpers":658,"@turf/invariant":659,dup:5}],658:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],659:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],660:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":661,"@turf/invariant":662,dup:8}],661:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],662:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],663:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],664:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],665:[function(a,b,c){arguments[4][44][0].apply(c,arguments)},{"@turf/helpers":669,"@turf/invariant":670,"@turf/line-segment":671,"@turf/meta":675,dup:44,"geojson-rbush":676}],666:[function(a,b,c){arguments[4][20][0].apply(c,arguments)},{"@turf/helpers":667,dup:20}],667:[function(a,b,c){arguments[4][46][0].apply(c,arguments)},{dup:46}],668:[function(a,b,c){arguments[4][47][0].apply(c,arguments)},{"@turf/meta":675,dup:47}],669:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],670:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],671:[function(a,b,c){arguments[4][50][0].apply(c,arguments)},{"@turf/helpers":672,"@turf/invariant":673,"@turf/meta":674,dup:50}],672:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],673:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],674:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],675:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],676:[function(a,b,c){arguments[4][55][0].apply(c,arguments)},{"@turf/bbox":668,"@turf/bbox-polygon":666,"@turf/helpers":669,"@turf/meta":675,dup:55,rbush:678}],677:[function(a,b,c){arguments[4][56][0].apply(c,arguments)},{dup:56}],678:[function(a,b,c){arguments[4][57][0].apply(c,arguments)},{dup:57,quickselect:677}],679:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],680:[function(a,b,c){arguments[4][455][0].apply(c,arguments)},{"@turf/meta":681,dup:455}],681:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],682:[function(a,b,c){arguments[4][55][0].apply(c,arguments)},{"@turf/bbox":629,"@turf/bbox-polygon":627,"@turf/helpers":633,"@turf/meta":653,dup:55,rbush:684}],683:[function(a,b,c){arguments[4][56][0].apply(c,arguments)},{dup:56}],684:[function(a,b,c){arguments[4][57][0].apply(c,arguments)},{dup:57,quickselect:683}],685:[function(b,d){function g(b,c,g,h){c=c||b.properties||{};var e=a(b),l=j(b);if(!e.length)throw new Error("line must contain coordinates");switch(l){case"LineString":return g&&(e=k(e)),o([e],c);case"MultiLineString":var q=[],p=0;return e.forEach(function(a){if(g&&(a=k(a)),h){var b=m(n(f(a)));b>p?(q.unshift(a),p=b):q.push(a)}else q.push(a)}),o(q,c);default:throw new Error("geometry type "+l+" is not supported");}}function j(a){return a.geometry?a.geometry.type:a.type}function k(a){var b=a[0],c=b[0],d=b[1],e=a[a.length-1],f=e[0],g=e[1];return c===f&&d===g||a.push(b),a}function m(a){var b=a[0],c=a[1],d=a[2],e=a[3];return Math.abs(b-d)*Math.abs(c-e)}var n=b("@turf/bbox"),a=b("@turf/invariant").getCoords,e=b("@turf/helpers"),o=e.polygon,c=e.multiPolygon,f=e.lineString;d.exports=function(b,d,e,f){if(!b)throw new Error("lines is required");switch(e=void 0===e||e,f=void 0===f||f,j(b)){case"FeatureCollection":case"GeometryCollection":var h=[];return(b.features?b.features:b.geometries).forEach(function(b){h.push(a(g(b,{},e,f)))}),c(h,d);}return g(b,d,e,f)}},{"@turf/bbox":686,"@turf/helpers":688,"@turf/invariant":689}],686:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{"@turf/meta":687,dup:22}],687:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],688:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],689:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],690:[function(b,d){function g(a,b,d){var e=[];return e.push(a.geometry.coordinates[0]),h(b,function(a){e.push(a.geometry.coordinates[0])}),h(d,function(a){e.push(a.geometry.coordinates[0])}),c.polygon(e)}function j(a){var b=[],d=[];return h(a,function(a){var e=a.geometry.coordinates,f=e[0],g=e.slice(1);b.push(c.polygon([f])),g.forEach(function(a){d.push(c.polygon([a]))})}),[c.featureCollection(b),c.featureCollection(d)]}function k(a){var b=a&&a.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]];return c.polygon(b)}function m(b){if(1>=b.features.length)return b;var d=a(b),e=[],g={};return h(b,function(a,b){if(g[b])return!0;for(d.remove({index:b},n),g[b]=!0;;){var c=f(a),h=d.search({minX:c[0],minY:c[1],maxX:c[2],maxY:c[3]});if(0<h.length){var j=h.map(function(a){return g[a.index]=!0,d.remove({index:a.index},n),a.geojson});j.push(a),a=l.apply(this,j)}if(0===h.length)break}e.push(a)}),c.featureCollection(e)}function n(a,b){return a.index===b.index}function a(a){var b=o(),c=[];return h(a,function(a,b){var d=f(a);c.push({minX:d[0],minY:d[1],maxX:d[2],maxY:d[3],geojson:a,index:b})}),b.load(c),b}var o=b("rbush"),l=b("@turf/union"),c=b("@turf/helpers"),f=b("@turf/bbox"),h=b("@turf/meta").flattenEach;d.exports=function(b,c){var d=k(c),e=j(b),a=e[0],f=e[1];return a=m(a),f=m(f),g(d,a,f)}},{"@turf/bbox":691,"@turf/helpers":693,"@turf/meta":694,"@turf/union":695,rbush:698}],691:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{"@turf/meta":692,dup:22}],692:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],693:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],694:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],695:[function(a,b,c){arguments[4][367][0].apply(c,arguments)},{dup:367,jsts:696}],696:[function(a,b,c){arguments[4][176][0].apply(c,arguments)},{dup:176}],697:[function(a,b,c){arguments[4][56][0].apply(c,arguments)},{dup:56}],698:[function(a,b,c){arguments[4][57][0].apply(c,arguments)},{dup:57,quickselect:697}],699:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],700:[function(a,b){var c=a("@turf/bearing"),d=a("@turf/destination"),f=a("@turf/distance");b.exports=function(a,b){var e=f(a,b,"miles"),g=c(a,b);return d(a,e/2,g,"miles")}},{"@turf/bearing":701,"@turf/destination":703,"@turf/distance":706}],701:[function(a,b,c){arguments[4][3][0].apply(c,arguments)},{"@turf/invariant":702,dup:3}],702:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],703:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{"@turf/helpers":704,"@turf/invariant":705,dup:5}],704:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],705:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],706:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":707,"@turf/invariant":708,dup:8}],707:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],708:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],709:[function(a,b){var c=a("@turf/distance");b.exports=function(a,b){for(var d,e,f=1/0,g=0;g<b.features.length;g++)e=c(a,b.features[g],"miles"),e<f&&(d=b.features[g],f=e);return d}},{"@turf/distance":710}],710:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":711,"@turf/invariant":712,dup:8}],711:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],712:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],713:[function(a,b){var c=a("@turf/invariant"),j=c.getCoord,k=c.getGeom;b.exports=function(o,q){var e=j(o),n=k(q),r=n.coordinates,s=r[0];if(4>s.length)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var a=q.properties||{},t=a.a,l=a.b,c=a.c,f=e[0],h=e[1],p=s[0][0],d=s[0][1],g=void 0===t?s[0][2]:t,u=s[1][0],v=s[1][1],m=void 0===l?s[1][2]:l,x=s[2][0],y=s[2][1],w=void 0===c?s[2][2]:c;return(w*(f-p)*(h-v)+g*(f-u)*(h-y)+m*(f-x)*(h-d)-m*(f-p)*(h-y)-w*(f-u)*(h-d)-g*(f-x)*(h-v))/((f-p)*(h-v)+(f-u)*(h-y)+(f-x)*(h-d)-(f-p)*(h-y)-(f-u)*(h-d)-(f-x)*(h-v))}},{"@turf/invariant":714}],714:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],715:[function(a,b,c){arguments[4][432][0].apply(c,arguments)},{"@turf/bbox":716,"@turf/distance":718,"@turf/helpers":721,"@turf/inside":722,"@turf/invariant":724,dup:432}],716:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{"@turf/meta":717,dup:22}],717:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],718:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":719,"@turf/invariant":720,dup:8}],719:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],720:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],721:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],722:[function(a,b,c){arguments[4][36][0].apply(c,arguments)},{"@turf/invariant":723,dup:36}],723:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],724:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],725:[function(a,b,c){arguments[4][120][0].apply(c,arguments)},{"@turf/bearing":726,"@turf/destination":728,"@turf/distance":731,"@turf/helpers":734,"@turf/invariant":735,"@turf/line-intersect":736,"@turf/meta":750,dup:120}],726:[function(a,b,c){arguments[4][3][0].apply(c,arguments)},{"@turf/invariant":727,dup:3}],727:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],728:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{"@turf/helpers":729,"@turf/invariant":730,dup:5}],729:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],730:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],731:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":732,"@turf/invariant":733,dup:8}],732:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],733:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],734:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],735:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],736:[function(a,b,c){arguments[4][44][0].apply(c,arguments)},{"@turf/helpers":740,"@turf/invariant":741,"@turf/line-segment":742,"@turf/meta":746,dup:44,"geojson-rbush":747}],737:[function(a,b,c){arguments[4][20][0].apply(c,arguments)},{"@turf/helpers":738,dup:20}],738:[function(a,b,c){arguments[4][46][0].apply(c,arguments)},{dup:46}],739:[function(a,b,c){arguments[4][47][0].apply(c,arguments)},{"@turf/meta":746,dup:47}],740:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],741:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],742:[function(a,b,c){arguments[4][50][0].apply(c,arguments)},{"@turf/helpers":743,"@turf/invariant":744,"@turf/meta":745,dup:50}],743:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],744:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],745:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],746:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],747:[function(a,b,c){arguments[4][55][0].apply(c,arguments)},{"@turf/bbox":739,"@turf/bbox-polygon":737,"@turf/helpers":740,"@turf/meta":746,dup:55,rbush:749}],748:[function(a,b,c){arguments[4][56][0].apply(c,arguments)},{dup:56}],749:[function(a,b,c){arguments[4][57][0].apply(c,arguments)},{dup:57,quickselect:748}],750:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],751:[function(b,c){function d(b){"FeatureCollection"!==b.type&&("Feature"!==b.type&&(b={type:"Feature",geometry:b,properties:{}}),b=k([b]));for(var l=o(b),q=!1,r=0;!q&&r<b.features.length;){var s,c,u,h,p,d,g,y=b.features[r].geometry,z=!1;if("Point"===y.type)l.geometry.coordinates[0]===y.coordinates[0]&&l.geometry.coordinates[1]===y.coordinates[1]&&(q=!0);else if("MultiPoint"===y.type){var A=!1;for(g=0;!A&&g<y.coordinates.length;)l.geometry.coordinates[0]===y.coordinates[g][0]&&l.geometry.coordinates[1]===y.coordinates[g][1]&&(q=!0,A=!0),g++}else if("LineString"===y.type)for(g=0;!z&&g<y.coordinates.length-1;)s=l.geometry.coordinates[0],c=l.geometry.coordinates[1],u=y.coordinates[g][0],h=y.coordinates[g][1],p=y.coordinates[g+1][0],d=y.coordinates[g+1][1],j(s,c,u,h,p,d)&&(z=!0,q=!0),g++;else if("MultiLineString"===y.type)for(var B=0;B<y.coordinates.length;){z=!1,g=0;for(var D=y.coordinates[B];!z&&g<D.length-1;)s=l.geometry.coordinates[0],c=l.geometry.coordinates[1],u=D[g][0],h=D[g][1],p=D[g+1][0],d=D[g+1][1],j(s,c,u,h,p,d)&&(z=!0,q=!0),g++;B++}else if("Polygon"===y.type||"MultiPolygon"===y.type){a(l,{type:"Feature",geometry:y,properties:{}})&&(q=!0)}r++}if(q)return l;var w=k([]);for(r=0;r<b.features.length;r++)w.features=w.features.concat(e(b.features[r]).features);var E,F=1/0;for(r=0;r<w.features.length;r++){var C=f(l,w.features[r],"miles");C<F&&(F=C,E=w.features[r])}return E}function j(a,b,c,d,e,f){if(Math.sqrt((e-c)*(e-c)+(f-d)*(f-d))===Math.sqrt((a-c)*(a-c)+(b-d)*(b-d))+Math.sqrt((e-a)*(e-a)+(f-b)*(f-b)))return!0}var k=b("@turf/helpers").featureCollection,o=b("@turf/center"),f=b("@turf/distance"),a=b("@turf/inside"),e=b("@turf/explode");c.exports=d},{"@turf/center":752,"@turf/distance":756,"@turf/explode":759,"@turf/helpers":762,"@turf/inside":763}],752:[function(a,b,c){arguments[4][168][0].apply(c,arguments)},{"@turf/bbox":753,"@turf/helpers":755,dup:168}],753:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{"@turf/meta":754,dup:22}],754:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],755:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],756:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":757,"@turf/invariant":758,dup:8}],757:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],758:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],759:[function(a,b,c){arguments[4][200][0].apply(c,arguments)},{"@turf/helpers":760,"@turf/meta":761,dup:200}],760:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],761:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],762:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],763:[function(a,b,c){arguments[4][36][0].apply(c,arguments)},{"@turf/invariant":764,dup:36}],764:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],765:[function(j,k){function q(b,c,d,e,j){var k=!0===j?r(c,b,e):C(c,b,e),a=v(!0===j?h(c,b):s(c,b)),m=v(!0===j?h(c,d):s(c,d)),l=Math.abs(a-m);if(90<l)return k;var f=v(!0===j?h(d,b):s(d,b)),g=Math.abs(f-(m+180)%360);return 180<g&&(g=Math.abs(g-360)),90<g?!0===j?r(b,d,e):C(b,d,e):!0===j?z(c,d,b,e):k*Math.sin(w(l))}function z(b,g,e,j){var k=0;(180<=Math.abs(b[0])||180<=Math.abs(g[0])||180<=Math.abs(e[0]))&&(k=0<b[0]||0<g[0]||0<e[0]?-180:180);var m=p(e),n=B([b[0]+k,b[1]]),l=B([g[0]+k,g[1]]),c=B([e[0]+k,e[1]]),f=a(A(n,l,c));return 0!==k&&(f[0]-=k),d(m,f,j)}function A(b,d,e){var f=b[0],g=b[1],j=d[0],k=d[1],m=e[0],a=e[1],n=j-f,l=k-g,c=((m-f)*n+(a-g)*l)/(n*n+l*l);return[f+c*n,g+c*l]}function r(a,b,c){var d=0;180<=Math.abs(a[0])&&(d=0<a[0]?-180:180),180<=Math.abs(b[0])&&(d=0<b[0]?-180:180);var e=B([a[0]+d,a[1]]),f=B([b[0]+d,b[1]]),g=function(a){return a*a},h=g(e[0]-f[0])+g(e[1]-f[1]),j=Math.sqrt(h);return x(j,"meters",c)}function B(a){var b=Math.PI/180,c=6378137,d=20037508.342789244,e=[c*a[0]*b,c*Math.log(Math.tan(.25*Math.PI+.5*a[1]*b))];return e[0]>d&&(e[0]=d),e[0]<-d&&(e[0]=-d),e[1]>d&&(e[1]=d),e[1]<-d&&(e[1]=-d),e}function a(a){var b=180/Math.PI,c=6378137;return[a[0]*b/c,(.5*Math.PI-2*Math.atan(Math.exp(-a[1]/c)))*b]}var e=j("@turf/meta"),s=j("@turf/bearing"),c=j("@turf/helpers"),C=j("@turf/distance"),f=j("@turf/invariant"),h=j("@turf/rhumb-bearing"),d=j("@turf/rhumb-distance"),g=c.lineString,l=f.featureOf,p=c.point,m=e.segmentEach,v=c.bearingToAngle,x=c.convertDistance,w=c.degrees2radians;k.exports=function(a,b,c,d){if(!a)throw new Error("point is required");if(Array.isArray(a)?a=p(a):l(a,"Point","point"),!b)throw new Error("line is required");Array.isArray(b)?b=g(b):l(b,"LineString","line");var f=1/0,h=a.geometry.coordinates;return m(b,function(b){var g=b.geometry.coordinates[0],e=b.geometry.coordinates[1],a=q(h,g,e,c,d);f>a&&(f=a)}),f}},{"@turf/bearing":766,"@turf/distance":768,"@turf/helpers":771,"@turf/invariant":772,"@turf/meta":773,"@turf/rhumb-bearing":774,"@turf/rhumb-distance":786}],766:[function(a,b,c){arguments[4][3][0].apply(c,arguments)},{"@turf/invariant":767,dup:3}],767:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],768:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":769,"@turf/invariant":770,dup:8}],769:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],770:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],771:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],772:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],773:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],774:[function(a,b){var c=a("@turf/invariant").getCoord,d=a("geodesy").LatLonSpherical;b.exports=function(b,f,g){if(!b)throw new Error("start point is required");if(!f)throw new Error("end point is required");var h,j=c(b),k=c(f),a=new d(j[1],j[0]),m=new d(k[1],k[0]);return h=g?m.rhumbBearingTo(a):a.rhumbBearingTo(m),180<h?-(360-h):h}},{"@turf/invariant":775,geodesy:782}],775:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],776:[function(a,b){"use strict";var c={};c.parseDMS=function(a){if("number"==typeof a&&isFinite(a))return+a;var b=(a+"").trim().replace(/^-/,"").replace(/[NSEW]$/i,"").split(/[^0-9.,]+/);if(""==b[b.length-1]&&b.splice(b.length-1),""==b)return NaN;var c;switch(b.length){case 3:c=b[0]/1+b[1]/60+b[2]/3600;break;case 2:c=b[0]/1+b[1]/60;break;case 1:c=b[0];break;default:return NaN;}return /^-|[WS]$/i.test(a.trim())&&(c=-c),+c},c.separator="",c.toDMS=function(b,d,e){if(isNaN(b))return null;(void 0===d&&(d="dms"),void 0===e)&&("d"===d||"deg"===d?e=4:"dm"===d||"deg+min"===d?e=2:"dms"===d||"deg+min+sec"===d?e=0:(d="dms",e=0)),b=Math.abs(b);var f,g,h,j;switch(d){default:case"d":case"deg":g=b.toFixed(e),100>g&&(g="0"+g),10>g&&(g="0"+g),f=g+"\xB0";break;case"dm":case"deg+min":g=Math.floor(b),h=(60*b%60).toFixed(e),60==h&&(h=0,g++),g=("000"+g).slice(-3),10>h&&(h="0"+h),f=g+"\xB0"+c.separator+h+"\u2032";break;case"dms":case"deg+min+sec":g=Math.floor(b),h=Math.floor(3600*b/60)%60,j=(3600*b%60).toFixed(e),60==j&&(j=0 .toFixed(e),h++),60==h&&(h=0,g++),g=("000"+g).slice(-3),h=("00"+h).slice(-2),10>j&&(j="0"+j),f=g+"\xB0"+c.separator+h+"\u2032"+c.separator+j+"\u2033";}return f},c.toLat=function(a,b,d){var e=c.toDMS(a,b,d);return null===e?"\u2013":e.slice(1)+c.separator+(0>a?"S":"N")},c.toLon=function(a,b,d){var e=c.toDMS(a,b,d);return null===e?"\u2013":e+c.separator+(0>a?"W":"E")},c.toBrng=function(a,b,d){a=(+a+360)%360;var e=c.toDMS(a,b,d);return null===e?"\u2013":e.replace("360","0")},c.compassPoint=function(a,b){void 0===b&&(b=3),a=(a%360+360)%360;var c=4*Math.pow(2,b-1);return["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"][16*(Math.round(a*c/360)%c)/c]},void 0!==b&&b.exports&&(b.exports=c)},{}],777:[function(a,b){"use strict";function j(a,b,c){return this instanceof j?void(void 0===c&&(c=j.datum.WGS84),this.lat=+a,this.lon=+b,this.datum=c):new j(a,b,c)}if(void 0!==b&&b.exports)var d=a("./vector3d.js");if(void 0!==b&&b.exports)var c=a("./dms.js");j.ellipsoid={WGS84:{a:6378137,b:6356752.314245,f:1/298.257223563},Airy1830:{a:6377563.396,b:6356256.909,f:1/299.3249646},AiryModified:{a:6377340.189,b:6356034.448,f:1/299.3249646},Bessel1841:{a:6377397.155,b:6356078.962818,f:1/299.1528128},Clarke1866:{a:6378206.4,b:6356583.8,f:1/294.978698214},Clarke1880IGN:{a:6378249.2,b:6356515,f:1/293.466021294},GRS80:{a:6378137,b:6356752.31414,f:1/298.257222101},Intl1924:{a:6378388,b:6356911.946,f:1/297},WGS72:{a:6378135,b:6356750.5,f:1/298.26}},j.datum={ED50:{ellipsoid:j.ellipsoid.Intl1924,transform:[89.5,93.8,123.1,-1.2,0,0,0.156]},Irl1975:{ellipsoid:j.ellipsoid.AiryModified,transform:[-482.53,130.596,-564.557,-8.15,-1.042,-0.214,-0.631]},NAD27:{ellipsoid:j.ellipsoid.Clarke1866,transform:[8,-160,-176,0,0,0,0]},NAD83:{ellipsoid:j.ellipsoid.GRS80,transform:[1.004,-1.91,-0.515,-0.0015,0.0267,0.00034,0.011]},NTF:{ellipsoid:j.ellipsoid.Clarke1880IGN,transform:[168,60,-320,0,0,0,0]},OSGB36:{ellipsoid:j.ellipsoid.Airy1830,transform:[-446.448,125.157,-542.06,20.4894,-0.1502,-0.247,-0.8421]},Potsdam:{ellipsoid:j.ellipsoid.Bessel1841,transform:[-582,-105,-414,-8.3,1.04,0.35,-3.08]},TokyoJapan:{ellipsoid:j.ellipsoid.Bessel1841,transform:[148,-507,-685,0,0,0,0]},WGS72:{ellipsoid:j.ellipsoid.WGS72,transform:[0,0,-4.5,-0.22,0,0,0.554]},WGS84:{ellipsoid:j.ellipsoid.WGS84,transform:[0,0,0,0,0,0,0]}},j.prototype.convertDatum=function(a){var b=this,c=null;if(b.datum==j.datum.WGS84&&(c=a.transform),a==j.datum.WGS84){c=[];for(var d=0;7>d;d++)c[d]=-b.datum.transform[d]}return null==c&&(b=this.convertDatum(j.datum.WGS84),c=a.transform),b.toCartesian().applyTransform(c).toLatLonE(a)},j.prototype.toCartesian=function(){var b=this.lat.toRadians(),f=this.lon.toRadians(),e=this.datum.ellipsoid.a,g=this.datum.ellipsoid.f,h=Math.sin(b),j=Math.cos(b),k=Math.sin(f),a=Math.cos(f),m=2*g-g*g,l=e/Math.sqrt(1-m*h*h);return new d((l+0)*j*a,(l+0)*j*k,(l*(1-m)+0)*h)},d.prototype.toLatLonE=function(b){var k=this.x,e=this.y,m=this.z,n=b.ellipsoid.a,o=b.ellipsoid.b,q=b.ellipsoid.f,a=2*q-q*q,r=a/(1-a),l=Math.sqrt(k*k+e*e),c=Math.sqrt(l*l+m*m),f=o*m/(n*l)*(1+r*o/c),h=f/Math.sqrt(1+f*f),p=h/f,d=isNaN(p)?0:Math.atan2(m+r*o*h*h*h,l-a*n*p*p*p),g=Math.atan2(e,k),s=Math.sin(d);return Math.cos(d),Math.sqrt(1-a*s*s),new j(d.toDegrees(),g.toDegrees(),b)},d.prototype.applyTransform=function(b){var g=this.x,e=this.y,h=this.z,j=b[0],k=b[1],m=b[2],a=b[3]/1e6+1,n=(b[4]/3600).toRadians(),l=(b[5]/3600).toRadians(),c=(b[6]/3600).toRadians();return new d(j+g*a-e*c+h*l,k+g*c+e*a-h*n,m-g*l+e*n+h*a)},j.prototype.toString=function(a,b){return c.toLat(this.lat,a,b)+", "+c.toLon(this.lon,a,b)},void 0===Number.prototype.toRadians&&(Number.prototype.toRadians=function(){return this*Math.PI/180}),void 0===Number.prototype.toDegrees&&(Number.prototype.toDegrees=function(){return 180*this/Math.PI}),void 0!==b&&b.exports&&(b.exports=j,b.exports.Vector3d=d)},{"./dms.js":776,"./vector3d.js":785}],778:[function(a,b){"use strict";function j(a,b){return this instanceof j?void(this.lat=+a,this.lon=+b):new j(a,b)}if(void 0!==b&&b.exports)var c=a("./dms");j.prototype.distanceTo=function(b,d){if(!(b instanceof j))throw new TypeError("point is not LatLon object");d=void 0===d?6371e3:+d;var f=d,g=this.lat.toRadians(),h=this.lon.toRadians(),k=b.lat.toRadians(),m=b.lon.toRadians(),a=k-g,n=m-h,l=Math.sin(a/2)*Math.sin(a/2)+Math.cos(g)*Math.cos(k)*Math.sin(n/2)*Math.sin(n/2);return f*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))},j.prototype.bearingTo=function(a){if(!(a instanceof j))throw new TypeError("point is not LatLon object");var b=this.lat.toRadians(),c=a.lat.toRadians(),d=(a.lon-this.lon).toRadians(),e=Math.sin(d)*Math.cos(c),f=Math.cos(b)*Math.sin(c)-Math.sin(b)*Math.cos(c)*Math.cos(d);return(Math.atan2(e,f).toDegrees()+360)%360},j.prototype.finalBearingTo=function(a){if(!(a instanceof j))throw new TypeError("point is not LatLon object");return(a.bearingTo(this)+180)%360},j.prototype.midpointTo=function(b){if(!(b instanceof j))throw new TypeError("point is not LatLon object");var d=this.lat.toRadians(),e=this.lon.toRadians(),g=b.lat.toRadians(),h=(b.lon-this.lon).toRadians(),k=Math.cos(g)*Math.cos(h),m=Math.cos(g)*Math.sin(h),a=Math.sqrt((Math.cos(d)+k)*(Math.cos(d)+k)+m*m),n=Math.sin(d)+Math.sin(g),l=Math.atan2(n,a),c=e+Math.atan2(m,Math.cos(d)+k);return new j(l.toDegrees(),(c.toDegrees()+540)%360-180)},j.prototype.intermediatePointTo=function(k,q){if(!(k instanceof j))throw new TypeError("point is not LatLon object");var e=this.lat.toRadians(),n=this.lon.toRadians(),r=k.lat.toRadians(),o=k.lon.toRadians(),s=Math.sin(e),a=Math.cos(e),t=Math.sin(n),l=Math.cos(n),c=Math.sin(r),f=Math.cos(r),h=Math.sin(o),p=Math.cos(o),d=r-e,g=o-n,u=Math.sin(d/2)*Math.sin(d/2)+Math.cos(e)*Math.cos(r)*Math.sin(g/2)*Math.sin(g/2),v=2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)),m=Math.sin((1-q)*v)/Math.sin(v),x=Math.sin(q*v)/Math.sin(v),y=m*a*l+x*f*p,w=m*a*t+x*f*h,b=Math.atan2(m*s+x*c,Math.sqrt(y*y+w*w)),z=Math.atan2(w,y);return new j(b.toDegrees(),(z.toDegrees()+540)%360-180)},j.prototype.destinationPoint=function(b,k,q){q=void 0===q?6371e3:+q;var v=+b/q,r=(+k).toRadians(),o=this.lat.toRadians(),s=this.lon.toRadians(),a=Math.sin(o),u=Math.cos(o),l=Math.sin(v),c=Math.cos(v),f=Math.sin(r),h=Math.cos(r),p=a*c+u*l*h,d=Math.asin(p),g=s+Math.atan2(f*l*u,c-a*p);return new j(d.toDegrees(),(g.toDegrees()+540)%360-180)},j.intersection=function(k,q,t,n){if(!(k instanceof j))throw new TypeError("p1 is not LatLon object");if(!(t instanceof j))throw new TypeError("p2 is not LatLon object");var z=k.lat.toRadians(),o=k.lon.toRadians(),s=t.lat.toRadians(),a=t.lon.toRadians(),u=(+q).toRadians(),l=(+n).toRadians(),c=s-z,f=a-o,h=2*Math.asin(Math.sqrt(Math.sin(c/2)*Math.sin(c/2)+Math.cos(z)*Math.cos(s)*Math.sin(f/2)*Math.sin(f/2)));if(0==h)return null;var p=Math.acos((Math.sin(s)-Math.sin(z)*Math.cos(h))/(Math.sin(h)*Math.cos(z)));isNaN(p)&&(p=0);var d=Math.acos((Math.sin(z)-Math.sin(s)*Math.cos(h))/(Math.sin(h)*Math.cos(s))),g=0<Math.sin(a-o)?p:2*Math.PI-p,y=0<Math.sin(a-o)?2*Math.PI-d:d,v=u-g,m=y-l;if(0==Math.sin(v)&&0==Math.sin(m))return null;if(0>Math.sin(v)*Math.sin(m))return null;var x=Math.acos(-Math.cos(v)*Math.cos(m)+Math.sin(v)*Math.sin(m)*Math.cos(h)),A=Math.atan2(Math.sin(h)*Math.sin(v)*Math.sin(m),Math.cos(m)+Math.cos(v)*Math.cos(x)),w=Math.asin(Math.sin(z)*Math.cos(A)+Math.cos(z)*Math.sin(A)*Math.cos(u)),b=Math.atan2(Math.sin(u)*Math.sin(A)*Math.cos(z),Math.cos(A)-Math.sin(z)*Math.sin(w));return new j(w.toDegrees(),((o+b).toDegrees()+540)%360-180)},j.prototype.crossTrackDistanceTo=function(b,c,d){if(!(b instanceof j))throw new TypeError("pathStart is not LatLon object");if(!(c instanceof j))throw new TypeError("pathEnd is not LatLon object");var e=void 0===d?6371e3:+d,f=b.distanceTo(this,e)/e,g=b.bearingTo(this).toRadians(),h=b.bearingTo(c).toRadians();return Math.asin(Math.sin(f)*Math.sin(g-h))*e},j.prototype.alongTrackDistanceTo=function(b,c,d){if(!(b instanceof j))throw new TypeError("pathStart is not LatLon object");if(!(c instanceof j))throw new TypeError("pathEnd is not LatLon object");var e=void 0===d?6371e3:+d,f=b.distanceTo(this,e)/e,g=b.bearingTo(this).toRadians(),h=b.bearingTo(c).toRadians(),a=Math.asin(Math.sin(f)*Math.sin(g-h));return Math.acos(Math.cos(f)/Math.abs(Math.cos(a)))*Math.sign(Math.cos(h-g))*e},j.prototype.maxLatitude=function(a){var b=(+a).toRadians(),c=this.lat.toRadians();return Math.acos(Math.abs(Math.sin(b)*Math.cos(c))).toDegrees()},j.crossingParallels=function(b,d,e){var g=(+e).toRadians(),j=b.lat.toRadians(),k=b.lon.toRadians(),m=d.lat.toRadians(),o=d.lon.toRadians(),a=o-k,q=Math.sin(j)*Math.cos(m)*Math.cos(g)*Math.sin(a),l=Math.sin(j)*Math.cos(m)*Math.cos(g)*Math.cos(a)-Math.cos(j)*Math.sin(m)*Math.cos(g),r=Math.cos(j)*Math.cos(m)*Math.sin(g)*Math.sin(a);if(r*r>q*q+l*l)return null;var f=Math.atan2(-l,q),h=Math.acos(r/Math.sqrt(q*q+l*l));return{lon1:((k+f-h).toDegrees()+540)%360-180,lon2:((k+f+h).toDegrees()+540)%360-180}},j.prototype.rhumbDistanceTo=function(b,c){if(!(b instanceof j))throw new TypeError("point is not LatLon object");c=void 0===c?6371e3:+c;var d=c,f=this.lat.toRadians(),g=b.lat.toRadians(),h=g-f,k=Math.abs(b.lon-this.lon).toRadians();k>Math.PI&&(k-=2*Math.PI);var a=Math.log(Math.tan(g/2+Math.PI/4)/Math.tan(f/2+Math.PI/4)),m=1e-11<Math.abs(a)?h/a:Math.cos(f);return Math.sqrt(h*h+m*m*k*k)*d},j.prototype.rhumbBearingTo=function(a){if(!(a instanceof j))throw new TypeError("point is not LatLon object");var b=this.lat.toRadians(),c=a.lat.toRadians(),d=(a.lon-this.lon).toRadians();d>Math.PI&&(d-=2*Math.PI),d<-Math.PI&&(d+=2*Math.PI);var e=Math.log(Math.tan(c/2+Math.PI/4)/Math.tan(b/2+Math.PI/4));return(Math.atan2(d,e).toDegrees()+360)%360},j.prototype.rhumbDestinationPoint=function(b,d,g){g=void 0===g?6371e3:+g;var k=+b/g,m=this.lat.toRadians(),o=this.lon.toRadians(),p=(+d).toRadians(),a=k*Math.cos(p),q=m+a;Math.abs(q)>Math.PI/2&&(q=0<q?Math.PI-q:-Math.PI-q);var l=Math.log(Math.tan(q/2+Math.PI/4)/Math.tan(m/2+Math.PI/4)),c=1e-11<Math.abs(l)?a/l:Math.cos(m),f=k*Math.sin(p)/c;return new j(q.toDegrees(),((o+f).toDegrees()+540)%360-180)},j.prototype.rhumbMidpointTo=function(b){if(!(b instanceof j))throw new TypeError("point is not LatLon object");var d=this.lat.toRadians(),e=this.lon.toRadians(),f=b.lat.toRadians(),g=b.lon.toRadians();Math.abs(g-e)>Math.PI&&(e+=2*Math.PI);var h=(d+f)/2,k=Math.tan(Math.PI/4+d/2),a=Math.tan(Math.PI/4+f/2),m=Math.tan(Math.PI/4+h/2),l=((g-e)*Math.log(m)+e*Math.log(a)-g*Math.log(k))/Math.log(a/k);return isFinite(l)||(l=(e+g)/2),j(h.toDegrees(),(l.toDegrees()+540)%360-180)},j.areaOf=function(b,d){var f=void 0===d?6371e3:+d,g=b[0].equals(b[b.length-1]);g||b.push(b[0]);for(var h=b.length-1,j=0,k=0;k<h;k++){var m=b[k].lat.toRadians(),a=b[k+1].lat.toRadians(),n=(b[k+1].lon-b[k].lon).toRadians();j+=2*Math.atan2(Math.tan(n/2)*(Math.tan(m/2)+Math.tan(a/2)),1+Math.tan(m/2)*Math.tan(a/2))}(function(a){for(var b=0,c=a[0].bearingTo(a[1]),d=0;d<a.length-1;d++){var e=a[d].bearingTo(a[d+1]),f=a[d].finalBearingTo(a[d+1]);b+=(e-c+540)%360-180,b+=(f-e+540)%360-180,c=f}var e=a[0].bearingTo(a[1]);return b+=(e-c+540)%360-180,90>Math.abs(b)})(b)&&(j=Math.abs(j)-2*Math.PI);var l=Math.abs(j*f*f);return g||b.pop(),l},j.prototype.equals=function(a){if(!(a instanceof j))throw new TypeError("point is not LatLon object");return this.lat==a.lat&&this.lon==a.lon},j.prototype.toString=function(a,b){return c.toLat(this.lat,a,b)+", "+c.toLon(this.lon,a,b)},void 0===Number.prototype.toRadians&&(Number.prototype.toRadians=function(){return this*Math.PI/180}),void 0===Number.prototype.toDegrees&&(Number.prototype.toDegrees=function(){return 180*this/Math.PI}),void 0!==b&&b.exports&&(b.exports=j)},{"./dms":776}],779:[function(a,b){"use strict";function j(a,b){return this instanceof j?void(this.lat=+a,this.lon=+b):new j(a,b)}if(void 0!==b&&b.exports)var g=a("./vector3d.js");if(void 0!==b&&b.exports)var c=a("./dms.js");j.prototype.toVector=function(){var a=this.lat.toRadians(),b=this.lon.toRadians(),c=Math.cos(a)*Math.cos(b),d=Math.cos(a)*Math.sin(b),e=Math.sin(a);return new g(c,d,e)},g.prototype.toLatLonS=function(){var a=Math.atan2(this.z,Math.sqrt(this.x*this.x+this.y*this.y)),b=Math.atan2(this.y,this.x);return new j(a.toDegrees(),b.toDegrees())},j.prototype.greatCircle=function(b){var c=this.lat.toRadians(),d=this.lon.toRadians(),e=(+b).toRadians(),f=Math.sin(d)*Math.cos(e)-Math.sin(c)*Math.cos(d)*Math.sin(e),h=-Math.cos(d)*Math.cos(e)-Math.sin(c)*Math.sin(d)*Math.sin(e),j=Math.cos(c)*Math.sin(e);return new g(f,h,j)},g.prototype.greatCircle=function(a){var b=(+a).toRadians(),c=new g(0,0,1),d=c.cross(this),e=this.cross(d),f=d.times(Math.cos(b)/d.length());return e.times(Math.sin(b)/e.length()).minus(f)},j.prototype.distanceTo=function(a,b){if(!(a instanceof j))throw new TypeError("point is not LatLon object");b=void 0===b?6371e3:+b;var c=this.toVector(),d=a.toVector();return c.angleTo(d)*b},j.prototype.bearingTo=function(b){if(!(b instanceof j))throw new TypeError("point is not LatLon object");var c=this.toVector(),d=b.toVector(),e=new g(0,0,1),f=c.cross(d),h=c.cross(e);return(f.angleTo(h,c).toDegrees()+360)%360},j.prototype.midpointTo=function(a){if(!(a instanceof j))throw new TypeError("point is not LatLon object");var b=this.toVector(),c=a.toVector();return b.plus(c).unit().toLatLonS()},j.prototype.intermediatePointTo=function(b,d){if(!(b instanceof j))throw new TypeError("point is not LatLon object");var k=this.toVector(),m=b.toVector(),n=k.cross(m).length(),o=k.dot(m),a=Math.atan2(n,o),q=a*+d,l=Math.sin(q),c=Math.cos(q),f=k.cross(m).unit().cross(k),h=k.times(c).plus(f.times(l));return new g(h.x,h.y,h.z).toLatLonS()},j.prototype.intermediatePointOnChordTo=function(a,b){if(!(a instanceof j))throw new TypeError("point is not LatLon object");var c=this.toVector(),d=a.toVector(),f=c.plus(d.minus(c).times(+b));return new g(f.x,f.y,f.z).toLatLonS()},j.prototype.destinationPoint=function(b,j,k){k=void 0===k?6371e3:+k;var m=this.toVector(),q=+b/k,o=(+j).toRadians(),r=new g(0,0,1),a=r.cross(m).unit(),s=m.cross(a),l=a.times(Math.sin(o)),c=s.times(Math.cos(o)),f=c.plus(l),h=m.times(Math.cos(q)),p=f.times(Math.sin(q));return h.plus(p).toLatLonS()},j.intersection=function(b,k,m,n){if(!(b instanceof j))throw new TypeError("path1start is not LatLon object");if(!(m instanceof j))throw new TypeError("path2start is not LatLon object");if(!(k instanceof j)&&isNaN(k))throw new TypeError("path1brngEnd is not LatLon object or bearing");if(!(n instanceof j)&&isNaN(n))throw new TypeError("path2brngEnd is not LatLon object or bearing");var q,o,s,a,t=b.toVector(),l=m.toVector();k instanceof j?(q=t.cross(k.toVector()),s="endpoint"):(q=b.greatCircle(+k),s="bearing"),n instanceof j?(o=l.cross(n.toVector()),a="endpoint"):(o=m.greatCircle(+n),a="bearing");var c=q.cross(o),f=o.cross(q),h=null,p=null,d=null;switch(s+"+"+a){case"bearing+bearing":switch(p=Math.sign(q.cross(t).dot(c)),d=Math.sign(o.cross(l).dot(c)),p+d){case 2:h=c;break;case-2:h=f;break;case 0:h=0<t.plus(l).dot(c)?f:c;}break;case"bearing+endpoint":p=Math.sign(q.cross(t).dot(c)),h=0<p?c:f;break;case"endpoint+bearing":d=Math.sign(o.cross(l).dot(c)),h=0<d?c:f;break;case"endpoint+endpoint":h=0<t.plus(l).plus(k.toVector()).plus(n.toVector()).dot(c)?c:f;}return h.toLatLonS()},j.prototype.crossTrackDistanceTo=function(a,b,c){if(!(a instanceof j))throw new TypeError("pathStart is not LatLon object");var d=void 0===c?6371e3:+c,f=this.toVector();return((b instanceof j?a.toVector().cross(b.toVector()):a.greatCircle(+b)).angleTo(f)-Math.PI/2)*d},j.prototype.alongTrackDistanceTo=function(b,c,d){if(!(b instanceof j))throw new TypeError("pathStart is not LatLon object");var f=void 0===d?6371e3:+d,g=this.toVector(),h=c instanceof j?b.toVector().cross(c.toVector()):b.greatCircle(+c),k=h.cross(g).cross(h);return b.toVector().angleTo(k,h)*f},j.prototype.nearestPointOnSegment=function(b,c){var d=null;if(this.isBetween(b,c)){var e=this.toVector(),f=b.toVector(),g=c.toVector(),h=f.cross(g),j=e.cross(h);d=h.cross(j).toLatLonS()}else d=this.distanceTo(b)<this.distanceTo(c)?b:c;return d},j.prototype.isBetween=function(b,d){var e=this.toVector(),f=b.toVector(),g=d.toVector(),j=e.minus(f),k=g.minus(f),m=e.minus(g),a=f.minus(g),n=j.dot(k),l=m.dot(a),c=0<=e.dot(f)&&0<=e.dot(g);return 0<=n&&0<=l&&c},j.prototype.enclosedBy=function(b){var c=b[0].equals(b[b.length-1]);c||b.push(b[0]);for(var d=b.length-1,e=this.toVector(),f=[],g=0;g<d;g++)f[g]=e.minus(b[g].toVector());f.push(f[0]);for(var h=0,g=0;g<d;g++)h+=f[g].angleTo(f[g+1],e);var j=Math.abs(h)>Math.PI;return c||b.pop(),j},j.areaOf=function(b,d){var g=void 0==d?6371e3:+d,j=b[0].equals(b[b.length-1]);j||b.push(b[0]);for(var k=b.length-1,m=[],n=0;n<k;n++){var o=b[n].toVector(),a=b[n+1].toVector();m[n]=o.cross(a)}m.push(m[0]);for(var p=b[0].toVector(),l=0,n=0;n<k;n++)l+=m[n].angleTo(m[n+1],p);var c=k*Math.PI-Math.abs(l),f=c-(k-2)*Math.PI;return j||b.pop(),f*g*g},j.meanOf=function(a){for(var b=new g(0,0,0),c=0;c<a.length;c++)b=b.plus(a[c].toVector());return b.unit().toLatLonS()},j.prototype.equals=function(a){if(!(a instanceof j))throw new TypeError("point is not LatLon object");return this.lat==a.lat&&this.lon==a.lon},j.prototype.toString=function(a,b){return c.toLat(this.lat,a,b)+", "+c.toLon(this.lon,a,b)},void 0===Number.prototype.toRadians&&(Number.prototype.toRadians=function(){return this*Math.PI/180}),void 0===Number.prototype.toDegrees&&(Number.prototype.toDegrees=function(){return 180*this/Math.PI}),void 0===Math.sign&&(Math.sign=function(a){return a=+a,0===a||isNaN(a)?a:0<a?1:-1}),void 0!==b&&b.exports&&(b.exports=j,b.exports.Vector3d=g)},{"./dms.js":776,"./vector3d.js":785}],780:[function(a,b){"use strict";if(void 0!==b&&b.exports)var j=a("./latlon-ellipsoidal.js");j.prototype.distanceTo=function(a){if(!(a instanceof j))throw new TypeError("point is not LatLon object");try{return+this.inverse(a).distance.toFixed(3)}catch(a){return NaN}},j.prototype.initialBearingTo=function(a){if(!(a instanceof j))throw new TypeError("point is not LatLon object");try{return+this.inverse(a).initialBearing.toFixed(9)}catch(a){return NaN}},j.prototype.finalBearingTo=function(a){if(!(a instanceof j))throw new TypeError("point is not LatLon object");try{return+this.inverse(a).finalBearing.toFixed(9)}catch(a){return NaN}},j.prototype.destinationPoint=function(a,b){return this.direct(+a,+b).point},j.prototype.finalBearingOn=function(a,b){return+this.direct(+a,+b).finalBearing.toFixed(9)},j.prototype.direct=function(k,q){var e,n,r,o,s,a=this.lat.toRadians(),t=this.lon.toRadians(),l=q.toRadians(),c=k,f=this.datum.ellipsoid.a,h=this.datum.ellipsoid.b,p=this.datum.ellipsoid.f,d=Math.sin(l),g=Math.cos(l),u=(1-p)*Math.tan(a),v=1/Math.sqrt(1+u*u),m=u*v,x=Math.atan2(u,g),y=v*d,w=1-y*y,b=w*(f*f-h*h)/(h*h),z=1+b/16384*(4096+b*(b*(320-175*b)-768)),B=b/1024*(256+b*(b*(74-47*b)-128)),C=c/(h*z),D=0;do e=Math.cos(2*x+C),n=Math.sin(C),r=Math.cos(C),o=B*n*(e+B/4*(r*(2*e*e-1)-B/6*e*(4*n*n-3)*(4*e*e-3))),s=C,C=c/(h*z)+o;while(1e-12<Math.abs(C-s)&&100>++D);if(100<=D)throw new Error("Formula failed to converge");var E=m*n-v*r*g,F=Math.atan2(m*r+v*n*g,(1-p)*Math.sqrt(y*y+E*E)),G=Math.atan2(n*d,v*r-m*n*g),H=p/16*w*(4+p*(4-3*w)),I=G-(1-H)*p*y*(C+H*n*(e+H*r*(2*e*e-1))),J=(t+I+3*Math.PI)%(2*Math.PI)-Math.PI,K=Math.atan2(y,-E);return K=(K+2*Math.PI)%(2*Math.PI),{point:new j(F.toDegrees(),J.toDegrees(),this.datum),finalBearing:K.toDegrees(),iterations:D}},j.prototype.inverse=function(j){var k=this,e=j;-180==k.lon&&(k.lon=180);var n,q,r,o,s,a,t=k.lat.toRadians(),l=k.lon.toRadians(),c=e.lat.toRadians(),f=e.lon.toRadians(),h=this.datum.ellipsoid.a,p=this.datum.ellipsoid.b,d=this.datum.ellipsoid.f,g=f-l,u=(1-d)*Math.tan(t),v=1/Math.sqrt(1+u*u),m=u*v,y=(1-d)*Math.tan(c),z=1/Math.sqrt(1+y*y),w=y*z,b=0,B=0,E=0,C=0,G=0,H=g,I=0;do{if(n=Math.sin(H),q=Math.cos(H),0==(r=z*n*(z*n)+(v*w-m*z*q)*(v*w-m*z*q)))break;if(b=Math.sqrt(r),B=m*w+v*z*q,E=Math.atan2(b,B),o=v*z*n/b,C=1-o*o,G=0==C?0:B-2*m*w/C,s=d/16*C*(4+d*(4-3*C)),a=H,H=g+(1-s)*d*o*(E+s*b*(G+s*B*(2*G*G-1))),Math.abs(H)>Math.PI)throw new Error("\u03BB > \u03C0")}while(1e-12<Math.abs(H-a)&&1e3>++I);if(1e3<=I)throw new Error("Formula failed to converge");var J=C*(h*h-p*p)/(p*p),K=J/1024*(256+J*(J*(74-47*J)-128)),L=K*b*(G+K/4*(B*(2*G*G-1)-K/6*G*(4*b*b-3)*(4*G*G-3))),M=p*(1+J/16384*(4096+J*(J*(320-175*J)-768)))*(E-L),N=Math.atan2(z*n,v*w-m*z*q),D=Math.atan2(v*n,-m*z+v*w*q);return N=(N+2*Math.PI)%(2*Math.PI),D=(D+2*Math.PI)%(2*Math.PI),{distance:M,initialBearing:0==M?NaN:N.toDegrees(),finalBearing:0==M?NaN:D.toDegrees(),iterations:I}},void 0===Number.prototype.toRadians&&(Number.prototype.toRadians=function(){return this*Math.PI/180}),void 0===Number.prototype.toDegrees&&(Number.prototype.toDegrees=function(){return 180*this/Math.PI}),void 0!==b&&b.exports&&(b.exports=j)},{"./latlon-ellipsoidal.js":777}],781:[function(a,b){"use strict";function f(b,c,d,e,g,h,j){if(!(this instanceof f))return new f(b,c,d,e,g,h,j);if(void 0===j&&(j=k.datum.WGS84),!(1<=b&&60>=b))throw new Error("Invalid MGRS grid reference (zone \u2018"+b+"\u2019)");if(1!=c.length)throw new Error("Invalid MGRS grid reference (band \u2018"+c+"\u2019)");if(-1==f.latBands.indexOf(c))throw new Error("Invalid MGRS grid reference (band \u2018"+c+"\u2019)");if(1!=d.length)throw new Error("Invalid MGRS grid reference (e100k \u2018"+d+"\u2019)");if(1!=e.length)throw new Error("Invalid MGRS grid reference (n100k \u2018"+e+"\u2019)");this.zone=+b,this.band=c,this.e100k=d,this.n100k=e,this.easting=+g,this.northing=+h,this.datum=j}if(void 0!==b&&b.exports)var j=a("./utm.js");if(void 0!==b&&b.exports)var k=a("./latlon-ellipsoidal.js");f.latBands="CDEFGHJKLMNPQRSTUVWXX",f.e100kLetters=["ABCDEFGH","JKLMNPQR","STUVWXYZ"],f.n100kLetters=["ABCDEFGHJKLMNPQRSTUV","FGHJKLMNPQRSTUVABCDE"],j.prototype.toMgrs=function(){if(isNaN(this.zone+this.easting+this.northing))throw new Error("Invalid UTM coordinate \u2018"+this.toString()+"\u2019");var b=this.zone,c=this.toLatLonE(),d=f.latBands.charAt(Math.floor(c.lat/8+10)),e=Math.floor(this.easting/1e5),g=f.e100kLetters[(b-1)%3].charAt(e-1),h=Math.floor(this.northing/1e5)%20,j=f.n100kLetters[(b-1)%2].charAt(h),a=this.easting%1e5,k=this.northing%1e5;return a=+a.toFixed(6),k=+k.toFixed(6),new f(b,d,g,j,a,k)},f.prototype.toUtm=function(){for(var b=this.zone,m=this.band,e=this.e100k,n=this.n100k,o=this.easting,a=this.northing,q="N"<=m?"N":"S",l=f.e100kLetters[(b-1)%3].indexOf(e)+1,c=1e5*l,r=f.n100kLetters[(b-1)%2].indexOf(n),h=1e5*r,p=8*(f.latBands.indexOf(m)-10),d=1e5*Math.floor(new k(p,0).toUtm().northing/1e5),g=0;g+h+a<d;)g+=2e6;return new j(b,q,c+o,g+h+a,this.datum)},f.parse=function(b){if(b=b.trim(),!b.match(/\s/)){var d=b.slice(5);d=d.slice(0,d.length/2)+" "+d.slice(-d.length/2),b=b.slice(0,3)+" "+b.slice(3,5)+" "+d}if(null==(b=b.match(/\S+/g))||4!=b.length)throw new Error("Invalid MGRS grid reference \u2018"+b+"\u2019");var e=b[0],g=e.slice(0,2),h=e.slice(2,3),j=b[1],k=j.slice(0,1),a=j.slice(1,2),m=b[2],l=b[3];return m=5<=m.length?m:(m+"00000").slice(0,5),l=5<=l.length?l:(l+"00000").slice(0,5),new f(g,h,k,a,m,l)},f.prototype.toString=function(a){if(a=void 0===a?10:+a,-1==[2,4,6,8,10].indexOf(a))throw new Error("Invalid precision \u2018"+a+"\u2019");var b=("00"+this.zone).slice(-2),c=this.band,d=this.e100k,e=this.n100k,f=Math.floor(this.easting/Math.pow(10,5-a/2)),g=Math.floor(this.northing/Math.pow(10,5-a/2));return b+c+" "+d+e+" "+("00000"+f).slice(-a/2)+" "+("00000"+g).slice(-a/2)},void 0!==b&&b.exports&&(b.exports=f)},{"./latlon-ellipsoidal.js":777,"./utm.js":784}],782:[function(a,b,c){"use strict";c.LatLonSpherical=a("./latlon-spherical.js"),c.LatLonEllipsoidal=a("./latlon-ellipsoidal.js");var d=a("./latlon-vincenty.js");for(var e in d)c.LatLonEllipsoidal[e]=d[e];c.LatLonVectors=a("./latlon-vectors.js"),c.Vector3d=a("./vector3d.js"),c.Utm=a("./utm.js"),c.Mgrs=a("./mgrs.js"),c.OsGridRef=a("./osgridref.js"),c.Dms=a("./dms.js")},{"./dms.js":776,"./latlon-ellipsoidal.js":777,"./latlon-spherical.js":778,"./latlon-vectors.js":779,"./latlon-vincenty.js":780,"./mgrs.js":781,"./osgridref.js":783,"./utm.js":784,"./vector3d.js":785}],783:[function(a,b){"use strict";function A(a,b){return this instanceof A?void(this.easting=+a,this.northing=+b):new A(a,b)}if(void 0!==b&&b.exports)var H=a("./latlon-ellipsoidal.js");A.latLonToOsGrid=function(j){if(!(j instanceof H))throw new TypeError("point is not LatLon object");j.datum!=H.datum.OSGB36&&(j=j.convertDatum(H.datum.OSGB36));var r=j.lat.toRadians(),e=j.lon.toRadians(),n=6377563.396,o=6356256.909,s=.9996012717,a=49 .toRadians(),t=(-2).toRadians(),l=1-o*o/(n*n),c=(n-o)/(n+o),f=c*c,h=c*c*c,p=Math.cos(r),d=Math.sin(r),g=n*s/Math.sqrt(1-l*d*d),u=n*s*(1-l)/Math.pow(1-l*d*d,1.5),v=g/u-1,m=(3*c+3*c*c+21/8*h)*Math.sin(r-a)*Math.cos(r+a),x=(15/8*f+15/8*h)*Math.sin(2*(r-a))*Math.cos(2*(r+a)),w=35/24*h*Math.sin(3*(r-a))*Math.cos(3*(r+a)),b=p*p*p,y=b*p*p,C=Math.tan(r)*Math.tan(r),E=C*C,I=e-t,D=I*I,F=D*I,q=F*I,k=q*I,G=o*s*((1+c+5/4*f+5/4*h)*(r-a)-m+x-w)+-1e5+g/2*d*p*D+g/24*d*b*(5-C+9*v)*q+g/720*d*y*(61-58*C+E)*(k*I),B=4e5+g*p*I+g/6*b*(g/u-C)*F+g/120*y*(5-18*C+E+14*v-58*C*v)*k;return G=+G.toFixed(3),B=+B.toFixed(3),new A(B,G)},A.osGridToLatLon=function(r,t){if(!(r instanceof A))throw new TypeError("gridref is not OsGridRef object");void 0===t&&(t=H.datum.WGS84);var e=r.easting,n=r.northing,o=6377563.396,s=6356256.909,a=.9996012717,u=49 .toRadians(),l=(-2).toRadians(),c=1-s*s/(o*o),f=(o-s)/(o+s),h=f*f,p=f*f*f,d=u,g=0;do d=(n- -1e5-g)/(o*a)+d,g=s*a*((1+f+5/4*h+5/4*p)*(d-u)-(3*f+3*f*f+21/8*p)*Math.sin(d-u)*Math.cos(d+u)+(15/8*h+15/8*p)*Math.sin(2*(d-u))*Math.cos(2*(d+u))-35/24*p*Math.sin(3*(d-u))*Math.cos(3*(d+u)));while(1e-5<=n- -1e5-g);var y=Math.cos(d),v=Math.sin(d),m=o*a/Math.sqrt(1-c*v*v),x=o*a*(1-c)/Math.pow(1-c*v*v,1.5),z=m/x-1,w=Math.tan(d),b=w*w,C=b*b,D=1/y,E=m*m*m,F=E*m*m,I=e-4e5,q=I*I,k=q*I,G=q*q,j=k*q;d=d-w/(2*x*m)*q+w/(24*x*E)*(5+3*b+z-9*b*z)*G-w/(720*x*F)*(61+90*b+45*C)*(G*q);var B=new H(d.toDegrees(),(l+D/m*I-D/(6*E)*(m/x+2*b)*k+D/(120*F)*(5+28*b+24*C)*j-D/(5040*(F*m*m))*(61+662*b+1320*C+720*(C*b))*(j*q)).toDegrees(),H.datum.OSGB36);return t!=H.datum.OSGB36&&(B=B.convertDatum(t)),B},A.parse=function(b){b=(b+"").trim();var c=b.match(/^(\d+),\s*(\d+)$/);if(c)return new A(c[1],c[2]);if(!(c=b.match(/^[A-Z]{2}\s*[0-9]+\s*[0-9]+$/i)))throw new Error("Invalid grid reference");var d=b.toUpperCase().charCodeAt(0)-65,e=b.toUpperCase().charCodeAt(1)-65;7<d&&d--,7<e&&e--;var f=5*((d-2)%5)+e%5,g=19-5*Math.floor(d/5)-Math.floor(e/5),h=b.slice(2).trim().split(/\s+/);if(1==h.length&&(h=[h[0].slice(0,h[0].length/2),h[0].slice(h[0].length/2)]),0>f||6<f||0>g||12<g)throw new Error("Invalid grid reference");if(2!=h.length)throw new Error("Invalid grid reference");if(h[0].length!=h[1].length)throw new Error("Invalid grid reference");return h[0]=(h[0]+"00000").slice(0,5),h[1]=(h[1]+"00000").slice(0,5),new A(f+h[0],g+h[1])},A.prototype.toString=function(b){if(b=void 0===b?10:+b,isNaN(b)||0!=b%2||16<b)throw new RangeError("Invalid precision \u2018"+b+"\u2019");var d=this.easting,e=this.northing;if(isNaN(d)||isNaN(e))throw new Error("Invalid grid reference");if(0==b){var g=Math.floor(d),h=d-g,j=Math.floor(e),k=e-j;return("000000"+g).slice(-6)+(0<h?h.toFixed(3).slice(1):"")+","+((1e6>j?("000000"+j).slice(-6):j)+(0<k?k.toFixed(3).slice(1):""))}var m=Math.floor(d/1e5),a=Math.floor(e/1e5);if(0>m||6<m||0>a||12<a)return"";var n=19-a-(19-a)%5+Math.floor((m+10)/5),l=5*(19-a)%25+m%5;7<n&&n++,7<l&&l++;var c=String.fromCharCode(n+65,l+65);return d=Math.floor(d%1e5/Math.pow(10,5-b/2)),e=Math.floor(e%1e5/Math.pow(10,5-b/2)),d=("00000000"+d).slice(-b/2),e=("00000000"+e).slice(-b/2),c+" "+d+" "+e},void 0!==b&&b.exports&&(b.exports=A)},{"./latlon-ellipsoidal.js":777}],784:[function(a,b){"use strict";function z(b,c,d,e,f,g,h){if(!(this instanceof z))return new z(b,c,d,e,f,g,h);if(void 0===f&&(f=j.datum.WGS84),void 0===g&&(g=null),void 0===h&&(h=null),!(1<=b&&60>=b))throw new Error("Invalid UTM zone "+b);if(!c.match(/[NS]/i))throw new Error("Invalid UTM hemisphere "+c);this.zone=+b,this.hemisphere=c.toUpperCase(),this.easting=+d,this.northing=+e,this.datum=f,this.convergence=null===g?null:+g,this.scale=null===h?null:+h}if(void 0!==b&&b.exports)var j=a("./latlon-ellipsoidal.js");j.prototype.toUtm=function(){if(isNaN(this.lat)||isNaN(this.lon))throw new Error("Invalid point");if(!(-80<=this.lat&&84>=this.lat))throw new Error("Outside UTM limits");var n=Math.floor((this.lon+180)/6)+1,t=(6*(n-1)-180+3).toRadians(),e="CDEFGHJKLMNPQRSTUVWXX".charAt(Math.floor(this.lat/8+10));31==n&&"V"==e&&3<=this.lon&&(n++,t+=6 .toRadians()),32==n&&"X"==e&&9>this.lon&&(n--,t-=6 .toRadians()),32==n&&"X"==e&&9<=this.lon&&(n++,t+=6 .toRadians()),34==n&&"X"==e&&21>this.lon&&(n--,t-=6 .toRadians()),34==n&&"X"==e&&21<=this.lon&&(n++,t+=6 .toRadians()),36==n&&"X"==e&&33>this.lon&&(n--,t-=6 .toRadians()),36==n&&"X"==e&&33<=this.lon&&(n++,t+=6 .toRadians());for(var r=this.lat.toRadians(),o=this.lon.toRadians()-t,s=this.datum.ellipsoid.a,a=this.datum.ellipsoid.f,u=Math.sqrt(a*(2-a)),l=a/(2-a),c=l*l,f=l*c,h=l*f,p=l*h,d=l*p,g=Math.cos(o),y=Math.sin(o),v=Math.tan(o),m=Math.tan(r),x=Math.sinh(u*Math.atanh(u*m/Math.sqrt(1+m*m))),D=m*Math.sqrt(1+x*x)-x*Math.sqrt(1+m*m),w=Math.atan2(D,g),b=Math.asinh(y/Math.sqrt(D*D+g*g)),E=s/(1+l)*(1+.25*c+1/64*h+1/256*d),G=[null,.5*l-2/3*c+5/16*f+41/180*h-127/288*p+7891/37800*d,13/48*c-.6*f+557/1440*h+281/630*p-1983433/1935360*d,61/240*f-103/140*h+15061/26880*p+167603/181440*d,49561/161280*h-179/168*p+6601661/7257600*d,34729/80640*p-3418889/1995840*d,.6650675310896665*d],C=w,H=1;6>=H;H++)C+=G[H]*Math.sin(2*H*w)*Math.cosh(2*H*b);for(var I=b,H=1;6>=H;H++)I+=G[H]*Math.cos(2*H*w)*Math.sinh(2*H*b);for(var J=.9996*E*I,K=.9996*E*C,L=1,H=1;6>=H;H++)L+=2*H*G[H]*Math.cos(2*H*w)*Math.cosh(2*H*b);for(var M=0,H=1;6>=H;H++)M+=2*H*G[H]*Math.sin(2*H*w)*Math.sinh(2*H*b);var N=Math.atan(D/Math.sqrt(1+D*D)*v),O=Math.atan2(M,L),A=Math.sin(r),F=Math.sqrt(1-u*u*A*A)*Math.sqrt(1+m*m)/Math.sqrt(D*D+g*g),q=E/s*Math.sqrt(L*L+M*M);J+=5e5,0>K&&(K+=1e7),J=+J.toFixed(6),K=+K.toFixed(6);var k=+(N+O).toDegrees().toFixed(9),j=+(.9996*F*q).toFixed(12);return new z(n,0<=this.lat?"N":"S",J,K,this.datum,k,j)},z.prototype.toLatLonE=function(){var r=this.zone,t=this.hemisphere,e=this.easting,n=this.northing;if(isNaN(r)||isNaN(e)||isNaN(n))throw new Error("Invalid coordinate");var F=this.datum.ellipsoid.a,o=this.datum.ellipsoid.f;e-=5e5,n="S"==t?n-1e7:n;for(var s=Math.sqrt(o*(2-o)),a=o/(2-o),u=a*a,l=a*u,c=a*l,f=a*c,h=a*f,p=F/(1+a)*(1+.25*u+1/64*c+1/256*h),d=e/(.9996*p),g=n/(.9996*p),y=[null,.5*a-2/3*u+37/96*l-1/360*c-81/512*f+96199/604800*h,1/48*u+1/15*l-437/1440*c+46/105*f-1118711/3870720*h,17/480*l-37/840*c-209/4480*f+5569/90720*h,4397/161280*c-11/504*f-830251/7257600*h,4583/161280*f-108847/3991680*h,.03233083094085698*h],v=g,m=1;6>=m;m++)v-=y[m]*Math.sin(2*m*g)*Math.cosh(2*m*d);for(var x=d,m=1;6>=m;m++)x-=y[m]*Math.cos(2*m*g)*Math.sinh(2*m*d);var E=Math.sinh(x),w=Math.sin(v),b=Math.cos(v),H=w/Math.sqrt(E*E+b*b),I=H;do{var C=Math.sinh(s*Math.atanh(s*I/Math.sqrt(1+I*I))),J=I*Math.sqrt(1+C*C)-C*Math.sqrt(1+I*I),K=(H-J)/Math.sqrt(1+J*J)*(1+(1-s*s)*I*I)/((1-s*s)*Math.sqrt(1+I*I));I+=K}while(1e-12<Math.abs(K));for(var L=I,M=Math.atan(L),N=Math.atan2(E,b),P=1,m=1;6>=m;m++)P-=2*m*y[m]*Math.cos(2*m*g)*Math.cosh(2*m*d);for(var O=0,m=1;6>=m;m++)O+=2*m*y[m]*Math.sin(2*m*g)*Math.sinh(2*m*d);var Q=Math.atan(Math.tan(v)*Math.tanh(x)),A=Math.atan2(O,P),D=Math.sin(M),q=Math.sqrt(1-s*s*D*D)*Math.sqrt(1+L*L)*Math.sqrt(E*E+b*b),k=p/F/Math.sqrt(P*P+O*O);N+=(6*(r-1)-180+3).toRadians();var G=+M.toDegrees().toFixed(11),B=+N.toDegrees().toFixed(11),z=+(Q+A).toDegrees().toFixed(9),R=+(.9996*q*k).toFixed(12),S=new j(G,B,this.datum);return S.convergence=z,S.scale=R,S},z.parse=function(a,b){if(void 0===b&&(b=j.datum.WGS84),null==(a=a.trim().match(/\S+/g))||4!=a.length)throw new Error("Invalid UTM coordinate \u2018"+a+"\u2019");return new z(a[0],a[1],a[2],a[3],b)},z.prototype.toString=function(a){a=+(a||0);var b=10>this.zone?"0"+this.zone:this.zone,c=this.hemisphere,d=this.easting,e=this.northing;return isNaN(b)||!c.match(/[NS]/)||isNaN(d)||isNaN(e)?"":b+" "+c+" "+d.toFixed(a)+" "+e.toFixed(a)},void 0===Math.sinh&&(Math.sinh=function(a){return(Math.exp(a)-Math.exp(-a))/2}),void 0===Math.cosh&&(Math.cosh=function(a){return(Math.exp(a)+Math.exp(-a))/2}),void 0===Math.tanh&&(Math.tanh=function(a){return(Math.exp(a)-Math.exp(-a))/(Math.exp(a)+Math.exp(-a))}),void 0===Math.asinh&&(Math.asinh=function(a){return Math.log(a+Math.sqrt(1+a*a))}),void 0===Math.atanh&&(Math.atanh=function(a){return Math.log((1+a)/(1-a))/2}),void 0!==b&&b.exports&&(b.exports=z)},{"./latlon-ellipsoidal.js":777}],785:[function(a,b){"use strict";function d(a,b,c){return this instanceof d?void(this.x=+a,this.y=+b,this.z=+c):new d(a,b,c)}d.prototype.plus=function(a){if(!(a instanceof d))throw new TypeError("v is not Vector3d object");return new d(this.x+a.x,this.y+a.y,this.z+a.z)},d.prototype.minus=function(a){if(!(a instanceof d))throw new TypeError("v is not Vector3d object");return new d(this.x-a.x,this.y-a.y,this.z-a.z)},d.prototype.times=function(a){return a=+a,new d(this.x*a,this.y*a,this.z*a)},d.prototype.dividedBy=function(a){return a=+a,new d(this.x/a,this.y/a,this.z/a)},d.prototype.dot=function(a){if(!(a instanceof d))throw new TypeError("v is not Vector3d object");return this.x*a.x+this.y*a.y+this.z*a.z},d.prototype.cross=function(a){if(!(a instanceof d))throw new TypeError("v is not Vector3d object");return new d(this.y*a.z-this.z*a.y,this.z*a.x-this.x*a.z,this.x*a.y-this.y*a.x)},d.prototype.negate=function(){return new d(-this.x,-this.y,-this.z)},d.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},d.prototype.unit=function(){var a=this.length();return 1==a?this:0==a?this:new d(this.x/a,this.y/a,this.z/a)},d.prototype.angleTo=function(a,b){if(!(a instanceof d))throw new TypeError("v is not Vector3d object");if(!(b instanceof d||void 0==b))throw new TypeError("n is not Vector3d object");var c=void 0==b?1:Math.sign(this.cross(a).dot(b)),e=this.cross(a).length()*c,f=this.dot(a);return Math.atan2(e,f)},d.prototype.rotateAround=function(b,g){if(!(b instanceof d))throw new TypeError("axis is not Vector3d object");for(var e=this.unit(),h=[e.x,e.y,e.z],j=b.unit(),k=Math.sin(g),m=Math.cos(g),a=[[j.x*j.x*(1-m)+m,j.x*j.y*(1-m)-j.z*k,j.x*j.z*(1-m)+j.y*k],[j.y*j.x*(1-m)+j.z*k,j.y*j.y*(1-m)+m,j.y*j.z*(1-m)-j.x*k],[j.z*j.x*(1-m)-j.y*k,j.z*j.y*(1-m)+j.x*k,j.z*j.z*(1-m)+m]],n=[0,0,0],l=0;3>l;l++)for(var c=0;3>c;c++)n[l]+=a[l][c]*h[c];return new d(n[0],n[1],n[2])},d.prototype.toString=function(a){var b=void 0===a?3:+a;return"["+this.x.toFixed(b)+","+this.y.toFixed(b)+","+this.z.toFixed(b)+"]"},void 0===Math.sign&&(Math.sign=function(a){return a=+a,0===a||isNaN(a)?a:0<a?1:-1}),void 0!==b&&b.exports&&(b.exports=d)},{}],786:[function(b,c){var d=b("@turf/helpers"),g=b("@turf/invariant").getCoord,h=b("geodesy").LatLonSpherical,j=d.radiansToDistance,k=d.distanceToRadians;c.exports=function(a,b,d){if(!a)throw new Error("from point is required");if(!b)throw new Error("to point is required");d=d||"kilometers";var m=g(a),n=g(b),o=new h(m[1],m[0]),l=new h(n[1],n[0]);l[0]+=180<l[0]-o[0]?-360:180<o[0]-l[0]?360:0;var c=o.rhumbDistanceTo(l);return j(k(c,"meters"),d)}},{"@turf/helpers":787,"@turf/invariant":788,geodesy:795}],787:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],788:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],789:[function(a,b,c){arguments[4][776][0].apply(c,arguments)},{dup:776}],790:[function(a,b,c){arguments[4][777][0].apply(c,arguments)},{"./dms.js":789,"./vector3d.js":798,dup:777}],791:[function(a,b,c){arguments[4][778][0].apply(c,arguments)},{"./dms":789,dup:778}],792:[function(a,b,c){arguments[4][779][0].apply(c,arguments)},{"./dms.js":789,"./vector3d.js":798,dup:779}],793:[function(a,b,c){arguments[4][780][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":790,dup:780}],794:[function(a,b,c){arguments[4][781][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":790,"./utm.js":797,dup:781}],795:[function(a,b,c){arguments[4][782][0].apply(c,arguments)},{"./dms.js":789,"./latlon-ellipsoidal.js":790,"./latlon-spherical.js":791,"./latlon-vectors.js":792,"./latlon-vincenty.js":793,"./mgrs.js":794,"./osgridref.js":796,"./utm.js":797,"./vector3d.js":798,dup:782}],796:[function(a,b,c){arguments[4][783][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":790,dup:783}],797:[function(a,b,c){arguments[4][784][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":790,dup:784}],798:[function(a,b,c){arguments[4][785][0].apply(c,arguments)},{dup:785}],799:[function(b,d){function g(b,d,e,g,m,a){for(var n=0;n<b.length;n++){var l=b[n],c=b[n+1];n===b.length-1&&(c=b[0]),g=k(l,c,d),0>=e&&0<g&&(j(d,l,m)||(m=l)),0<e&&0>=g&&(h(d,l,a)||(a=l)),e=g}return[m,a]}function h(a,b,c){return 0<=k(a,b,c)}function j(a,b,c){return 0>=k(a,b,c)}function k(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(c[0]-a[0])*(b[1]-a[1])}function m(a){return a.geometry?a.geometry.type:a.type}var a=b("@turf/invariant").getCoords,q=b("@turf/helpers"),l=q.featureCollection;d.exports=function(b,c){var d,j,n,o=a(b),e=a(c);switch(m(c)){case"Polygon":j=0,n=0,d=k(e[0][0],e[0][1],o);var f=g(e[0],o,d,void 0,j,n);j=f[0],n=f[1];break;case"MultiPolygon":j=0,n=0,d=k(e[0][0][0],e[0][0][1],o),e.forEach(function(a){var b=g(a[0],o,d,void 0,j,n);j=b[0],n=b[1]});}return l([q.point(j),q.point(n)])}},{"@turf/helpers":800,"@turf/invariant":801}],800:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],801:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],802:[function(a,b,c){arguments[4][58][0].apply(c,arguments)},{"@turf/helpers":803,"@turf/invariant":804,dup:58}],803:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],804:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],805:[function(a,b){var c=a("polygonize");b.exports=function(a){return c(a)}},{polygonize:817}],806:[function(a,b,c){arguments[4][20][0].apply(c,arguments)},{"@turf/helpers":809,dup:20}],807:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{"@turf/meta":812,dup:22}],808:[function(a,b,c){arguments[4][376][0].apply(c,arguments)},{"@turf/bbox":807,"@turf/bbox-polygon":806,dup:376}],809:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],810:[function(a,b,c){arguments[4][36][0].apply(c,arguments)},{"@turf/invariant":811,dup:36}],811:[function(a,b,c){arguments[4][469][0].apply(c,arguments)},{dup:469}],812:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],813:[function(b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=b("@turf/helpers"),g=f.lineString,h=b("./util"),a=h.orientationIndex,j=function(){function b(a,c){d(this,b),this.from=a,this.to=c,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return e(b,[{key:"getSymetric",value:function(){return this.symetric||(this.symetric=new b(this.to,this.from),this.symetric.symetric=this),this.symetric}}]),e(b,[{key:"deleteEdge",value:function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)}},{key:"isEqual",value:function(a){return this.from.id===a.from.id&&this.to.id===a.to.id}},{key:"toString",value:function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"}},{key:"toLineString",value:function(){return g([this.from.coordinates,this.to.coordinates])}},{key:"compareTo",value:function(b){return a(b.from.coordinates,b.to.coordinates,this.to.coordinates)}}]),b}();c.exports=j},{"./util":818,"@turf/helpers":809}],814:[function(b,j){"use strict";function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var k=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),m=b("./util"),o=m.orientationIndex,q=m.envelopeIsEqual,a=m.envelopeContains,n=m.coordinatesEqual,l=b("@turf/helpers"),c=l.multiPoint,f=l.polygon,h=l.point,p=b("@turf/envelope"),d=b("@turf/inside"),g=function(){function b(){e(this,b),this.edges=[],this.polygon=void 0,this.envelope=void 0}return k(b,[{key:"push",value:function(a){this[this.edges.length]=a,this.edges.push(a),this.polygon=this.envelope=void 0}},{key:"get",value:function(a){return this.edges[a]}},{key:"forEach",value:function(a){this.edges.forEach(a)}},{key:"map",value:function(a){return this.edges.map(a)}},{key:"some",value:function(a){return this.edges.some(a)}},{key:"isValid",value:function(){return!0}},{key:"isHole",value:function(){var a=this,b=this.edges.reduce(function(b,c,d){return c.from.coordinates[1]>a.edges[b].from.coordinates[1]&&(b=d),b},0),c=(0===b?this.length:b)-1,d=(b+1)%this.length,e=o(this.edges[c].from.coordinates,this.edges[b].from.coordinates,this.edges[d].from.coordinates);return 0===e?this.edges[c].from.coordinates[0]>this.edges[d].from.coordinates[0]:0<e}},{key:"toMultiPoint",value:function(){return c(this.edges.map(function(a){return a.from.coordinates}))}},{key:"toPolygon",value:function(){if(this.polygon)return this.polygon;var a=this.edges.map(function(a){return a.from.coordinates});return a.push(this.edges[0].from.coordinates),this.polygon=f([a])}},{key:"getEnvelope",value:function(){return this.envelope?this.envelope:this.envelope=p(this.toPolygon())}},{key:"inside",value:function(a){return d(a,this.toPolygon())}},{key:"length",get:function(){return this.edges.length}}],[{key:"findEdgeRingContaining",value:function(b,c){var d,f,g=b.getEnvelope();return c.forEach(function(c){var e=c.getEnvelope();if(f&&(d=f.getEnvelope()),!q(e,g)&&a(e,g)){var j=b.map(function(a){return a.from.coordinates}).find(function(a){return!c.some(function(b){return n(a,b.from.coordinates)})});j&&c.inside(h(j))&&(f&&!a(d,e)||(f=c))}}),f}}]),b}();j.exports=g},{"./util":818,"@turf/envelope":808,"@turf/helpers":809,"@turf/inside":810}],815:[function(b,g){"use strict";function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function j(a){if(!a)throw new Error("No geojson passed");if("FeatureCollection"!==a.type&&"GeometryCollection"!==a.type&&"MultiLineString"!==a.type&&"LineString"!==a.type&&"Feature"!==a.type)throw new Error("Invalid input type '"+a.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}var k=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),m=b("./Node"),o=b("./Edge"),a=b("./EdgeRing"),n=b("@turf/meta"),l=n.flattenEach,c=n.coordReduce,f=b("@turf/invariant"),h=f.featureOf,p=function(){function b(){e(this,b),this.edges=[],this.nodes={}}return k(b,[{key:"getNode",value:function(a){var b=m.buildId(a),c=this.nodes[b];return c||(c=this.nodes[b]=new m(a)),c}},{key:"addEdge",value:function(a,b){var c=new o(a,b),d=c.getSymetric();this.edges.push(c),this.edges.push(d)}}],[{key:"fromGeoJson",value:function(a){j(a);var d=new b;return l(a,function(a){h(a,"LineString","Graph::fromGeoJson"),c(a,function(a,b){if(a){var c=d.getNode(a),e=d.getNode(b);d.addEdge(c,e)}return b})}),d}}]),k(b,[{key:"deleteDangles",value:function(){var a=this;Object.keys(this.nodes).map(function(b){return a.nodes[b]}).forEach(function(b){return a._removeIfDangle(b)})}},{key:"_removeIfDangle",value:function(a){var b=this;if(1>=a.innerEdges.length){var c=a.getOuterEdges().map(function(a){return a.to});this.removeNode(a),c.forEach(function(a){return b._removeIfDangle(a)})}}},{key:"deleteCutEdges",value:function(){var a=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(b){b.label===b.symetric.label&&(a.removeEdge(b.symetric),a.removeEdge(b))})}},{key:"_computeNextCWEdges",value:function(a){var b=this;void 0===a?Object.keys(this.nodes).forEach(function(a){return b._computeNextCWEdges(b.nodes[a])}):a.getOuterEdges().forEach(function(b,c){a.getOuterEdge((0===c?a.getOuterEdges().length:c)-1).symetric.next=b})}},{key:"_computeNextCCWEdges",value:function(b,c){for(var d=b.getOuterEdges(),e=void 0,f=void 0,g=d.length-1;0<=g;--g){var h=d[g],j=h.symetric,a=void 0,k=void 0;h.label===c&&(a=h),j.label===c&&(k=j),a&&k&&(k&&(f=k),a&&(f&&(f.next=a,f=void 0),e||(e=a)))}f&&(f.next=e)}},{key:"_findLabeledEdgeRings",value:function(){var a=[],b=0;return this.edges.forEach(function(c){if(!(0<=c.label)){a.push(c);var d=c;do d.label=b,d=d.next;while(!c.isEqual(d));b++}}),a}},{key:"getEdgeRings",value:function(){var a=this;this._computeNextCWEdges(),this.edges.forEach(function(a){a.label=void 0}),this._findLabeledEdgeRings().forEach(function(b){a._findIntersectionNodes(b).forEach(function(c){a._computeNextCCWEdges(c,b.label)})});var b=[];return this.edges.forEach(function(c){c.ring||b.push(a._findEdgeRing(c))}),b}},{key:"_findIntersectionNodes",value:function(a){var b=[],c=a;do!function(){var d=0;c.from.getOuterEdges().forEach(function(b){b.label===a.label&&++d}),1<d&&b.push(c.from),c=c.next}();while(!a.isEqual(c));return b}},{key:"_findEdgeRing",value:function(b){var c=b,d=new a;do d.push(c),c.ring=d,c=c.next;while(!b.isEqual(c));return d}},{key:"removeNode",value:function(a){var b=this;a.getOuterEdges().forEach(function(a){return b.removeEdge(a)}),a.innerEdges.forEach(function(a){return b.removeEdge(a)}),delete this.nodes[a.id]}},{key:"removeEdge",value:function(a){this.edges=this.edges.filter(function(b){return!b.isEqual(a)}),a.deleteEdge()}}]),b}();g.exports=p},{"./Edge":813,"./EdgeRing":814,"./Node":816,"@turf/invariant":811,"@turf/meta":812}],816:[function(b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=b("./util"),g=f.orientationIndex,h=function(){function a(b){d(this,a),this.id=a.buildId(b),this.coordinates=b,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return e(a,null,[{key:"buildId",value:function(a){return a.join(",")}}]),e(a,[{key:"removeInnerEdge",value:function(a){this.innerEdges=this.innerEdges.filter(function(b){return b.from.id!==a.from.id})}},{key:"removeOuterEdge",value:function(a){this.outerEdges=this.outerEdges.filter(function(b){return b.to.id!==a.to.id})}},{key:"addOuterEdge",value:function(a){this.outerEdges.push(a),this.outerEdgesSorted=!1}},{key:"sortOuterEdges",value:function(){var a=this;this.outerEdgesSorted||(this.outerEdges.sort(function(b,c){var d=b.to,e=c.to;if(0<=d.coordinates[0]-a.coordinates[0]&&0>e.coordinates[0]-a.coordinates[0])return 1;if(0>d.coordinates[0]-a.coordinates[0]&&0<=e.coordinates[0]-a.coordinates[0])return-1;if(0==d.coordinates[0]-a.coordinates[0]&&0==e.coordinates[0]-a.coordinates[0])return 0<=d.coordinates[1]-a.coordinates[1]||0<=e.coordinates[1]-a.coordinates[1]?d.coordinates[1]-e.coordinates[1]:e.coordinates[1]-d.coordinates[1];var f=g(a.coordinates,d.coordinates,e.coordinates);return 0>f?1:0<f?-1:Math.pow(d.coordinates[0]-a.coordinates[0],2)+Math.pow(d.coordinates[1]-a.coordinates[1],2)-(Math.pow(e.coordinates[0]-a.coordinates[0],2)+Math.pow(e.coordinates[1]-a.coordinates[1],2))}),this.outerEdgesSorted=!0)}},{key:"getOuterEdges",value:function(){return this.sortOuterEdges(),this.outerEdges}},{key:"getOuterEdge",value:function(a){return this.sortOuterEdges(),this.outerEdges[a]}},{key:"addInnerEdge",value:function(a){this.innerEdges.push(a)}}]),a}();c.exports=h},{"./util":818}],817:[function(a,b){"use strict";var c=a("./Graph"),d=a("./EdgeRing"),e=a("@turf/helpers"),f=e.featureCollection;b.exports=function(a){var b=c.fromGeoJson(a);b.deleteDangles(),b.deleteCutEdges();var e=[],g=[];return b.getEdgeRings().filter(function(a){return a.isValid()}).forEach(function(a){a.isHole()?e.push(a):g.push(a)}),e.forEach(function(a){d.findEdgeRingContaining(a,g)&&g.push(a)}),f(g.map(function(a){return a.toPolygon()}))}},{"./EdgeRing":814,"./Graph":815,"@turf/helpers":809}],818:[function(b,c){"use strict";function d(a,b,c){var d=b[0]-a[0],e=b[1]-a[1],f=c[0]-b[0],g=c[1]-b[1];return Math.sign(d*g-f*e)}function e(a,b){var c=a.geometry.coordinates.map(function(a){return a[0]}),d=a.geometry.coordinates.map(function(a){return a[1]}),e=b.geometry.coordinates.map(function(a){return a[0]}),f=b.geometry.coordinates.map(function(a){return a[1]});return Math.max(null,c)===Math.max(null,e)&&Math.max(null,d)===Math.max(null,f)&&Math.min(null,c)===Math.min(null,e)&&Math.min(null,d)===Math.min(null,f)}var f=b("@turf/inside"),a=b("@turf/helpers"),g=a.point;c.exports={orientationIndex:d,envelopeIsEqual:e,envelopeContains:function(a,b){return b.geometry.coordinates[0].every(function(b){return f(g(b),a)})},coordinatesEqual:function(a,b){return a[0]===b[0]&&a[1]===b[1]}}},{"@turf/helpers":809,"@turf/inside":810}],819:[function(a,b){var c=a("geojson-random");b.exports=function(a,b,d){switch(d=d||{},b=b||1,a){case"point":case"points":case void 0:return c.point(b,d.bbox);case"polygon":case"polygons":return c.polygon(b,d.num_vertices,d.max_radial_length,d.bbox);default:throw new Error("Unknown type given: valid options are points and polygons");}}},{"geojson-random":820}],820:[function(b,d){function g(b){return b?l(b):[k(),a()]}function j(a){return function(b){return[b[0]+a[0],b[1]+a[1]]}}function e(){return Math.random()-.5}function k(){return 360*e()}function a(){return 180*e()}function m(b){return{type:"Point",coordinates:b||[k(),a()]}}function l(a){return[Math.random()*(a[2]-a[0])+a[0],Math.random()*(a[3]-a[1])+a[1]]}function n(a){return{type:"Polygon",coordinates:a}}function f(a){return{type:"Feature",geometry:a,properties:{}}}function h(a){return{type:"FeatureCollection",features:a}}d.exports=function(){throw new Error("call .point() or .polygon() instead")},d.exports.position=g,d.exports.point=function(a,b){var c=[];for(i=0;i<a;i++)c.push(f(b?m(g(b)):m()));return h(c)},d.exports.polygon=function(b,k,m,o){function p(a,b,c){c[b]=0<b?a+c[b-1]:a}function a(a){a=2*a*Math.PI/c[c.length-1];var b=Math.random();l.push([b*m*Math.sin(a),b*m*Math.cos(a)])}"number"!=typeof k&&(k=10),"number"!=typeof m&&(m=10);var q=[];for(i=0;i<b;i++){var l=[],c=Array.apply(null,Array(k+1)).map(Math.random);c.forEach(p),c.forEach(a),l[l.length-1]=l[0],l=l.map(j(g(o))),q.push(f(n([l])))}return h(q)}},{}],821:[function(b,d){function g(a,b){switch("Feature"===a.type?a.geometry.type:a.type){case"GeometryCollection":return l(a,function(a){g(a,b)}),a;case"LineString":return h(k(a),b),a;case"Polygon":return j(k(a),b),a;case"MultiLineString":return k(a).forEach(function(a){h(a,b)}),a;case"MultiPolygon":return k(a).forEach(function(a){j(a,b)}),a;case"Point":case"MultiPoint":return a;}}function h(b,c){a(b)===c&&b.reverse()}function j(b,c){a(b[0])!==c&&b[0].reverse();for(var d=1;d<b.length;d++)a(b[d])===c&&b[d].reverse()}var e=b("@turf/meta"),k=b("@turf/invariant").getCoords,a=b("@turf/boolean-clockwise"),m=b("@turf/helpers").featureCollection,l=e.geomEach,c=e.featureEach;d.exports=function(a,b,d){if(b=void 0!==b&&b,d=void 0!==d&&d,!a)throw new Error("<geojson> is required");if("boolean"!=typeof b)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof d)throw new Error("<mutate> must be a boolean");!1!==d&&void 0!==d||(a=JSON.parse(JSON.stringify(a)));var f=[];switch(a.type){case"GeometryCollection":return l(a,function(a){g(a,b)}),a;case"FeatureCollection":return c(a,function(a){c(g(a,b),function(a){f.push(a)})}),m(f);}return g(a,b)}},{"@turf/boolean-clockwise":822,"@turf/helpers":824,"@turf/invariant":825,"@turf/meta":826}],822:[function(a,b,c){arguments[4][29][0].apply(c,arguments)},{"@turf/invariant":823,dup:29}],823:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],824:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],825:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],826:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],827:[function(a,b,c){arguments[4][774][0].apply(c,arguments)},{"@turf/invariant":828,dup:774,geodesy:835}],828:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],829:[function(a,b,c){arguments[4][776][0].apply(c,arguments)},{dup:776}],830:[function(a,b,c){arguments[4][777][0].apply(c,arguments)},{"./dms.js":829,"./vector3d.js":838,dup:777}],831:[function(a,b,c){arguments[4][778][0].apply(c,arguments)},{"./dms":829,dup:778}],832:[function(a,b,c){arguments[4][779][0].apply(c,arguments)},{"./dms.js":829,"./vector3d.js":838,dup:779}],833:[function(a,b,c){arguments[4][780][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":830,dup:780}],834:[function(a,b,c){arguments[4][781][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":830,"./utm.js":837,dup:781}],835:[function(a,b,c){arguments[4][782][0].apply(c,arguments)},{"./dms.js":829,"./latlon-ellipsoidal.js":830,"./latlon-spherical.js":831,"./latlon-vectors.js":832,"./latlon-vincenty.js":833,"./mgrs.js":834,"./osgridref.js":836,"./utm.js":837,"./vector3d.js":838,dup:782}],836:[function(a,b,c){arguments[4][783][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":830,dup:783}],837:[function(a,b,c){arguments[4][784][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":830,dup:784}],838:[function(a,b,c){arguments[4][785][0].apply(c,arguments)},{dup:785}],839:[function(b,c){var d=b("@turf/helpers"),g=b("@turf/invariant").getCoord,j=b("geodesy").LatLonSpherical,k=d.point,m=d.radiansToDistance,a=d.distanceToRadians;c.exports=function(b,d,e,n){if(!b)throw new Error("origin is required");if(void 0===d||null===d)throw new Error("distance is required");if(void 0===e||null===e)throw new Error("bearing is required");if(!(0<=d))throw new Error("distance must be greater than 0");n=n||"kilometers";var o=m(a(d,n),"meters"),l=g(b),c=new j(l[1],l[0]),f=c.rhumbDestinationPoint(o,e);return f.lon+=180<f.lon-l[0]?-360:180<l[0]-f.lon?360:0,k([f.lon,f.lat])}},{"@turf/helpers":840,"@turf/invariant":841,geodesy:848}],840:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],841:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],842:[function(a,b,c){arguments[4][776][0].apply(c,arguments)},{dup:776}],843:[function(a,b,c){arguments[4][777][0].apply(c,arguments)},{"./dms.js":842,"./vector3d.js":851,dup:777}],844:[function(a,b,c){arguments[4][778][0].apply(c,arguments)},{"./dms":842,dup:778}],845:[function(a,b,c){arguments[4][779][0].apply(c,arguments)},{"./dms.js":842,"./vector3d.js":851,dup:779}],846:[function(a,b,c){arguments[4][780][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":843,dup:780}],847:[function(a,b,c){arguments[4][781][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":843,"./utm.js":850,dup:781}],848:[function(a,b,c){arguments[4][782][0].apply(c,arguments)},{"./dms.js":842,"./latlon-ellipsoidal.js":843,"./latlon-spherical.js":844,"./latlon-vectors.js":845,"./latlon-vincenty.js":846,"./mgrs.js":847,"./osgridref.js":849,"./utm.js":850,"./vector3d.js":851,dup:782}],849:[function(a,b,c){arguments[4][783][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":843,dup:783}],850:[function(a,b,c){arguments[4][784][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":843,dup:784}],851:[function(a,b,c){arguments[4][785][0].apply(c,arguments)},{dup:785}],852:[function(a,b,c){arguments[4][786][0].apply(c,arguments)},{"@turf/helpers":853,"@turf/invariant":854,dup:786,geodesy:861}],853:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],854:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],855:[function(a,b,c){arguments[4][776][0].apply(c,arguments)},{dup:776}],856:[function(a,b,c){arguments[4][777][0].apply(c,arguments)},{"./dms.js":855,"./vector3d.js":864,dup:777}],857:[function(a,b,c){arguments[4][778][0].apply(c,arguments)},{"./dms":855,dup:778}],858:[function(a,b,c){arguments[4][779][0].apply(c,arguments)},{"./dms.js":855,"./vector3d.js":864,dup:779}],859:[function(a,b,c){arguments[4][780][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":856,dup:780}],860:[function(a,b,c){arguments[4][781][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":856,"./utm.js":863,dup:781}],861:[function(a,b,c){arguments[4][782][0].apply(c,arguments)},{"./dms.js":855,"./latlon-ellipsoidal.js":856,"./latlon-spherical.js":857,"./latlon-vectors.js":858,"./latlon-vincenty.js":859,"./mgrs.js":860,"./osgridref.js":862,"./utm.js":863,"./vector3d.js":864,dup:782}],862:[function(a,b,c){arguments[4][783][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":856,dup:783}],863:[function(a,b,c){arguments[4][784][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":856,dup:784}],864:[function(a,b,c){arguments[4][785][0].apply(c,arguments)},{dup:785}],865:[function(a,b){function c(a,b){for(var c,d,e=a.slice(0),f=a.length,g=f-b;f-->g;)d=Math.floor((f+1)*Math.random()),c=e[d],e[d]=e[f],e[f]=c;return e.slice(g)}var d=a("@turf/helpers").featureCollection;b.exports=function(a,b){return d(c(a.features,b))}},{"@turf/helpers":866}],866:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],867:[function(b,c){function g(a){var b=a%360;return 0>b&&(b+=360),b}var j=b("@turf/circle"),k=b("@turf/meta").coordEach,d=b("@turf/helpers"),m=b("@turf/invariant").getCoords,a=d.polygon,o=b("@turf/line-arc");c.exports=function(b,l,q,n,r,c){if(!b)throw new Error("center is required");if(void 0===q||null===q)throw new Error("bearing1 is required");if(void 0===n||null===n)throw new Error("bearing2 is required");if(!l)throw new Error("radius is required");if(r=r||64,g(q)===g(n))return j(b,l,r,c);var f=m(b),h=o(b,l,q,n,r,c),p=[[f]];return k(h,function(a){p[0].push(a)}),p[0].push(f),a(p)}},{"@turf/circle":868,"@turf/helpers":873,"@turf/invariant":874,"@turf/line-arc":875,"@turf/meta":885}],868:[function(a,b,c){arguments[4][213][0].apply(c,arguments)},{"@turf/destination":869,"@turf/helpers":872,dup:213}],869:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{"@turf/helpers":870,"@turf/invariant":871,dup:5}],870:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],871:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],872:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],873:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],874:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],875:[function(a,b,c){arguments[4][487][0].apply(c,arguments)},{"@turf/circle":876,"@turf/destination":881,"@turf/helpers":884,dup:487}],876:[function(a,b,c){arguments[4][213][0].apply(c,arguments)},{"@turf/destination":877,"@turf/helpers":880,dup:213}],877:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{"@turf/helpers":878,"@turf/invariant":879,dup:5}],878:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],879:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],880:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],881:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{"@turf/helpers":882,"@turf/invariant":883,dup:5}],882:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],883:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],884:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],885:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],886:[function(b,d){function f(b,c,d){var e=b.type;if("Point"===e||"MultiPoint"===e)return b;a(b,!0);var f=b.coordinates;return"LineString"===e?b.coordinates=g(f,c,d):"MultiLineString"===e?b.coordinates=f.map(function(a){return g(a,c,d)}):"Polygon"===e?b.coordinates=h(f,c,d):"MultiPolygon"===e?b.coordinates=f.map(function(a){return h(a,c,d)}):void 0,b}function g(a,b,c){return k(a.map(function(a){return{x:a[0],y:a[1],z:a[2]}}),b,c).map(function(a){return a.z?[a.x,a.y,a.z]:[a.x,a.y]})}function h(a,b,c){return a.map(function(a){var d=a.map(function(a){return{x:a[0],y:a[1]}});if(4>d.length)throw new Error("invalid polygon");for(var e=k(d,b,c).map(function(a){return[a.x,a.y]});!j(e);)b-=.01*b,e=k(d,b,c).map(function(a){return[a.x,a.y]});return e[e.length-1][0]===e[0][0]&&e[e.length-1][1]===e[0][1]||e.push(e[0]),e})}function j(a){return!(3>a.length)&&(3!==a.length||a[2][0]!==a[0][0]||a[2][1]!==a[0][1])}var k=b("simplify-js"),a=b("@turf/clean-coords"),m=b("@turf/meta").geomEach,l=b("@turf/clone");d.exports=function(a,b,c,d){if(!a)throw new Error("geojson is required");if(b&&0>b)throw new Error("invalid tolerance");return!0!==d&&(a=l(a)),m(a,function(a){f(a,b,c)}),a}},{"@turf/clean-coords":887,"@turf/clone":890,"@turf/meta":891,"simplify-js":892}],887:[function(a,b,c){arguments[4][83][0].apply(c,arguments)},{"@turf/helpers":888,"@turf/invariant":889,dup:83}],888:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],889:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],890:[function(a,b,c){arguments[4][221][0].apply(c,arguments)},{dup:221}],891:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],892:[function(b,c){!function(){"use strict";function b(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d}function d(b,c,d){var e=c.x,f=c.y,g=d.x-e,h=d.y-f;if(0!==g||0!==h){var j=((b.x-e)*g+(b.y-f)*h)/(g*g+h*h);1<j?(e=d.x,f=d.y):0<j&&(e+=g*j,f+=h*j)}return g=b.x-e,h=b.y-f,g*g+h*h}function f(c,d){for(var e,f=c[0],g=[f],h=1,j=c.length;h<j;h++)e=c[h],b(e,f)>d&&(g.push(e),f=e);return f!==e&&g.push(e),g}function g(b,g){var e,j,k,m,n=b.length,a="undefined"==typeof Uint8Array?Array:Uint8Array,q=new a(n),l=0,c=n-1,f=[],h=[];for(q[l]=q[c]=1;c;){for(j=0,e=l+1;e<c;e++)(k=d(b[e],b[l],b[c]))>j&&(m=e,j=k);j>g&&(q[m]=1,f.push(l,m,m,c)),c=f.pop(),l=f.pop()}for(e=0;e<n;e++)q[e]&&h.push(b[e]);return h}function e(a,b,c){var d=void 0===b?1:b*b;return a=c?a:f(a,d),a=g(a,d)}"function"==typeof a&&a.amd?a(function(){return e}):void 0===c?"undefined"==typeof self?window.simplify=e:self.simplify=e:c.exports=e}()},{}],893:[function(a,b,c){arguments[4][407][0].apply(c,arguments)},{"@turf/bbox":894,"@turf/distance":896,"@turf/helpers":899,dup:407}],894:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{"@turf/meta":895,dup:22}],895:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],896:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":897,"@turf/invariant":898,dup:8}],897:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],898:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],899:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],900:[function(a,b){var c=a("@turf/distance");b.exports=function(b){var d=b[0],e=b[1],f=b[2],g=b[3];if(c(b.slice(0,2),[f,e])>=c(b.slice(0,2),[d,g])){var h=(e+g)/2;return[d,h-(f-d)/2,f,h+(f-d)/2]}var j=(d+f)/2;return[j-(g-e)/2,e,j+(g-e)/2,g]}},{"@turf/distance":901}],901:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":902,"@turf/invariant":903,dup:8}],902:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],903:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],904:[function(a,b){var c=a("@turf/inside");b.exports=function(a,b,d,f){return a=JSON.parse(JSON.stringify(a)),b=JSON.parse(JSON.stringify(b)),a.features.forEach(function(a){a.properties||(a.properties={}),b.features.forEach(function(b){void 0===a.properties[f]&&c(a,b)&&(a.properties[f]=b.properties[d])})}),a}},{"@turf/inside":905}],905:[function(a,b,c){arguments[4][36][0].apply(c,arguments)},{"@turf/invariant":906,dup:36}],906:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],907:[function(a,b){function c(b){var c=d(b),g=f(c.vertices,c.holes,2),h=[],j=[];g.forEach(function(a,b){var d=g[b];j.push([c.vertices[2*d],c.vertices[2*d+1]])});for(var a,k=0;k<j.length;k+=3)a=j.slice(k,k+3),a.push(j[k]),h.push(e([a]));return h}function d(a){for(var b=a[0][0].length,c={vertices:[],holes:[],dimensions:b},d=0,f=0;f<a.length;f++){for(var g=0;g<a[f].length;g++)for(var h=0;h<b;h++)c.vertices.push(a[f][g][h]);0<f&&(d+=a[f-1].length,c.holes.push(d))}return c}var e=a("@turf/helpers").polygon,f=a("earcut");b.exports=function(a){if(!a.geometry||"Polygon"!==a.geometry.type&&"MultiPolygon"!==a.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");var b={type:"FeatureCollection",features:[]};return"Polygon"===a.geometry.type?b.features=c(a.geometry.coordinates):a.geometry.coordinates.forEach(function(a){b.features=b.features.concat(c(a))}),b}},{"@turf/helpers":908,earcut:909}],908:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],909:[function(j,k){"use strict";function e(b,f,e){e=e||2;var j=f&&f.length,k=j?f[0]*e:b.length,m=q(b,0,k,e,!0),n=[];if(!m)return n;var o,l,c,h,p,d,g;if(j&&(m=r(b,f,m,e)),b.length>80*e){o=c=b[0],l=h=b[1];for(var s=e;s<k;s+=e)p=b[s],d=b[s+1],p<o&&(o=p),d<l&&(l=d),p>c&&(c=p),d>h&&(h=d);g=Math.max(c-o,h-l)}return A(m,n,e,o,l,g),n}function q(a,b,c,d,e){var f,g;if(e===0<G(a,b,c,d))for(f=b;f<c;f+=d)g=D(f,a[f],a[f+1],g);else for(f=c-d;f>=b;f-=d)g=D(f,a[f],a[f+1],g);return g&&w(g,g.next)&&(E(g),g=g.next),g}function z(a,b){if(!a)return a;b||(b=a);var c,d=a;do if(c=!1,d.steiner||!w(d,d.next)&&0!==v(d.prev,d,d.next))d=d.next;else{if(E(d),(d=b=d.prev)===d.next)return null;c=!0}while(c||d!==b);return b}function A(b,c,e,g,j,k,f){if(b){!f&&k&&u(b,g,j,k);for(var m,n,d=b;b.prev!==b.next;)if(m=b.prev,n=b.next,k?a(b,g,j,k):o(b))c.push(m.i/e),c.push(b.i/e),c.push(n.i/e),E(b),b=n.next,d=n.next;else if((b=n)===d){f?1===f?(b=s(b,c,e),A(b,c,e,g,j,k,2)):2===f&&l(b,c,e,g,j,k):A(z(b),c,e,g,j,k,1);break}}}function o(a){var b=a.prev,c=a,d=a.next;if(0<=v(b,c,d))return!1;for(var e=a.next.next;e!==a.prev;){if(m(b.x,b.y,c.x,c.y,d.x,d.y,e.x,e.y)&&0<=v(e.prev,e,e.next))return!1;e=e.next}return!0}function a(b,d,e,j){var k=b.prev,n=b,o=b.next;if(0<=v(k,n,o))return!1;for(var q=k.x<n.x?k.x<o.x?k.x:o.x:n.x<o.x?n.x:o.x,a=k.y<n.y?k.y<o.y?k.y:o.y:n.y<o.y?n.y:o.y,r=k.x>n.x?k.x>o.x?k.x:o.x:n.x>o.x?n.x:o.x,l=k.y>n.y?k.y>o.y?k.y:o.y:n.y>o.y?n.y:o.y,c=g(q,a,d,e,j),f=g(r,l,d,e,j),h=b.nextZ;h&&h.z<=f;){if(h!==b.prev&&h!==b.next&&m(k.x,k.y,n.x,n.y,o.x,o.y,h.x,h.y)&&0<=v(h.prev,h,h.next))return!1;h=h.nextZ}for(h=b.prevZ;h&&h.z>=c;){if(h!==b.prev&&h!==b.next&&m(k.x,k.y,n.x,n.y,o.x,o.y,h.x,h.y)&&0<=v(h.prev,h,h.next))return!1;h=h.prevZ}return!0}function s(a,c,d){var e=a;do{var f=e.prev,g=e.next.next;!w(f,g)&&b(f,e,e.next,g)&&y(f,g)&&y(g,f)&&(c.push(f.i/d),c.push(e.i/d),c.push(g.i/d),E(e),E(e.next),e=a=g),e=e.next}while(e!==a);return e}function l(b,d,e,f,g,h){var a=b;do{for(var j=a.next.next;j!==a.prev;){if(a.i!==j.i&&p(a,j)){var k=C(a,j);return a=z(a,a.next),k=z(k,k.next),A(a,d,e,f,g,h),void A(k,d,e,f,g,h)}j=j.next}a=a.next}while(a!==b)}function r(b,d,e,g){var j,k,a,m,l,o=[];for(j=0,k=d.length;j<k;j++)a=d[j]*g,m=j<k-1?d[j+1]*g:b.length,l=q(b,a,m,g,!1),l===l.next&&(l.steiner=!0),o.push(n(l));for(o.sort(c),j=0;j<o.length;j++)h(o[j],e),e=z(e,e.next);return e}function c(a,b){return a.x-b.x}function h(a,b){if(b=f(a,b)){var c=C(b,a);z(c,c.next)}}function f(b,d){var e,g=d,j=b.x,k=b.y,o=-1/0;do{if(k<=g.y&&k>=g.next.y){var p=g.x+(k-g.y)*(g.next.x-g.x)/(g.next.y-g.y);if(p<=j&&p>o){if(o=p,p===j){if(k===g.y)return g;if(k===g.next.y)return g.next}e=g.x<g.next.x?g:g.next}}g=g.next}while(g!==d);if(!e)return null;if(j===o)return e.prev;var a,q=e,l=e.x,c=e.y,f=1/0;for(g=e.next;g!==q;)j>=g.x&&g.x>=l&&m(k<c?j:o,k,l,c,k<c?o:j,k,g.x,g.y)&&((a=Math.abs(k-g.y)/(j-g.x))<f||a===f&&g.x>e.x)&&y(g,b)&&(e=g,f=a),g=g.next;return e}function u(a,b,c,e){var f=a;do null===f.z&&(f.z=g(f.x,f.y,b,c,e)),f.prevZ=f.prev,f.nextZ=f.next,f=f.next;while(f!==a);f.prevZ.nextZ=null,f.prevZ=null,d(f)}function d(b){var c,d,e,f,g,h,j,a,k=1;do{for(d=b,b=null,g=null,h=0;d;){for(h++,e=d,j=0,c=0;c<k&&(j++,e=e.nextZ);c++);for(a=k;0<j||0<a&&e;)0===j?(f=e,e=e.nextZ,a--):0!==a&&e?d.z<=e.z?(f=d,d=d.nextZ,j--):(f=e,e=e.nextZ,a--):(f=d,d=d.nextZ,j--),g?g.nextZ=f:b=f,f.prevZ=g,g=f;d=e}g.nextZ=null,k*=2}while(1<h);return b}function g(a,b,c,d,e){return a=32767*(a-c)/e,b=32767*(b-d)/e,a=16711935&(a|a<<8),a=252645135&(a|a<<4),a=858993459&(a|a<<2),a=1431655765&(a|a<<1),b=16711935&(b|b<<8),b=252645135&(b|b<<4),b=858993459&(b|b<<2),b=1431655765&(b|b<<1),a|b<<1}function n(a){var b=a,c=a;do b.x<c.x&&(c=b),b=b.next;while(b!==a);return c}function m(b,c,d,e,f,g,h,j){return 0<=(f-h)*(c-j)-(b-h)*(g-j)&&0<=(b-h)*(e-j)-(d-h)*(c-j)&&0<=(d-h)*(g-j)-(f-h)*(e-j)}function p(a,b){return a.next.i!==b.i&&a.prev.i!==b.i&&!x(a,b)&&y(a,b)&&y(b,a)&&B(a,b)}function v(a,b,c){return(b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y)}function w(a,b){return a.x===b.x&&a.y===b.y}function b(a,b,c,d){return!!(w(a,b)&&w(c,d)||w(a,d)&&w(c,b))||0<v(a,b,c)!=0<v(a,b,d)&&0<v(c,d,a)!=0<v(c,d,b)}function x(a,c){var d=a;do{if(d.i!==a.i&&d.next.i!==a.i&&d.i!==c.i&&d.next.i!==c.i&&b(d,d.next,a,c))return!0;d=d.next}while(d!==a);return!1}function y(a,b){return 0>v(a.prev,a,a.next)?0<=v(a,b,a.next)&&0<=v(a,a.prev,b):0>v(a,b,a.prev)||0>v(a,a.next,b)}function B(a,b){var c=a,d=!1,e=(a.x+b.x)/2,f=(a.y+b.y)/2;do c.y>f!=c.next.y>f&&e<(c.next.x-c.x)*(f-c.y)/(c.next.y-c.y)+c.x&&(d=!d),c=c.next;while(c!==a);return d}function C(a,b){var c=new F(a.i,a.x,a.y),d=new F(b.i,b.x,b.y),e=a.next,f=b.prev;return a.next=b,b.prev=a,c.next=e,e.prev=c,d.next=c,c.prev=d,f.next=d,d.prev=f,d}function D(a,b,c,d){var e=new F(a,b,c);return d?(e.next=d.next,e.prev=d,d.next.prev=e,d.next=e):(e.prev=e,e.next=e),e}function E(a){a.next.prev=a.prev,a.prev.next=a.next,a.prevZ&&(a.prevZ.nextZ=a.nextZ),a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function F(a,b,c){this.i=a,this.x=b,this.y=c,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function G(a,b,c,d){for(var e=0,f=b,g=c-d;f<c;f+=d)e+=(a[g]-a[f])*(a[f+1]+a[g+1]),g=f;return e}k.exports=e,e.deviation=function(b,g,e,j){var k=g&&g.length,m=k?g[0]*e:b.length,n=Math.abs(G(b,0,m,e));if(k)for(var o=0,a=g.length;o<a;o++){var q=g[o]*e,l=o<a-1?g[o+1]*e:b.length;n-=Math.abs(G(b,q,l,e))}var c=0;for(o=0;o<j.length;o+=3){var f=j[o]*e,h=j[o+1]*e,p=j[o+2]*e;c+=Math.abs((b[f]-b[p])*(b[h+1]-b[f+1])-(b[f]-b[h])*(b[p+1]-b[f+1]))}return 0===n&&0===c?0:Math.abs((c-n)/n)},e.flatten=function(a){for(var b=a[0][0].length,c={vertices:[],holes:[],dimensions:b},d=0,f=0;f<a.length;f++){for(var g=0;g<a[f].length;g++)for(var h=0;h<b;h++)c.vertices.push(a[f][g][h]);0<f&&(d+=a[f-1].length,c.holes.push(d))}return c}},{}],910:[function(a,b,c){arguments[4][260][0].apply(c,arguments)},{"@turf/helpers":911,dup:260}],911:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],912:[function(b,d){var e=b("@turf/meta"),f=b("@turf/centroid"),g=b("@turf/invariant"),h=b("@turf/rhumb-bearing"),j=b("@turf/rhumb-distance"),a=b("@turf/rhumb-destination"),k=e.coordEach,m=g.getCoords;d.exports=function(b,c,d,e){if(!b)throw new Error("geojson is required");if(void 0===c||null===c||isNaN(c))throw new Error("angle is required");return 0===c?b:(d||(d=f(b)),!1!==e&&void 0!==e||(b=JSON.parse(JSON.stringify(b))),k(b,function(b){var e=h(d,b),f=j(d,b),g=m(a(d,f,e+c));b[0]=g[0],b[1]=g[1]}),b)}},{"@turf/centroid":913,"@turf/invariant":916,"@turf/meta":917,"@turf/rhumb-bearing":918,"@turf/rhumb-destination":930,"@turf/rhumb-distance":943}],913:[function(a,b,c){arguments[4][178][0].apply(c,arguments)},{"@turf/helpers":914,"@turf/meta":915,dup:178}],914:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],915:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],916:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],917:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],918:[function(a,b,c){arguments[4][774][0].apply(c,arguments)},{"@turf/invariant":919,dup:774,geodesy:926}],919:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],920:[function(a,b,c){arguments[4][776][0].apply(c,arguments)},{dup:776}],921:[function(a,b,c){arguments[4][777][0].apply(c,arguments)},{"./dms.js":920,"./vector3d.js":929,dup:777}],922:[function(a,b,c){arguments[4][778][0].apply(c,arguments)},{"./dms":920,dup:778}],923:[function(a,b,c){arguments[4][779][0].apply(c,arguments)},{"./dms.js":920,"./vector3d.js":929,dup:779}],924:[function(a,b,c){arguments[4][780][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":921,dup:780}],925:[function(a,b,c){arguments[4][781][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":921,"./utm.js":928,dup:781}],926:[function(a,b,c){arguments[4][782][0].apply(c,arguments)},{"./dms.js":920,"./latlon-ellipsoidal.js":921,"./latlon-spherical.js":922,"./latlon-vectors.js":923,"./latlon-vincenty.js":924,"./mgrs.js":925,"./osgridref.js":927,"./utm.js":928,"./vector3d.js":929,dup:782}],927:[function(a,b,c){arguments[4][783][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":921,dup:783}],928:[function(a,b,c){arguments[4][784][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":921,dup:784}],929:[function(a,b,c){arguments[4][785][0].apply(c,arguments)},{dup:785}],930:[function(a,b,c){arguments[4][839][0].apply(c,arguments)},{"@turf/helpers":931,"@turf/invariant":932,dup:839,geodesy:939}],931:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],932:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],933:[function(a,b,c){arguments[4][776][0].apply(c,arguments)},{dup:776}],934:[function(a,b,c){arguments[4][777][0].apply(c,arguments)},{"./dms.js":933,"./vector3d.js":942,dup:777}],935:[function(a,b,c){arguments[4][778][0].apply(c,arguments)},{"./dms":933,dup:778}],936:[function(a,b,c){arguments[4][779][0].apply(c,arguments)},{"./dms.js":933,"./vector3d.js":942,dup:779}],937:[function(a,b,c){arguments[4][780][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":934,dup:780}],938:[function(a,b,c){arguments[4][781][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":934,"./utm.js":941,dup:781}],939:[function(a,b,c){arguments[4][782][0].apply(c,arguments)},{"./dms.js":933,"./latlon-ellipsoidal.js":934,"./latlon-spherical.js":935,"./latlon-vectors.js":936,"./latlon-vincenty.js":937,"./mgrs.js":938,"./osgridref.js":940,"./utm.js":941,"./vector3d.js":942,dup:782}],940:[function(a,b,c){arguments[4][783][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":934,dup:783}],941:[function(a,b,c){arguments[4][784][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":934,dup:784}],942:[function(a,b,c){arguments[4][785][0].apply(c,arguments)},{dup:785}],943:[function(a,b,c){arguments[4][786][0].apply(c,arguments)},{"@turf/helpers":944,"@turf/invariant":945,dup:786,geodesy:952}],944:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],945:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],946:[function(a,b,c){arguments[4][776][0].apply(c,arguments)},{dup:776}],947:[function(a,b,c){arguments[4][777][0].apply(c,arguments)},{"./dms.js":946,"./vector3d.js":955,dup:777}],948:[function(a,b,c){arguments[4][778][0].apply(c,arguments)},{"./dms":946,dup:778}],949:[function(a,b,c){arguments[4][779][0].apply(c,arguments)},{"./dms.js":946,"./vector3d.js":955,dup:779}],950:[function(a,b,c){arguments[4][780][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":947,dup:780}],951:[function(a,b,c){arguments[4][781][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":947,"./utm.js":954,dup:781}],952:[function(a,b,c){arguments[4][782][0].apply(c,arguments)},{"./dms.js":946,"./latlon-ellipsoidal.js":947,"./latlon-spherical.js":948,"./latlon-vectors.js":949,"./latlon-vincenty.js":950,"./mgrs.js":951,"./osgridref.js":953,"./utm.js":954,"./vector3d.js":955,dup:782}],953:[function(a,b,c){arguments[4][783][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":947,dup:783}],954:[function(a,b,c){arguments[4][784][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":947,dup:784}],955:[function(a,b,c){arguments[4][785][0].apply(c,arguments)},{dup:785}],956:[function(b,k){function q(a,b,c){var d="Point"===r(a);return c=w(a,c),1===b||d?a:(g(a,function(a){var d=h(c,a),e=f(c,a),g=m(o(c,d*b,e));a[0]=g[0],a[1]=g[1],3===a.length&&(a[2]*=b)}),a)}function w(a,b){if(void 0!==b&&null!==b||(b="centroid"),Array.isArray(b)||"object"==("undefined"===typeof b?"undefined":j(b)))return v(b);var c=a.bbox?a.bbox:l(a),f=c[0],g=c[1],h=c[2],k=c[3];switch(b){case"sw":case"southwest":case"westsouth":case"bottomleft":return d([f,g]);case"se":case"southeast":case"eastsouth":case"bottomright":return d([h,g]);case"nw":case"northwest":case"westnorth":case"topleft":return d([f,k]);case"ne":case"northeast":case"eastnorth":case"topright":return d([h,k]);case"center":return n(a);case void 0:case null:case"centroid":return u(a);default:throw new Error("invalid origin");}}var e=b("@turf/meta"),z=b("@turf/clone"),n=b("@turf/center"),a=b("@turf/helpers"),u=b("@turf/centroid"),l=b("@turf/bbox"),c=b("@turf/invariant"),f=b("@turf/rhumb-bearing"),h=b("@turf/rhumb-distance"),o=b("@turf/rhumb-destination"),d=a.point,g=e.coordEach,p=e.featureEach,v=c.getCoord,m=c.getCoords,r=c.getGeomType;k.exports=function(a,b,c,d){if(!a)throw new Error("geojson required");if("number"!=typeof b||0===b)throw new Error("invalid factor");var f=Array.isArray(c)||"object"==("undefined"===typeof c?"undefined":j(c));return!0!==d&&(a=z(a)),"FeatureCollection"!==a.type||f?q(a,b,c):(p(a,function(d,e){a.features[e]=q(d,b,c)}),a)}},{"@turf/bbox":957,"@turf/center":959,"@turf/centroid":963,"@turf/clone":966,"@turf/helpers":967,"@turf/invariant":968,"@turf/meta":969,"@turf/rhumb-bearing":970,"@turf/rhumb-destination":982,"@turf/rhumb-distance":995}],957:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{"@turf/meta":958,dup:22}],958:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],959:[function(a,b,c){arguments[4][168][0].apply(c,arguments)},{"@turf/bbox":960,"@turf/helpers":962,dup:168}],960:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{"@turf/meta":961,dup:22}],961:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],962:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],963:[function(a,b,c){arguments[4][178][0].apply(c,arguments)},{"@turf/helpers":964,"@turf/meta":965,dup:178}],964:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],965:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],966:[function(a,b,c){arguments[4][221][0].apply(c,arguments)},{dup:221}],967:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],968:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],969:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],970:[function(a,b,c){arguments[4][774][0].apply(c,arguments)},{"@turf/invariant":971,dup:774,geodesy:978}],971:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],972:[function(a,b,c){arguments[4][776][0].apply(c,arguments)},{dup:776}],973:[function(a,b,c){arguments[4][777][0].apply(c,arguments)},{"./dms.js":972,"./vector3d.js":981,dup:777}],974:[function(a,b,c){arguments[4][778][0].apply(c,arguments)},{"./dms":972,dup:778}],975:[function(a,b,c){arguments[4][779][0].apply(c,arguments)},{"./dms.js":972,"./vector3d.js":981,dup:779}],976:[function(a,b,c){arguments[4][780][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":973,dup:780}],977:[function(a,b,c){arguments[4][781][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":973,"./utm.js":980,dup:781}],978:[function(a,b,c){arguments[4][782][0].apply(c,arguments)},{"./dms.js":972,"./latlon-ellipsoidal.js":973,"./latlon-spherical.js":974,"./latlon-vectors.js":975,"./latlon-vincenty.js":976,"./mgrs.js":977,"./osgridref.js":979,"./utm.js":980,"./vector3d.js":981,dup:782}],979:[function(a,b,c){arguments[4][783][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":973,dup:783}],980:[function(a,b,c){arguments[4][784][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":973,dup:784}],981:[function(a,b,c){arguments[4][785][0].apply(c,arguments)},{dup:785}],982:[function(a,b,c){arguments[4][839][0].apply(c,arguments)},{"@turf/helpers":983,"@turf/invariant":984,dup:839,geodesy:991}],983:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],984:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],985:[function(a,b,c){arguments[4][776][0].apply(c,arguments)},{dup:776}],986:[function(a,b,c){arguments[4][777][0].apply(c,arguments)},{"./dms.js":985,"./vector3d.js":994,dup:777}],987:[function(a,b,c){arguments[4][778][0].apply(c,arguments)},{"./dms":985,dup:778}],988:[function(a,b,c){arguments[4][779][0].apply(c,arguments)},{"./dms.js":985,"./vector3d.js":994,dup:779}],989:[function(a,b,c){arguments[4][780][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":986,dup:780}],990:[function(a,b,c){arguments[4][781][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":986,"./utm.js":993,dup:781}],991:[function(a,b,c){arguments[4][782][0].apply(c,arguments)},{"./dms.js":985,"./latlon-ellipsoidal.js":986,"./latlon-spherical.js":987,"./latlon-vectors.js":988,"./latlon-vincenty.js":989,"./mgrs.js":990,"./osgridref.js":992,"./utm.js":993,"./vector3d.js":994,dup:782}],992:[function(a,b,c){arguments[4][783][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":986,dup:783}],993:[function(a,b,c){arguments[4][784][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":986,dup:784}],994:[function(a,b,c){arguments[4][785][0].apply(c,arguments)},{dup:785}],995:[function(a,b,c){arguments[4][786][0].apply(c,arguments)},{"@turf/helpers":996,"@turf/invariant":997,dup:786,geodesy:1004}],996:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],997:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],998:[function(a,b,c){arguments[4][776][0].apply(c,arguments)},{dup:776}],999:[function(a,b,c){arguments[4][777][0].apply(c,arguments)},{"./dms.js":998,"./vector3d.js":1007,dup:777}],1e3:[function(a,b,c){arguments[4][778][0].apply(c,arguments)},{"./dms":998,dup:778}],1001:[function(a,b,c){arguments[4][779][0].apply(c,arguments)},{"./dms.js":998,"./vector3d.js":1007,dup:779}],1002:[function(a,b,c){arguments[4][780][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":999,dup:780}],1003:[function(a,b,c){arguments[4][781][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":999,"./utm.js":1006,dup:781}],1004:[function(a,b,c){arguments[4][782][0].apply(c,arguments)},{"./dms.js":998,"./latlon-ellipsoidal.js":999,"./latlon-spherical.js":1e3,"./latlon-vectors.js":1001,"./latlon-vincenty.js":1002,"./mgrs.js":1003,"./osgridref.js":1005,"./utm.js":1006,"./vector3d.js":1007,dup:782}],1005:[function(a,b,c){arguments[4][783][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":999,dup:783}],1006:[function(a,b,c){arguments[4][784][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":999,dup:784}],1007:[function(a,b,c){arguments[4][785][0].apply(c,arguments)},{dup:785}],1008:[function(b,c){var d=b("@turf/meta"),e=b("@turf/invariant"),f=b("@turf/rhumb-destination"),g=d.coordEach,h=e.getCoords;c.exports=function(a,b,c,d,j,k){if(!a)throw new Error("geojson is required");if(void 0===b||null===b||isNaN(b))throw new Error("distance is required");if(j&&"number"!=typeof j&&isNaN(j))throw new Error("zTranslation is not a number");if(j=void 0===j?0:j,0===b&&0===j)return a;if(void 0===c||null===c||isNaN(c))throw new Error("direction is required");return 0>b&&(b=-b,c=-c),!1!==k&&void 0!==k||(a=JSON.parse(JSON.stringify(a))),g(a,function(a){var e=h(f(a,b,c,d));a[0]=e[0],a[1]=e[1],j&&3===a.length&&(a[2]+=j)}),a}},{"@turf/invariant":1009,"@turf/meta":1010,"@turf/rhumb-destination":1011}],1009:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],1010:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],1011:[function(a,b,c){arguments[4][839][0].apply(c,arguments)},{"@turf/helpers":1012,"@turf/invariant":1013,dup:839,geodesy:1020}],1012:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],1013:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],1014:[function(a,b,c){arguments[4][776][0].apply(c,arguments)},{dup:776}],1015:[function(a,b,c){arguments[4][777][0].apply(c,arguments)},{"./dms.js":1014,"./vector3d.js":1023,dup:777}],1016:[function(a,b,c){arguments[4][778][0].apply(c,arguments)},{"./dms":1014,dup:778}],1017:[function(a,b,c){arguments[4][779][0].apply(c,arguments)},{"./dms.js":1014,"./vector3d.js":1023,dup:779}],1018:[function(a,b,c){arguments[4][780][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":1015,dup:780}],1019:[function(a,b,c){arguments[4][781][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":1015,"./utm.js":1022,dup:781}],1020:[function(a,b,c){arguments[4][782][0].apply(c,arguments)},{"./dms.js":1014,"./latlon-ellipsoidal.js":1015,"./latlon-spherical.js":1016,"./latlon-vectors.js":1017,"./latlon-vincenty.js":1018,"./mgrs.js":1019,"./osgridref.js":1021,"./utm.js":1022,"./vector3d.js":1023,dup:782}],1021:[function(a,b,c){arguments[4][783][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":1015,dup:783}],1022:[function(a,b,c){arguments[4][784][0].apply(c,arguments)},{"./latlon-ellipsoidal.js":1015,dup:784}],1023:[function(a,b,c){arguments[4][785][0].apply(c,arguments)},{dup:785}],1024:[function(a,b,c){arguments[4][449][0].apply(c,arguments)},{"@turf/distance":1025,"@turf/helpers":1028,dup:449}],1025:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"@turf/helpers":1026,"@turf/invariant":1027,dup:8}],1026:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],1027:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],1028:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],1029:[function(a,b,c){arguments[4][455][0].apply(c,arguments)},{"@turf/meta":1030,dup:455}],1030:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],1031:[function(a,b,c){arguments[4][367][0].apply(c,arguments)},{dup:367,jsts:1032}],1032:[function(a,b,c){arguments[4][176][0].apply(c,arguments)},{dup:176}],1033:[function(b,c){var d=b("@turf/meta"),e=b("@turf/helpers"),f=b("simplepolygon"),g=d.flattenEach,h=d.featureEach,a=e.polygon,j=e.featureCollection;c.exports=function(b){var c=[];return g(b,function(b){"Polygon"===b.geometry.type&&h(f(b),function(d){c.push(a(d.geometry.coordinates,b.properties))})}),j(c)}},{"@turf/helpers":1036,"@turf/meta":1039,simplepolygon:1046}],1034:[function(a,b,c){arguments[4][13][0].apply(c,arguments)},{dup:13,wgs84:1047}],1035:[function(a,b,c){arguments[4][461][0].apply(c,arguments)},{"@mapbox/geojson-area":1034,"@turf/meta":1039,dup:461}],1036:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],1037:[function(a,b,c){arguments[4][36][0].apply(c,arguments)},{"@turf/invariant":1038,dup:36}],1038:[function(a,b,c){arguments[4][469][0].apply(c,arguments)},{dup:469}],1039:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],1040:[function(a,b,c){(function(d){function e(a){var b=this.useColors;if(a[0]=(b?"%c":"")+this.namespace+(b?" %c":" ")+a[0]+(b?"%c ":" ")+"+"+c.humanize(this.diff),b){var d="color: "+this.color;a.splice(1,0,d,"color: inherit");var e=0,f=0;a[0].replace(/%[a-zA-Z%]/g,function(a){"%%"!==a&&(e++,"%c"===a&&(f=e))}),a.splice(f,0,d)}}function f(){var a;try{a=c.storage.debug}catch(a){}return!a&&void 0!==d&&"env"in d&&(a=d.env.DEBUG),a}c=b.exports=a("./debug"),c.log=function(){return"object"==("undefined"===typeof console?"undefined":j(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},c.formatArgs=e,c.save=function(a){try{null==a?c.storage.removeItem("debug"):c.storage.debug=a}catch(a){}},c.load=f,c.useColors=function(){return"undefined"!=typeof window&&window.process&&"renderer"===window.process.type||"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},c.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(a){}}(),c.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],c.formatters.j=function(a){try{return JSON.stringify(a)}catch(a){return"[UnexpectedJSONParseError]: "+a.message}},c.enable(f())}).call(this,a("_process"))},{"./debug":1041,_process:1052}],1041:[function(a,b,c){function d(a){var b,d=0;for(b in a)d=(d<<5)-d+a.charCodeAt(b),d|=0;return c.colors[Math.abs(d)%c.colors.length]}function e(a){function b(){if(b.enabled){var d=b,e=+new Date,g=e-(f||e);d.diff=g,d.prev=f,d.curr=e,f=e;for(var h=Array(arguments.length),j=0;j<h.length;j++)h[j]=arguments[j];h[0]=c.coerce(h[0]),"string"!=typeof h[0]&&h.unshift("%O");var k=0;h[0]=h[0].replace(/%([a-zA-Z%])/g,function(a,b){if("%%"===a)return a;k++;var e=c.formatters[b];if("function"==typeof e){var f=h[k];a=e.call(d,f),h.splice(k,1),k--}return a}),c.formatArgs.call(d,h),(b.log||c.log||console.log.bind(console)).apply(d,h)}}return b.namespace=a,b.enabled=c.enabled(a),b.useColors=c.useColors(),b.color=d(a),"function"==typeof c.init&&c.init(b),b}c=b.exports=e.debug=e.default=e,c.coerce=function(a){return a instanceof Error?a.stack||a.message:a},c.disable=function(){c.enable("")},c.enable=function(a){c.save(a),c.names=[],c.skips=[];for(var b=("string"==typeof a?a:"").split(/[\s,]+/),d=b.length,e=0;e<d;e++)b[e]&&(a=b[e].replace(/\*/g,".*?"),"-"===a[0]?c.skips.push(new RegExp("^"+a.substr(1)+"$")):c.names.push(new RegExp("^"+a+"$")))},c.enabled=function(a){var b,d;for(b=0,d=c.skips.length;b<d;b++)if(c.skips[b].test(a))return!1;for(b=0,d=c.names.length;b<d;b++)if(c.names[b].test(a))return!0;return!1},c.humanize=a("ms"),c.names=[],c.skips=[],c.formatters={};var f},{ms:1043}],1042:[function(a,b){function j(b,g,e,j){if(d(b,e)||d(b,j)||d(g,e)||d(j,e))return null;var k=b[0],m=b[1],n=g[0],a=g[1],o=e[0],l=e[1],c=j[0],f=j[1],h=(k-n)*(l-f)-(m-a)*(o-c);return 0==h?null:[((k*a-m*n)*(o-c)-(k-n)*(o*f-l*c))/h,((k*a-m*n)*(l-f)-(m-a)*(o*f-l*c))/h]}function d(a,b){if(!a||!b)return!1;if(a.length!=b.length)return!1;for(var c=0,f=a.length;c<f;c++)if(a[c]instanceof Array&&b[c]instanceof Array){if(!d(a[c],b[c]))return!1;}else if(a[c]!=b[c])return!1;return!0}var e=a("rbush");b.exports=function(b,k,m){function o(b,e,l,m){var n=q[b][e],o=q[b][e+1],c=q[l][m],f=q[l][m+1],h=j(n,o,c,f);if(null!=h){if(o[0]!=n[0])var p=(h[0]-n[0])/(o[0]-n[0]);else var p=(h[1]-n[1])/(o[1]-n[1]);if(f[0]!=c[0])var d=(h[0]-c[0])/(f[0]-c[0]);else var d=(h[1]-c[1])/(f[1]-c[1]);if(!(1<=p||0>=p||1<=d||0>=d)){var g=h,s=!w[g];s&&(w[g]=!0),k?a.push(k(h,b,e,n,o,p,l,m,c,f,d,s)):a.push(h)}}}function n(a,b){var c=q[a][b],d=q[a][b+1];if(c[0]<d[0])var f=c[0],g=d[0];else var f=d[0],g=c[0];if(c[1]<d[1])var h=c[1],j=d[1];else var h=d[1],j=c[1];return{minX:f,minY:h,maxX:g,maxY:j,ring:a,edge:b}}if("Polygon"!=b.geometry.type)throw new Error("The input feature must be a Polygon");void 0==m&&(m=1);var q=b.geometry.coordinates,a=[],w={};if(m){for(var l=[],c=0;c<q.length;c++)for(var f=0;f<q[c].length-1;f++)l.push(n(c,f));var h=e();h.load(l)}for(var c=0;c<q.length;c++)for(var f=0;f<q[c].length-1;f++)if(m){var p=h.search(n(c,f));p.forEach(function(a){var b=a.ring,d=a.edge;o(c,f,b,d)})}else for(var d=0;d<q.length;d++)for(var g=0;g<q[d].length-1;g++)o(c,f,d,g);return k||(a={type:"Feature",geometry:{type:"MultiPoint",coordinates:a}}),a}},{rbush:1045}],1043:[function(b,d){function g(b){if(b+="",!(100<b.length)){var d=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(b);if(d){var e=parseFloat(d[1]);switch((d[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return e*c;case"days":case"day":case"d":return e*l;case"hours":case"hour":case"hrs":case"hr":case"h":return e*o;case"minutes":case"minute":case"mins":case"min":case"m":return e*a;case"seconds":case"second":case"secs":case"sec":case"s":return e*m;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return e;default:}}}}function h(b){return b>=l?Math.round(b/l)+"d":b>=o?Math.round(b/o)+"h":b>=a?Math.round(b/a)+"m":b>=m?Math.round(b/m)+"s":b+"ms"}function k(b){return e(b,l,"day")||e(b,o,"hour")||e(b,a,"minute")||e(b,m,"second")||b+" ms"}function e(a,b,c){if(!(a<b))return a<1.5*b?Math.floor(a/b)+" "+c:Math.ceil(a/b)+" "+c+"s"}var m=1e3,a=60*m,o=60*a,l=24*o,c=365.25*l;d.exports=function(a,b){b=b||{};var c="undefined"===typeof a?"undefined":j(a);if("string"===c&&0<a.length)return g(a);if("number"===c&&!1===isNaN(a))return b.long?k(a):h(a);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))}},{}],1044:[function(a,b,c){arguments[4][56][0].apply(c,arguments)},{dup:56}],1045:[function(a,b,c){arguments[4][57][0].apply(c,arguments)},{dup:57,quickselect:1044}],1046:[function(b,j){function m(a,b){if(void 0===b&&(b=!0),3!=a.length)throw new Error("This function requires an array of three points [x,y]");return 0<=(a[1][0]-a[0][0])*(a[2][1]-a[0][1])-(a[1][1]-a[0][1])*(a[2][0]-a[0][0])==b}function e(a){for(var b=0,c=0;c<a.length-1;c++)a[c][0]<a[b][0]&&(b=c);if(m([a[(b-1).modulo(a.length-1)],a[b],a[(b+1).modulo(a.length-1)]],!0))var d=1;else var d=-1;return d}function k(a,b){if(!a||!b)return!1;if(a.length!=b.length)return!1;for(var c=0,d=a.length;c<d;c++)if(a[c]instanceof Array&&b[c]instanceof Array){if(!k(a[c],b[c]))return!1;}else if(a[c]!=b[c])return!1;return!0}function o(a){for(var b={},c=1,d=0,e=a.length;d<e;++d){if(b.hasOwnProperty(a[d])){c=0;break}b[a[d]]=1}return c}var r=b("geojson-polygon-self-intersections"),a=b("@turf/helpers"),q=b("@turf/inside"),l=b("@turf/area"),c=b("rbush"),f=b("debug")("simplepolygon"),h=b("debug")("simplepolygon:all");j.exports=function(g){function p(){for(var b=[],c=0;c<N.features.length;c++)h("Output ring "+c+" has parent "+N.features[c].properties.parent),-1==N.features[c].properties.parent&&b.push(c);if(h("The following output ring(s) have no parent: "+b),1<b.length)for(var c=0;c<b.length;c++){for(var d=-1,f=0;f<N.features.length;f++)b[c]!=f&&q(a.point(N.features[b[c]].geometry.coordinates[0][0]),N.features[f],!0)&&l(N.features[f])<1/0&&(d=f,h("Ring "+b[c]+" lies inside output ring "+f));N.features[b[c]].properties.parent=d,h("Ring "+b[c]+" is assigned parent "+d)}}function s(){for(var a=0;a<N.features.length;a++)if(-1==N.features[a].properties.parent){var b=N.features[a].properties.winding;N.features[a].properties.netWinding=b,u(a,b)}}function u(a,b){for(var c=0;c<N.features.length;c++)if(N.features[c].properties.parent==a){var d=b+N.features[c].properties.winding;N.features[c].properties.netWinding=d,u(c,d)}}if("Feature"!=g.type)throw new Error("The input must a geojson object of type Feature");if(void 0===g.geometry||null==g.geometry)throw new Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=g.geometry.type)throw new Error("The input must be a geojson Polygon");for(var t,y=g.geometry.coordinates.length,v=[],E=0;E<y;E++)t=g.geometry.coordinates[E],k(t[0],t[t.length-1])||t.push(t[0]),v.push.apply(v,t.slice(0,t.length-1));if(!o(v))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var K=v.length;f("Processing input");var w=r(g,function(b,d,e,g,h,j,k,m,a,n,l,c){return[b,d,e,g,h,j,k,m,a,n,l,c]}),b=w.length;if(f("Computing self-intersections"),0==b){for(var I=[],E=0;E<y;E++)I.push(a.polygon([g.geometry.coordinates[E]],{parent:-1,winding:e(g.geometry.coordinates[E])}));var N=a.featureCollection(I);return p(),s(),h("No self-intersections found. Input rings are output rings. Computed winding numbers, net winding numbers and parents"),f("Finishing without self-intersections"),N}for(var C=[],Q=[],E=0;E<y;E++){C.push([]);for(var M=0;M<g.geometry.coordinates[E].length-1;M++)C[E].push([new n(g.geometry.coordinates[E][(M+1).modulo(g.geometry.coordinates[E].length-1)],1,[E,M],[E,(M+1).modulo(g.geometry.coordinates[E].length-1)],void 0)]),Q.push(new d(g.geometry.coordinates[E][M],[E,(M-1).modulo(g.geometry.coordinates[E].length-1)],[E,M],void 0,void 0,!1,!0))}for(var E=0;E<b;E++)C[w[E][1]][w[E][2]].push(new n(w[E][0],w[E][5],[w[E][1],w[E][2]],[w[E][6],w[E][7]],void 0)),w[E][11]&&Q.push(new d(w[E][0],[w[E][1],w[E][2]],[w[E][6],w[E][7]],void 0,void 0,!0,!0));for(var L=Q.length,E=0;E<C.length;E++)for(var M=0;M<C[E].length;M++)C[E][M].sort(function(a,b){return a.param<b.param?-1:1});f("Setting up pseudoVtxListByRingAndEdge and isectList"),allIsectsAsIsectRbushTreeItem=[];for(var E=0;E<L;E++)allIsectsAsIsectRbushTreeItem.push({minX:Q[E].coord[0],minY:Q[E].coord[1],maxX:Q[E].coord[0],maxY:Q[E].coord[1],index:E});var P=c();P.load(allIsectsAsIsectRbushTreeItem);for(var E=0;E<C.length;E++)for(var M=0;M<C[E].length;M++)for(var R=0;R<C[E][M].length;R++){var S=R==C[E][M].length-1?C[E][(M+1).modulo(g.geometry.coordinates[E].length-1)][0].coord:C[E][M][R+1].coord;var O=P.search({minX:S[0],minY:S[1],maxX:S[0],maxY:S[1]})[0];C[E][M][R].nxtIsectAlongEdgeIn=O.index}f("Computing nextIsect for pseudoVtxListByRingAndEdge");for(var E=0;E<C.length;E++)for(var M=0;M<C[E].length;M++)for(var R=0;R<C[E][M].length;R++){var S=C[E][M][R].coord,O=P.search({minX:S[0],minY:S[1],maxX:S[0],maxY:S[1]})[0],T=O.index;T<K?Q[T].nxtIsectAlongRingAndEdge2=C[E][M][R].nxtIsectAlongEdgeIn:k(Q[T].ringAndEdge1,C[E][M][R].ringAndEdgeIn)?Q[T].nxtIsectAlongRingAndEdge1=C[E][M][R].nxtIsectAlongEdgeIn:Q[T].nxtIsectAlongRingAndEdge2=C[E][M][R].nxtIsectAlongEdgeIn}f("Porting nextIsect to isectList");for(var A=[],E=0,M=0;M<y;M++){for(var D=E,R=0;R<g.geometry.coordinates[M].length-1;R++)Q[E].coord[0]<Q[D].coord[0]&&(D=E),E++;for(var $=Q[D].nxtIsectAlongRingAndEdge2,R=0;R<Q.length;R++)if(Q[R].nxtIsectAlongRingAndEdge1==D||Q[R].nxtIsectAlongRingAndEdge2==D){var _=R;break}var aa=m([Q[_].coord,Q[D].coord,Q[$].coord],!0)?1:-1;A.push({isect:D,parent:-1,winding:aa})}A.sort(function(a,b){return Q[a.isect].coord>Q[b.isect].coord?-1:1}),h("Initial state of the queue: "+JSON.stringify(A)),f("Setting up queue");for(var I=[];0<A.length;){var ba=A.pop(),j=ba.isect,B=ba.parent,ca=ba.winding,da=I.length,ea=[Q[j].coord];h("# Starting output ring number "+I.length+" with winding "+ca+" from intersection "+j),j<K&&h("This is a ring-vertex-intersections, which means this output ring does not touch existing output rings");var Y=j;if(Q[j].ringAndEdge1Walkable)var U=Q[j].ringAndEdge1,W=Q[j].nxtIsectAlongRingAndEdge1;else var U=Q[j].ringAndEdge2,W=Q[j].nxtIsectAlongRingAndEdge2;for(;!k(Q[j].coord,Q[W].coord);){h("Walking from intersection "+Y+" to "+W+" over ring "+U[0]+" and edge "+U[1]),ea.push(Q[W].coord),h("Adding intersection "+W+" to current output ring");for(var fa=void 0,E=0;E<A.length;E++)if(A[E].isect==W){fa=E;break}if(void 0!=fa&&(h("Removing intersection "+W+" from queue"),A.splice(fa,1)),k(U,Q[W].ringAndEdge1)){if(U=Q[W].ringAndEdge2,Q[W].ringAndEdge2Walkable=!1,Q[W].ringAndEdge1Walkable){h("Adding intersection "+W+" to queue");var J={isect:W};m([Q[Y].coord,Q[W].coord,Q[Q[W].nxtIsectAlongRingAndEdge2].coord],1==ca)?(J.parent=B,J.winding=-ca):(J.parent=da,J.winding=ca),A.push(J)}Y=W,W=Q[W].nxtIsectAlongRingAndEdge2}else{if(U=Q[W].ringAndEdge1,Q[W].ringAndEdge1Walkable=!1,Q[W].ringAndEdge2Walkable){h("Adding intersection "+W+" to queue");var J={isect:W};m([Q[Y].coord,Q[W].coord,Q[Q[W].nxtIsectAlongRingAndEdge1].coord],1==ca)?(J.parent=B,J.winding=-ca):(J.parent=da,J.winding=ca),A.push(J)}Y=W,W=Q[W].nxtIsectAlongRingAndEdge1}h("Current state of the queue: "+JSON.stringify(A))}h("Walking from intersection "+Y+" to "+W+" over ring "+U[0]+" and edge "+U[1]+" and closing ring"),ea.push(Q[W].coord),I.push(a.polygon([ea],{index:da,parent:B,winding:ca,netWinding:void 0}))}var N=a.featureCollection(I);return f("Walking"),p(),f("Determining parents"),s(),f("Setting winding number"),h("# Total of "+N.features.length+" rings"),N};var n=function(a,b,c,d,e){this.coord=a,this.param=b,this.ringAndEdgeIn=c,this.ringAndEdgeOut=d,this.nxtIsectAlongEdgeIn=e},d=function(a,b,c,d,e,f,g){this.coord=a,this.ringAndEdge1=b,this.ringAndEdge2=c,this.nxtIsectAlongRingAndEdge1=d,this.nxtIsectAlongRingAndEdge2=e,this.ringAndEdge1Walkable=f,this.ringAndEdge2Walkable=g};Number.prototype.modulo=function(a){return(this%a+a)%a}},{"@turf/area":1035,"@turf/helpers":1036,"@turf/inside":1037,debug:1040,"geojson-polygon-self-intersections":1042,rbush:1045}],1047:[function(a,b,c){arguments[4][15][0].apply(c,arguments)},{dup:15}],1048:[function(a,b){var c=a("@turf/inside"),d=a("@turf/helpers").featureCollection;b.exports=function(b,f){for(var e=d([]),g=0;g<f.features.length;g++)for(var h,a=0;a<b.features.length;a++)h=c(b.features[a],f.features[g]),h&&e.features.push(b.features[a]);return e}},{"@turf/helpers":1049,"@turf/inside":1050}],1049:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],1050:[function(a,b,c){arguments[4][36][0].apply(c,arguments)},{"@turf/invariant":1051,dup:36}],1051:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],1052:[function(b,c){function d(){if(!h){h=!0;for(var b,c=g.length;c;){b=g,g=[];for(var d=-1;++d<c;)b[d]();c=g.length}h=!1}}function e(){}var f=c.exports={},g=[],h=!1;f.nextTick=function(a){g.push(a),h||setTimeout(d,0)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=e,f.addListener=e,f.once=e,f.off=e,f.removeListener=e,f.removeAllListeners=e,f.emit=e,f.binding=function(){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}]},{},[1])(1)}),a.exports});;
Cube("datav:/com/datavmap-3d-layer-polyhill/0.1.6/coord.js",["datav:/npm/geojson-bbox/0.0.0"],function(a,b,c){var d=c("datav:/npm/geojson-bbox/0.0.0");return a.exports={project:function(a,b){var c=3.141592653589793,d={worldsize:256/c};Object.assign(d,b);var e=d.worldsize||6378137,f=e*c,g=c/180,h=[e*a[0]*g,e*Math.log(Math.tan(c/4+0.5*a[1]*g))];return h[0]>f&&(h[0]=f),h[0]<-f&&(h[0]=-f),h[1]>f&&(h[1]=f),h[1]<-f&&(h[1]=-f),h},getCenter:function(a){var b=d(a);return[(b[0]+b[2])/2,(b[1]+b[3])/2]}},a.exports});;
Cube("datav:/com/datavmap-3d-layer-polyhill/0.1.6/terrainGenerator2.js",["datav:/npm/simplex-noise/2.3.0","datav:/npm/geojson-bbox/0.0.0"],function(a,b,c){function e(a){return 512/(6378137*(2*Math.PI)*Math.abs(Math.cos(a*(Math.PI/180))))}var d=c("datav:/npm/simplex-noise/2.3.0"),f=c("datav:/npm/geojson-bbox/0.0.0"),g=new d,h=c("datav:/com/datavmap-3d-layer-polyhill/0.1.6/turf.min.js");return a.exports=function(){return function(k,l){l=Object.assign({project:function(a){return a},closed:!0},l);var m=h.polygon([k[0]]),n=f({type:"Polygon",coordinates:k}),o=l.project([n[0],n[1]]),p=l.project([n[2],n[3]]),q=p[0]-o[0],r=n[2]-n[0],s=p[1]-o[1],t=n[3]-n[1],u=(e(n[3])+e(n[1]))/2,v=1,w=1,A=1;q<5*v&&(w=5*v/q),s<5*v&&(A=5*v/s);var B=Math.min(q,s);if(1<=B)for(;1<=B;)B/=10;else B=1;for(var C=l.xSeg,D=l.ySeg,E=[],F=[],G=Infinity,H=-Infinity,I=600+300*Math.random(),J=0;J<D;J++){var i=n[3]-t/D*J,K=[n[0],i],L=[n[2],i],M=h.intersect(h.lineString([K,L]),m);if(M){var N=M.geometry.coordinates,O=M.geometry.type;if("Point"==O)K=N,L=N;else if("LineString"==O)K=N[0],L=N[N.length-1];else if("MultiLineString"==O){K=N[0][0];var P=N[N.length-1].length;L=N[N.length-1][P-1]}}sxy=l.project(K),exy=l.project(L);for(var Q=0;Q<C;Q++){var j=void 0,x=sxy[1],y=void 0,z=n[0]+r/C*Q;if(z<=K[0])j=sxy[0],y=0;else if(z>=L[0])j=exy[0],y=0;else{j=o[0]+q/C*Q,y=g.noise2D(j*B*w+I,x*B*A+I)+1;var R=Math.sin(J/D*Math.PI),S=Math.sin(Q/C*Math.PI);y*=Math.pow(R*S,2)*v,G>y&&(G=y),H<y&&(H=y)}E.push(j,x,y)}}for(var T=0;T<D-1;T++)for(var U=0;U<C-1;U++){var V=(T+1)*C+U,a=(T+1)*C+U+1,b=T*C+U+1,c=T*C+U;F.push(b,c,V),F.push(V,a,b)}return{positions:new Float32Array(E),indices:new Uint32Array(F),pixelsPerMeter:u,minZ:G,maxZ:H}}},a.exports});;
Cube("datav:/com/datavmap-3d-layer-polyhill/0.1.6/terrain2polygon",[],function(a,b,c){var d=c("datav:/com/datavmap-3d-layer-polyhill/0.1.6/coord.js"),e=d.getCenter,f=d.project;return a.exports=function(a){var b=c("datav:/com/datavmap-3d-layer-polyhill/0.1.6/terrainGenerator2.js")(a);return function(a,c){var d={worldsize:256/Math.PI,offset:!0};Object.assign(d,c);var g=d.offset?f(e(a),d):[0,0],h=[];return a.features.forEach(function(a){var c=[];a.geometry&&("MultiPolygon"===a.geometry.type?c=a.geometry.coordinates:"Polygon"===a.geometry.type&&c.push(a.geometry.coordinates),c.forEach(function(a){var c=b(a,{project:function(a){var b=f(a,d);return[b[0]-g[0],b[1]-g[1]]},xSeg:d.xSeg,ySeg:d.ySeg});h.push(c)}))}),{attributes:h,offset:g}}},a.exports});;
Cube("datav:/com/datavmap-3d-layer-polyhill/0.1.6/generateContourLine",[],function(a){function b(a,b){return Math.abs(a-b)<e}function c(a,b){return Math.abs(a.x-b.x)<e&&Math.abs(a.y-b.y)<e&&Math.abs(a.z-b.z)<e}function d(a){switch(a){case 1:return[0,3,0,1];case 2:return[1,2,1,0];case 3:return[0,3,1,2];case 4:return[2,3,2,1];case 5:return[0,3,2,3,0,1,2,1];case 6:return[1,0,2,3];case 7:return[0,3,2,3];case 8:return[3,0,3,2];case 9:return[0,1,3,2];case 10:return[1,0,3,0,1,2,3,2];case 11:return[3,2,1,2];case 12:return[3,0,2,1];case 13:return[0,1,2,1];case 14:return[3,0,1,0];case 0:case 15:default:return[];}}var e=1e-8;return a.exports=function(a){function e(c,d,e){if(b(e-c.z))return c;if(b(e-d.z))return d;var f=(e-d.z)/(c.z-d.z),g=a.Math.lerp(d.x,c.x,f),h=a.Math.lerp(d.y,c.y,f);return new a.Vector3(g,h,e)}function f(a,b,f){var g=0;a[0].z>=b&&(g|=1),a[1].z>=b&&(g|=2),a[2].z>=b&&(g|=4),a[3].z>=b&&(g|=8);for(var h=d(g),k=0;k<h.length-3;k+=4){var i=a[h[k]],l=a[h[k+1]],m=a[h[k+2]],n=a[h[k+3]],o=e(i,l,b),p=e(m,n,b),q=void 0;for(q=0;q<f.length;q++){var j,r=f[q].start,s=f[q].end;if(c(o,s)?(j={start:o,end:p,prev:!0,next:!1},f[q].next&&c(f[q+1].start,p)&&(j.next=!0),f[q].next=!0,f.splice(q+1,0,j)):c(p,r)?(j={start:o,end:p,prev:!1,next:!0},f[q].prev&&c(f[q-1].end,o)&&(j.prev=!0),f[q].prev=!0,f.splice(q,0,j)):c(o,r)?(j={start:p,end:o,prev:!1,next:!0},f[q].prev&&c(f[q-1].end,o)&&(j.prev=!0),f[q].prev=!0,f.splice(q,0,j)):c(p,s)&&(j={start:p,end:o,prev:!0,next:!1},f[q].next&&c(f[q+1].start,p)&&(j.next=!0),f[q].next=!0,f.splice(q+1,0,j)),j)break}q>=f.length&&f.push({start:o,end:p,prev:!1,next:!1})}return f}return function(b,c,d,e){var g=[];try{for(var h=0;h<c-1;h++)for(var i=0;i<d-1;i++){var j=[],k=(h+1)*d+i;j.push(new a.Vector3().fromArray(b.slice(3*k,3*(k+1)))),k=(h+1)*d+i+1,j.push(new a.Vector3().fromArray(b.slice(3*k,3*(k+1)))),k=h*d+i+1,j.push(new a.Vector3().fromArray(b.slice(3*k,3*(k+1)))),k=h*d+i,j.push(new a.Vector3().fromArray(b.slice(3*k,3*(k+1)))),f(j,e,g)}}catch(a){console.log(a),console.log(h,i)}for(var l,m,n=[],h=0;h<g.length;h++)m=g[h],m.prev||(l=[],n.push(l)),l.push(g[h].start),m.next||l.push(g[h].end);return n}},a.exports});;
Cube("datav:/com/datavmap-3d-layer-polyhill/0.1.6/hillLayer.js",["datav:/npm/bcore/0.0.21/event","datav:/npm/safely-merge/1.0.1","datav:/npm/simplex-noise/2.3.0"],function(a,b,c){function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"===typeof b||"function"===typeof b)?b:a}function f(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c("datav:/npm/bcore/0.0.21/event"),i=c("datav:/npm/safely-merge/1.0.1"),j=c("datav:/npm/simplex-noise/2.3.0"),k=1e3*Math.random(),l=c("datav:/com/datavmap-3d-layer-polyhill/0.1.6/generateContourLine"),m=new j;return a.exports=function(a){var b=a.datavgl,j=b.THREE,k=l(j),m=a.glLayer||a,n=c("datav:/com/datavmap-3d-layer-polyhill/0.1.6/terrain2polygon")(j),o=new j.TextureLoader,p=new j.Box3,q={xSeg:50,ySeg:50,hillScaleZ:50,worldsize:a.worldsize,color:"#ff0000",segNum:20,radius:1};return function(b){function c(a){d(this,c);var b=e(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return a=i(q,a),b.options=i(q,a),b.init(),b}return f(c,b),g(c,[{key:"init",value:function(){this.initMaterial()}},{key:"initGroup",value:function(){this.hillGeometry=[],this.tubeGeometry=[],this.group=new j.Group,this.hillMesh=new j.Group,this.tubeMesh=new j.Group,this.group.add(this.hillMesh,this.tubeMesh)}},{key:"initMaterial",value:function(){this.uniforms={opacity:{value:this.options.opacity},threshold:{value:this.options.threshold},color:{value:new j.Color().set(this.options.color)},minZ:{value:Infinity},maxZ:{value:-Infinity}},this.material=new j.ShaderMaterial({uniforms:this.uniforms,vertexShader:"uniform vec3 color;\nuniform float minZ;\nuniform float maxZ;\nvarying vec3 vColor;\nvarying float radio;\nvoid main() {\n   radio =  (position.z - minZ) / (maxZ - minZ);\n   vColor = color * radio;\n   gl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);\n}",fragmentShader:["uniform float opacity;","uniform float threshold;","varying vec3 vColor;","varying float radio;","void main(){","if(radio < threshold)","  discard;","gl_FragColor = vec4(vColor,opacity);",j.ShaderChunk.premultiplied_alpha_fragment,"}"].join("\n"),side:j.DoubleSide,transparent:!0}),this.lineMaterial=new j.MeshBasicMaterial({color:"#A8D6D8",side:j.DoubleSide,depthWrite:!1})}},{key:"addContourLine",value:function(a,b){for(var c,d=this,e=b.minZ,f=b.maxZ,g=(f-e)/b.segNum,h=Math.min(2,b.segNum)+1,i=e+g*h;i<f;i+=g*h)c=k(a,50,50,i),c.forEach(function(a){var c=new j.CatmullRomCurve3(a),e=new j.TubeBufferGeometry(c,2*a.length,d.options.radius*b.pixelsPerMeter,6,!1),f=new j.Mesh(e,d.lineMaterial);f.frustumCulled=!1,d.tubeGeometry.push(e),d.tubeMesh.add(f)})}},{key:"addMesh",value:function(b){var c=this,d=b.offset,e=b.attributes,f=this.uniforms;if(e.forEach(function(a){var b=new j.BufferGeometry;b.setIndex(new j.BufferAttribute(a.indices,1)),b.addAttribute("position",new j.BufferAttribute(a.positions,3)),b.computeVertexNormals();var d=a.minZ,e=a.maxZ;f.minZ.value>d&&(f.minZ.value=d),f.maxZ.value<e&&(f.maxZ.value=e);var g={minZ:d,maxZ:e,pixelsPerMeter:a.pixelsPerMeter,segNum:c.options.segNum};b.userData=g;var h=new j.Mesh(b,c.material);h.frustumCulled=!1,c.hillGeometry.push(b),c.hillMesh.add(h),0<c.options.segNum&&c.addContourLine(a.positions,g)}),this.group.position.add(new j.Vector3(d[0],d[1],0)),this.group.scale.setZ(this.options.hillScaleZ),!m.offsetNode){var g=this;a.once("load",function(){m.rootNode.add(g.group)})}else m.rootNode.add(this.group)}},{key:"setData",value:function(a){a&&"FeatureCollection"===a.type&&(this.dispose(),this.initGroup(),this.addMesh(n(a,this.options)))}},{key:"disposeGeometry",value:function(){this.disposeTubeGeometry(),this.disposeHillGeometry()}},{key:"updateOptions",value:function(a){var b=this,c=this.options.segNum,d=this.options.radius;this.options=i(this.options,a);var e=this.options.segNum,f=this.options.radius;this.uniforms.opacity.value=this.options.opacity,this.uniforms.threshold.value=this.options.threshold,this.uniforms.color.value.set(this.options.color),this.lineMaterial.color.set(this.options.lineColor),this.lineMaterial.needsUpdate=!0,this.group.visible=this.options.visible,this.group.scale.setZ(this.options.hillScaleZ),(c!==e||d!==f)&&(0!==c&&(this.group.remove(this.tubeMesh),this.disposeTubeGeometry(),this.tubeGeometry=[],this.tubeMesh=new j.Group,this.group.add(this.tubeMesh)),this.hillGeometry.forEach(function(a){var c=a.userData;c.segNum=e,b.addContourLine(a.attributes.position.array,c)}))}},{key:"show",value:function(){this.options.visible=!0,this.group&&(this.group.visible=!0)}},{key:"hide",value:function(){this.options.visible=!1,this.group&&(this.group.visible=!1)}},{key:"disposeTubeGeometry",value:function(){Array.isArray(this.tubeGeometry)&&0<this.tubeGeometry.length&&(this.tubeGeometry.forEach(function(a){a.dispose()}),this.tubeGeometry=null)}},{key:"disposeHillGeometry",value:function(){Array.isArray(this.hillGeometry)&&0<this.hillGeometry.length&&(this.hillGeometry.forEach(function(a){a.dispose()}),this.hillGeometry=null)}},{key:"disposeMaterial",value:function(){this.material&&(this.material.dispose(),this.material=null),this.lineMaterial&&(this.lineMaterial.dispose(),this.lineMaterial=null)}},{key:"dispose",value:function(){this.group&&(m.rootNode.remove(this.group),this.disposeGeometry(),this.group=null)}},{key:"remove",value:function(){this.group&&(this.dispose(),this.disposeMaterial(),this.hillMesh=null,this.tubeMesh=null)}}]),c}(h)},a.exports});;
Cube("datav:/com/datavmap-3d-layer-polyhill/0.1.6",["datav:/npm/bcore/0.0.21/event","datav:/npm/safely-merge/1.0.1"],function(a,b,c){function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"===typeof b||"function"===typeof b)?b:a}function f(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c("datav:/npm/bcore/0.0.21/event"),i=c("datav:/npm/safely-merge/1.0.1"),j=c("datav:/com/datavmap-3d-layer-polyhill/0.1.6/hillLayer.js"),k={};return a.exports=function(a){function b(a,c){d(this,b);var f=e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return f.container="string"===typeof a?document.querySelector(a):a,f.apis=c.apis,f.map=null,f.data=null,f.config=c,f}return f(b,a),g(b,[{key:"init",value:function(){var a=this.getOptions(),b=j(this.map);this.layer=new b(a)}},{key:"addTo",value:function(a){this.map=a,this.init()}},{key:"getOptions",value:function(){return this.config=i(k,this.config),this.config}},{key:"data",value:function(a){return a&&(this.data=a),this.data}},{key:"show",value:function(){this.config.visible=!0,this.layer&&this.layer.show&&this.layer.show()}},{key:"hide",value:function(){this.config.visible=!1,this.layer&&this.layer.hide&&this.layer.hide()}},{key:"remove",value:function(){this.layer&&(this.layer.remove(),this.layer=null,this.data=null)}},{key:"render",value:function(a){this.layer.setData(a)}},{key:"updateOptions",value:function(a){this.config=i(this.config,a),a=this.getOptions(),this.layer&&this.layer.updateOptions(a)}}]),b}(h),a.exports});