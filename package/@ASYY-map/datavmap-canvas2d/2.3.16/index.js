// env=undefined => env=publish 
Cube("datav:/com/datavmap-canvas2d/2.3.16/src/utils/mergeOptions",["datav:/npm/lodash.mergewith/4.6.2","datav:/npm/lodash.clonedeep/4.5.0"],function(a,e,t,n,r,d){var o=t("datav:/npm/lodash.mergewith/4.6.2"),s=t("datav:/npm/lodash.clonedeep/4.5.0");return a.exports=function(a,e){return a=s(a),e=s(e),o(a,e,function(a,e){if(Array.isArray(a))return e})},a.exports});;
Cube("datav:/com/datavmap-canvas2d/2.3.16/src/utils/linearScale",[],function(a,t,n,r,e,u){return a.exports=function(n,r){return function(a){var t;return n[0]===n[1]||r[0]===r[1]?r[0]:(t=(r[1]-r[0])/(n[1]-n[0]),t=r[0]+t*(a-n[0]),Math.min(r[1],Math.max(r[0],t)))}},a.exports});;
Cube("datav:/com/datavmap-canvas2d/2.3.16/src/utils/arr2geojson",[],function(t,e,r,a,n,o){return t.exports=function(t,e){var r=e||{lat:"lat",lng:"lng"};return{type:"FeatureCollection",features:t.map(function(t){return{type:"Feature",properties:t,geometry:{type:"Point",coordinates:[+t[r.lng],+t[r.lat]]}}})}},t.exports});;
Cube("datav:/com/datavmap-canvas2d/2.3.16/src/spatialAnalysis",[],function(a,n,t,r,e,c){return a.exports={linearScale:function(t,r){return function(a){var n;return t[0]===t[1]||r[0]===r[1]?r[0]:(n=(r[1]-r[0])/(t[1]-t[0]),n=r[0]+n*(a-t[0]),Math.min(r[1],Math.max(r[0],n)))}}},a.exports});;
Cube("datav:/com/datavmap-canvas2d/2.3.16/src/layer/glCanvasLayer",["datav:/npm/leaflet/1.6.0","datav:/npm/eventemitter3/3.0.0","datav:/npm/safely-merge/1.0.1","datav:/npm/lodash.throttle/4.1.1"],function(t,e,n,o,i,s){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function u(t,e){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=p(n),e=(t=o?(t=p(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=n("datav:/npm/leaflet/1.6.0"),c=n("datav:/npm/eventemitter3/3.0.0"),m=n("datav:/npm/safely-merge/1.0.1"),y=n("datav:/npm/lodash.throttle/4.1.1"),n=function(){var t=i,e=c;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e);var n,o=l(i);function i(t){var e;if(this instanceof i)return(e=o.call(this,t)).options=m({pane:"overlayPane",padding:.1,tolerance:0},t),e.pane=null,e.container=null,e.bounds=null,e.update=e.update.bind(h(e)),e.onAnimZoom=e.onAnimZoom.bind(h(e)),e.onResize=e.onResize.bind(h(e)),e.onMoveEnd=e.onMoveEnd.bind(h(e)),e;throw new TypeError("Cannot call a class as a function")}return t=i,(e=[{key:"addTo",value:function(t){this.map=t,this.pane=t.getPane(this.options.pane);var t=this.container=d.DomUtil.create("canvas"),e=(this.gl=t.getContext("webgl"),this.gl.clearColor(0,0,0,0),this.map.options.zoomAnimation&&d.Browser.any3d);d.DomUtil.addClass(t,"leaflet-zoom-"+(e?"animated":"hide")),this.pane.appendChild(this.container),this.updateContainer(),this.initEvents(),this.onRender()}},{key:"onRender",value:function(){}},{key:"updateContainer",value:function(){var t=this.options.padding,e=this.map.getSize(),n=this.map.containerPointToLayerPoint(e.multiplyBy(-t)).round(),n=this.bounds=new d.Bounds(n,n.add(e.multiplyBy(1+2*t)).round()),e=+n.getSize().x,t=+n.getSize().y;d.DomUtil.setPosition(this.container,this.bounds.min),this.container.width=e,this.container.height=t,this.container.style.width=e+"px",this.container.style.height=t+"px"}},{key:"initEvents",value:function(){var t=this.map;t.on("resize",this.onResize,this),t.on("moveend",y(this.onMoveEnd,32,this)),t.options.zoomAnimation=!0,t.options.zoomAnimation&&d.Browser.any3d&&t.on("zoomanim",y(this.onAnimZoom,32,this))}},{key:"onAnimZoom",value:function(t){this.update(),this.updateTransform(t.center,t.zoom)}},{key:"updateTransform",value:function(t,e){var n,o,i,s;(this.container||this.options)&&(n=this.map.getZoomScale(e,this._zoom),o=d.DomUtil.getPosition(this.container),i=this.map.getSize().multiplyBy(.5+this.options.padding),s=this.map.project(this._center,e),t=this.map.project(t,e).subtract(s),e=i.multiplyBy(-n).add(o).add(i).subtract(t),d.Browser.any3d?d.DomUtil.setTransform(this.container,e,n):d.DomUtil.setPosition(this.container,e))}},{key:"onMoveEnd",value:function(){var t,e,n;(this.container||this.options)&&(t=this.options.padding||.1,e=this.map.getSize(),n=this.map.containerPointToLayerPoint(e.multiplyBy(-t)).round(),this.bounds=new d.Bounds(n,n.add(e.multiplyBy(1+2*t)).round()),this.onRender())}},{key:"onResize",value:function(t){var e,n,o;this.container&&this.options&&(e=this.options.padding,n=this.map.getSize(),o=this.map.containerPointToLayerPoint(n.multiplyBy(-e)).round(),this.bounds=new d.Bounds(o,o.add(n.multiplyBy(1+2*e)).round()),o=this.bounds.getSize(),this.container.width=o.x,this.container.height=o.y,this.container.style.width=o.x+"px",this.container.style.height=o.y+"px",d.DomUtil.setPosition(this.container,this.bounds.min),this.onRender())}},{key:"update",value:function(){var t,e,n;this.options&&(t=this.options.padding,e=this.map.getSize(),n=this.map.containerPointToLayerPoint(e.multiplyBy(-t)).round(),this.bounds=new d.Bounds(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this.map.getCenter(),this._zoom=this.map.getZoom())}},{key:"updateOptions",value:function(t){this.options=m(this.options,t)}},{key:"show",value:function(){this.container.style.opacity=this.options.opacity||1}},{key:"hide",value:function(){this.container.style.opacity=0}},{key:"setZIndex",value:function(t){this.container.style.zIndex=t}},{key:"remove",value:function(){var t=this.map;t.off("resize",this.onResize,this),t.off("zoomanim",this.onAnimZoom,this),t.off("movemend",this.onMoveEnd,this),d.DomUtil.remove(this.container),this.map=null,this.bounds=null,this.onResize=null,this.onMoveEnd=null,this.update=null,this.onAnimZoom=null,this.options=null,this.container=null,this.pane=null,this.onRender=null,delete this.onRender,delete this.map,delete this.bounds,delete this.onResize,delete this.onMoveEnd,delete this.update,delete this.onAnimZoom,delete this.options,delete this.container,delete this.pane}}])&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}();return t.exports=n,t.exports});;
Cube("datav:/com/datavmap-canvas2d/2.3.16/src/layer/canvasLayer",["datav:/npm/leaflet/1.6.0","datav:/npm/eventemitter3/3.0.0","datav:/npm/safely-merge/1.0.1","datav:/npm/lodash.throttle/4.1.1","datav:/npm/jquery/2.1.4"],function(t,n,e,o,i,a){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function u(t,n){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t})(t,n)}function h(e){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,n=c(e),n=(t=o?(t=c(this).constructor,Reflect.construct(n,arguments,t)):n.apply(this,arguments),this);if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(n)}}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=e("datav:/npm/leaflet/1.6.0"),m=e("datav:/npm/eventemitter3/3.0.0"),d=e("datav:/npm/safely-merge/1.0.1"),f=e("datav:/npm/lodash.throttle/4.1.1"),y=e("datav:/npm/jquery/2.1.4"),e=(e("datav:/com/datavmap-canvas2d/2.3.16/src/libs/jquery.actual")(y),function(){var t=i,n=m;if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&u(t,n);var e,o=h(i);function i(t){var n;if(this instanceof i)return(n=o.call(this,t)).options=d({pane:"overlayPane",padding:.1,tolerance:0},t),n.pane=null,n.container=null,n.bounds=null,n.update=n.update.bind(p(n)),n.onAnimZoom=n.onAnimZoom.bind(p(n)),n.onMoveEnd=n.onMoveEnd.bind(p(n)),n;throw new TypeError("Cannot call a class as a function")}return t=i,(n=[{key:"addTo",value:function(t){this.map=t,this.pane=t.getPane(this.options.pane);t=this.container=l.DomUtil.create("canvas");this.ctx=t.getContext("2d"),l.DomUtil.addClass(this.container,"leaflet-zoom-animated"),this.pane.appendChild(this.container),this.updateContainer(),this.update(),this.initEvents()}},{key:"updateContainer",value:function(){var t,n,e;this.container&&this.options&&(e=this.options.padding,n=l.point(y(this.map.getContainer()).actual("width"),y(this.map.getContainer()).actual("height")),t=this.map.containerPointToLayerPoint(n.multiplyBy(-e)).round(),n=+(t=this.bounds=new l.Bounds(t,t.add(n.multiplyBy(1+2*e)).round())).getSize().x,e=+t.getSize().y,l.DomUtil.setPosition(this.container,this.bounds.min),this.container.width=n,this.container.height=e,this.container.style.width=n+"px",this.container.style.height=e+"px")}},{key:"initEvents",value:function(){this.map.on("viewreset",this.onMoveEnd,this),this.map.on("resize",this.onMoveEnd,this),this.map.on("moveend ",f(this.onMoveEnd,32,this)),this.map.on("zoom",this.onZoom,this),this.map.options.zoomAnimation=!0,this.map.options.zoomAnimation&&l.Browser.any3d&&this.map.on("zoomanim",f(this.onAnimZoom,32,this))}},{key:"onAnimZoom",value:function(t){this.updateTransform(t.center,t.zoom)}},{key:"onZoom",value:function(){this.updateTransform(this.map.getCenter(),this.map.getZoom())}},{key:"onMoveEnd",value:function(t){this.update(),this.updateTransform(this.map.getCenter(),this.map.getZoom())}},{key:"update",value:function(){var t,n,e;this.container&&this.options&&(t=l.point(y(this.map.getContainer()).actual("width"),y(this.map.getContainer()).actual("height")),n=this.options.padding,e=this.map.containerPointToLayerPoint(t.multiplyBy(-n)).round(),this.bounds=new l.Bounds(e,e.add(t.multiplyBy(1+2*n)).round()),this._center=this.map.getCenter(),this._zoom=this.map.getZoom())}},{key:"updateTransform",value:function(t,n){var e,o,i,a;(this.container||this.options)&&(i=l.point(y(this.map.getContainer()).actual("width"),y(this.map.getContainer()).actual("height")),e=this.map.getZoomScale(n,this._zoom),o=l.DomUtil.getPosition(this.container),i=i.multiplyBy(.5+this.options.padding),a=this.map.project(this._center,n),t=this.map.project(t,n).subtract(a),n=i.multiplyBy(-e).add(o).add(i).subtract(t),l.Browser.any3d?l.DomUtil.setTransform(this.container,n,e):l.DomUtil.setPosition(this.container,n))}},{key:"updateOptions",value:function(t){this.options=d(this.options,t)}},{key:"show",value:function(){this.container.style.opacity=this.options.opacity||1}},{key:"hide",value:function(){this.container.style.opacity=0}},{key:"setZIndex",value:function(t){this.container.style.zIndex=t}},{key:"remove",value:function(){this.onAnimZoom&&this.map.off("zoomanim",this.onAnimZoom,this),this.onMoveEnd&&this.map.off("movemend",this.onMoveEnd,this),this.container&&this.container.remove(),this.bounds=null,this.onMoveEnd=null,this.update=null,this.onAnimZoom=null,this.options=null,this.container=null,this.pane=null,delete this.bounds,delete this.onMoveEnd,delete this.update,delete this.onAnimZoom,delete this.options,delete this.container,delete this.pane}}])&&s(t.prototype,n),e&&s(t,e),Object.defineProperty(t,"prototype",{writable:!1}),i}());return t.exports=e,t.exports});;
Cube("datav:/com/datavmap-canvas2d/2.3.16/src/popup",[],function(e,t,o,p,r,a){return e.exports={updatePopupStyle:function(e,t){var o;e._container&&(e=e._container)&&((o=t.offset)&&(e.style.marginLeft=o.x+"px",e.style.marginBottom=o.y+20+"px"),(o=e.querySelector(".leaflet-popup-content-wrapper-custom")).style.margin="0px",o.style.padding="0px",o.style.borderRadius=t.borderRadius+"px",o.style.background=t.backgroundColor,o.style.boxShadow=t.isBorderShadow?"0 3px 14px rgba(0, 0, 0, 0.4)":"none",(o=o.querySelector(".leaflet-popup-content-custom")).style.margin="0px",o.style.padding="0px",(o=e.querySelector(".leaflet-popup-tip-custom")).style.background=t.backgroundColor,o.style.boxShadow=t.isBorderShadow?"0 3px 14px rgba(0, 0, 0, 0.4)":"none",o=t.closeBtn,(t=e.querySelector(".leaflet-popup-close-button-custom")).style.color=o.color,t.style.top=o.top+"px",t.style.right=o.right+"px",t.style.width=o.size+"px",t.style.height=o.size+"px",t.style.font=o.size+"px Tahoma, Verdana, sans-serif",t.style.padding="0px")}},e.exports});;
Cube("datav:/com/datavmap-canvas2d/2.3.16/src/utils",[],function(a,s,t,r,c,e){var n=t("datav:/com/datavmap-canvas2d/2.3.16/src/utils/arr2geojson"),o=t("datav:/com/datavmap-canvas2d/2.3.16/src/utils/linearScale"),t=t("datav:/com/datavmap-canvas2d/2.3.16/src/utils/mergeOptions");return a.exports={arr2geojson:n,linearScale:o,mergeOptions:t},a.exports});;
Cube("datav:/com/datavmap-canvas2d/2.3.16/src/geoman",[],function(t,e,n,r,i,o){function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}return t.exports={bindLeaflet:function(R){function i(t){var e;return(r[t]||(e=r[t]={i:t,l:!1,exports:{}},n[t].call(e.exports,e,e.exports,i),e.l=!0,e)).exports}var n,r;n=[function(t,e,n){var r=n(126);t.exports=function(t,e,n){t=null==t?void 0:r(t,e);return void 0===t?n:t}},function(t,r,e){"use strict";function s(t,e,n){var r={type:"Feature"};return 0!==(n=void 0===n?{}:n).id&&!n.id||(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}function i(t,e,n){return s({type:"Point",coordinates:t},e,n=void 0===n?{}:n)}function o(t,e,n){void 0===n&&(n={});for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<o[o.length-1].length;a++)if(o[o.length-1][a]!==o[0][a])throw new Error("First and last Position are not equivalent.")}return s({type:"Polygon",coordinates:t},e,n)}function a(t,e,n){if(void 0===n&&(n={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return s({type:"LineString",coordinates:t},e,n)}function l(t,e){var n={type:"FeatureCollection"};return(e=void 0===e?{}:e).id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function h(t,e,n){return s({type:"MultiLineString",coordinates:t},e,n=void 0===n?{}:n)}function c(t,e,n){return s({type:"MultiPoint",coordinates:t},e,n=void 0===n?{}:n)}function u(t,e,n){return s({type:"MultiPolygon",coordinates:t},e,n=void 0===n?{}:n)}function p(t,e){var n=r.factors[e=void 0===e?"kilometers":e];if(n)return t*n;throw new Error(e+" units is invalid")}function f(t,e){var n=r.factors[e=void 0===e?"kilometers":e];if(n)return t/n;throw new Error(e+" units is invalid")}function n(t){return t%(2*Math.PI)*180/Math.PI}function d(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)&&!/^\s*$/.test(t)}Object.defineProperty(r,"__esModule",{value:!0}),r.earthRadius=6371008.8,r.factors={centimeters:100*r.earthRadius,centimetres:100*r.earthRadius,degrees:r.earthRadius/111325,feet:3.28084*r.earthRadius,inches:39.37*r.earthRadius,kilometers:r.earthRadius/1e3,kilometres:r.earthRadius/1e3,meters:r.earthRadius,metres:r.earthRadius,miles:r.earthRadius/1609.344,millimeters:1e3*r.earthRadius,millimetres:1e3*r.earthRadius,nauticalmiles:r.earthRadius/1852,radians:1,yards:r.earthRadius/1.0936},r.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/r.earthRadius,yards:1/1.0936},r.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},r.feature=s,r.geometry=function(t,e,n){switch(void 0===n&&(n={}),t){case"Point":return i(e).geometry;case"LineString":return a(e).geometry;case"Polygon":return o(e).geometry;case"MultiPoint":return c(e).geometry;case"MultiLineString":return h(e).geometry;case"MultiPolygon":return u(e).geometry;default:throw new Error(t+" is invalid")}},r.point=i,r.points=function(t,e,n){return void 0===n&&(n={}),l(t.map(function(t){return i(t,e)}),n)},r.polygon=o,r.polygons=function(t,e,n){return void 0===n&&(n={}),l(t.map(function(t){return o(t,e)}),n)},r.lineString=a,r.lineStrings=function(t,e,n){return void 0===n&&(n={}),l(t.map(function(t){return a(t,e)}),n)},r.featureCollection=l,r.multiLineString=h,r.multiPoint=c,r.multiPolygon=u,r.geometryCollection=function(t,e,n){return s({type:"GeometryCollection",geometries:t},e,n=void 0===n?{}:n)},r.round=function(t,e){if(!(e=void 0===e?0:e)||0<=e)return e=Math.pow(10,e||0),Math.round(t*e)/e;throw new Error("precision must be a positive number")},r.radiansToLength=p,r.lengthToRadians=f,r.lengthToDegrees=function(t,e){return n(f(t,e))},r.bearingToAzimuth=function(t){t%=360;return t<0&&(t+=360),t},r.radiansToDegrees=n,r.degreesToRadians=function(t){return t%360*Math.PI/180},r.convertLength=function(t,e,n){if(void 0===e&&(e="kilometers"),void 0===n&&(n="kilometers"),0<=t)return p(f(t,e),n);throw new Error("length must be a positive number")},r.convertArea=function(t,e,n){if(void 0===e&&(e="meters"),void 0===n&&(n="kilometers"),!(0<=t))throw new Error("area must be a positive number");e=r.areaFactors[e];if(!e)throw new Error("invalid original units");n=r.areaFactors[n];if(n)return t/e*n;throw new Error("invalid final units")},r.isNumber=d,r.isObject=function(t){return!!t&&t.constructor===Object},r.validateBBox=function(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(function(t){if(!d(t))throw new Error("bbox must only contain numbers")})},r.validateId=function(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(g(t)))throw new Error("id must be a number or a string")},r.radians2degrees=function(){throw new Error("method has been renamed to `radiansToDegrees`")},r.degrees2radians=function(){throw new Error("method has been renamed to `degreesToRadians`")},r.distanceToDegrees=function(){throw new Error("method has been renamed to `lengthToDegrees`")},r.distanceToRadians=function(){throw new Error("method has been renamed to `lengthToRadians`")},r.radiansToDistance=function(){throw new Error("method has been renamed to `radiansToLength`")},r.bearingToAngle=function(){throw new Error("method has been renamed to `bearingToAzimuth`")},r.convertDistance=function(){throw new Error("method has been renamed to `convertLength`")}},function(t,e){t.exports=function(t){var e=g(t);return null!=t&&("object"==e||"function"==e)}},function(t,e,n){var n=n(28),r="object"==("undefined"==typeof self?"undefined":g(self))&&self&&self.Object===Object&&self,n=n||r||Function("return this")();t.exports=n},function(t,e){t.exports=function(t){return null!=t&&"object"==g(t)}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var y=n(1);e.default=function(t){var e,_={type:"FeatureCollection",features:[]};if("LineString"===(t="Feature"===t.type?t.geometry:t).type)e=[t.coordinates];else if("MultiLineString"===t.type)e=t.coordinates;else if("MultiPolygon"===t.type)e=[].concat.apply([],t.coordinates);else{if("Polygon"!==t.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");e=t.coordinates}return e.forEach(function(m){e.forEach(function(t){for(var e,n,r,i,o,a,s,l,h,c,u,p,f=0;f<m.length-1;f++)for(var d=f;d<t.length-1;d++){if(m===t){if(1===Math.abs(f-d))continue;if(0===f&&d===m.length-2&&m[f][0]===m[m.length-1][0]&&m[f][1]===m[m.length-1][1])continue}e=m[f][0],n=m[f][1],r=m[f+1][0],i=m[f+1][1],o=t[d][0],a=t[d][1],g=t[d+1][0],s=t[d+1][1],u=c=h=l=void 0,p={x:null,y:null,onLine1:!1,onLine2:!1};var g=0==(l=(s-a)*(r-e)-(g-o)*(i-n))?null!==p.x&&null!==p.y&&p:(u=(r-e)*(h=n-a)-(i-n)*(c=e-o),h=((g-o)*h-(s-a)*c)/l,c=u/l,p.x=e+h*(r-e),p.y=n+h*(i-n),0<=h&&h<=1&&(p.onLine1=!0),0<=c&&c<=1&&(p.onLine2=!0),!(!p.onLine1||!p.onLine2)&&[p.x,p.y]);g&&_.features.push(y.point([g[0],g[1]]))}})}),_}},function(t,e,n){var r=n(16),i=n(74),o=n(75),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":(a&&a in Object(t)?i:o)(t)}},function(t,e,n){var r=n(62),i=n(63),o=n(64),a=n(65),n=n(66);function s(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=o,s.prototype.has=a,s.prototype.set=n,t.exports=s},function(t,e,n){var r=n(10);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){n=n(14)(Object,"create");t.exports=n},function(t,e,n){var r=n(88);t.exports=function(t,e){t=t.__data__;return r(e)?t["string"==typeof e?"string":"hash"]:t.map}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1);e.getCoord=function(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return t.geometry.coordinates;if("Point"===t.type)return t.coordinates}if(Array.isArray(t)&&2<=t.length&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")},e.getCoords=function(t){if(Array.isArray(t))return t;if("Feature"===t.type){if(null!==t.geometry)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")},e.containsNumber=function t(e){if(1<e.length&&r.isNumber(e[0])&&r.isNumber(e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return t(e[0]);throw new Error("coordinates must only contain numbers")},e.geojsonType=function(t,e,n){if(!e||!n)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.type)},e.featureOf=function(t,e,n){if(!t)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)},e.collectionOf=function(t,e,n){if(!t)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var r=0,i=t.features;r<i.length;r++){var o=i[r];if(!o||"Feature"!==o.type||!o.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!o.geometry||o.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+o.geometry.type)}},e.getGeom=function(t){return"Feature"===t.type?t.geometry:t},e.getType=function(t,e){return"FeatureCollection"===t.type?"FeatureCollection":"GeometryCollection"===t.type?"GeometryCollection":("Feature"===t.type&&null!==t.geometry?t.geometry:t).type}},function(t,e,n){var r=n(72),i=n(79);t.exports=function(t,e){t=i(t,e);return r(t)?t:void 0}},function(t,e,n){var r=n(7),i=n(2);t.exports=function(t){return!!i(t)&&("[object Function]"==(t=r(t))||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t)}},function(t,e,n){n=n(3).Symbol;t.exports=n},function(t,e,n){var r=n(31);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r=n(103),i=n(4),n=Object.prototype,o=n.hasOwnProperty,a=n.propertyIsEnumerable,n=r(function(){return arguments}())?r:function(t){return i(t)&&o.call(t,"callee")&&!a.call(t,"callee")};t.exports=n},function(t,e,n){var r=n(15),i=n(21);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},function(t,e){t.exports=function(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=9007199254740991}},function(t,e){var r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var n=g(t);return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&r.test(t))&&-1<t&&t%1==0&&t<e}},function(t,e,n){var r=n(7),i=n(4);t.exports=function(t){return"symbol"==g(t)||i(t)&&"[object Symbol]"==r(t)}},function(t,e,n){!function(t){"use strict";function n(t,e){return e<t?1:t<e?-1:0}function v(t,e){void 0===e&&(e=!1),this._compare=t=void 0===t?n:t,this._root=null,this._size=0,this._noDuplicates=!!e}var e={size:{configurable:!0}};function b(t,e,n){null===e?(t.inOut=!1,t.otherInOut=!0):(t.isSubject===e.isSubject?(t.inOut=!e.inOut,t.otherInOut=e.otherInOut):(t.inOut=!e.otherInOut,t.otherInOut=e.isVertical()?!e.inOut:e.inOut),e&&(t.prevInResult=!r(e,n)||e.isVertical()?e.prevInResult:e)),t.inResult=r(t,n)}function r(t,e){switch(t.type){case 0:switch(e){case 0:return!t.otherInOut;case 1:return t.otherInOut;case 2:return t.isSubject&&t.otherInOut||!t.isSubject&&!t.otherInOut;case 3:return!0}break;case 2:return 0===e||1===e;case 3:return 2===e;case 1:return!1}return!1}v.prototype.rotateLeft=function(t){var e=t.right;e&&(t.right=e.left,e.left&&(e.left.parent=t),e.parent=t.parent),t.parent?t===t.parent.left?t.parent.left=e:t.parent.right=e:this._root=e,e&&(e.left=t),t.parent=e},v.prototype.rotateRight=function(t){var e=t.left;e&&(t.left=e.right,e.right&&(e.right.parent=t),e.parent=t.parent),t.parent?t===t.parent.left?t.parent.left=e:t.parent.right=e:this._root=e,e&&(e.right=t),t.parent=e},v.prototype._splay=function(t){for(var e=this;t.parent;){var n=t.parent;n.parent?n.left===t&&n.parent.left===n?(e.rotateRight(n.parent),e.rotateRight(n)):n.right===t&&n.parent.right===n?(e.rotateLeft(n.parent),e.rotateLeft(n)):n.left===t&&n.parent.right===n?(e.rotateRight(n),e.rotateLeft(n)):(e.rotateLeft(n),e.rotateRight(n)):n.left===t?e.rotateRight(n):e.rotateLeft(n)}},v.prototype.splay=function(t){for(var e,n,r,i;t.parent;)(n=(e=t.parent).parent)&&n.parent?((r=n.parent).left===n?r.left=t:r.right=t,t.parent=r):(t.parent=null,this._root=t),r=t.left,i=t.right,t===e.left?(n&&(n.left===e?(e.right?(n.left=e.right,n.left.parent=n):n.left=null,(e.right=n).parent=e):(r?(n.right=r).parent=n:n.right=null,(t.left=n).parent=t)),i?(e.left=i).parent=e:e.left=null,(t.right=e).parent=t):(n&&(n.right===e?(e.left?(n.right=e.left,n.right.parent=n):n.right=null,(e.left=n).parent=e):(i?(n.left=i).parent=n:n.left=null,(t.right=n).parent=t)),r?(e.right=r).parent=e:e.right=null,(t.left=e).parent=t)},v.prototype.replace=function(t,e){t.parent?t===t.parent.left?t.parent.left=e:t.parent.right=e:this._root=e,e&&(e.parent=t.parent)},v.prototype.minNode=function(t){if(t=void 0===t?this._root:t)for(;t.left;)t=t.left;return t},v.prototype.maxNode=function(t){if(t=void 0===t?this._root:t)for(;t.right;)t=t.right;return t},v.prototype.insert=function(t,e){var n=this._root,r=null,i=this._compare;if(this._noDuplicates)for(;n;){if(0===i((r=n).key,t))return;n=i(n.key,t)<0?n.right:n.left}else for(;n;)n=i((r=n).key,t)<0?n.right:n.left;return n={key:t,data:e,left:null,right:null,parent:r},r?i(r.key,n.key)<0?r.right=n:r.left=n:this._root=n,this.splay(n),this._size++,n},v.prototype.find=function(t){for(var e=this._root,n=this._compare;e;){var r=n(e.key,t);if(r<0)e=e.right;else{if(!(0<r))return e;e=e.left}}return null},v.prototype.contains=function(t){for(var e=this._root,n=this._compare;e;){var r=n(t,e.key);if(0===r)return!0;e=r<0?e.left:e.right}return!1},v.prototype.remove=function(t){var e,t=this.find(t);return!!t&&(this.splay(t),t.left?t.right?((e=this.minNode(t.right)).parent!==t&&(this.replace(e,e.right),e.right=t.right,e.right.parent=e),this.replace(t,e),e.left=t.left,e.left.parent=e):this.replace(t,t.left):this.replace(t,t.right),this._size--,!0)},v.prototype.removeNode=function(t){var e;return!!t&&(this.splay(t),t.left?t.right?((e=this.minNode(t.right)).parent!==t&&(this.replace(e,e.right),e.right=t.right,e.right.parent=e),this.replace(t,e),e.left=t.left,e.left.parent=e):this.replace(t,t.left):this.replace(t,t.right),this._size--,!0)},v.prototype.erase=function(t){var e,n,t=this.find(t);t&&(this.splay(t),e=t.left,t=t.right,n=null,e&&(e.parent=null,n=this.maxNode(e),this.splay(n),this._root=n),t&&(e?n.right=t:this._root=t,t.parent=n),this._size--)},v.prototype.pop=function(){var t=this._root,e=null;if(t){for(;t.left;)t=t.left;e={key:t.key,data:t.data},this.remove(t.key)}return e},v.prototype.next=function(t){var e=t;if(e)if(e.right)for(e=e.right;e&&e.left;)e=e.left;else for(e=t.parent;e&&e.right===t;)e=(t=e).parent;return e},v.prototype.prev=function(t){var e=t;if(e)if(e.left)for(e=e.left;e&&e.right;)e=e.right;else for(e=t.parent;e&&e.left===t;)e=(t=e).parent;return e},v.prototype.forEach=function(t){for(var e=this._root,n=[],r=!1,i=0;!r;)e?(n.push(e),e=e.left):0<n.length?(t(e=n.pop(),i++),e=e.right):r=!0;return this},v.prototype.range=function(t,e,n,r){for(var i=[],o=this._compare,a=this._root;0!==i.length||a;)if(a)i.push(a),a=a.left;else{if(0<o((a=i.pop()).key,e))break;if(0<=o(a.key,t)&&n.call(r,a))return this;a=a.right}return this},v.prototype.keys=function(){for(var t=this._root,e=[],n=[],r=!1;!r;)t?(e.push(t),t=t.left):0<e.length?(t=e.pop(),n.push(t.key),t=t.right):r=!0;return n},v.prototype.values=function(){for(var t=this._root,e=[],n=[],r=!1;!r;)t?(e.push(t),t=t.left):0<e.length?(t=e.pop(),n.push(t.data),t=t.right):r=!0;return n},v.prototype.at=function(t){for(var e=this._root,n=[],r=!1,i=0;!r;)if(e)n.push(e),e=e.left;else if(0<n.length){if(e=n.pop(),i===t)return e;i++,e=e.right}else r=!0;return null},v.prototype.load=function(t,e,n){if(void 0===t&&(t=[]),void 0===e&&(e=[]),void 0===n&&(n=!1),0!==this._size)throw new Error("bulk-load: tree is not empty");var r=t.length;return n&&function t(e,n,r,i,o){if(!(i<=r)){for(var a=e[r+i>>1],s=r-1,l=i+1;;){for(;o(e[++s],a)<0;);for(;0<o(e[--l],a););if(l<=s)break;var h=e[s];e[s]=e[l],e[l]=h,h=n[s],n[s]=n[l],n[l]=h}t(e,n,r,l,o),t(e,n,l+1,i,o)}}(t,e,0,r-1,this._compare),this._root=function t(e,n,r,i,o){var a=o-i;return 0<a?((e={key:n[a=i+Math.floor(a/2)],data:r[a],parent:e}).left=t(e,n,r,i,a),e.right=t(e,n,r,a+1,o),e):null}(null,t,e,0,r),this._size=r,this},v.prototype.min=function(){var t=this.minNode(this._root);return t?t.key:null},v.prototype.max=function(){var t=this.maxNode(this._root);return t?t.key:null},v.prototype.isEmpty=function(){return null===this._root},e.size.get=function(){return this._size},v.createTree=function(t,e,n,r,i){return new v(n,i).load(t,e,r)},Object.defineProperties(v.prototype,e);var p=function(t,e,n,r,i){this.left=e,this.point=t,this.otherEvent=n,this.isSubject=r,this.type=i||0,this.inOut=!1,this.otherInOut=!1,this.prevInResult=null,this.inResult=!1,this.resultInOut=!1,this.isExteriorRing=!0};function f(t,e){return t[0]===e[0]&&t[1]===e[1]}function i(t,e,n){return(t[0]-n[0])*(e[1]-n[1])-(e[0]-n[0])*(t[1]-n[1])}function k(t,e){var n=t.point,r=e.point;return n[0]>r[0]?1:n[0]<r[0]?-1:n[1]!==r[1]?n[1]>r[1]?1:-1:(r=t).left===e.left?0===i(n,r.otherEvent.point,e.otherEvent.point)?!r.isSubject&&e.isSubject?1:-1:r.isBelow(e.otherEvent.point)?-1:1:r.left?1:-1}function d(t,e,n){var r=new p(e,!1,t,t.isSubject),e=new p(e,!0,t.otherEvent,t.isSubject);f(t.point,t.otherEvent.point)&&console.warn("what is that, a collapsed segment?",t),r.contourId=e.contourId=t.contourId,0<k(e,t.otherEvent)&&(t.otherEvent.left=!0,e.left=!1),t.otherEvent.otherEvent=e,t.otherEvent=r,n.push(e),n.push(r)}function g(t,e){return t[0]*e[1]-t[1]*e[0]}function m(t,e){return t[0]*e[0]+t[1]*e[1]}function M(t,e,n){r=t.point,i=t.otherEvent.point,l=e.point,u=e.otherEvent.point,i=[i[0]-r[0],i[1]-r[1]],u=[u[0]-l[0],u[1]-l[1]],c=[l[0]-r[0],l[1]-r[1]],a=g(i,u),s=m(i,i);var r,i,o,a,s,l,h,c=0<a*a?(o=g(c,u)/a)<0||1<o||(h=g(c,i)/a)<0||1<h?null:0!=o&&1!=o&&(0==h||1==h)?[p(l,h,u)]:[p(r,o,i)]:!(0<(a=g(c,i))*a)&&(h=(l=m(i,c)/s)+m(i,u)/s,o=Math.min(l,h),a=Math.max(l,h),o<=1&&0<=a)?1===o?[p(r,0<o?o:0,i)]:0===a?[p(r,a<1?a:1,i)]:[p(r,0<o?o:0,i),p(r,a<1?a:1,i)]:null,u=c?c.length:0;function p(t,e,n){return[t[0]+e*n[0],t[1]+e*n[1]]}return 0===u||1===u&&(f(t.point,e.point)||f(t.otherEvent.point,e.otherEvent.point))||2===u&&t.isSubject===e.isSubject?0:1===u?(f(t.point,c[0])||f(t.otherEvent.point,c[0])||d(t,c[0],n),f(e.point,c[0])||f(e.otherEvent.point,c[0])||d(e,c[0],n),1):(h=l=!(s=[]),f(t.point,e.point)?l=!0:1===k(t,e)?s.push(e,t):s.push(t,e),f(t.otherEvent.point,e.otherEvent.point)?h=!0:1===k(t.otherEvent,e.otherEvent)?s.push(e.otherEvent,t.otherEvent):s.push(t.otherEvent,e.otherEvent),l&&h||l?(e.type=1,t.type=e.inOut===t.inOut?2:3,l&&!h&&d(s[1].otherEvent,s[0].point,n),2):(h?d(s[0],s[1].point,n):s[0]!==s[3].otherEvent?(d(s[0],s[1].point,n),d(s[1],s[2].point,n)):(d(s[0],s[1].point,n),d(s[3].otherEvent,s[2].point,n)),3))}function L(t,e){var n,r;return t===e?0:0!==i(t.point,t.otherEvent.point,e.point)||0!==i(t.point,t.otherEvent.point,e.otherEvent.point)?f(t.point,e.point)?t.isBelow(e.otherEvent.point)?-1:1:t.point[0]===e.point[0]?t.point[1]<e.point[1]?-1:1:1===k(t,e)?e.isAbove(t.point)?-1:1:t.isBelow(e.point)?-1:1:t.isSubject!==e.isSubject?t.isSubject?-1:1:(n=t.point,r=e.point,n[0]===r[0]&&n[1]===r[1]?(n=t.otherEvent.point,r=e.otherEvent.point,n[0]===r[0]&&n[1]===r[1]?0:t.contourId>e.contourId?1:-1):1===k(t,e)?1:-1)}p.prototype.isBelow=function(t){var e=this.point,n=this.otherEvent.point;return this.left?0<(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1]):0<(n[0]-t[0])*(e[1]-t[1])-(e[0]-t[0])*(n[1]-t[1])},p.prototype.isAbove=function(t){return!this.isBelow(t)},p.prototype.isVertical=function(){return this.point[0]===this.otherEvent.point[0]},p.prototype.clone=function(){var t=new p(this.point,this.left,this.otherEvent,this.isSubject,this.type);return t.inResult=this.inResult,t.prevInResult=this.prevInResult,t.isExteriorRing=this.isExteriorRing,t.inOut=this.inOut,t.otherInOut=this.otherInOut,t};var w=o,e=o;function o(t,e){if(!(this instanceof o))return new o(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||a,0<this.length)for(var n=(this.length>>1)-1;0<=n;n--)this._down(n)}function a(t,e){return t<e?-1:e<t?1:0}o.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){var t;if(0!==this.length)return t=this.data[0],this.length--,0<this.length&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,r=e[t];0<t;){var i=t-1>>1,o=e[i];if(0<=n(r,o))break;e[t]=o,t=i}e[t]=r},_down:function(t){for(var e=this.data,n=this.compare,r=this.length>>1,i=e[t];t<r;){var o=1+(t<<1),a=o+1,s=e[o];if(a<this.length&&n(e[a],s)<0&&(s=e[o=a]),0<=n(s,i))break;e[t]=s,t=o}e[t]=i}},w.default=e;var _=Math.max,y=Math.min,C=0;function x(t,e,n,r,i,o){for(var a=0,s=t.length-1;a<s;a++){var l=t[a],h=t[a+1],c=new p(l,!1,void 0,e),u=new p(h,!1,c,e);c.otherEvent=u,l[0]===h[0]&&l[1]===h[1]||(c.contourId=u.contourId=n,o||(c.isExteriorRing=!1,u.isExteriorRing=!1),0<k(c,u)?u.left=!0:c.left=!0,h=l[0],l=l[1],i[0]=y(i[0],h),i[1]=y(i[1],l),i[2]=_(i[2],h),i[3]=_(i[3],l),r.push(c),r.push(u))}}var S=[];function s(t,e,n){"number"==typeof t[0][0][0]&&(t=[t]),"number"==typeof e[0][0][0]&&(e=[e]);i=e,a=null,(o=t).length*i.length==0&&(0===n?a=S:2===n?a=o:1!==n&&3!==n||(a=0===o.length?i:o));var r,i=a;if(i)return i===S?null:i;var o=[1/0,1/0,-1/0,-1/0],a=[1/0,1/0,-1/0,-1/0],s=function(t,e,n,r,i){for(var o,a,s,l,h=new w(null,k),c=0,u=t.length;c<u;c++)for(s=0,l=(o=t[c]).length;s<l;s++)(a=0===s)&&C++,x(o[s],!0,C,h,n,a);for(c=0,u=e.length;c<u;c++)for(s=0,l=(o=e[c]).length;s<l;s++)(a=2===i?!1:0===s)&&C++,x(o[s],!1,C,h,r,a);return h}(t,e,o,a,n);if(t=t,e=e,r=null,(a[2]<o[0]||o[2]<a[0]||a[3]<o[1]||o[3]<a[1])&&(0===n?r=S:2===n?r=t:1!==n&&3!==n||(r=t.concat(e))),i=r)return i===S?null:i;for(var l,t=function(t,e,n,r){for(var i,o=new v(L),a=[],s=Math.min(e[2],n[2]);0!==t.length;){var l,h,c,u,p=t.pop();if(a.push(p),0===r&&p.point[0]>s||2===r&&p.point[0]>e[2])break;p.left?(h=l=o.insert(p),l=l!==(i=o.minNode())?o.prev(l):null,h=o.next(h),b(p,c=l?l.key:null,r),h&&2===M(p,h.key,t)&&(b(p,c,r),b(p,h.key,r)),l&&2===M(l.key,p,t)&&(b(c,(u=(u=l)!==i?o.prev(u):null)?u.key:null,r),b(p,c,r))):(p=p.otherEvent,h=l=o.find(p),l&&h&&(l=l!==i?o.prev(l):null,h=o.next(h),o.remove(p),h&&l&&M(l.key,h.key,t)))}return a}(s,o,a,n),h=n,c=function(t){for(var e,n,r=[],i=0,o=t.length;i<o;i++)((e=t[i]).left&&e.inResult||!e.left&&e.otherEvent.inResult)&&r.push(e);for(var a=!1;!a;)for(a=!0,i=0,o=r.length;i<o;i++)i+1<o&&1===k(r[i],r[i+1])&&(n=r[i],r[i]=r[i+1],r[i+1]=n,a=!1);for(i=0,o=r.length;i<o;i++)(e=r[i]).pos=i;for(i=0,o=r.length;i<o;i++)(e=r[i]).left||(n=e.pos,e.pos=e.otherEvent.pos,e.otherEvent.pos=n);return r}(t),u={},p=[],f=0,d=c.length;f<d;f++)if(!u[f]){var g=[[]],m=(c[f].isExteriorRing?2===h&&!c[f].isSubject&&1<p.length?p[p.length-1].push(g[0]):p.push(g):2!==h||c[f].isSubject||0!==p.length?0===p.length?p.push([[g]]):p[p.length-1].push(g[0]):p.push(g),p.length-1),_=f,y=c[f].point;for(g[0].push(y);f<=_;)l=c[_],u[_]=!0,l.left?(l.resultInOut=!1,l.contourId=m):(l.otherEvent.resultInOut=!0,l.otherEvent.contourId=m),u[_=l.pos]=!0,g[0].push(c[_].point),_=function(t,e,n,r){var i=t+1,o=e.length;if(o-1<i)return t-1;for(var a=e[t].point,s=e[i].point;i<o&&s[0]===a[0]&&s[1]===a[1];){if(!n[i])return i;s=e[++i].point}for(i=t-1;n[i]&&r<=i;)i--;return i}(_,c,u,f);l=c[_=-1===_?f:_],u[_]=u[l.pos]=!0,l.otherEvent.resultInOut=!0,l.otherEvent.contourId=m}return p}t.union=function(t,e){return s(t,e,1)},t.diff=function(t,e){return s(t,e,2)},t.xor=function(t,e){return s(t,e,3)},t.intersection=function(t,e){return s(t,e,0)},t.operations={UNION:1,DIFFERENCE:2,INTERSECTION:0,XOR:3},Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var g=n(1);function M(t,e,n){if(null!==t)for(var r,i,o,a,s,l,h=0,c=t.type,u="FeatureCollection"===c,p="Feature"===c,f=u?t.features.length:1,d=0;d<f;d++)for(var g=(l=!!(s=u?t.features[d].geometry:p?t.geometry:t)&&"GeometryCollection"===s.type)?s.geometries.length:1,m=0;m<g;m++){var _=0,y=0;if(null!==(a=l?s.geometries[m]:s)){var v=a.coordinates,b=a.type,k=!n||"Polygon"!==b&&"MultiPolygon"!==b?0:1;switch(b){case null:break;case"Point":if(!1===e(v,h,d,_,y))return!1;h++,_++;break;case"LineString":case"MultiPoint":for(r=0;r<v.length;r++){if(!1===e(v[r],h,d,_,y))return!1;h++,"MultiPoint"===b&&_++}"LineString"===b&&_++;break;case"Polygon":case"MultiLineString":for(r=0;r<v.length;r++){for(i=0;i<v[r].length-k;i++){if(!1===e(v[r][i],h,d,_,y))return!1;h++}"MultiLineString"===b&&_++,"Polygon"===b&&y++}"Polygon"===b&&_++;break;case"MultiPolygon":for(r=0;r<v.length;r++){for(i=y=0;i<v[r].length;i++){for(o=0;o<v[r][i].length-k;o++){if(!1===e(v[r][i][o],h,d,_,y))return!1;h++}y++}_++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)if(!1===M(a.geometries[r],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}function o(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length&&!1!==e(t.features[n].properties,n);n++);break;case"Feature":e(t.properties,0)}}function a(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length&&!1!==e(t.features[n],n);n++);}function r(t,e){for(var n,r,i,o,a,s,l,h,c,u=0,p="FeatureCollection"===t.type,f="Feature"===t.type,d=p?t.features.length:1,g=0;g<d;g++){for(a=p?t.features[g].geometry:f?t.geometry:t,l=p?t.features[g].properties:f?t.properties:{},h=p?t.features[g].bbox:f?t.bbox:void 0,c=p?t.features[g].id:f?t.id:void 0,o=(s=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,r=0;r<o;r++)if(null!==(i=s?a.geometries[r]:a))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(i,u,l,h,c))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===e(i.geometries[n],u,l,h,c))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,u,l,h,c))return!1;u++}}function s(t,h){r(t,function(t,e,n,r,i){var o,a=null===t?null:t.type;switch(a){case null:case"Point":case"LineString":case"Polygon":return!1!==h(g.feature(t,n,{bbox:r,id:i}),e,0)&&void 0}switch(a){case"MultiPoint":o="Point";break;case"MultiLineString":o="LineString";break;case"MultiPolygon":o="Polygon"}for(var s=0;s<t.coordinates.length;s++){var l={type:o,coordinates:t.coordinates[s]};if(!1===h(g.feature(l,n),e,s))return!1}})}function i(t,d){s(t,function(a,s,l){var h=0;if(a.geometry){var c,u,p,f,t=a.geometry.type;if("Point"!==t&&"MultiPoint"!==t)return f=p=u=0,!1!==M(a,function(t,e,n,r,i){var o;if(!(void 0===c||u<s||p<r||f<i))return o=g.lineString([c,t],a.properties),!1!==d(o,s,l,i,h)&&(h++,void(c=t));c=t,u=s,p=r,f=i,h=0})&&void 0}})}function l(t,a){if(!t)throw new Error("geojson is required");s(t,function(t,e,n){if(null!==t.geometry){var r=t.geometry.type,i=t.geometry.coordinates;switch(r){case"LineString":if(!1===a(t,e,n,0,0))return!1;break;case"Polygon":for(var o=0;o<i.length;o++)if(!1===a(g.lineString(i[o],t.properties),e,n,o))return!1}}})}e.coordEach=M,e.coordReduce=function(t,o,a,e){var s=a;return M(t,function(t,e,n,r,i){s=0===e&&void 0===a?t:o(s,t,e,n,r,i)},e),s},e.propEach=o,e.propReduce=function(t,n,r){var i=r;return o(t,function(t,e){i=0===e&&void 0===r?t:n(i,t,e)}),i},e.featureEach=a,e.featureReduce=function(t,n,r){var i=r;return a(t,function(t,e){i=0===e&&void 0===r?t:n(i,t,e)}),i},e.coordAll=function(t){var e=[];return M(t,function(t){e.push(t)}),e},e.geomEach=r,e.geomReduce=function(t,o,a){var s=a;return r(t,function(t,e,n,r,i){s=0===e&&void 0===a?t:o(s,t,e,n,r,i)}),s},e.flattenEach=s,e.flattenReduce=function(t,r,i){var o=i;return s(t,function(t,e,n){o=0===e&&0===n&&void 0===i?t:r(o,t,e,n)}),o},e.segmentEach=i,e.segmentReduce=function(t,o,a){var s=a,l=!1;return i(t,function(t,e,n,r,i){s=!1===l&&void 0===a?t:o(s,t,e,n,r,i),l=!0}),s},e.lineEach=l,e.lineReduce=function(t,i,o){var a=o;return l(t,function(t,e,n,r){a=0===e&&void 0===o?t:i(a,t,e,n,r)}),a},e.findSegment=function(t,e){if(!g.isObject(e=e||{}))throw new Error("options is invalid");var n,r=e.featureIndex||0,i=e.multiFeatureIndex||0,o=e.geometryIndex||0,a=e.segmentIndex||0,s=e.properties;switch(t.type){case"FeatureCollection":r<0&&(r=t.features.length+r),s=s||t.features[r].properties,n=t.features[r].geometry;break;case"Feature":s=s||t.properties,n=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=t;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var l=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return a<0&&(a=l.length+a-1),g.lineString([l[a],l[a+1]],s,e);case"Polygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a-1),g.lineString([l[o][a],l[o][a+1]],s,e);case"MultiLineString":return i<0&&(i=l.length+i),a<0&&(a=l[i].length+a-1),g.lineString([l[i][a],l[i][a+1]],s,e);case"MultiPolygon":return i<0&&(i=l.length+i),o<0&&(o=l[i].length+o),a<0&&(a=l[i][o].length-a-1),g.lineString([l[i][o][a],l[i][o][a+1]],s,e)}throw new Error("geojson is invalid")},e.findPoint=function(t,e){if(!g.isObject(e=e||{}))throw new Error("options is invalid");var n,r=e.featureIndex||0,i=e.multiFeatureIndex||0,o=e.geometryIndex||0,a=e.coordIndex||0,s=e.properties;switch(t.type){case"FeatureCollection":r<0&&(r=t.features.length+r),s=s||t.features[r].properties,n=t.features[r].geometry;break;case"Feature":s=s||t.properties,n=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=t;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var l=n.coordinates;switch(n.type){case"Point":return g.point(l,s,e);case"MultiPoint":return i<0&&(i=l.length+i),g.point(l[i],s,e);case"LineString":return a<0&&(a=l.length+a),g.point(l[a],s,e);case"Polygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),g.point(l[o][a],s,e);case"MultiLineString":return i<0&&(i=l.length+i),a<0&&(a=l[i].length+a),g.point(l[i][a],s,e);case"MultiPolygon":return i<0&&(i=l.length+i),o<0&&(o=l[i].length+o),a<0&&(a=l[i][o].length-a),g.point(l[i][o][a],s,e)}throw new Error("geojson is invalid")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(25),h=6378137;function i(t){var e=0;if(t&&0<t.length){e+=Math.abs(o(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(o(t[n]))}return e}function o(t){var e,n,r,i,o,a,s=0,l=t.length;if(2<l){for(a=0;a<l;a++)o=a===l-2?(r=l-2,i=l-1,0):a===l-1?(r=l-1,i=0,1):(i=(r=a)+1,a+2),e=t[r],n=t[i],s+=(c(t[o][0])-c(e[0]))*Math.sin(c(n[1]));s=s*h*h/2}return s}function c(t){return t*Math.PI/180}e.default=function(t){return r.geomReduce(t,function(t,e){return t+function(t){var e,n=0;switch(t.type){case"Polygon":return i(t.coordinates);case"MultiPolygon":for(e=0;e<t.coordinates.length;e++)n+=i(t.coordinates[e]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(e)},0)}},function(t,e,n){n=n(14)(n(3),"Map");t.exports=n},function(e,t,n){!function(t){t="object"==g(t)&&t&&t.Object===Object&&t;e.exports=t}.call(this,n(73))},function(t,e,n){var r=n(80),i=n(87),o=n(89),a=n(90),n=n(91);function s(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=o,s.prototype.has=a,s.prototype.set=n,t.exports=s},function(t,e,n){var r=n(17),i=n(10);t.exports=function(t,e,n){(void 0===n||i(t[e],n))&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(14),n=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=n},function(t,e,n){n=n(102)(Object.getPrototypeOf,Object);t.exports=n},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,o,a){!function(t){var e=a(3),n=a(105),r=o&&!o.nodeType&&o,i=r&&"object"==g(t)&&t&&!t.nodeType&&t,i=i&&i.exports===r?e.Buffer:void 0,r=(i?i.isBuffer:void 0)||n;t.exports=r}.call(this,a(18)(t))},function(t,e,n){var r=n(107),i=n(108),n=n(109),n=n&&n.isTypedArray,i=n?i(n):r;t.exports=i},function(t,e){t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},function(t,e,n){var r=n(113),i=n(115),o=n(20);t.exports=function(t){return o(t)?r(t,!0):i(t)}},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r=n(5),i=n(127),o=n(128),a=n(131);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(a(t))}},function(t,e,n){var r=n(23);t.exports=function(t){var e;return"string"==typeof t||r(t)?t:"0"==(e=t+"")&&1/t==-1/0?"-0":e}},function(t){t.exports=JSON.parse('{"a":"2.5.0"}')},function(t,e,n){var r=n(60),n=n(117)(function(t,e,n){r(t,e,n)});t.exports=n},function(t){t.exports=JSON.parse('{"tooltips":{"placeMarker":"Click to place marker","firstVertex":"Click to place first vertex","continueLine":"Click to continue drawing","finishLine":"Click any existing marker to finish","finishPoly":"Click first marker to finish","finishRect":"Click to finish","startCircle":"Click to place circle center","finishCircle":"Click to finish circle","placeCircleMarker":"Click to place circle marker"},"actions":{"finish":"Finish","cancel":"Cancel","removeLastVertex":"Remove Last Vertex"},"buttonTitles":{"drawMarkerButton":"Draw Marker","drawPolyButton":"Draw Polygons","drawLineButton":"Draw Polyline","drawCircleButton":"Draw Circle","drawRectButton":"Draw Rectangle","editButton":"Edit Layers","dragButton":"Drag Layers","cutButton":"Cut Layers","deleteButton":"Remove Layers","drawCircleMarkerButton":"Draw Circle Marker","snappingButton":"Snap dragged marker to other layers and vertices","pinningButton":"Pin shared vertices together"}}')},function(t){t.exports=JSON.parse('{"tooltips":{"placeMarker":"Platziere den Marker mit Klick","firstVertex":"Platziere den ersten Marker mit Klick","continueLine":"Klicke, um weiter zu zeichnen","finishLine":"Beende mit Klick auf existierenden Marker","finishPoly":"Beende mit Klick auf ersten Marker","finishRect":"Beende mit Klick","startCircle":"Platziere das Kreiszentrum mit Klick","finishCircle":"Beende den Kreis mit Klick","placeCircleMarker":"Platziere den Kreismarker mit Klick"},"actions":{"finish":"Beenden","cancel":"Abbrechen","removeLastVertex":"Letzten Vertex löschen"},"buttonTitles":{"drawMarkerButton":"Marker zeichnen","drawPolyButton":"Polygon zeichnen","drawLineButton":"Polyline zeichnen","drawCircleButton":"Kreis zeichnen","drawRectButton":"Rechteck zeichnen","editButton":"Layer editieren","dragButton":"Layer bewegen","cutButton":"Layer schneiden","deleteButton":"Layer löschen","drawCircleMarkerButton":"Kreismarker zeichnen"}}')},function(t){t.exports=JSON.parse('{"tooltips":{"placeMarker":"Clicca per posizionare un Marker","firstVertex":"Clicca per posizionare il primo vertice","continueLine":"Clicca per continuare a disegnare","finishLine":"Clicca qualsiasi marker esistente per terminare","finishPoly":"Clicca il primo marker per terminare","finishRect":"Clicca per terminare","startCircle":"Clicca per posizionare il punto centrale del cerchio","finishCircle":"Clicca per terminare il cerchio","placeCircleMarker":"Clicca per posizionare un Marker del cherchio"},"actions":{"finish":"Termina","cancel":"Annulla","removeLastVertex":"Rimuovi l\'ultimo vertice"},"buttonTitles":{"drawMarkerButton":"Disegna Marker","drawPolyButton":"Disegna Poligoni","drawLineButton":"Disegna Polilinea","drawCircleButton":"Disegna Cerchio","drawRectButton":"Disegna Rettangolo","editButton":"Modifica Livelli","dragButton":"Sposta Livelli","cutButton":"Ritaglia Livelli","deleteButton":"Elimina Livelli","drawCircleMarkerButton":"Disegna Marker del Cherchio"}}')},function(t){t.exports=JSON.parse('{"tooltips":{"placeMarker":"Klik untuk menempatkan marker","firstVertex":"Klik untuk menempatkan vertex pertama","continueLine":"Klik untuk meneruskan digitasi","finishLine":"Klik pada sembarang marker yang ada untuk mengakhiri","finishPoly":"Klik marker pertama untuk mengakhiri","finishRect":"Klik untuk mengakhiri","startCircle":"Klik untuk menempatkan titik pusat lingkaran","finishCircle":"Klik untuk mengakhiri lingkaran"},"actions":{"finish":"Selesai","cancel":"Batal","removeLastVertex":"Hilangkan Vertex Terakhir"},"buttonTitles":{"drawMarkerButton":"Digitasi Marker","drawPolyButton":"Digitasi Polygon","drawLineButton":"Digitasi Polyline","drawCircleButton":"Digitasi Lingkaran","drawRectButton":"Digitasi Segi Empat","editButton":"Edit Layer","dragButton":"Geser Layer","cutButton":"Potong Layer","deleteButton":"Hilangkan Layer"}}')},function(t){t.exports=JSON.parse('{"tooltips":{"placeMarker":"Adaugă un punct","firstVertex":"Apasă aici pentru a adăuga primul Vertex","continueLine":"Apasă aici pentru a continua desenul","finishLine":"Apasă pe orice obiect pentru a finisa desenul","finishPoly":"Apasă pe primul obiect pentru a finisa","finishRect":"Apasă pentru a finisa","startCircle":"Apasă pentru a desena un cerc","finishCircle":"Apasă pentru a finisa un cerc","placeCircleMarker":"Adaugă un punct"},"actions":{"finish":"Termină","cancel":"Anulează","removeLastVertex":"Șterge ultimul Vertex"},"buttonTitles":{"drawMarkerButton":"Adaugă o bulină","drawPolyButton":"Desenează un poligon","drawLineButton":"Desenează o linie","drawCircleButton":"Desenează un cerc","drawRectButton":"Desenează un dreptunghi","editButton":"Editează straturile","dragButton":"Mută straturile","cutButton":"Taie straturile","deleteButton":"Șterge straturile","placeCircleMarker":"Adaugă o bulină"}}')},function(t){t.exports=JSON.parse('{"tooltips":{"placeMarker":"Щелкните, чтобы поместить маркер","firstVertex":"Нажмите, чтобы поместить первый объект","continueLine":"Нажмите, чтобы продолжить рисование","finishLine":"Щелкните любой существующий маркер для завершения","finishPoly":"Выберите первую точку, чтобы закончить","finishRect":"Нажмите, чтобы закончить","startCircle":"Нажмите чтобы добавить круг","finishCircle":"Нажмите чтобы закончить круг","placeCircleMarker":"Click to place circle marker"},"actions":{"finish":"Заканчивать","cancel":"Отмена","removeLastVertex":"Удалить последний объект на карте"},"buttonTitles":{"drawMarkerButton":"Добавить маркер","drawPolyButton":"Рисовать полигон","drawLineButton":"Рисовать Полилинию","drawCircleButton":"Рисовать круг","drawRectButton":"Рисовать Прямоугольник","editButton":"Редактировать слой","dragButton":"Перетаскивать слой","cutButton":"Вырезать слой","deleteButton":"Удалить слой","placeCircleMarker":"Щелкните, чтобы поместить маркер"}}')},function(t){t.exports=JSON.parse('{"tooltips":{"placeMarker":"Presiona para colocar un marcador","firstVertex":"Presiona para colocar el primer vértice","continueLine":"Presiona para continuar dibujando","finishLine":"Presiona cualquier marcador existente para finalizar","finishPoly":"Presiona el primer marcador para finalizar","finishRect":"Presiona para finalizar","startCircle":"Presiona para colocar el centro del circulo","finishCircle":"Presiona para finalizar el circulo","placeCircleMarker":"Presiona para colocar un marcador de circulo"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Remover ultimo vértice"},"buttonTitles":{"drawMarkerButton":"Dibujar Marcador","drawPolyButton":"Dibujar Polígono","drawLineButton":"Dibujar Línea","drawCircleButton":"Dibujar Circulo","drawRectButton":"Dibujar Rectángulo","editButton":"Editar Capas","dragButton":"Arrastrar Capas","cutButton":"Cortar Capas","deleteButton":"Remover Capas","drawCircleMarkerButton":"Dibujar Marcador de Circulo"}}')},function(t){t.exports=JSON.parse('{"tooltips":{"placeMarker":"Klik om een marker te plaatsen","firstVertex":"Klik om het eerste punt te plaatsen","continueLine":"Klik om te blijven tekenen","finishLine":"Klik op een bestaand punt om te beëindigen","finishPoly":"Klik op het eerst punt om te beëindigen","finishRect":"Klik om te beëindigen","startCircle":"Klik om het middelpunt te plaatsen","finishCircle":"Klik om de cirkel te beëindigen","placeCircleMarker":"Klik om een marker te plaatsen"},"actions":{"finish":"Bewaar","cancel":"Annuleer","removeLastVertex":"Verwijder laatste punt"},"buttonTitles":{"drawMarkerButton":"Plaats Marker","drawPolyButton":"Teken een vlak","drawLineButton":"Teken een lijn","drawCircleButton":"Teken een cirkel","drawRectButton":"Teken een vierkant","editButton":"Bewerk","dragButton":"Verplaats","cutButton":"Knip","deleteButton":"Verwijder","drawCircleMarkerButton":"Plaats Marker"}}')},function(t){t.exports=JSON.parse('{"tooltips":{"placeMarker":"Cliquez pour placer un marqueur","firstVertex":"Cliquez pour placer le premier sommet","continueLine":"Cliquez pour continuer à dessiner","finishLine":"Cliquez sur n\'importe quel marqueur pour terminer","finishPoly":"Cliquez sur le premier marqueur pour terminer","finishRect":"Cliquez pour terminer","startCircle":"Cliquez pour placer le centre du cercle","finishCircle":"Cliquez pour finir le cercle"},"actions":{"finish":"Terminer","cancel":"Annuler","removeLastVertex":"Retirer le dernier sommet"},"buttonTitles":{"drawMarkerButton":"Placer des marqueurs","drawPolyButton":"Dessiner des polygones","drawLineButton":"Dessiner des polylignes","drawCircleButton":"Dessiner un cercle","drawRectButton":"Dessiner un rectangle","editButton":"Éditer des calques","dragButton":"Déplacer des calques","cutButton":"Couper des calques","deleteButton":"Supprimer des calques"}}')},function(t){t.exports=JSON.parse('{"tooltips":{"placeMarker":"单击放置标记","firstVertex":"单击放置首个顶点","continueLine":"单击继续绘制","finishLine":"单击任何存在的标记以完成","finishPoly":"单击第一个标记以完成","finishRect":"单击完成","startCircle":"单击放置圆心","finishCircle":"单击完成圆形"},"actions":{"finish":"完成","cancel":"取消","removeLastVertex":"移除最后的顶点"},"buttonTitles":{"drawMarkerButton":"绘制标记","drawPolyButton":"绘制多边形","drawLineButton":"绘制线段","drawCircleButton":"绘制圆形","drawRectButton":"绘制长方形","editButton":"编辑图层","dragButton":"拖拽图层","cutButton":"剪切图层","deleteButton":"删除图层"}}')},function(t){t.exports=JSON.parse('{"tooltips":{"placeMarker":"Clique para posicionar o marcador","firstVertex":"Clique para posicionar o primeiro vértice","continueLine":"Clique para continuar desenhando","finishLine":"Clique em qualquer marcador existente para finalizar","finishPoly":"Clique no primeiro ponto para fechar o polígono","finishRect":"Clique para finalizar","startCircle":"Clique para posicionar o centro do círculo","finishCircle":"Clique para fechar o círculo"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Remover último vértice"},"buttonTitles":{"drawMarkerButton":"Desenhar um marcador","drawPolyButton":"Desenhar um polígono","drawLineButton":"Desenhar uma polilinha","drawCircleButton":"Desenhar um círculo","drawRectButton":"Desenhar um retângulo","editButton":"Editar camada(s)","dragButton":"Mover camada(s)","cutButton":"Recortar camada(s)","deleteButton":"Remover camada(s)"}}')},function(t){t.exports=JSON.parse('{"tooltips":{"placeMarker":"Kliknij, aby ustawić znacznik","firstVertex":"Kliknij, aby ustawić pierwszy punkt","continueLine":"Kliknij, aby kontynuować rysowanie","finishLine":"Kliknij dowolny punkt, aby zakończyć","finishPoly":"Kliknij pierwszy punkt, aby zakończyć","finishRect":"Kliknij, aby zakończyć","startCircle":"Kliknij, aby ustawić środek koła","finishCircle":"Kliknij, aby zakończyć rysowanie koła","placeCircleMarker":"Kliknij, aby ustawić okrągły znacznik"},"actions":{"finish":"Zakończ","cancel":"Anuluj","removeLastVertex":"Usuń ostatni punkt"},"buttonTitles":{"drawMarkerButton":"Narysuj znacznik","drawPolyButton":"Narysuj wielokąt","drawLineButton":"Narysuj ścieżkę","drawCircleButton":"Narysuj koło","drawRectButton":"Narysuj prostokąt","editButton":"Edytuj","dragButton":"Przesuń","cutButton":"Wytnij","deleteButton":"Usuń","drawCircleMarkerButton":"Narysuj okrągły znacznik"}}')},function(t){t.exports=JSON.parse('{"tooltips":{"placeMarker":"Klicka för att placera punkt","firstVertex":"Klicka för att placera första vertex","continueLine":"Klicka för att fortsätta rita","finishLine":"Klicka på en existerande punkt för att slutföra","finishPoly":"Klicka på den första punkten för att slutföra","finishRect":"Klicka för att slutföra","startCircle":"Klicka för att placera cirkelns centrum","finishCircle":"Klicka för att slutföra cirkeln","placeCircleMarker":"Klicka för att placera cirkelmakör"},"actions":{"finish":"Slutför","cancel":"Avbryt","removeLastVertex":"Ta bort sista vertex"},"buttonTitles":{"drawMarkerButton":"Rita Punkt","drawPolyButton":"Rita Rolygoner","drawLineButton":"Rita Polyline","drawCircleButton":"Rta Cirkel","drawRectButton":"Rita Rectangle","editButton":"Redigera Lager","dragButton":"Dra Lager","cutButton":"Klipp i Lager","deleteButton":"Ta bort Lager","drawCircleMarkerButton":"Rita Cirkelmakör"}}')},function(t,e,n){var r=n(134),i=n(135);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e,n){"use strict";var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},u=(Object.defineProperty(e,"__esModule",{value:!0}),n(1)),p=n(13),f=r(n(24));e.default=function t(e,n,r){void 0===r&&(r={});var i,o,e=p.getGeom(e),a=p.getGeom(n);if("Polygon"===e.type&&"Polygon"===a.type)return null===(n=f.intersection(e.coordinates,a.coordinates))||0===n.length?null:1!==n.length?u.multiPolygon(n,r.properties):(i=n[0][0][0],o=n[0][0][n[0][0].length-1],i[0]===o[0]&&i[1]===o[1]?u.polygon(n[0],r.properties):null);if("MultiPolygon"===e.type){for(var s=[],l=0,h=e.coordinates;l<h.length;l++){var c=h[l],c=t(p.getGeom(u.polygon(c)),a);if(c){c=p.getGeom(c);if("Polygon"===c.type)s.push(c.coordinates);else{if("MultiPolygon"!==c.type)throw new Error("intersection is invalid");s=s.concat(c.coordinates)}}}return 0===s.length?null:1===s.length?u.polygon(s[0],r.properties):u.multiPolygon(s,r.properties)}if("MultiPolygon"===a.type)return t(a,e);throw new Error("poly1 and poly2 must be either polygons or multiPolygons")}},function(t,e,n){t.exports=n(138)},function(t,e){Array.prototype.findIndex=Array.prototype.findIndex||function(t){if(null===this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof t)throw new TypeError("callback must be a function");for(var e=Object(this),n=e.length>>>0,r=arguments[1],i=0;i<n;i++)if(t.call(r,e[i],i,e))return i;return-1},Array.prototype.find=Array.prototype.find||function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("callback must be a function");for(var e=Object(this),n=e.length>>>0,r=arguments[1],i=0;i<n;i++){var o=e[i];if(t.call(r,o,i,e))return o}},"function"!=typeof Object.assign&&(Object.assign=function(t){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var e=1;e<arguments.length;e++){var n=arguments[e];if(null!=n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(t){t.hasOwnProperty("remove")||Object.defineProperty(t,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0!=r)for(var i,o,e=0|e,a=Math.max(0<=e?e:r-Math.abs(e),0);a<r;){if((i=n[a])===(o=t)||"number"==typeof i&&"number"==typeof o&&isNaN(i)&&isNaN(o))return!0;a++}return!1}})},function(t,e,n){var h=n(61),c=n(30),u=n(92),p=n(94),f=n(2),d=n(37),g=n(36);t.exports=function r(i,o,a,s,l){i!==o&&u(o,function(t,e){var n;l=l||new h,f(t)?p(i,o,e,a,r,s,l):(n=s?s(g(i,e),t,e+"",i,o,l):void 0,c(i,e,n=void 0===n?t:n))},d)}},function(t,e,n){var r=n(8),i=n(67),o=n(68),a=n(69),s=n(70),n=n(71);function l(t){t=this.__data__=new r(t);this.size=t.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=n,t.exports=l},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(9),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,t=r(e,t);return!(t<0||(t==e.length-1?e.pop():i.call(e,t,1),--this.size,0))}},function(t,e,n){var r=n(9);t.exports=function(t){var e=this.__data__,t=r(e,t);return t<0?void 0:e[t][1]}},function(t,e,n){var r=n(9);t.exports=function(t){return-1<r(this.__data__,t)}},function(t,e,n){var i=n(9);t.exports=function(t,e){var n=this.__data__,r=i(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}},function(t,e,n){var r=n(8);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,t=e.delete(t);return this.size=e.size,t}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var i=n(8),o=n(27),a=n(29);t.exports=function(t,e){var n=this.__data__;if(n instanceof i){var r=n.__data__;if(!o||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new a(r)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(15),i=n(76),o=n(2),a=n(78),s=/^\[object .+?Constructor\]$/,n=Function.prototype,l=Object.prototype,n=n.toString,l=l.hasOwnProperty,h=RegExp("^"+n.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?h:s).test(a(t))}},function(t,e){var n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==("undefined"==typeof window?"undefined":g(window))&&(n=window)}t.exports=n},function(t,e,n){var n=n(16),r=Object.prototype,o=r.hasOwnProperty,a=r.toString,s=n?n.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{var r=!(t[s]=void 0)}catch(t){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var n=n(77),r=(n=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!r&&r in t}},function(t,e,n){n=n(3)["__core-js_shared__"];t.exports=n},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(81),i=n(8),o=n(27);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(t,e,n){var r=n(82),i=n(83),o=n(84),a=n(85),n=n(86);function s(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=o,s.prototype.has=a,s.prototype.set=n,t.exports=s},function(t,e,n){var r=n(11);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){t=this.has(t)&&delete this.__data__[t];return this.size-=t?1:0,t}},function(t,e,n){var r=n(11),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e,n=this.__data__;return r?"__lodash_hash_undefined__"===(e=n[t])?void 0:e:i.call(n,t)?n[t]:void 0}},function(t,e,n){var r=n(11),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var r=n(11);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,n){var r=n(12);t.exports=function(t){t=r(this,t).delete(t);return this.size-=t?1:0,t}},function(t,e){t.exports=function(t){var e=g(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(12);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(12);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var i=n(12);t.exports=function(t,e){var n=i(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}},function(t,e,n){n=n(93)();t.exports=n},function(t,e){t.exports=function(l){return function(t,e,n){for(var r=-1,i=Object(t),o=n(t),a=o.length;a--;){var s=o[l?a:++r];if(!1===e(i[s],s,i))break}return t}}},function(t,e,n){var f=n(30),d=n(95),g=n(96),m=n(99),_=n(100),y=n(19),v=n(5),b=n(104),k=n(34),M=n(15),L=n(2),w=n(106),C=n(35),x=n(36),S=n(110);t.exports=function(t,e,n,r,i,o,a){var s,l,h,c=x(t,n),u=x(e,n),p=a.get(u);p?f(t,n,p):((e=void 0===(p=o?o(c,u,n+"",t,e,a):void 0))&&(l=!(s=v(u))&&k(u),h=!s&&!l&&C(u),p=u,s||l||h?p=v(c)?c:b(c)?m(c):l?d(u,!(e=!1)):h?g(u,!(e=!1)):[]:w(u)||y(u)?y(p=c)?p=S(c):L(c)&&!M(c)||(p=_(u)):e=!1),e&&(a.set(u,p),i(p,u,r,o,a),a.delete(u)),f(t,n,p))}},function(t,o,a){!function(t){var e=a(3),n=o&&!o.nodeType&&o,r=n&&"object"==g(t)&&t&&!t.nodeType&&t,r=r&&r.exports===n?e.Buffer:void 0,i=r?r.allocUnsafe:void 0;t.exports=function(t,e){return e?t.slice():(e=t.length,e=i?i(e):new t.constructor(e),t.copy(e),e)}}.call(this,a(18)(t))},function(t,e,n){var r=n(97);t.exports=function(t,e){e=e?r(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}},function(t,e,n){var r=n(98);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e,n){n=n(3).Uint8Array;t.exports=n},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e=e||Array(r);++n<r;)e[n]=t[n];return e}},function(t,e,n){var r=n(101),i=n(32),o=n(33);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:r(i(t))}},function(t,e,n){var r=n(2),i=Object.create;function o(){}t.exports=function(t){if(!r(t))return{};if(i)return i(t);o.prototype=t;t=new o;return o.prototype=void 0,t}},function(t,e){t.exports=function(e,n){return function(t){return e(n(t))}}},function(t,e,n){var r=n(7),i=n(4);t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},function(t,e,n){var r=n(20),i=n(4);t.exports=function(t){return i(t)&&r(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(7),i=n(32),o=n(4),n=Function.prototype,a=Object.prototype,s=n.toString,l=a.hasOwnProperty,h=s.call(Object);t.exports=function(t){return!(!o(t)||"[object Object]"!=r(t))&&(null===(t=i(t))||"function"==typeof(t=l.call(t,"constructor")&&t.constructor)&&t instanceof t&&s.call(t)==h)}},function(t,e,n){var r=n(7),i=n(21),o=n(4),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},function(t,e){t.exports=function(e){return function(t){return e(t)}}},function(t,o,a){!function(t){var e=a(28),n=o&&!o.nodeType&&o,r=n&&"object"==g(t)&&t&&!t.nodeType&&t,i=r&&r.exports===n&&e.process,n=function(){try{return r&&r.require&&r.require("util").types||i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=n}.call(this,a(18)(t))},function(t,e,n){var r=n(111),i=n(37);t.exports=function(t){return r(t,i(t))}},function(t,e,n){var h=n(112),c=n(17);t.exports=function(t,e,n,r){var i=!n;n=n||{};for(var o=-1,a=e.length;++o<a;){var s=e[o],l=r?r(n[s],t[s],s,n,t):void 0;void 0===l&&(l=t[s]),(i?c:h)(n,s,l)}return n}},function(t,e,n){var i=n(17),o=n(10),a=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var r=t[e];a.call(t,e)&&o(r,n)&&(void 0!==n||e in t)||i(t,e,n)}},function(t,e,n){var c=n(114),u=n(19),p=n(5),f=n(34),d=n(22),g=n(35),m=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n,r=p(t),i=!r&&u(t),o=!r&&!i&&f(t),a=!r&&!i&&!o&&g(t),s=r||i||o||a,l=s?c(t.length,String):[],h=l.length;for(n in t)!e&&!m.call(t,n)||s&&("length"==n||o&&("offset"==n||"parent"==n)||a&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||d(n,h))||l.push(n);return l}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var i=n(2),o=n(33),a=n(116),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(!i(t))return a(t);var e,n=o(t),r=[];for(e in t)("constructor"!=e||!n&&s.call(t,e))&&r.push(e);return r}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){var r=n(118),l=n(125);t.exports=function(s){return r(function(t,e){var n=-1,r=e.length,i=1<r?e[r-1]:void 0,o=2<r?e[2]:void 0,i=3<s.length&&"function"==typeof i?(r--,i):void 0;for(o&&l(e[0],e[1],o)&&(i=r<3?void 0:i,r=1),t=Object(t);++n<r;){var a=e[n];a&&s(t,a,n,i)}return t})}},function(t,e,n){var r=n(38),i=n(119),o=n(121);t.exports=function(t,e){return o(i(t,e,r),t+"")}},function(t,e,n){var l=n(120),h=Math.max;t.exports=function(o,a,s){return a=h(void 0===a?o.length-1:a,0),function(){for(var t=arguments,e=-1,n=h(t.length-a,0),r=Array(n);++e<n;)r[e]=t[a+e];for(var e=-1,i=Array(a+1);++e<a;)i[e]=t[e];return i[a]=s(r),l(o,this,i)}}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(122),n=n(124)(r);t.exports=n},function(t,e,n){var r=n(123),i=n(31),n=n(38);t.exports=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:n},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e){var o=Date.now;t.exports=function(n){var r=0,i=0;return function(){var t=o(),e=16-(t-i);if(i=t,0<e){if(800<=++r)return arguments[0]}else r=0;return n.apply(void 0,arguments)}}},function(t,e,n){var i=n(10),o=n(20),a=n(22),s=n(2);t.exports=function(t,e,n){var r;return!!s(n)&&(!!("number"==(r=g(e))?o(n)&&a(e,n.length):"string"==r&&e in n)&&i(n[e],t))}},function(t,e,n){var i=n(39),o=n(40);t.exports=function(t,e){for(var n=0,r=(e=i(e,t)).length;null!=t&&n<r;)t=t[o(e[n++])];return n&&n==r?t:void 0}},function(t,e,n){var r=n(5),i=n(23),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){var n;return!r(t)&&(!("number"!=(n=g(t))&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||a.test(t)||!o.test(t)||null!=e&&t in Object(e))}},function(t,e,n){var n=n(129),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,n=n(function(t){var i=[];return 46===t.charCodeAt(0)&&i.push(""),t.replace(r,function(t,e,n,r){i.push(n?r.replace(o,"$1"):e||t)}),i});t.exports=n},function(t,e,n){var r=n(130);t.exports=function(t){var t=r(t,function(t){return 500===e.size&&e.clear(),t}),e=t.cache;return t}},function(t,e,n){var a=n(29);function s(r,i){if("function"!=typeof r||null!=i&&"function"!=typeof i)throw new TypeError("Expected a function");function o(){var t=arguments,e=i?i.apply(this,t):t[0],n=o.cache;return n.has(e)?n.get(e):(t=r.apply(this,t),o.cache=n.set(e,t)||n,t)}return o.cache=new(s.Cache||a),o}s.Cache=a,t.exports=s},function(t,e,n){var r=n(132);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(16),i=n(133),o=n(5),a=n(23),n=r?r.prototype:void 0,s=n?n.toString:void 0;t.exports=function t(e){var n;return"string"==typeof e?e:o(e)?i(e,t)+"":a(e)?s?s.call(e):"":"0"==(n=e+"")&&1/e==-1/0?"-0":n}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t,e){return null!=t&&n.call(t,e)}},function(t,e,n){var s=n(39),l=n(19),h=n(5),c=n(22),u=n(21),p=n(40);t.exports=function(t,e,n){for(var r=-1,i=(e=s(e,t)).length,o=!1;++r<i;){var a=p(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&u(i)&&c(a,i)&&(h(t)||l(t))}},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e),n(59);function l(t,e,n){return e=t.project(e),n=t.project(n),t.unproject(e._add(n)._divideBy(2))}function r(t){var e=[];return t.eachLayer(function(t){(t instanceof R.Polyline||t instanceof R.Marker||t instanceof R.Circle||t instanceof R.CircleMarker)&&e.push(t)}),e=(e=e.filter(function(t){return!!t.pm})).filter(function(t){return!t._pmTempLayer})}var e=n(41),i=n(42),o=n.n(i),i=n(43),a=n(44),s=n(45),h=n(46),c=n(47),u=n(48),p=n(49),f=n(50),d=n(51),g=n(52),m={en:i,de:a,it:s,id:h,ro:c,ru:u,es:p,nl:f,fr:d,pt_br:n(53),zh:g,pl:n(54),sv:n(55)};function _(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function y(r){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?_(Object(i),!0).forEach(function(t){var e,n;e=r,n=i[t=t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):_(Object(i)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(i,t))})}return r}var v=r,b=r;function k(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}var M=r,i=R.Class.extend({includes:[{_globalEditMode:!1,globalEditEnabled:function(){return this._globalEditMode},setGlobalEditStatus:function(t){this._globalEditMode=t,this._fireEditModeEvent(this._globalEditMode)},enableGlobalEditMode:function(t){var e=y({snappable:this._globalSnappingEnabled},t);this.Toolbar.toggleButton("editMode",!0),v(this.map).forEach(function(t){t.pm.enable(e)}),this.throttledReInitEdit||(this.throttledReInitEdit=R.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this.map.on("layeradd",this.throttledReInitEdit,this),this.setGlobalEditStatus(!0)},disableGlobalEditMode:function(){v(this.map).forEach(function(t){t.pm.disable()}),this.map.off("layeroff",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",!1),this.setGlobalEditStatus(!1)},toggleGlobalEditMode:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.globalOptions;this.globalEditEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(t)},handleLayerAdditionInGlobalEditMode:function(t){t=t.layer;t.pm&&!t._pmTempLayer&&this.globalEditEnabled()&&t.pm.enable(y({},this.globalOptions,{snappable:this._globalSnappingEnabled}))},_fireEditModeEvent:function(t){this.map.fire("pm:globaleditmodetoggled",{enabled:t,map:this.map})}},{globalDragModeEnabled:function(){return!!this._globalDragMode},enableGlobalDragMode:function(){var t=b(this.map);this._globalDragMode=!0,t.forEach(function(t){t.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=R.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this._globalDragMode),this._fireDragModeEvent(!0)},disableGlobalDragMode:function(){var t=b(this.map);this._globalDragMode=!1,t.forEach(function(t){t.pm.disableLayerDrag()}),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this._globalDragMode),this._fireDragModeEvent(!1)},_fireDragModeEvent:function(t){this.map.fire("pm:globaldragmodetoggled",{enabled:t,map:this.map})},toggleGlobalDragMode:function(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode:function(t){t=t.layer;t.pm&&!t._pmTempLayer&&this.globalDragModeEnabled()&&(this.disableGlobalDragMode(),this.enableGlobalDragMode())}},{disableGlobalRemovalMode:function(){var e=this;this._globalRemovalMode=!1,this.map.eachLayer(function(t){t.off("click",e.removeLayer,e)}),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("deleteLayer",this._globalRemovalMode),this._fireRemovalModeEvent(!1)},enableGlobalRemovalMode:function(){var e=this;this._globalRemovalMode=!0,this.map.eachLayer(function(t){!t.pm||t.pm.options&&t.pm.options.preventMarkerRemoval||t instanceof R.LayerGroup||t.on("click",e.removeLayer,e)}),this.throttledReInitRemoval||(this.throttledReInitRemoval=R.Util.throttle(this.reinitGlobalRemovalMode,100,this)),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("deleteLayer",this._globalRemovalMode),this._fireRemovalModeEvent(!0)},_fireRemovalModeEvent:function(t){this.map.fire("pm:globalremovalmodetoggled",{enabled:t,map:this.map})},toggleGlobalRemovalMode:function(){this.globalRemovalEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},globalRemovalEnabled:function(){return!!this._globalRemovalMode},removeLayer:function(t){t=t.target;t._pmTempLayer||t.pm&&t.pm.dragging()||(t.remove(),this.map.fire("pm:remove",{layer:t}))},reinitGlobalRemovalMode:function(t){t=t.layer;t.pm&&!t._pmTempLayer&&this.globalRemovalEnabled()&&(this.disableGlobalRemovalMode(),this.enableGlobalRemovalMode())}}],initialize:function(t){this.map=t,this.Draw=new R.PM.Draw(t),this.Toolbar=new R.PM.Toolbar(t),this._globalRemovalMode=!1,this.globalOptions={snappable:!0}},setLang:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"en",e=1<arguments.length?arguments[1]:void 0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"en";e&&(m[t]=o()(m[n],e)),R.PM.activeLang=t,this.map.pm.Toolbar.reinit()},addControls:function(t){this.Toolbar.addControls(t)},removeControls:function(){this.Toolbar.removeControls()},toggleControls:function(){this.Toolbar.toggleControls()},controlsVisible:function(){return this.Toolbar.isVisible},enableDraw:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"Polygon";this.Draw.enable(t="Poly"===t?"Polygon":t,1<arguments.length?arguments[1]:void 0)},disableDraw:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"Polygon";this.Draw.disable(t="Poly"===t?"Polygon":t)},setPathOptions:function(t){this.Draw.setPathOptions(t)},getGlobalOptions:function(){return this.globalOptions},setGlobalOptions:function(t){var e=this,n=function(r){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?k(Object(i),!0).forEach(function(t){var e,n;e=r,n=i[t=t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):k(Object(i)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(i,t))})}return r}({},this.globalOptions,{},t);this.map.pm.Draw.shapes.forEach(function(t){e.map.pm.Draw[t].setOptions(n)}),M(this.map).forEach(function(t){t.pm.setOptions(n)}),this.applyGlobalOptions(),this.globalOptions=n},applyGlobalOptions:function(){M(this.map).forEach(function(t){t.pm.enabled()&&t.pm.applyOptions()})}}),a=n(0),L=n.n(a),s=n(56),w=n.n(s);function C(t){var e=R.PM.activeLang;return w()(m,e)||(e="en"),L()(m[e],t)}var h=R.Control.extend({options:{position:"topleft"},initialize:function(t){this._button=Object.assign({},this.options,t)},onAdd:function(t){return this._map=t,"edit"===this._button.tool?this._container=this._map.pm.Toolbar.editContainer:"options"===this._button.tool?this._container=this._map.pm.Toolbar.optionsContainer:this._container=this._map.pm.Toolbar.drawContainer,this.buttonsDomNode=this._makeButton(this._button),this._container.appendChild(this.buttonsDomNode),this._container},onRemove:function(){return this.buttonsDomNode.remove(),this._container},getText:function(){return this._button.text},getIconUrl:function(){return this._button.iconUrl},destroy:function(){this._button={},this._update()},toggle:function(t){return this._button.toggleStatus="boolean"==typeof t?t:!this._button.toggleStatus,this._applyStyleClasses(),this._button.toggleStatus},toggled:function(){return this._button.toggleStatus},onCreate:function(){this.toggle(!1)},_triggerClick:function(t){this._button.onClick(t),this._clicked(t),this._button.afterClick(t)},_makeButton:function(e){var n=this,t=R.DomUtil.create("div","button-container",this._container),r=R.DomUtil.create("a","leaflet-buttons-control-button",t),i=R.DomUtil.create("div","leaflet-pm-actions-container",t),o=e.actions,a={cancel:{text:C("actions.cancel"),onClick:function(){this._triggerClick()}},finishMode:{text:C("actions.finish"),onClick:function(){this._triggerClick()}},removeLastVertex:{text:C("actions.removeLastVertex"),onClick:function(){this._map.pm.Draw[e.jsClass]._removeLastVertex()}},finish:{text:C("actions.finish"),onClick:function(t){this._map.pm.Draw[e.jsClass]._finishShape(t)}}},o=(o.forEach(function(t){var e=a[t],t=R.DomUtil.create("a","leaflet-pm-action action-".concat(t),i);t.innerHTML=e.text,R.DomEvent.addListener(t,"click",e.onClick,n),R.DomEvent.disableClickPropagation(t)}),e.toggleStatus&&R.DomUtil.addClass(t,"active"),R.DomUtil.create("div","control-icon",r));return e.title&&o.setAttribute("title",e.title),e.iconUrl&&o.setAttribute("src",e.iconUrl),e.className&&R.DomUtil.addClass(o,e.className),R.DomEvent.addListener(r,"click",function(){n._button.disableOtherButtons&&n._map.pm.Toolbar.triggerClickOnToggledButtons(n)}),R.DomEvent.addListener(r,"click",this._triggerClick,this),R.DomEvent.disableClickPropagation(r),t},_applyStyleClasses:function(){this._container&&(this._button.toggleStatus?R.DomUtil.addClass(this.buttonsDomNode,"active"):R.DomUtil.removeClass(this.buttonsDomNode,"active"))},_clicked:function(){this._button.doToggle&&this.toggle()}}),c=(R.Control.PMButton=h,R.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,snappingOption:!0,position:"topleft"},initialize:function(t){this.init(t)},reinit:function(){var t=this.isVisible;this.removeControls(),this._defineButtons(),t&&this.addControls()},init:function(t){this.map=t,this.buttons={},this.isVisible=!1,this.drawContainer=R.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=R.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=R.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this._defineButtons()},getButtons:function(){return this.buttons},addControls:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options;void 0!==t.editPolygon&&(t.editMode=t.editPolygon),void 0!==t.deleteLayer&&(t.removalMode=t.deleteLayer),R.Util.setOptions(this,t),this.applyIconStyle(),this._showHideButtons(),this.isVisible=!0},applyIconStyle:function(){var t,e=this.getButtons(),n={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete"}};for(t in e){var r=e[t];R.Util.setOptions(r,{className:n.geomanIcons[t]})}},removeControls:function(){var t,e=this.getButtons();for(t in e)e[t].remove();this.isVisible=!1},toggleControls:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options;this.isVisible?this.removeControls():this.addControls(t)},_addButton:function(t,e){return this.buttons[t]=e,this.options[t]=this.options[t]||!1,this.buttons[t]},triggerClickOnToggledButtons:function(t){var e,n=["snappingOption"];for(e in this.buttons)!n.includes(e)&&this.buttons[e]!==t&&this.buttons[e].toggled()&&this.buttons[e]._triggerClick()},toggleButton:function(t,e){return"deleteLayer"===(t="editPolygon"===t?"editMode":t)&&(t="removalMode"),2<arguments.length&&void 0!==arguments[2]&&!arguments[2]||this.triggerClickOnToggledButtons(this.buttons[t]),this.buttons[t].toggle(e)},_defineButtons:function(){var t=this,e={className:"control-icon leaflet-pm-icon-marker",title:C("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:function(){},afterClick:function(){t.map.pm.Draw.Marker.toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},n={title:C("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:function(){},afterClick:function(){t.map.pm.Draw.Polygon.toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},r={className:"control-icon leaflet-pm-icon-polyline",title:C("buttonTitles.drawLineButton"),jsClass:"Line",onClick:function(){},afterClick:function(){t.map.pm.Draw.Line.toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},i={title:C("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:function(){},afterClick:function(){t.map.pm.Draw.Circle.toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},o={title:C("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:function(){},afterClick:function(){t.map.pm.Draw.CircleMarker.toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},a={title:C("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:function(){},afterClick:function(){t.map.pm.Draw.Rectangle.toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},s={title:C("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:function(){},afterClick:function(){t.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},l={title:C("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:function(){},afterClick:function(){t.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},h={title:C("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:function(){},afterClick:function(){t.map.pm.Draw.Cut.toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},c={title:C("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:function(){},afterClick:function(){t.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]};this._addButton("drawMarker",new R.Control.PMButton(e)),this._addButton("drawPolyline",new R.Control.PMButton(r)),this._addButton("drawRectangle",new R.Control.PMButton(a)),this._addButton("drawPolygon",new R.Control.PMButton(n)),this._addButton("drawCircle",new R.Control.PMButton(i)),this._addButton("drawCircleMarker",new R.Control.PMButton(o)),this._addButton("editMode",new R.Control.PMButton(s)),this._addButton("dragMode",new R.Control.PMButton(l)),this._addButton("cutPolygon",new R.Control.PMButton(h)),this._addButton("removalMode",new R.Control.PMButton(c))},_showHideButtons:function(){this.removeControls();var t,e=this.getButtons();for(t in e)this.options[t]&&(e[t].setPosition(this.options.position),e[t].addTo(this.map))}})),u={_initSnappableMarkers:function(){this.options.snapDistance=this.options.snapDistance||30,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents:function(t){var e=this;t.forEach(function(t){Array.isArray(t)?e._assignEvents(t):(t.off("drag",e._handleSnapping,e),t.on("drag",e._handleSnapping,e),t.off("dragend",e._cleanupSnapping,e),t.on("dragend",e._cleanupSnapping,e))})},_unsnap:function(){delete this._snapLatLng},_cleanupSnapping:function(){delete this._snapList,this._map.off("pm:remove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(function(t){t.remove()})},_handleSnapLayerRemoval:function(t){var e=t.layer,t=this._snapList.findIndex(function(t){return t._leaflet_id===e._leaflet_id});this._snapList.splice(t,1)},_handleSnapping:function(t){var e,n,r,i;function o(){return R.Util.throttle(this._createSnapList,100,this)}return!t.originalEvent.altKey&&(void 0===this._snapList&&(this._createSnapList(),this._map.off("layeradd",o,this),this._map.on("layeradd",o,this)),!(this._snapList.length<=0)&&(t=t.target,e=(r=this._calcClosestLayer(t.getLatLng(),this._snapList)).layer instanceof R.Marker||r.layer instanceof R.CircleMarker?r.latlng:this._checkPrioritiySnapping(r),i=this.options.snapDistance,(n={marker:t,snapLatLng:e,segment:r.segment,layer:this._layer,layerInteractedWith:r.layer,distance:r.distance}).marker.fire("pm:snapdrag",n),this._layer.fire("pm:snapdrag",n),r.distance<i?(t.setLatLng(e),t._snapped=!0,(r=this._snapLatLng||{}).lat===(i=e||{}).lat&&r.lng===i.lng||(this._snapLatLng=e,t.fire("pm:snap",n),this._layer.fire("pm:snap",n))):this._snapLatLng&&(this._unsnap(n),t._snapped=!1,n.marker.fire("pm:unsnap",n),this._layer.fire("pm:unsnap",n)),!0))},_checkPrioritiySnapping:function(t){var e=this._map,n=t.segment[0],r=t.segment[1],t=t.latlng,i=this._getDistance(e,n,t),o=this._getDistance(e,r,t),a=i<o?n:r,s=i<o?i:o;return this.options.snapMiddle&&(n=l(e,n,r),(r=this._getDistance(e,n,t))<i&&r<o&&(a=n,s=r)),e=s<this.options.snapDistance?a:t,Object.assign({},e)},_createSnapList:function(){var e=this,n=[],r=[],t=this._map;t.off("pm:remove",this._handleSnapLayerRemoval,this),t.on("pm:remove",this._handleSnapLayerRemoval,this),t.eachLayer(function(t){(t instanceof R.Polyline||t instanceof R.Marker||t instanceof R.CircleMarker)&&!0!==t.options.snapIgnore&&(n.push(t),(t=R.polyline([],{color:"red",pmIgnore:!0}))._pmTempLayer=!0,r.push(t))}),n=(n=(n=n.filter(function(t){return e._layer!==t})).filter(function(t){return t._latlng||t._latlngs&&0<t._latlngs.length})).filter(function(t){return!t._pmTempLayer}),this._otherSnapLayers?this._snapList=n.concat(this._otherSnapLayers):this._snapList=n,this.debugIndicatorLines=r},_calcClosestLayer:function(r,t){var i=this,o={};return t.forEach(function(t,e){var n=i._calcLayerDistances(r,t);i.debugIndicatorLines[e].setLatLngs([r,n.latlng]),(void 0===o.distance||n.distance<o.distance)&&((o=n).layer=t)}),o},_calcLayerDistances:function(t,e){var o,a,s=this,l=this._map,n=e instanceof R.Marker||e instanceof R.CircleMarker,h=e instanceof R.Polygon,c=t,e=n?e.getLatLng():e.getLatLngs();if(n)return{latlng:Object.assign({},e),distance:this._getDistance(l,e,c)};!function r(i){i.forEach(function(t,e){var n;Array.isArray(t)?r(t):(t=t,e=h?e+1===i.length?0:e+1:e+1===i.length?void 0:e+1,(e=i[e])&&(n=s._getDistanceToSegment(l,c,t,e),(void 0===a||n<a)&&(a=n,o=[t,e])))})}(e);n=this._getClosestPointOnSegment(l,t,o[0],o[1]);return{latlng:Object.assign({},n),segment:o,distance:a}},_getClosestPointOnSegment:function(t,e,n,r){var i=t.getMaxZoom(),e=(i===1/0&&(i=t.getZoom()),t.project(e,i)),n=t.project(n,i),r=t.project(r,i),e=R.LineUtil.closestPointOnSegment(e,n,r);return t.unproject(e,i)},_getDistanceToSegment:function(t,e,n,r){e=t.latLngToLayerPoint(e),n=t.latLngToLayerPoint(n),t=t.latLngToLayerPoint(r);return R.LineUtil.pointToSegmentDistance(e,n,t)},_getDistance:function(t,e,n){return t.latLngToLayerPoint(e).distanceTo(t.latLngToLayerPoint(n))}},p=R.Class.extend({includes:[u],options:{snappable:!0,snapDistance:20,tooltips:!0,cursorMarker:!0,finishOnDoubleClick:!1,finishOn:null,allowSelfIntersection:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},markerStyle:{draggable:!0}},setOptions:function(t){R.Util.setOptions(this,t)},initialize:function(t){var e=this;this._map=t,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut"],this.shapes.forEach(function(t){e[t]=new R.PM.Draw[t](e._map)})},setPathOptions:function(t){this.options.pathOptions=t},getShapes:function(){return this.shapes},enable:function(t,e){if(!t)throw new Error("Error: Please pass a shape as a parameter. Possible shapes are: ".concat(this.getShapes().join(",")));this.disable(),this[t].enable(e)},disable:function(){var e=this;this.shapes.forEach(function(t){e[t].disable()})},addControls:function(){var e=this;this.shapes.forEach(function(t){e[t].addButton()})}}),f=(p.Marker=p.extend({initialize:function(t){this._map=t,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable:function(t){var e=this;R.Util.setOptions(this,t),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=R.marker([0,0],this.options.markerStyle),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(C("tooltips.placeMarker"),{permanent:!0,offset:R.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._map.fire("pm:drawstart",{shape:this._shape,workingLayer:this._layer}),this._map.eachLayer(function(t){e.isRelevantMarker(t)&&t.pm.enable()})},disable:function(){var e=this;this._enabled&&(this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(function(t){e.isRelevantMarker(t)&&t.pm.disable()}),this._map.fire("pm:drawend",{shape:this._shape}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._enabled=!1)},isRelevantMarker:function(t){return t instanceof R.Marker&&t.pm&&!t._pmTempLayer},enabled:function(){return this._enabled},toggle:function(t){this.enabled()?this.disable():this.enable(t)},_createMarker:function(t){t.latlng&&(this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng),t=this._hintMarker.getLatLng(),(t=new R.Marker(t,this.options.markerStyle)).addTo(this._map),t.pm.enable(),this._map.fire("pm:create",{shape:this._shape,marker:t,layer:t}),this._cleanupSnapping())},_syncHintMarker:function(t){this._hintMarker.setLatLng(t.latlng),this.options.snappable&&((t=t).target=this._hintMarker,this._handleSnapping(t))}}),n(6)),x=n.n(f),d=(p.Line=p.extend({initialize:function(t){this._map=t,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable:function(t){R.Util.setOptions(this,t),this.options.finishOnDoubleClick&&!this.options.finishOn&&(this.options.finishOn="dblclick"),this._enabled=!0,this._layerGroup=new R.LayerGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=R.polyline([],this.options.templineStyle),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=R.polyline([],this.options.hintlineStyle),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=R.marker(this._map.getCenter(),{icon:R.divIcon({className:"marker-icon cursor-marker"})}),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&R.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(C("tooltips.firstVertex"),{permanent:!0,offset:R.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map._container.style.cursor="crosshair",this._map.on("click",this._createVertex,this),this.options.finishOn&&this._map.on(this.options.finishOn,this._finishShape,this),"dblclick"===this.options.finishOn&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.fire("pm:drawstart",{shape:this._shape,workingLayer:this._layer}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[]},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.fire("pm:drawend",{shape:this._shape}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping())},enabled:function(){return this._enabled},toggle:function(t){this.enabled()?this.disable():this.enable(t)},hasSelfIntersection:function(){return 0<x()(this._layer.toGeoJSON(15)).features.length},_syncHintLine:function(){var t=this._layer.getLatLngs();0<t.length&&(t=t[t.length-1],this._hintline.setLatLngs([t,this._hintMarker.getLatLng()]))},_syncHintMarker:function(t){var e;this._hintMarker.setLatLng(t.latlng),this.options.snappable&&((e=t).target=this._hintMarker,this._handleSnapping(e)),this.options.allowSelfIntersection||this._handleSelfIntersection(!0,t.latlng)},_handleSelfIntersection:function(t,e){var n=R.polyline(this._layer.getLatLngs()),t=(t&&(e=e||this._hintMarker.getLatLng(),n.addLatLng(e)),x()(n.toGeoJSON(15)));this._doesSelfIntersect=0<t.features.length,this._doesSelfIntersect?this._hintline.setStyle({color:"red"}):this._hintline.isEmpty()||this._hintline.setStyle(this.options.hintlineStyle)},_removeLastVertex:function(){var t,e=this._layer.getLatLngs(),n=e.pop();e.length<1?this.disable():(t=this._layerGroup.getLayers().filter(function(t){return t instanceof R.Marker}).filter(function(t){return!R.DomUtil.hasClass(t._icon,"cursor-marker")}).find(function(t){return t.getLatLng()===n}),this._layerGroup.removeLayer(t),this._layer.setLatLngs(e),this._syncHintLine())},_createVertex:function(t){var e;!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,t.latlng),this._doesSelfIntersect)||(this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng),(e=this._hintMarker.getLatLng()).equals(this._layer.getLatLngs()[0])?this._finishShape(t):(t=0===this._layer.getLatLngs().length,this._layer.addLatLng(e),t=this._createMarker(e,t),this._hintline.setLatLngs([e,e]),this._layer.fire("pm:vertexadded",{shape:this._shape,workingLayer:this._layer,marker:t,latlng:e})))},_finishShape:function(){var t;!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!1),this._doesSelfIntersect)||((t=this._layer.getLatLngs()).length<=1||(t=R.polyline(t,this.options.pathOptions).addTo(this._map),this.disable(),this._map.fire("pm:create",{shape:this._shape,layer:t}),this.options.snappable&&this._cleanupSnapping()))},_createMarker:function(t,e){t=new R.Marker(t,{draggable:!1,icon:R.divIcon({className:"marker-icon"})});return t._pmTempLayer=!0,this._layerGroup.addLayer(t),t.on("click",this._finishShape,this),e&&this._hintMarker.setTooltipContent(C("tooltips.continueLine")),2===this._layer.getLatLngs().length&&this._hintMarker.setTooltipContent(C("tooltips.finishLine")),t}}),p.Polygon=p.Line.extend({initialize:function(t){this._map=t,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},_finishShape:function(t){var e;!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!1),this._doesSelfIntersect)||((e=this._layer.getLatLngs()).length<=2||(t&&"dblclick"===t.type&&e.splice(e.length-1,1),t=R.polygon(e,this.options.pathOptions).addTo(this._map),this.disable(),this._map.fire("pm:create",{shape:this._shape,layer:t}),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex))},_createMarker:function(t,e){t=new R.Marker(t,{draggable:!1,icon:R.divIcon({className:"marker-icon"})});return t._pmTempLayer=!0,this._layerGroup.addLayer(t),e&&(t.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(t)-1,this.options.snappable&&this._cleanupSnapping()),e&&this._hintMarker.setTooltipContent(C("tooltips.continueLine")),3===this._layer.getLatLngs().length&&this._hintMarker.setTooltipContent(C("tooltips.finishPoly")),t}}),p.Rectangle=p.extend({initialize:function(t){this._map=t,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable:function(t){if(R.Util.setOptions(this,t),this._enabled=!0,this._layerGroup=new R.LayerGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=R.rectangle([[0,0],[0,0]],this.options.pathOptions),this._layer._pmTempLayer=!0,this._startMarker=R.marker([0,0],{icon:R.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:100,opacity:this.options.cursorMarker?1:0}),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=R.marker([0,0],{icon:R.divIcon({className:"marker-icon cursor-marker"})}),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.tooltips&&this._hintMarker.bindTooltip(C("tooltips.firstVertex"),{permanent:!0,offset:R.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){R.DomUtil.addClass(this._hintMarker._icon,"visible"),this._styleMarkers=[];for(var e=0;e<2;e+=1){var n=R.marker([0,0],{icon:R.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});n._pmTempLayer=!0,this._layerGroup.addLayer(n),this._styleMarkers.push(n)}}this._map._container.style.cursor="crosshair",this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.fire("pm:drawstart",{shape:this._shape,workingLayer:this._layer}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[]},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.fire("pm:drawend",{shape:this._shape}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping())},enabled:function(){return this._enabled},toggle:function(t){this.enabled()?this.disable():this.enable(t)},_placeStartingMarkers:function(t){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var e=this._hintMarker.getLatLng();R.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(e),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(function(t){R.DomUtil.addClass(t._icon,"visible"),t.setLatLng(e)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(C("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin:function(){var t=this._startMarker.getLatLng();t&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([t,t]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker:function(t){this._hintMarker.setLatLng(t.latlng),this.options.snappable&&((t=t).target=this._hintMarker,this._handleSnapping(t))},_syncRectangleSize:function(){var e,n=this,t=this._startMarker.getLatLng(),r=this._hintMarker.getLatLng();this._layer.setBounds([t,r]),this.options.cursorMarker&&this._styleMarkers&&(t=this._findCorners(),e=[],t.forEach(function(t){t.equals(n._startMarker.getLatLng())||t.equals(n._hintMarker.getLatLng())||e.push(t)}),e.forEach(function(t,e){n._styleMarkers[e].setLatLng(t)}))},_finishShape:function(t){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var t=this._hintMarker.getLatLng(),e=this._startMarker.getLatLng(),e=R.rectangle([e,t],this.options.pathOptions).addTo(this._map);this.disable(),this._map.fire("pm:create",{shape:this._shape,layer:e})},_findCorners:function(){var t=this._layer.getBounds();return[t.getNorthWest(),t.getNorthEast(),t.getSouthEast(),t.getSouthWest()]}}),p.Circle=p.extend({initialize:function(t){this._map=t,this._shape="Circle",this.toolbarButtonName="drawCircle"},enable:function(t){R.Util.setOptions(this,t),this.options.radius=0,this._enabled=!0,this._layerGroup=new R.LayerGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=R.circle([0,0],this.options.templineStyle),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._centerMarker=R.marker([0,0],{icon:R.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._centerMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._centerMarker),this._hintMarker=R.marker([0,0],{icon:R.divIcon({className:"marker-icon cursor-marker"})}),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&R.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(C("tooltips.startCircle"),{permanent:!0,offset:R.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=R.polyline([],this.options.hintlineStyle),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map._container.style.cursor="crosshair",this._map.on("click",this._placeCenterMarker,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.fire("pm:drawstart",{shape:this._shape,workingLayer:this._layer}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[]},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.fire("pm:drawend",{shape:this._shape}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping())},enabled:function(){return this._enabled},toggle:function(t){this.enabled()?this.disable():this.enable(t)},_syncHintLine:function(){var t=this._centerMarker.getLatLng();this._hintline.setLatLngs([t,this._hintMarker.getLatLng()])},_syncCircleRadius:function(){var t=this._centerMarker.getLatLng(),e=this._hintMarker.getLatLng(),t=t.distanceTo(e);this._layer.setRadius(t)},_syncHintMarker:function(t){this._hintMarker.setLatLng(t.latlng),this.options.snappable&&((t=t).target=this._hintMarker,this._handleSnapping(t))},_placeCenterMarker:function(t){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);t=this._hintMarker.getLatLng();this._centerMarker.setLatLng(t),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var t=this._centerMarker.getLatLng();t&&(this._layer.setLatLng(t),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(C("tooltips.finishCircle")),this._layer.fire("pm:centerplaced",{shape:this._shape,workingLayer:this._layer,latlng:t}))},_finishShape:function(t){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var t=this._centerMarker.getLatLng(),e=this._hintMarker.getLatLng(),e=t.distanceTo(e),e=Object.assign({},this.options.pathOptions,{radius:e}),t=R.circle(t,e).addTo(this._map);this.disable(),this._map.fire("pm:create",{shape:this._shape,layer:t})},_createMarker:function(t){t=new R.Marker(t,{draggable:!1,icon:R.divIcon({className:"marker-icon"})});return t._pmTempLayer=!0,this._layerGroup.addLayer(t),t}}),p.CircleMarker=p.Marker.extend({initialize:function(t){this._map=t,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker"},enable:function(t){var e=this;R.Util.setOptions(this,t),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=R.circleMarker([0,0],this.options.templineStyle),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(C("tooltips.placeCircleMarker"),{permanent:!0,offset:R.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._map.fire("pm:drawstart",{shape:this._shape,workingLayer:this._layer}),this._map.eachLayer(function(t){e.isRelevantMarker(t)&&t.pm.enable()})},isRelevantMarker:function(t){return t instanceof R.CircleMarker&&!(t instanceof R.Circle)&&t.pm&&!t._pmTempLayer},_createMarker:function(t){t.latlng&&(this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng),t=this._hintMarker.getLatLng(),(t=R.circleMarker(t,this.options.pathOptions)).addTo(this._map),t.pm.enable(),this._map.fire("pm:create",{shape:this._shape,marker:t,layer:t}),this._cleanupSnapping())}}),n(57)),S=n.n(d),E=n(24),g=n(26),P=n.n(g),O=n(1),B=n(13),j=n(25);function D(t){switch(t.type){case"Polygon":return 1<P()(t)?t:null;case"MultiPolygon":var e=[];if(Object(j.flattenEach)(t,function(t){1<P()(t)&&e.push(t.geometry.coordinates)}),e.length)return{type:"MultiPolygon",coordinates:e}}}p.Cut=p.Polygon.extend({initialize:function(t){this._map=t,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_cut:function(i){var o=this,e=this._map._layers;Object.keys(e).map(function(t){return e[t]}).filter(function(t){return t.pm}).filter(function(t){return t instanceof R.Polygon}).filter(function(t){return t!==i}).filter(function(t){try{return!!S()(i.toGeoJSON(15),t.toGeoJSON(15))}catch(t){return console.error("You cant cut polygons with self-intersections"),!1}}).forEach(function(t){e=t.toGeoJSON(15),n=i.toGeoJSON(15),r=Object(B.getGeom)(e),n=Object(B.getGeom)(n),e=e.properties||{},r=D(r),n=D(n);var e,n=r?n?0===(n=E.diff(r.coordinates,n.coordinates)).length?null:1===n.length?Object(O.polygon)(n[0],e):Object(O.multiPolygon)(n,e):Object(O.feature)(r,e):null,r=R.geoJSON(n,t.options).addTo(o._map);r.pm.enable(o.options),r.pm.disable(),t._pmTempLayer=!0,i._pmTempLayer=!0,t.remove(),i.remove(),0===r.getLayers().length&&o._map.pm.removeLayer({target:r}),t.fire("pm:cut",{shape:o._shape,layer:r,originalLayer:t}),o._map.fire("pm:cut",{shape:o._shape,layer:r,originalLayer:t})})},_finishShape:function(){var t;!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!1),this._doesSelfIntersect)||(t=this._layer.getLatLngs(),t=R.polygon(t,this.options.pathOptions),this._cut(t),this.disable(),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex)}});a=R.Class.extend({includes:[{enableLayerDrag:function(){var t;this.disable(),this._layer instanceof R.Marker?this._layer.dragging.enable():(this._tempDragCoord=null,t=this._layer._path||this._layer._renderer._container,R.DomUtil.addClass(t,"leaflet-pm-draggable"),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0,this._layer.on("mousedown",this._dragMixinOnMouseDown,this))},disableLayerDrag:function(){var t;this._layer instanceof R.Marker?this._layer.dragging.disable():(t=this._layer._path||this._layer._renderer._container,R.DomUtil.removeClass(t,"leaflet-pm-draggable"),this._safeToCacheDragState=!1,this._layer.off("mousedown",this._dragMixinOnMouseDown,this))},_dragMixinOnMouseUp:function(){var t=this,e=this._layer._path||this._layer._renderer._container;return this._originalMapDragState&&this._layer._map.dragging.enable(),this._safeToCacheDragState=!0,this._layer._map.off("mousemove",this._dragMixinOnMouseMove,this),this._layer._map.off("mouseup",this._dragMixinOnMouseUp,this),!!this._dragging&&(window.setTimeout(function(){t._dragging=!1,R.DomUtil.removeClass(e,"leaflet-pm-dragging"),t._layer.fire("pm:dragend"),t._fireEdit()},10),!0)},_dragMixinOnMouseMove:function(t){var e=this._layer._path||this._layer._renderer._container;this._dragging||(this._dragging=!0,R.DomUtil.addClass(e,"leaflet-pm-dragging"),this._layer.bringToFront(),this._originalMapDragState&&this._layer._map.dragging.disable(),this._layer.fire("pm:dragstart")),this._onLayerDrag(t)},_dragMixinOnMouseDown:function(t){0<t.originalEvent.button||(this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=t.latlng,this._layer._map.on("mouseup",this._dragMixinOnMouseUp,this),this._layer._map.on("mousemove",this._dragMixinOnMouseMove,this))},dragging:function(){return this._dragging},_onLayerDrag:function(t){var e,n=t.latlng,r=n.lat-this._tempDragCoord.lat,i=n.lng-this._tempDragCoord.lng;this._layer instanceof R.CircleMarker?this._layer.setLatLng(n):(e=function e(t){return t.map(function(t){return Array.isArray(t)?e(t):{lat:t.lat+r,lng:t.lng+i}})}(this._layer.getLatLngs()),this._layer.setLatLngs(e)),this._tempDragCoord=n,this._layer.fire("pm:drag",t)}},u],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,draggable:!0,limitMarkersToCount:-1},setOptions:function(t){R.Util.setOptions(this,t)},applyOptions:function(){},isPolygon:function(){return this._layer instanceof R.Polygon}});function T(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a.LayerGroup=R.Class.extend({initialize:function(t){var e=this;this._layerGroup=t,this._layers=this.findLayers(),this._layers.forEach(function(t){return e._initLayer(t)}),this._layerGroup.on("layeradd",function(t){t.target._pmTempLayer||(e._layers=e.findLayers(),t.layer.pm&&e._initLayer(t.layer),t.target.pm.enabled()&&e.enable(e.getOptions()))}),this._layerGroup.on("layerremove",function(t){t.target._pmTempLayer||(e._layers=e.findLayers())})},findLayers:function(){return this._layerGroup.getLayers().filter(function(t){return!(t instanceof R.LayerGroup)}).filter(function(t){return!!t.pm}).filter(function(t){return!t._pmTempLayer})},_initLayer:function(e){var n=this;["pm:edit","pm:update","pm:remove","pm:dragstart","pm:drag","pm:dragend","pm:snap","pm:unsnap","pm:cut","pm:intersect","pm:raiseMarkers","pm:markerdragend","pm:markerdragstart","pm:vertexadded","pm:vertexremoved","pm:centerplaced"].forEach(function(t){e.on(t,n._fireEvent,n)}),e.pm._layerGroup=this._layerGroup},_fireEvent:function(t){this._layerGroup.fireEvent(t.type,t)},toggleEdit:function(e){this._options=e,this._layers.forEach(function(t){t.pm.toggleEdit(e)})},enable:function(e){this._options=e,this._layers.forEach(function(t){t.pm.enable(e)})},disable:function(){this._layers.forEach(function(t){t.pm.disable()})},enabled:function(){return!!this._layers.find(function(t){return t.pm.enabled()})},dragging:function(){return!!this._layers.find(function(t){return t.pm.dragging()})},getOptions:function(){return this._options}}),a.Marker=a.extend({initialize:function(t){this._layer=t,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable&&this._layer.dragging.enable(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},toggleEdit:function(t){this.enabled()?this.disable():this.enable(t)},enable:function(){R.Util.setOptions(this,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{draggable:!0}),this._map=this._layer._map,this.enabled()||(this._enabled=!0,this.applyOptions())},enabled:function(){return this._enabled},disable:function(){this._enabled=!1,this._layer.dragging&&this._layer.dragging.disable(),this._layer.off("contextmenu",this._removeMarker,this),this._layer.off("dragstart",this._onPinnedMarkerDragStart,this),this._layer.fire("pm:disable"),this._layerEdited&&this._layer.fire("pm:update",{}),this._layerEdited=!1},_removeMarker:function(t){t=t.target;t.remove(),t.fire("pm:remove")},_onDragEnd:function(t){t.target.fire("pm:edit"),this._layerEdited=!0},_initSnappableMarkers:function(){var t=this._layer;this.options.snapDistance=this.options.snapDistance||30,t.off("drag",this._handleSnapping,this),t.on("drag",this._handleSnapping,this),t.off("dragend",this._cleanupSnapping,this),t.on("dragend",this._cleanupSnapping,this),t.off("pm:dragstart",this._unsnap,this),t.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var t=this._layer;t.off("drag",this._handleSnapping,this),t.off("dragend",this._cleanupSnapping,this),t.off("pm:dragstart",this._unsnap,this)}}),a.Line=a.extend({includes:[{filterMarkerGroup:function(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),-1<this.options.limitMarkersToCount&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.applyLimitFilters,this))},_removeMarkerLimitEvents:function(){this._map.off("mousemove",this.applyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache:function(){var t=[].concat(T(this._markerGroup.getLayers()),T(this.markerCache));this.markerCache=t.filter(function(t,e,n){return n.indexOf(t)===e})},renderLimits:function(e){var n=this;this.markerCache.forEach(function(t){e.includes(t)?n._markerGroup.addLayer(t):n._markerGroup.removeLayer(t)})},applyLimitFilters:function(t){t=t.latlng,t=T(this._filterClosestMarkers(void 0===t?{lat:0,lng:0}:t));this.renderLimits(t)},_filterClosestMarkers:function(n){var t=T(this.markerCache),r=this.options.limitMarkersToCount;return t.sort(function(t,e){return t._latlng.distanceTo(n)-e._latlng.distanceTo(n)}),t.filter(function(t,e){return!(-1<r)||e<r})}}],initialize:function(t){this._layer=t,this._enabled=!1},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},toggleEdit:function(t){return this.enabled()?this.disable():this.enable(t),this.enabled()},enable:function(t){R.Util.setOptions(this,t),this._map=this._layer._map,this._map&&(this.enabled()||this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this._onLayerRemove,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection||(this.cachedColor=this._layer.options.color,this.isRed=!1,this._handleLayerStyle()))},_onLayerRemove:function(t){this.disable(t.target)},enabled:function(){return this._enabled},disable:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._layer;if(!this.enabled())return!1;if(t.pm._dragging)return!1;t.pm._enabled=!1,t.pm._markerGroup.clearLayers(),t.off("mousedown"),t.off("mouseup"),this._layer.off("remove",this._onLayerRemove,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval);t=t._path||this._layer._renderer._container;return R.DomUtil.removeClass(t,"leaflet-pm-draggable"),this.hasSelfIntersection()&&R.DomUtil.removeClass(t,"leaflet-pm-invalid"),this._layer.fire("pm:disable"),this._layerEdited&&this._layer.fire("pm:update",{}),!(this._layerEdited=!1)},hasSelfIntersection:function(){return 0<x()(this._layer.toGeoJSON(15)).features.length},_handleSelfIntersectionOnVertexRemoval:function(){this._handleLayerStyle(!0),this.hasSelfIntersection()&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle:function(t){var e=this,n=this._layer;this.hasSelfIntersection()?this.isRed||(t?(n.setStyle({color:"red"}),this.isRed=!0,window.setTimeout(function(){n.setStyle({color:e.cachedColor}),e.isRed=!1},200)):(n.setStyle({color:"red"}),this.isRed=!0),this._layer.fire("pm:intersect",{intersection:x()(this._layer.toGeoJSON(15))})):(n.setStyle({color:this.cachedColor}),this.isRed=!1)},_initMarkers:function(){var o=this,t=this._map,e=this._layer.getLatLngs();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new R.LayerGroup,this._markerGroup._pmTempLayer=!0,this._markers=function t(r){var i;return Array.isArray(r[0])?r.map(t,o):(i=r.map(o._createMarker,o),r.map(function(t,e){var n=o.isPolygon()?(e+1)%r.length:e+1;return o._createMiddleMarker(i[e],i[n])}),i)}(e),this.filterMarkerGroup(),t.addLayer(this._markerGroup)},_createMarker:function(t){t=new R.Marker(t,{draggable:!0,icon:R.divIcon({className:"marker-icon"})});return t._pmTempLayer=!0,t.on("dragstart",this._onMarkerDragStart,this),t.on("move",this._onMarkerDrag,this),t.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||t.on("contextmenu",this._removeMarker,this),this._markerGroup.addLayer(t),t},_createMiddleMarker:function(e,n){var r,t,i=this;return!(!e||!n)&&(t=l(this._map,e.getLatLng(),n.getLatLng()),r=this._createMarker(t),t=R.divIcon({className:"marker-icon marker-icon-middle"}),r.setIcon(t),e._middleMarkerNext=r,(n._middleMarkerPrev=r).on("click",function(){var t=R.divIcon({className:"marker-icon"});r.setIcon(t),i._addMarker(r,e,n)}),r.on("movestart",function(){r.on("moveend",function(){var t=R.divIcon({className:"marker-icon"});r.setIcon(t),r.off("moveend")}),i._addMarker(r,e,n)}),r)},_addMarker:function(t,e,n){t.off("movestart"),t.off("click");var r=t.getLatLng(),i=this._layer._latlngs,o=this.findDeepMarkerIndex(this._markers,e),a=o.indexPath,s=o.index,o=o.parentPath,l=1<a.length?L()(i,o):i,a=1<a.length?L()(this._markers,o):this._markers;l.splice(s+1,0,r),a.splice(s+1,0,t),this._layer.setLatLngs(i),this._createMiddleMarker(e,t),this._createMiddleMarker(t,n),this._fireEdit(),this._layer.fire("pm:vertexadded",{layer:this._layer,marker:t,indexPath:this.findDeepMarkerIndex(this._markers,t).indexPath,latlng:r}),this.options.snappable&&this._initSnappableMarkers()},_removeMarker:function(t){this.options.allowSelfIntersection||(i=this._layer.getLatLngs(),this._coordsBeforeEdit=JSON.parse(JSON.stringify(i)));var e,n,r,i=t.target,t=this._layer.getLatLngs(),o=this.findDeepMarkerIndex(this._markers,i),a=o.indexPath,s=o.index,o=o.parentPath;a&&(r=1<a.length?L()(t,o):t,o=1<a.length?L()(this._markers,o):this._markers,r.splice(s,1),this._layer.setLatLngs(t),r.length<=1&&(r.splice(0,r.length),this._layer.setLatLngs(t),this.disable(),this.enable(this.options)),function n(t){return t.filter(function(t){return![null,"",void 0].includes(t)}).reduce(function(t,e){return t.concat(Array.isArray(e)?n(e):e)},[])}(t).length||this._layer.remove(),i._middleMarkerPrev&&this._markerGroup.removeLayer(i._middleMarkerPrev),i._middleMarkerNext&&this._markerGroup.removeLayer(i._middleMarkerNext),this._markerGroup.removeLayer(i),this.isPolygon()?(e=(s+1)%o.length,n=(s+(o.length-1))%o.length):(n=s-1<0?void 0:s-1,e=s+1>=o.length?void 0:s+1),e!==n&&(r=o[n],t=o[e],this._createMiddleMarker(r,t)),o.splice(s,1),this._fireEdit(),this._layer.fire("pm:vertexremoved",{layer:this._layer,marker:i,indexPath:a}))},findDeepMarkerIndex:function(t,i){t.some(function n(r){return function(t,e){e=r.concat(e);return t._leaflet_id===i._leaflet_id?(o=e,!0):Array.isArray(t)&&t.some(n(e))}}([]));var o,t={};return t=o?{indexPath:o,index:o[o.length-1],parentPath:o.slice(0,o.length-1)}:t},updatePolygonCoordsFromMarkerDrag:function(t){var e=this._layer.getLatLngs(),n=t.getLatLng(),t=this.findDeepMarkerIndex(this._markers,t),r=t.indexPath,i=t.index,t=t.parentPath;(1<r.length?L()(e,t):e).splice(i,1,n),this._layer.setLatLngs(e)},_onMarkerDrag:function(t){var e,t=t.target,n=this.findDeepMarkerIndex(this._markers,t),r=n.indexPath,i=n.index,n=n.parentPath;r&&(this.updatePolygonCoordsFromMarkerDrag(t),n=(i+1)%(r=1<r.length?L()(this._markers,n):this._markers).length,i=(i+(r.length-1))%r.length,e=t.getLatLng(),i=r[i].getLatLng(),r=r[n].getLatLng(),t._middleMarkerNext&&(n=l(this._map,e,r),t._middleMarkerNext.setLatLng(n)),t._middleMarkerPrev&&(r=l(this._map,e,i),t._middleMarkerPrev.setLatLng(r)),this.options.allowSelfIntersection||this._handleLayerStyle())},_onMarkerDragEnd:function(t){var e=t.target,e=this.findDeepMarkerIndex(this._markers,e).indexPath;!this.options.allowSelfIntersection&&this.hasSelfIntersection()?(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this._handleLayerStyle()):(this._layer.fire("pm:markerdragend",{markerEvent:t,indexPath:e}),this._fireEdit())},_onMarkerDragStart:function(t){var e=t.target,e=this.findDeepMarkerIndex(this._markers,e).indexPath;this._layer.fire("pm:markerdragstart",{markerEvent:t,indexPath:e}),this.options.allowSelfIntersection||(this._coordsBeforeEdit=this._layer.getLatLngs()),this.cachedColor=this._layer.options.color},_fireEdit:function(){this._layerEdited=!0,this._layer.fire("pm:edit")}}),a.Polygon=a.Line.extend({}),a.Rectangle=a.Polygon.extend({_initMarkers:function(){var t=this._map,e=this._findCorners(),e=(this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new R.LayerGroup,this._markerGroup._pmTempLayer=!0,t.addLayer(this._markerGroup),this._markers=[],this._markers[0]=e.map(this._createMarker,this),function(t){if(Array.isArray(t))return t}(t=this._markers)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var e=[],n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(e.push(o.value),1!==e.length);n=!0);}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return e}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}());this._cornerMarkers=e[0],this.options.snappable&&this._initSnappableMarkers()},_createMarker:function(t,e){var n=new R.Marker(t,{draggable:!0,icon:R.divIcon({className:"marker-icon"})});return n._origLatLng=t,n._index=e,n._pmTempLayer=!0,n.on("dragstart",this._onMarkerDragStart,this),n.on("drag",this._onMarkerDrag,this),n.on("dragend",this._onMarkerDragEnd,this),n.on("pm:snap",this._adjustRectangleForMarkerSnap,this),this.options.preventMarkerRemoval||n.on("contextmenu",this._removeMarker,this),this._markerGroup.addLayer(n),n},_removeMarker:function(){return null},_onMarkerDragStart:function(t){var e=t.target,n=this._findCorners();e._oppositeCornerLatLng=n[(e._index+2)%4],e._snapped=!1,this._layer.fire("pm:markerdragstart",{markerEvent:t})},_onMarkerDrag:function(t){t=t.target;void 0===t._index||t._snapped||this._adjustRectangleForMarkerMove(t)},_onMarkerDragEnd:function(t){var e=this._findCorners();this._adjustAllMarkers(e),this._cornerMarkers.forEach(function(t){delete t._oppositeCornerLatLng}),this._layer.setLatLngs(e),this._layer.fire("pm:markerdragend",{markerEvent:t}),this._fireEdit()},_adjustRectangleForMarkerMove:function(t){R.extend(t._origLatLng,t._latlng);var e=t.getLatLng();this._layer.setBounds(R.latLngBounds(e,t._oppositeCornerLatLng)),this._adjustAdjacentMarkers(t),this._layer.redraw()},_adjustRectangleForMarkerSnap:function(t){this.options.snappable&&(t=t.target,this._adjustRectangleForMarkerMove(t))},_adjustAllMarkers:function(n){n.length&&4===n.length?this._cornerMarkers.forEach(function(t,e){t.setLatLng(n[e])}):console.error("_adjustAllMarkers() requires an array of EXACTLY 4 LatLng coordinates")},_adjustAdjacentMarkers:function(t){var n,r,i,o;t&&t.getLatLng&&t._oppositeCornerLatLng?(n=t.getLatLng(),r=t._oppositeCornerLatLng,i=[],this._findCorners().forEach(function(t){t.equals(n)||t.equals(r)||i.push(t)}),o=0,2===i.length&&this._cornerMarkers.forEach(function(t){var e=t.getLatLng();e.equals(n)||e.equals(r)||(t.setLatLng(i[o]),o+=1)})):console.error("_adjustAdjacentMarkers() requires a valid Marker object")},_findCorners:function(){var t=this._layer.getBounds();return[t.getNorthWest(),t.getNorthEast(),t.getSouthEast(),t.getSouthWest()]}}),a.Circle=a.extend({initialize:function(t){this._layer=t,this._enabled=!1},applyOptions:function(){this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this),this._centerMarker.on("move",this._moveCircle,this)):this._disableSnapping()},_disableSnapping:function(){var e=this;this._markers.forEach(function(t){t.off("move",e._syncHintLine,e),t.off("move",e._syncCircleRadius,e),t.off("drag",e._handleSnapping,e),t.off("dragend",e._cleanupSnapping,e)}),this._layer.off("pm:dragstart",this._unsnap,this)},toggleEdit:function(t){this.enabled()?this.disable():this.enable(t)},enabled:function(){return this._enabled},enable:function(t){var e=this;R.Util.setOptions(this,t),this._map=this._layer._map,this.enabled()||this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",function(t){e.disable(t.target)})},disable:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._layer;if(!this.enabled())return!1;if(t.pm._dragging)return!1;t.pm._enabled=!1,t.pm._helperLayers.clearLayers(),t.off("mousedown"),t.off("mouseup");t=t._path||this._layer._renderer._container;return R.DomUtil.removeClass(t,"leaflet-pm-draggable"),this._layer.fire("pm:disable"),this._layerEdited&&this._layer.fire("pm:update",{}),!(this._layerEdited=!1)},_initMarkers:function(){var t=this._map,t=(this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new R.LayerGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(t),this._layer.getLatLng()),e=this._layer._radius,e=this._getLatLngOnCircle(t,e);this._centerMarker=this._createCenterMarker(t),this._outerMarker=this._createOuterMarker(e),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle:function(t,e){t=this._map.project(t),e=R.point(t.x+e,t.y);return this._map.unproject(e)},_resizeCircle:function(){this._syncHintLine(),this._syncCircleRadius()},_moveCircle:function(t){var t=t.latlng,e=(this._layer.setLatLng(t),this._layer._radius),e=this._getLatLngOnCircle(t,e);this._outerMarker.setLatLng(e),this._syncHintLine(),this._layer.fire("pm:centerplaced",{layer:this._layer,latlng:t})},_onMarkerDragStart:function(t){this._layer.fire("pm:markerdragstart",{markerEvent:t})},_onMarkerDragEnd:function(t){this._fireEdit(),this._layer.fire("pm:markerdragend",{markerEvent:t})},_syncCircleRadius:function(){var t=this._centerMarker.getLatLng(),e=this._outerMarker.getLatLng(),t=t.distanceTo(e);this._layer.setRadius(t)},_syncHintLine:function(){var t=this._centerMarker.getLatLng(),e=this._outerMarker.getLatLng();this._hintline.setLatLngs([t,e])},_createHintLine:function(t,e){t=t.getLatLng(),e=e.getLatLng();this._hintline=R.polyline([t,e],this.options.hintlineStyle),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(t){t=this._createMarker(t);return R.DomUtil.addClass(t._icon,"leaflet-pm-draggable"),t.on("drag",this._moveCircle,this),t},_createOuterMarker:function(t){t=this._createMarker(t);return t.on("drag",this._resizeCircle,this),t},_createMarker:function(t){var e=new R.Marker(t,{draggable:!0,icon:R.divIcon({className:"marker-icon"})});return e._origLatLng=t,e._pmTempLayer=!0,e.on("dragstart",this._onMarkerDragStart,this),e.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(e),e},_fireEdit:function(){this._layer.fire("pm:edit"),this._layerEdited=!0}}),a.CircleMarker=a.extend({initialize:function(t){this._layer=t,this._enabled=!1},applyOptions:function(){this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},toggleEdit:function(t){this.enabled()?this.disable():this.enable(t)},enabled:function(){return this._enabled},enable:function(){R.Util.setOptions(this,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{draggable:!0,snappable:!0}),this._map=this._layer._map,this._map&&(this.enabled()||this.disable(),this.applyOptions(),this._enabled=!0,this._layer.on("pm:dragend",this._onMarkerDragEnd,this))},disable:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._layer;return!(t.pm._dragging||(this.disableLayerDrag(),this.enabled()||(this._layer.fire("pm:disable"),this._layerEdited&&this._layer.fire("pm:update",{}),this._layerEdited=!1),t.pm._enabled=!1))},_moveMarker:function(t){t=t.latlng;this._layer.setLatLng(t).redraw()},_removeMarker:function(){this._layer.fire("pm:remove"),this._layer.remove()},_fireEdit:function(){this._layer.fire("pm:edit"),this._layerEdited=!0},_onMarkerDragEnd:function(t){this._layer.fire("pm:markerdragend",{markerEvent:t}),this._fireEdit()},_initSnappableMarkers:function(){var t=this._layer;this.options.snapDistance=this.options.snapDistance||30,t.off("pm:drag",this._handleSnapping,this),t.on("pm:drag",this._handleSnapping,this),t.off("pm:dragend",this._cleanupSnapping,this),t.on("pm:dragend",this._cleanupSnapping,this),t.off("pm:dragstart",this._unsnap,this),t.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var t=this._layer;t.off("pm:drag",this._handleSnapping,this),t.off("pm:dragend",this._cleanupSnapping,this),t.off("pm:dragstart",this._unsnap,this)}}),n(136),n(137),R.PM=R.PM||{version:e.a,Map:i,Toolbar:c,Draw:p,Edit:a,activeLang:"en",initialize:function(t){this.addInitHooks(t)},addInitHooks:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};R.Map.addInitHook(function(){this.pm=void 0,t.optIn?!1===this.options.pmIgnore&&(this.pm=new R.PM.Map(this)):this.options.pmIgnore||(this.pm=new R.PM.Map(this))}),R.LayerGroup.addInitHook(function(){this.pm=new R.PM.Edit.LayerGroup(this)}),R.Marker.addInitHook(function(){this.pm=void 0,t.optIn?!1===this.options.pmIgnore&&(this.pm=new R.PM.Edit.Marker(this)):this.options.pmIgnore||(this.pm=new R.PM.Edit.Marker(this))}),R.CircleMarker.addInitHook(function(){this.pm=void 0,t.optIn?!1===this.options.pmIgnore&&(this.pm=new R.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new R.PM.Edit.CircleMarker(this))}),R.Polyline.addInitHook(function(){this.pm=void 0,t.optIn?!1===this.options.pmIgnore&&(this.pm=new R.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new R.PM.Edit.Line(this))}),R.Polygon.addInitHook(function(){this.pm=void 0,t.optIn?!1===this.options.pmIgnore&&(this.pm=new R.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new R.PM.Edit.Polygon(this))}),R.Rectangle.addInitHook(function(){this.pm=void 0,t.optIn?!1===this.options.pmIgnore&&(this.pm=new R.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new R.PM.Edit.Rectangle(this))}),R.Circle.addInitHook(function(){this.pm=void 0,t.optIn?!1===this.options.pmIgnore&&(this.pm=new R.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new R.PM.Edit.Circle(this))})}},R.PM.initialize()}],r={},i.m=n,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==g(e)&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=58)}},t.exports});;
Cube("datav:/com/datavmap-canvas2d/2.3.16/src/css/map.css", [], function(m){m.exports=".leaflet-popup-content-custom,.leaflet-popup-content-wrapper-custom{margin:0;padding:0}.leaflet-popup-tip-container-custom{width:40px;height:20px;position:absolute;left:50%;margin-left:-20px;overflow:hidden;pointer-events:none}.leaflet-popup-tip-custom{width:17px;height:17px;padding:1px;margin:-10px auto 0;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.leaflet-popup-content-wrapper-custom{background:#333;color:#fff;box-shadow:0 3px 14px rgba(0,0,0,.4)}.leaflet-popup-tip-custom{background:#333;color:#fff;box-shadow:0 3px 14px rgba(0,0,0,.4)}.leaflet-container a.leaflet-popup-close-button-custom{position:absolute;top:0;right:0;padding:4px 4px 0 0;border:none;text-align:center;width:18px;height:14px;font:16px/14px Tahoma,Verdana,sans-serif;color:#c3c3c3;text-decoration:none;font-weight:700;background:0 0}.leaflet-container a.leaflet-popup-close-button-custom:hover{color:#999}";return m.exports});;
Cube("datav:/com/datavmap-canvas2d/2.3.16/src/libs/ainimateFrame",[],function(n,e,i,a,t,o){for(var m=0,r=["webkit","moz"],w=0;w<r.length&&!window.requestAnimationFrame;++w)window.requestAnimationFrame=window[r[w]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[r[w]+"CancelAnimationFrame"]||window[r[w]+"CancelRequestAnimationFrame"];return window.requestAnimationFrame||(window.requestAnimationFrame=function(n,e){var i=(new Date).getTime(),a=Math.max(0,16.7-(i-m)),t=window.setTimeout(function(){n(i+a)},a);return m=i+a,t}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)}),n.exports});;
Cube("datav:/com/datavmap-canvas2d/2.3.16/src/libs/jquery.actual",[],function(t,n,a,e,o,i){return t.exports=function(c){return c.fn.addBack=c.fn.addBack||c.fn.andSelf,c.fn.extend({actual:function(t,n){var a,e,o,i,r,s;if(this[t])return a=c.extend({absolute:!1,clone:!1,includeMargin:!1,display:"block"},n),e=this.eq(0),n=!0===a.clone?(s=function(){e=e.clone().attr("style","position: absolute !important; top: -1000 !important; ").appendTo("body")},function(){e.remove()}):(o=[],i="",s=function(){r=e.parents().addBack().filter(":hidden"),i+="visibility: hidden !important; display: "+a.display+" !important; ",!0===a.absolute&&(i+="position: absolute !important; "),r.each(function(){var t=c(this),n=t.attr("style");o.push(n),t.attr("style",n?n+";"+i:i)})},function(){r.each(function(t){var n=c(this),t=o[t];void 0===t?n.removeAttr("style"):n.attr("style",t)})}),s(),s=/(outer)/.test(t)?e[t](a.includeMargin):e[t](),n(),s;throw'$.actual => The jQuery method "'+t+'" you called does not exist'}}),c},t.exports});;
Cube("datav:/com/datavmap-canvas2d/2.3.16/src/datavLeaflet",["datav:/npm/leaflet/1.6.0/dist/leaflet","datav:/npm/leaflet/1.6.0/dist/leaflet.css","datav:/npm/@geoman-io/leaflet-geoman-free/2.13.0/dist/leaflet-geoman.css","datav:/npm/jquery/2.1.4","datav:/npm/proj4leaflet/1.0.2/lib/proj4-compressed"],function(t,o,i,s,e,a){var n=i("datav:/npm/leaflet/1.6.0/dist/leaflet"),r=(i("datav:/npm/leaflet/1.6.0/dist/leaflet.css",""),i("datav:/npm/@geoman-io/leaflet-geoman-free/2.13.0/dist/leaflet-geoman.css",""),i("datav:/com/datavmap-canvas2d/2.3.16/src/css/map.css",""),i("datav:/com/datavmap-canvas2d/2.3.16/src/geoman").bindLeaflet(n),i("datav:/npm/jquery/2.1.4")),l=(i("datav:/com/datavmap-canvas2d/2.3.16/src/libs/jquery.actual")(r),i("datav:/npm/proj4leaflet/1.0.2/lib/proj4-compressed")),c=(n.datavUtils=i("datav:/com/datavmap-canvas2d/2.3.16/src/utils"),n.customPopup=i("datav:/com/datavmap-canvas2d/2.3.16/src/popup"),n.MyCanvasLayer=i("datav:/com/datavmap-canvas2d/2.3.16/src/layer/canvasLayer"),n.GLCanvasLayer=i("datav:/com/datavmap-canvas2d/2.3.16/src/layer/glCanvasLayer"),n.spatialAnalysis=i("datav:/com/datavmap-canvas2d/2.3.16/src/spatialAnalysis"),n.GridLayer.prototype._initTile),p=(n.GridLayer.prototype._initTile=function(t){c.call(this,t);var o=this.getTileSize(),i=void 0===this.options.expandPiexl?1:this.options.expandPiexl;t.style.width=o.x+i+"px",t.style.height=o.y+i+"px"},n.Map.prototype.getSize),d=(n.Map.prototype.getSize=function(t){var o;return p.call(this,t),this._size&&!this._sizeChanged&&0!==this._size.x&&0!==this._size.y||(t=r(this._container).actual("width"),o=r(this._container).actual("height"),this._size=new n.Point(this._container.clientWidth||t||0,this._container.clientHeight||o||0),this._sizeChanged=!1),this._size.clone()},n.Popup.prototype._initLayout);return n.Popup.prototype._initLayout=function(){d.call(this);var t="leaflet-popup",o=this._container=n.DomUtil.create("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),i=this._wrapper=n.DomUtil.create("div",t+(this.options.isCustomPopup?"-content-wrapper-custom":"-content-wrapper"),o);this._contentNode=n.DomUtil.create("div",t+(this.options.isCustomPopup?"-content-custom":"-content"),i),n.DomEvent.disableClickPropagation(i),n.DomEvent.disableScrollPropagation(this._contentNode),n.DomEvent.on(i,"contextmenu",n.DomEvent.stopPropagation),this._tipContainer=n.DomUtil.create("div",t+(this.options.isCustomPopup?"-tip-container-custom":"-tip-container"),o),this._tip=n.DomUtil.create("div",t+(this.options.isCustomPopup?"-tip-custom":"-tip"),this._tipContainer),this.options.closeButton&&((i=this._closeButton=n.DomUtil.create("a",t+(this.options.isCustomPopup?"-close-button-custom":"-close-button"),o)).href="#close",i.innerHTML="&#215;",n.DomEvent.on(i,"click",this._onCloseButtonClick,this))},n.Proj={},n.Proj._isProj4Obj=function(t){return void 0!==t.inverse&&void 0!==t.forward},n.Proj.Projection=n.Class.extend({initialize:function(t,o,i){var s=n.Proj._isProj4Obj(t);this._proj=s?t:this._projFromCodeDef(t,o),this.bounds=s?o:i},project:function(t){t=this._proj.forward([t.lng,t.lat]);return new n.Point(t[0],t[1])},unproject:function(t,o){t=this._proj.inverse([t.x,t.y]);return new n.LatLng(t[1],t[0],o)},_projFromCodeDef:function(t,o){if(o)l.defs(t,o);else if(void 0===l.defs[t]){o=t.split(":");if(3<o.length&&(t=o[o.length-3]+":"+o[o.length-1]),void 0===l.defs[t])throw"No projection definition for code "+t}return l(t)}}),n.Proj.CRS=n.Class.extend({includes:n.CRS,options:{transformation:new n.Transformation(1,0,-1,0)},initialize:function(t,o,i){var s,e;if(n.Proj._isProj4Obj(t)?(s=t.srsCode,this.projection=new n.Proj.Projection(t,(e=o||{}).bounds)):this.projection=new n.Proj.Projection(s=t,o,(e=i||{}).bounds),n.Util.setOptions(this,e),this.code=s,this.transformation=this.options.transformation,this.options.origin&&(this.transformation=new n.Transformation(1,-this.options.origin[0],-1,this.options.origin[1])),this.options.scales)this._scales=this.options.scales;else if(this.options.resolutions){this._scales=[];for(var a=this.options.resolutions.length-1;0<=a;a--)this.options.resolutions[a]&&(this._scales[a]=1/this.options.resolutions[a])}this.infinite=!this.options.bounds},scale:function(t){var o,i=Math.floor(t);return t===i?this._scales[t]:(o=this._scales[i])+(this._scales[i+1]-o)*(t-i)},zoom:function(t){var o,i=this._closestElement(this._scales,t),s=this._scales.indexOf(i);return t===i?s:void 0===(o=this._scales[s+1])?1/0:(t-i)/(o-i)+s},distance:n.CRS.Earth.distance,R:n.CRS.Earth.R,_closestElement:function(t,o){for(var i,s=t.length;s--;)t[s]<=o&&(void 0===i||i<t[s])&&(i=t[s]);return i}}),n.CRS.BD09=new n.Proj.CRS("EPSG:900913","+proj=merc +a=6378206 +b=6356584.314245179 +lat_ts=0.0 +lon_0=0.0 +x_0=0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs",{resolutions:function(){level=19;var t=[];t[0]=Math.pow(2,18);for(var o=1;o<level;o++)t[o]=Math.pow(2,18-o);return t}(),origin:[0,0],bounds:n.bounds([20037508.342789244,0],[0,20037508.342789244])}),t.exports=n,t.exports});;
Cube("datav:/com/datavmap-canvas2d/2.3.16/src/map",["datav:/npm/eventemitter3/3.0.0","datav:/npm/safely-merge/1.0.1","datav:/npm/lodash.throttle/4.1.1","datav:/npm/jquery/2.1.4","datav:/npm/@amap/amap-jsapi-loader/1.0.1"],function(e,t,o,a,i,s){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=h(o),t=(e=a?(e=h(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=o("datav:/npm/eventemitter3/3.0.0"),u=o("datav:/npm/safely-merge/1.0.1"),c=o("datav:/npm/lodash.throttle/4.1.1"),d=o("datav:/com/datavmap-canvas2d/2.3.16/src/datavLeaflet"),y=o("datav:/npm/jquery/2.1.4"),v=o("datav:/npm/@amap/amap-jsapi-loader/1.0.1"),o=(o("datav:/com/datavmap-canvas2d/2.3.16/src/libs/jquery.actual")(y),o("datav:/com/datavmap-canvas2d/2.3.16/src/libs/ainimateFrame"),function(){var e=i,t=m;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t);var o,a=l(i);function i(e,t){var o;if(this instanceof i)return(o=a.call(this)).container=e,o.options=u({padding:.01,visibility:!0,steplessZooming:!0,highPerformance:!0,mapOptions:{background:"rgba(0,0,0,0)",zoom:{zoomRange:[0,20],default:4.5},center:{lng:108,lat:38},coordinateSystem:"normal",normal:"EPSG3857",custom:{epsg:"",proj:"",originX:0,originY:0,resolutions:""},scaleControl:{show:!1,fontColor:"#fff",borderColor:"#777",offsetX:0,offsetY:20}},popupStyle:{backgroundColor:"rgba(22,138,214,0.73)",borderRadius:5,closeBtn:{color:"#fff",size:16},margin:"5px 20px",lineSpace:5,textStyle:{fontFamily:"Microsoft Yahei",fontSize:12,color:"#FFFFFF",shadowColor:"#E8E36C",shadowBlur:0,fontWeight:"normal"}},interactive:{dragging:!0,scrollWheelZoom:!0,isInteractive:!0}},t),o.map=null,o._data=null,o.subcoms={},o.layerKeys=[],o.fly_timer=null,o.loopIndex=0,o.loopIndex_noAnimateLayer=0,o.groupCanvasLayerKeys_types=[],o.groupCanvasLayerKeys={},o.canvasLayerGroup=[],o.init(),o;throw new TypeError("Cannot call a class as a function")}return e=i,(t=[{key:"init",value:function(){var e=u({},this.options),t=e.mapOptions,o=e.interactive,a=e.steplessZooming?.1:.5,i=e.steplessZooming?.1:.5,s={center:t.center,zoomSnap:a,zoomDelta:i,zoom:t.zoom.defaultZoom,doubleClickZoom:!1,padding:e.padding,dragging:o.dragging,keyboard:o.dragging,scrollWheelZoom:o.scrollWheelZoom},a=t.coordinateSystem,n=t.normal,i=t.custom;if("normal"===a)switch(n){case"EPSG3857":case"EPSG3395":case"EPSG4326":case"BD09":s.crs=d.CRS[n],s.crsCode=n;break;default:s.crs=d.CRS.EPSG3857,s.crsCode="EPSG3857"}else i.EPSG&&i.proj&&i.originX&&i.originY&&i.resolutions?(a=(a=i.proj4.resolutions.split(",")).map(function(e){return+e}),d.CRS.EPSG_Custom=new d.Proj.CRS(i.proj4.epsg,i.proj4.proj,{origin:[+i.proj4.originX,+i.proj4.originY],resolutions:a}),s.crs=d.CRS.EPSG_Custom,s.crsCode="EPSG_Custom"):(s.crs=d.CRS.EPSG3857,s.crsCode="EPSG3857");this.map=d.map(this.container,s),o.scrollWheelZoom?(this.map.scrollWheelZoom.enable(),this.map.touchZoom.enable()):(this.map.scrollWheelZoom.disable(),this.map.touchZoom.disable()),this.map.setMinZoom(t.zoom.zoomRange[0]),this.map.setMaxZoom(t.zoom.zoomRange[1]),this.container.style.background=t.background,this.container.style.cursor="",this.container.querySelector(".leaflet-control-attribution").innerHTML="",this.container.querySelector(".leaflet-control-zoom").style.display="none",this.map.AMapLoader=v,this.map.L=d,this.map.popupStyle=e.popupStyle,this.map.featureSelect=null,this.updateScaleControl(t.scaleControl),e.highPerformance?this.map.devicePixelRatio=window.devicePixelRatio:this.map.devicePixelRatio=1,this.initEvents=this.initEvents.bind(this),this.initEvents(),this.initCanvasLayer(),this.initOriginalCanvas(),this.map.isMapMoving=!1,this.reDrawCanvas=this.reDrawCanvas.bind(this),this.updateOptions=this.updateOptions.bind(this),this.loop=this.loop.bind(this),this.loop()}},{key:"resetLgeoJson",value:function(t){d.Proj.GeoJSON=d.GeoJSON.extend({initialize:function(e,t){this._callLevel=0,d.GeoJSON.prototype.initialize.call(this,e,t)},addData:function(e){e&&void 0!==t&&(this.options.coordsToLatLng=function(e){e=d.point(e[0],e[1]);return t.projection.unproject(e)}),this._callLevel++;try{d.GeoJSON.prototype.addData.call(this,e)}finally{this._callLevel--,0===this._callLevel&&delete this.options.coordsToLatLng}}}),d.Proj.geoJson=function(e,t){return new d.Proj.GeoJSON(e,t)},d.geoJSON=function(e,t){return new d.Proj.GeoJSON(e,t)}}},{key:"initOriginalCanvas",value:function(){var i=this,s=d.Canvas.prototype._update;d.Canvas.prototype._update=function(){var e,t,o,a;s.call(this),this._map._animatingZoom&&this._bounds||(d.Renderer.prototype._update.call(this),e=this._bounds,t=this._container,o=e.getSize(),a=d.Browser.retina?2:1,i&&i.map&&i.map.devicePixelRatio&&(a=i.map.devicePixelRatio),d.DomUtil.setPosition(t,e.min),t.width=a*o.x,t.height=a*o.y,t.style.width=o.x+"px",t.style.height=o.y+"px",d.Browser.retina&&this._ctx.scale(a,a),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update"))}}},{key:"onMapMoveStart",value:function(e){this.map.isMapMoving=!0}},{key:"onMapMove",value:function(e){e.mouseState=""+this.map.mouseState,this.emit("onMapMove",e)}},{key:"onMapMoveEnd",value:function(e){this.map.isMapMoving=!1,e.mouseState=""+this.map.mouseState,this.emit("onMapMoveEnd",e),this.onRender()}},{key:"onMapZoomEnd",value:function(e){var t,o,a,i,s=this,n=s.map.getZoom();s.map._mapPane.querySelector(".leaflet-popup")&&(t=s.map._popup)&&(o=t.minZoom||0,a=t.miaxZoom||20,(n<o||a<n)&&t._close());for(var r=s.layerKeys.length-1;0<=r;r--)(i=s.subcoms[s.layerKeys[r]])&&i.options&&i.options.renderer&&"basemap"===i.options.renderer?n<i.options.minZoom||n>i.options.maxZoom?i.options.basemapType&&"tile"===i.options.basemapType?(i.layer.layer&&i.layer.layer.setOpacity(0),i.layer.mask&&(i.layer.mask.style.display="none")):i.options.basemapType&&"amap"===i.options.basemapType&&i.layer&&i.layer.pane&&(i.layer.pane.style.opacity=0):i.options.visibility&&(i.options.basemapType&&"tile"===i.options.basemapType?(i.layer&&i.layer.layer&&i.layer.layer.setOpacity(i.options.opacity),i.layer&&i.layer.mask&&(i.layer.mask.style.display="block")):i.options.basemapType&&"amap"===i.options.basemapType&&i.layer&&i.layer.pane&&(i.layer.pane.style.opacity=1)):i&&i.options&&i.options.renderer&&"topinfo"===i.options.renderer&&(n<i.options.minZoom||n>i.options.maxZoom?i.layer&&i.layer.pane&&(i.layer.pane.style.display="none"):i.layer&&i.layer.pane&&(i.layer.pane.style.display="block"))}},{key:"resize",value:function(e,t){for(var o,e=e||y(this.map.getContainer()).actual("width"),t=t||y(this.map.getContainer()).actual("height"),a=(this.map.invalidateSize(!0),this.width=e*(1+2*this.options.padding)),i=this.height=t*(1+2*this.options.padding),s=this.layerKeys.length-1;0<=s;s--)(o=this.subcoms[this.layerKeys[s]])&&o.options&&o.options.renderer&&"canvas"===o.options.renderer&&o.onResize&&o.onResize(a,i)}},{key:"initEvents",value:function(){this.map.on("mousemove",c(this.onMouseMove,32,this),this),this.map.on("click",c(this.onClick,32,this),this),this.map.on("dblclick",c(this.onDblclick,32,this),this),this.map.on("mouseout",this.onMouseOut,this),this.map.on("mousedown",this.onMouseDown,this),this.map.on("movestart",this.onMapMoveStart,this),this.map.on("move",this.onMapMove,this),this.map.on("moveend",c(this.onMapMoveEnd,32,this),this),this.map.on("zoomend",c(this.onMapZoomEnd,32,this),this)}},{key:"initCanvasLayer",value:function(){this.canvasLayer=new this.map.L.MyCanvasLayer({padding:this.options.padding}),this.canvasLayer.addTo(this.map),this.map.canvasLayer=this.canvasLayer;var e=y(this.map.getContainer()).actual("width"),t=y(this.map.getContainer()).actual("height"),e=d.point(e,t),t=this.options.padding,o=this.map.containerPointToLayerPoint(e.multiplyBy(-t)).round(),o=(this.bounds=new d.Bounds(o,o.add(e.multiplyBy(1+2*t)).round())).getSize(),e=this.width=o.x,t=this.height=o.y;this.canvasLayer.container.width=e,this.canvasLayer.container.height=t,this.canvasLayer.container.style.width=e+"px",this.canvasLayer.container.style.height=t+"px"}},{key:"loop",value:function(){if(30===this.loopIndex_noAnimateLayer?this.loopIndex_noAnimateLayer=0:this.loopIndex_noAnimateLayer++,0<this.loopIndex)this.options.visibility?this.map.visibility=!0:this.map.visibility=!1,!this.options.visibility||!this.loopId||this.map.isMapMoving||this.map.dragging.moving()||this.map._panAnim&&this.map._panAnim._inProgress||this.reDrawCanvas(!0),this.loopIndex=0;else{if(this.options.visibility&&this.loopId&&!this.map.isMapMoving&&!this.map.dragging.moving()&&(!this.map._panAnim||!this.map._panAnim._inProgress))for(var e,t=this.map.getZoom(),o=this.layerKeys.length-1;0<=o;o--)(e=this.subcoms[this.layerKeys[o]])&&e.options&&e.options.isAnimateLayer&&e.options.renderer&&"canvas"===e.options.renderer&&e.options.visibility&&t>=e.options.minZoom&&t<=e.options.maxZoom&&(e.layer.ctx.clearRect(0,0,e.layer.container.width,e.layer.container.height),e.layer.update());this.loopIndex=1}this.loopId=window.requestAnimationFrame(this.loop)}},{key:"reDrawCanvas",value:function(e){for(var t,o=this.map.getZoom(),a=this.groupCanvasLayerKeys_types.length-1;0<=a;a--){var i=this.groupCanvasLayerKeys_types[a],s=this.groupCanvasLayerKeys[a];if(!(0===i&&e&&this.loopIndex_noAnimateLayer<30)){this.canvasLayerGroup[this.groupCanvasLayerKeys_types.length-1-a].ctx.clearRect(0,0,this.width,this.height);for(var n=s.length-1;0<=n;n--)(t=this.subcoms[s[n]])&&t.options&&t.options.renderer&&"canvas"===t.options.renderer&&t.options.visibility&&o>=t.options.minZoom&&o<=t.options.maxZoom&&this.canvasLayerGroup[this.groupCanvasLayerKeys_types.length-1-a].ctx.drawImage(t.layer.container,0,0,this.width,this.height)}}}},{key:"onRender",value:function(){this.canvasLayer.ctx.clearRect(0,0,this.width,this.height),this.map.canvasLayer.updateContainer();for(var e,t=0;t<this.groupCanvasLayerKeys_types.length;t++)this.canvasLayerGroup[t].ctx.clearRect(0,0,this.width,this.height),this.canvasLayerGroup[t].updateContainer();for(var o=this.map.getZoom(),a=this.layerKeys.length-1;0<=a;a--)(e=this.subcoms[this.layerKeys[a]])&&e.options&&e.options.visibility&&e.options.renderer&&("canvas"===e.options.renderer||"topinfo"===e.options.renderer)&&e.layer.onRender&&o>=e.options.minZoom&&o<=e.options.maxZoom&&e.layer&&e.layer.onRender&&e.layer.onRender("needUpdata");for(var i,s=this.layerKeys.length-1;0<=s;s--)(e=this.subcoms[this.layerKeys[s]])&&e.options&&e.options.renderer&&"basemap"===e.options.renderer&&e.options.visibility&&(i=this.layerKeys.length-1-s,e.layer.amapContainer?e.layer.amapContainer.style.zIndex=2*i:e.setZIndex(2*i));this.reDrawCanvas()}},{key:"onMouseOut",value:function(e){this.map.featureSelect&&(this.map.featureSelect=null,this.hoveredLayer=null)}},{key:"onMouseDown",value:function(e){this.map.mouseState="mouse"}},{key:"onMouseMove",value:function(e){var t;!this.map||this.map.dragging.moving()||this.map._animatingZoom||!this.options.interactive.isInteractive||this.map._panAnim&&this.map._panAnim._inProgress||(t=this.map.mouseEventToLayerPoint(e),this.handleMouseHover(e,t),this.reDrawCanvas())}},{key:"handleMouseHover",value:function(e,t){for(var o,a=this.map.containerPointToLatLng([e.containerPoint.x,e.containerPoint.y]),i=this.subcoms,s=this.map.getZoom(),n=0;n<this.layerKeys.length;n++)if((o=i[this.layerKeys[n]])&&o.options.visibility&&o.containsLatLng&&!(s<o.options.minZoom||s>o.options.maxZoom)){var r,p=o.containsLatLng(a);if(this.map.featureSelect&&this.hoveredLayer&&p.flag&&this.map.featureSelect.geometry.coordinates!=p.feature.geometry.coordinates&&(this.hoveredLayer.renderer&&"topinfo"===this.hoveredLayer.renderer&&(this.map.featureSelect.layer&&this.map.featureSelect.layer.setStyle?this.map.featureSelect.layer.setStyle({radius:this.map.featureSelect.properties.radius}):this.map.featureSelect.layer&&this.map.featureSelect.layer._icon&&(this.map.featureSelect.layer._icon.querySelector("img").style.transformOrigin="",this.map.featureSelect.layer._icon.querySelector("img").style.transform="")),this.hoveredLayer.onMouseOut&&this.hoveredLayer.onMouseOut({feature:this.map.featureSelect,latlng:a}),this.map.featureSelect=null,this.map.isMapMoving||this.hoveredLayer.onRender&&this.hoveredLayer.onRender(),this.hoveredLayer.options.popupStyle&&this.hoveredLayer.options.popupStyle.show&&"mouseover"===this.hoveredLayer.options.popupStyle.eventType&&this.map.getContainer().querySelector(".leaflet-popup")&&this.map.closePopup()),p.flag&&(this.container.style.cursor="pointer",this.map.featureSelect&&this.map.featureSelect.geometry.coordinates==p.feature.geometry.coordinates||("topinfo"===o.options.renderer?(o.options.interactive.isHover.show&&(r=o.options.interactive.isHover.hoverScale||1,p.layer&&p.layer.setStyle?p.layer.setStyle({radius:p.layer.feature.properties.radius*r}):p.layer&&p.layer._icon&&(p.layer._icon.querySelector("img").style.transformOrigin=-1<p.layer._icon.querySelector("img").className.indexOf("leaflet-marker-icon-hover")?"50% 50%":"50% 100%",p.layer._icon.querySelector("img").style.transform="scale("+r+", "+r+")")),this.hoveredLayer=o,this.hoveredLayer.renderer="topinfo",this.map.featureSelect=p.feature,this.map.featureSelect.layer=p.layer):(this.map.featureSelect=p.feature,this.hoveredLayer=o),this.map.isMapMoving||o.onRender&&o.onRender(),o.onMouseOver&&o.onMouseOver({feature:p.feature,latlng:a}))),p.flag)break}p&&!p.flag&&(this.container.style.cursor="",this.map.featureSelect&&this.hoveredLayer&&(this.hoveredLayer.renderer&&"topinfo"===this.hoveredLayer.renderer&&(this.map.featureSelect.layer&&this.map.featureSelect.layer.setStyle?this.map.featureSelect.layer.setStyle({radius:this.map.featureSelect.properties.radius}):this.map.featureSelect.layer&&this.map.featureSelect.layer._icon&&(this.map.featureSelect.layer._icon.querySelector("img").style.transformOrigin="",this.map.featureSelect.layer._icon.querySelector("img").style.transform="")),this.hoveredLayer.onMouseOut&&this.hoveredLayer.onMouseOut({feature:this.map.featureSelect,latlng:a}),this.map.featureSelect=null,this.map.isMapMoving||this.hoveredLayer.onRender&&this.hoveredLayer.onRender(),this.hoveredLayer.options.popupStyle&&this.hoveredLayer.options.popupStyle.show&&"mouseover"===this.hoveredLayer.options.popupStyle.eventType&&this.map.getContainer().querySelector(".leaflet-popup")&&this.map.closePopup()))}},{key:"onClick",value:function(n){var r=this;setTimeout(function(){if(!(r.isDblclick||!r.map||r.map.dragging.moving()||r.map._animatingZoom||!r.options.interactive.isInteractive||r.map._panAnim&&r.map._panAnim._inProgress)){for(var e,t,o=r.map.containerPointToLatLng([n.containerPoint.x,n.containerPoint.y]),a=r.subcoms,i=r.map.getZoom(),s=0;s<r.layerKeys.length;s++)if((e=a[r.layerKeys[s]])&&e.options.visibility&&e.options.interactive&&e.containsLatLng&&!(i<e.options.minZoom||i>e.options.maxZoom)&&(t=e.containsLatLng(o)).flag){r.map.featureSelect!=t.feature&&(r.map.featureSelect=t.feature,r.hoveredLayer=e),e.onClick&&e.onClick({latlng:o,feature:t.feature,featureBounds:t.featureBounds});break}t&&!t.flag&&(r.map.featureSelect=null,r.hoveredLayer=null,r.isNewHover&&(r.map.isMapMoving||e.onRender&&e.onRender(),r.isNewHover=!1))}},300),setTimeout(function(){r.isDblclick=!1},500)}},{key:"onDblclick",value:function(e){if(!(!this.map||this.map.dragging.moving()||this.map._animatingZoom||!this.options.interactive.isInteractive||this.map._panAnim&&this.map._panAnim._inProgress)){this.isDblclick=!0;for(var t,o=this.map.containerPointToLatLng([e.containerPoint.x,e.containerPoint.y]),a=this.subcoms,i=this.map.getZoom(),s=0;s<this.layerKeys.length;s++){var n=a[this.layerKeys[s]];if(n&&n.options.visibility&&n.options.interactive&&n.containsLatLng&&!(i<n.options.minZoom||i>n.options.maxZoom)){if((t=n.containsLatLng(o)).flag){this.map.featureSelect!=t.feature&&(this.map.featureSelect=t.feature,this.hoveredLayer=n),n.onDblclick&&n.onDblclick({feature:t.feature,latlng:o});break}n.onDblclick&&n.onDblclick({feature:null,latlng:null})}}t&&!t.flag&&(this.map.featureSelect=null,this.hoveredLayer=null)}}},{key:"get",value:function(e){return this.coms[e]}},{key:"add",value:function(e,t){if(!e)return console.log("layer 没有定义");e.id=t,e.addTo&&e.addTo(this.map,t),this.subcoms[t]=e,this.layerKeys.push(t)}},{key:"remove",value:function(e,t){this.subcoms[t]=null,delete this.subcoms[t]}},{key:"updateLayerIndex",value:function(e){var t;this.layerKeys=[].concat(e);for(var o=this.layerKeys.length-1;0<=o;o--)(t=this.subcoms[this.layerKeys[o]])&&t.options&&t.options.renderer&&"canvas"!=t.options.renderer&&t.setZIndex&&t.setZIndex(this.layerKeys.length-1-o);this.canvasLayerKeys=[];for(var a=0;a<this.layerKeys.length;a++){var i=this.subcoms[this.layerKeys[a]];i&&i.options&&i.options.renderer&&"canvas"===i.options.renderer&&this.canvasLayerKeys.push(this.layerKeys[a])}var s=0;if(this.groupCanvasLayerKeys={},this.groupCanvasLayerKeys[s]=[],this.groupCanvasLayerKeys_types=[],0!==this.canvasLayerKeys.length)if(1===this.canvasLayerKeys.length){this.groupCanvasLayerKeys[s]=[],this.groupCanvasLayerKeys[s].push(this.canvasLayerKeys[0]);e=this.subcoms[this.canvasLayerKeys[0]];e&&e.options&&e.options.isAnimateLayer?this.groupCanvasLayerKeys_types.push(1):this.groupCanvasLayerKeys_types.push(0)}else for(var n=1;n<this.canvasLayerKeys.length;n++){var r=this.subcoms[this.canvasLayerKeys[n-1]],p=this.subcoms[this.canvasLayerKeys[n]];r&&r.options.renderer&&"canvas"==r.options.renderer&&p&&p.options.renderer&&"canvas"==p.options.renderer&&(1===n&&(this.groupCanvasLayerKeys[s].push(this.canvasLayerKeys[n-1]),r.options.isAnimateLayer?this.groupCanvasLayerKeys_types.push(1):this.groupCanvasLayerKeys_types.push(0)),p.options.isAnimateLayer!=r.options.isAnimateLayer&&(this.groupCanvasLayerKeys[++s]=[],p.options.isAnimateLayer?this.groupCanvasLayerKeys_types.push(1):this.groupCanvasLayerKeys_types.push(0)),this.groupCanvasLayerKeys[s].push(this.canvasLayerKeys[n]))}for(var l=0;l<this.canvasLayerGroup.length;l++){var h=this.canvasLayerGroup[l];this.map.removeLayer(h),h.remove()}this.canvasLayerGroup=[];for(var m=0;m<this.groupCanvasLayerKeys_types.length;m++){var c=new this.map.L.MyCanvasLayer({padding:this.options.padding});c.addTo(this.map),this.canvasLayerGroup.push(c)}}},{key:"updateOptions",value:function(e){this.map.mouseState="updateOptions";var t=Object.assign({},this.options),o=(this.options=u(this.options,e||{}),this.options),a=o.highPerformance,i=o.mapOptions,s=o.popupStyle,o=o.interactive,n=i.coordinateSystem,r=i.normal,p=i.custom,l=i.zoom,h=i.center,m=i.scaleControl,i=i.background;if(a!=t.highPerformance){e.highPerformance?this.map.devicePixelRatio=window.devicePixelRatio:this.map.devicePixelRatio=1;for(var c=0;c<this.layerKeys.length;c++){var y=this.subcoms[this.layerKeys[c]];y&&y.options&&y.options.renderer&&"canvas"===y.options.renderer&&y.onResize(this.width,this.height)}}if(n!=t.mapOptions.coordinateSystem||r!=t.mapOptions.normal||p.EPSG!=t.mapOptions.custom.EPSG||p.proj!=t.mapOptions.custom.proj||p.originX!=t.mapOptions.custom.originX||p.originY!=t.mapOptions.custom.originY||p.resolutions!=t.mapOptions.custom.resolutions)if("normal"===n)switch(r){case"EPSG3857":case"EPSG3395":case"EPSG4326":case"BD09":this.map.options.crs=d.CRS[r],this.map.options.crsCode=r;break;default:this.map.options.crs=d.CRS.EPSG3857,this.map.options.crsCode="EPSG3857"}else p.EPSG&&p.proj&&p.originX&&p.originY&&p.resolutions?(a=(a=p.proj4.resolutions.split(",")).map(function(e){return+e}),d.CRS.EPSG_Custom=new d.Proj.CRS(p.proj4.epsg,p.proj4.proj,{origin:[+p.proj4.originX,+p.proj4.originY],resolutions:a}),this.map.options.crs=d.CRS.EPSG_Custom,this.map.options.crsCode="EPSG_Custom"):(this.map.options.crs=d.CRS.EPSG3857,this.map.options.crsCode="EPSG3857");i!=t.mapOptions.background&&(this.container.style.background=i),l.zoomRange[0]==t.mapOptions.zoom.zoomRange[0]&&l.zoomRange[1]==t.mapOptions.zoom.zoomRange[1]&&l.defaultZoom==t.mapOptions.zoom.defaultZoom&&h==t.center||(this.map.setMinZoom(l.zoomRange[0]),this.map.setMaxZoom(l.zoomRange[1]),this.map.setView(h,l.defaultZoom)),this.map.popupStyle=s,m!=t.mapOptions.scaleControl&&this.updateScaleControl(m),o.dragging?this.map.dragging.enable():this.map.dragging.disable(),o.dragging?this.map.keyboard.enable():this.map.keyboard.disable(),o.scrollWheelZoom?(this.map.scrollWheelZoom.enable(),this.map.touchZoom.enable()):(this.map.scrollWheelZoom.disable(),this.map.touchZoom.disable()),this.container.style.pointerEvents=o.isInteractive?"auto":"none"}},{key:"addScaleControl",value:function(){this.scaleControl&&this.removeScaleControl();var e=this.scaleControl=d.control.scale({imperial:!1,maxWidth:150}),e=(e.addTo(this.map),e.getContainer().querySelector(".leaflet-control-scale-line")),t=this.options.mapOptions;e.style.marginBottom=+(5+t.scaleControl.offsetY)+"px",e.style.marginLeft=+(5+t.scaleControl.offsetX)+"px"}},{key:"updateScaleControl",value:function(e){var t;e.show?(this.addScaleControl(),(t=this.scaleControl.getContainer().querySelector(".leaflet-control-scale-line")).style.background="rgba(0,0,0,0)",t.style.color=e.fontColor,t.style.borderColor=e.borderColor,e=this.options.mapOptions,t.style.marginBottom=e.scaleControl.offsetY+"px",t.style.marginLeft=e.scaleControl.offsetX+"px"):this.removeScaleControl()}},{key:"removeScaleControl",value:function(){this.scaleControl&&this.scaleControl.remove(),this.scaleControl=null}},{key:"setView",value:function(e){this.map.mouseState="setView";var t=[],o=isNaN(e.zoom)?this.map.getZoom():e.zoom,t=isNaN(e.lng)||isNaN(e.lat)?this.map.getCenter():[e.lat,e.lng];this.map.setView(t,o)}},{key:"setZoom",value:function(e){this.map.mouseState="setZoom";e=e.zoom;"number"!=typeof e||isNaN(e)||this.map.setZoom(e)}},{key:"setZoomRange",value:function(e){e=e.range;this.map.setMinZoom(e[0]),this.map.setMaxZoom(e[1])}},{key:"setMaxBounds",value:function(e){e=e.bounds;e&&e[0]&&e[1]&&this.map.setMaxBounds(e)}},{key:"flyTo",value:function(e){var t=this,o=(this.map.mouseState="flyTo",[]),a=isNaN(e.zoom)?this.map.getZoom():e.zoom,o=isNaN(e.lng)||isNaN(e.lat)?this.map.getCenter():[+e.lat,+e.lng];this.canvasLayer.container.style.display="none";for(var i=0;i<this.groupCanvasLayerKeys_types.length;i++)this.canvasLayerGroup[i].container.style.display="none";e=e.duration||.25;this.map.flyTo(o,a,{duration:e,animate:!0}),this.fly_timer&&clearTimeout(this.fly_timer),this.fly_timer=setTimeout(function(){t.canvasLayer&&t.canvasLayer.container&&(t.canvasLayer.container.style.display="block");for(var e=0;e<t.groupCanvasLayerKeys_types.length;e++)t.canvasLayerGroup[e]&&t.canvasLayerGroup[e].container&&(t.canvasLayerGroup[e].container.style.display="block")},1e3*e)}},{key:"flyToBounds",value:function(e){var t=this,o=(this.map.mouseState="flyToBounds",e.bounds);this.canvasLayer.container.style.display="none";for(var a=0;a<this.groupCanvasLayerKeys_types.length;a++)this.canvasLayerGroup[a].container.style.display="none";var i=e.duration||.25;this.map.flyToBounds(o,{paddingTopLeft:e.paddingTopLeft||[0,0],paddingBottomRight:e.paddingBottomRight||[0,0],padding:e.padding||[0,0],duration:i,animate:!0,maxZoom:this.map.getMaxZoom()}),this.fly_timer&&clearTimeout(this.fly_timer),this.fly_timer=setTimeout(function(){t.canvasLayer&&t.canvasLayer.container&&(t.canvasLayer.container.style.display="block");for(var e=0;e<t.groupCanvasLayerKeys_types.length;e++)t.canvasLayerGroup[e]&&t.canvasLayerGroup[e].container&&(t.canvasLayerGroup[e].container.style.display="block")},1e3*i)}},{key:"show",value:function(){this.options.visibility=!0;var e=this.map.getCenter(),t=this.map.getZoom();d.DomUtil.setTransform(this.container.querySelector(".leaflet-proxy.leaflet-zoom-animated"),this.map.project(e,t),this.map.getZoomScale(t,1))}},{key:"hide",value:function(){this.options.visibility=!1,this.canvasLayer&&this.canvasLayer.ctx.clearRect(0,0,this.width,this.height),this.fly_timer&&clearTimeout(this.fly_timer)}},{key:"destroy",value:function(){this.loopId&&window.cancelAnimationFrame(this.loopId),this.fly_timer&&clearTimeout(this.fly_timer),this.map.off("mousemove",this.onMouseMove),this.map.off("click",this.onClick),this.map.off("dblclick",this.onDblclick),this.map.off("mouseout",this.onMouseOut),this.map.off("mousedown",this.onMouseDown),this.map.off("movestart",this.onMapMoveStart),this.map.off("move",this.onMapMove),this.map.off("moveend",this.onMapMoveEnd),this.map.off("zoomend",this.onMapZoomEnd),this.hoveredLayer=null,this.map.canvasLayer&&this.map.canvasLayer.remove&&this.map.canvasLayer.remove();for(var e=0;e<this.canvasLayerGroup.length;e++)this.canvasLayerGroup[e]&&this.canvasLayerGroup[e].remove&&this.canvasLayerGroup[e].remove();this.map.remove(),this.container&&(this.container.innerHTML="",this.container._leaflet_id=null)}}])&&r(e.prototype,t),o&&r(e,o),Object.defineProperty(e,"prototype",{writable:!1}),i}());return e.exports=o,e.exports});;
Cube("datav:/com/datavmap-canvas2d/2.3.16",["datav:/npm/eventemitter3/3.0.0"],function(e,t,i,n,o,a){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(i){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=c(i),t=(e=n?(e=c(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=i("datav:/npm/eventemitter3/3.0.0"),f=i("datav:/com/datavmap-canvas2d/2.3.16/src/map"),i=function(){var e=o,t=m;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t);var i,n=u(o);function o(e,t){var i;if(this instanceof o)return(i=n.call(this)).container="string"==typeof e?document.querySelector(e):e,i.options=Object.assign({},t),i.mapView=new f(i.container,t),i.initEvent(),i;throw new TypeError("Cannot call a class as a function")}return e=o,(t=[{key:"initEvent",value:function(){var n=this;this.mapView.on("onMapMove",function(e){var t,i;n.mapView&&n.mapView.map&&(t=n.mapView.map.getZoom(),i=n.mapView.map.getCenter(),e={type:e.mouseState||"",zoom:t,lng:+i.lng.toFixed(6),lat:+i.lat.toFixed(6)},n.emit("map-move",e))}),this.mapView.on("onMapMoveEnd",function(e){var t,i;n.mapView&&n.mapView.map&&(t=n.mapView.map.getZoom(),i=n.mapView.map.getCenter(),e={type:e.mouseState||"",zoom:t,lng:+i.lng.toFixed(6),lat:+i.lat.toFixed(6)},n.emit("map-moveend",e),n.mouseState="")})}},{key:"resize",value:function(e,t){this.mapView&&this.mapView.resize&&this.mapView.resize(e,t)}},{key:"get",value:function(e){return this.mapView.get(e)}},{key:"add",value:function(e,t){this.mapView&&this.mapView.add&&this.mapView.add(e,t)}},{key:"remove",value:function(e,t){this.mapView&&this.mapView.remove&&this.mapView.remove(e,t)}},{key:"updateLayerIndex",value:function(e){this.mapView&&this.mapView.updateLayerIndex&&this.mapView.updateLayerIndex(e)}},{key:"updateOptions",value:function(e){this.mapView&&this.mapView.updateOptions&&this.mapView.updateOptions(e)}},{key:"show",value:function(){this.container&&(this.container.style.opacity=1,this.container.style.pointerEvents=this.options.interactive.isInteractive?"auto":"none"),this.mapView&&this.mapView.show&&this.mapView.show()}},{key:"hide",value:function(){this.container&&(this.container.style.opacity=0,this.container.style.pointerEvents="none"),this.mapView&&this.mapView.show&&this.mapView.hide()}},{key:"render",value:function(e){e&&e[0]&&(e=e[0],this.setView(e))}},{key:"setView",value:function(e){e&&this.mapView&&this.mapView.setView&&this.mapView.setView(e)}},{key:"setZoom",value:function(e){e&&this.mapView&&this.mapView.setZoom&&this.mapView.setZoom(e)}},{key:"setZoomRange",value:function(e){e&&e.range&&this.mapView&&this.mapView.setZoomRange&&this.mapView.setZoomRange(e)}},{key:"setMaxBounds",value:function(e){e&&e.bounds&&this.mapView&&this.mapView.setMaxBounds&&this.mapView.setMaxBounds(e)}},{key:"flyTo",value:function(e){e&&this.mapView&&this.mapView.flyTo&&this.mapView.flyTo(e)}},{key:"flyToBounds",value:function(e){e&&e.bounds&&this.mapView&&this.mapView.flyToBounds&&this.mapView.flyToBounds(e)}},{key:"destroy",value:function(){this.mapView&&this.mapView.destroy&&this.mapView.destroy(),this.mapView=null,this.container&&(this.container.innerHTML="",this.container._leaflet_id=null),delete this.mapView,this.container}}])&&s(e.prototype,t),i&&s(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}();return e.exports=i,e.exports});