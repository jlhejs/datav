(function(e,i){"use strict";var S=(t,s)=>{const l=t.__vccOpts||t;for(const[u,n]of s)l[u]=n;return l};const w=e.defineComponent({name:"VParagraph",props:{com:{type:Object,required:!0}},setup(t){const s=i.useApiStore();i.useDataCenter(t.com);const l=e.computed(()=>{var h,g;return(g=(h=s.dataMap[t.com.id])==null?void 0:h.source)!=null?g:{}}),u=e.computed(()=>i.getFieldMap(t.com.apis.source.fields)),n=e.toRef(t.com,"config"),a=e.toRef(t.com,"attr"),p=e.ref(null),r=e.ref(""),c=e.ref(""),o=e.ref(0),f=e.ref(0),m=e.computed(()=>({overflow:"hidden",width:`${a.value.w}px`,height:`${a.value.h}px`})),$=e.computed(()=>({transform:r.value,transition:c.value})),_=e.computed(()=>({"font-family":`${n.value.textStyle.fontFamily}, Arial, sans-serif`,"font-size":`${n.value.textStyle.fontSize}px`,color:n.value.textStyle.color,"font-weight":n.value.textStyle.fontWeight,"text-align":n.value.textAlign,"line-height":`${n.value.lineHeight}px`,"text-indent":`${n.value.textIndent}px`,"min-height":`${o.value}px`})),k=e.computed(()=>l.value[u.value.value]||n.value.content),v=()=>{e.nextTick(()=>{p.value&&(o.value=p.value.offsetHeight),o.value>a.value.h?(r.value=`translateY(-${o.value}px)`,c.value=`transform ${n.value.scroll.duration*1e3}ms linear 0s`,f.value=window.setTimeout(()=>{r.value="translateY(0)",c.value="none 0s ease 0s",n.value.scroll.overScroll&&v()},n.value.scroll.duration*1e3)):(o.value=a.value.h,r.value="translateY(0)",c.value="none 0s ease 0s")})},y=i._.debounce(v,500);return e.watch([m,()=>n.value.scroll.overScroll],()=>{clearTimeout(f.value),o.value=a.value.h,r.value="translateY(0)",c.value="none 0s ease 0s",y()}),e.onMounted(()=>{y()}),e.onUnmounted(()=>{clearTimeout(f.value)}),{contentRef:p,config:n,wrapperStyle:m,bigContentStyle:$,contentStyle:_,contentText:k}}});function x(t,s,l,u,n,a){return e.openBlock(),e.createElementBlock("div",{class:"datav-wrapper",style:e.normalizeStyle(t.wrapperStyle)},[e.createElementVNode("div",{style:e.normalizeStyle(t.bigContentStyle)},[e.createElementVNode("div",{ref:"contentRef",style:e.normalizeStyle(t.contentStyle)},e.toDisplayString(t.contentText),5),t.config.scroll.overScroll?(e.openBlock(),e.createElementBlock("div",{key:0,style:e.normalizeStyle(t.contentStyle)},e.toDisplayString(t.contentText),5)):e.createCommentVNode("",!0)],4)],4)}var d=S(w,[["render",x],["__file","F:/datav-jlhe/src/components/text/paragraph/src/index.vue"]]);d.install=t=>{t.component("VParagraph",d)},window.datavVue&&window.datavVue.app&&window.datavVue.app.use(d)})(Vue,datavVue);
