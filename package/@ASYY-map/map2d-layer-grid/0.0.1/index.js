Cube('datav:/com/map2d-layer-grid/0.0.1',['datav:/npm/bcore/0.0.21/event','datav:/npm/bcore/0.0.21/utils','datav:/npm/ldmap/0.1.37/layer/heatmap_grid_new'],function(e,j,b,i,h,g){function a(){var b=arguments[arguments.length-1];this.options=c.deepMergeWithoutArray(a.options,b)}var f=b('datav:/npm/bcore/0.0.21/event'),c=b('datav:/npm/bcore/0.0.21/utils'),d=b('datav:/npm/ldmap/0.1.37/layer/heatmap_grid_new');return a.options={},a=f.extend(a,{addTo:function(a){a._map&&(a=a._map),this._map=a,this.initCom()},getOptions:function(){var a=this.options;return{shape:{type:a.gridType,rx:a.gridSize,ry:a.gridSize,scale:function(a){return Math.pow(a,.4)*.95}},value:function(a){return a.length?Math.min(1,a.length/80):1},color:{from:a.fromColor,to:a.toColor,space:'rgb',easing:'linear.Out.1.9'},popup:null}},initCom:function(){var a=this.getOptions(this.options),b=this.layer=new d(a);b.addTo(this._map)},updateOptions:function(a){a=this.options=c.deepMergeWithoutArray(this.options,a),this.layer.updateOptions(this.getOptions(a))},remove:function(){this.layer.clean&&this.layer.clean()},render:function(a){if(!a||a.length<1)return console.log('地图组件Map2dHeatMapGrid未收到数据...');this.layer&&this.layer.render(a)}}),e.exports=a,e.exports})