// env=undefined => env=publish 
Cube("datav:/com/@echarts/ml-echarts-chord/2.0.13",["datav:/com/maliang-echarts-utils/0.0.18","datav:/npm/bcore/0.0.18/event","datav:/npm/jquery/2.1.4","datav:/npm/lodash/4.6.1","datav:/npm/echarts/3.5.4"],function(t,e,i,n,a,s){var c=i("datav:/npm/bcore/0.0.18/event"),o=i("datav:/npm/jquery/2.1.4"),r=i("datav:/npm/lodash/4.6.1"),h=i("datav:/npm/echarts/3.5.4"),d=i("datav:/com/maliang-echarts-utils/0.0.18");return t.exports=c.extend(function(t,e){this.config={series:{type:"graph",layout:"circular",animationDurationUpdate:0,animationEasingUpdate:"quinticInOut",legendHoverLink:!0,tooltip:{trigger:"item"},edgeSymbol:["circle","arrow"],symbolSize:function(t,e){return t=t||0===t?t:10}}},this.container=o(t),this.apis=e.apis,this._data=null,this.chart=null,this.init(e)},{init:function(t){var i=this,t=(t=this.mergeConfig(t),this.chart=h.init(this.container[0]),d.config2echartsOptions(t));t.legend.data=r.map(t._series,"name"),t.series[0].categories=t._series,t.color=r.map(t._series,"color"),t.series[0].lineStyle.isEdgeSymbol?t.series[0].edgeSymbol=["circle","arrow"]:t.series[0].edgeSymbol=[],this.chart.setOption(t),this.updateStyle(),this.chart.off(),this.chart.on("click",function(t){t=r.merge(t.data,{type:t.data.name?"nodes":"links"});i.emit("click",t)}),this.chart.on("legendselectchanged",function(e){var t=r.filter(r.keys(e.selected),function(t){return e.selected[t]});i.emit("legend-select-changed",{selected:t,name:e.name})})},showTip:function(){var t=r.merge(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{type:"showTip"});this.chart.dispatchAction(t)},hideTip:function(){this.chart.dispatchAction({type:"hideTip"})},legendAction:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.type,e=void 0===e?"legendToggleSelect":e,t=t.name;e&&-1!==["legendSelect","legendUnSelect","legendToggleSelect"].indexOf(e)&&this.chart.dispatchAction({type:e,name:t})},render:function(t){t=this.data(t);var e=this.config;this.chart.setOption(d.config2echartsOptions(d.data2echartsGraph(t,e))),this.updateStyle()},resize:function(t,e){this.chart.resize({width:t,height:e})},data:function(t){return t&&(this._data=t),this._data},mergeConfig:function(t){return t&&(this.config=r.defaultsDeep(t||{},this.config),this.config.tooltip.showContent=this.config.tooltip.show),this.config},updateStyle:function(){this.config},updateOptions:function(t){t=d.config2echartsOptions(t);t.legend.data=r.map(t._series,"name"),t.series[0].categories=t._series,t.color=r.map(t._series,"color"),t.series[0].lineStyle.isEdgeSymbol?t.series[0].edgeSymbol=["circle","arrow"]:t.series[0].edgeSymbol=[],this.chart.setOption(d.config2echartsOptions(t))},clear:function(){this.chart&&this.chart.clear&&this.chart.clear()},destroy:function(){this.chart&&this.chart.dispose&&this.chart.dispose()}}),t.exports});