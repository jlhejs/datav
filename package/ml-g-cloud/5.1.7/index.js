// env=undefined => env=publish 
Cube("datav:/com/ml-g-cloud/5.1.7/customRuleStyle",["datav:/npm/lodash/4.17.11/get","datav:/npm/lodash/4.17.11/set","datav:/npm/lodash/4.17.11/isUndefined","datav:/npm/alibabacloud-datav-tool-gui-utils/1.0.0"],function(t,e,o,r,a,l){function n(e,t){var o,r=Object.keys(e);return Object.getOwnPropertySymbols&&(o=Object.getOwnPropertySymbols(e),t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)),r}function d(r){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach(function(t){var e,o;e=r,o=a[t=t],t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(a,t))})}return r}var u=o("datav:/npm/lodash/4.17.11/get"),s=o("datav:/npm/lodash/4.17.11/set"),f=o("datav:/npm/lodash/4.17.11/isUndefined"),p=o("datav:/com/ml-g-cloud/5.1.7/utils").transformGradientColor,o=o("datav:/npm/alibabacloud-datav-tool-gui-utils/1.0.0"),v=o.scale,b=o.validateCustomStyle,g=["fill"];return t.exports=function(){var l,n,i,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.props,o=t.guiConfig,t=t.data,o=(void 0===o?{}:o).options,r=o.chart,a=r.fill,c=r.nodeStyle,r=r.edgeStyle,o=o.condition.customStyle;o=(e={props:void 0===e?{}:e,customStyle:o,data:t,fill:a,nodeStyle:c,edgeStyle:r}).props,l=e.customStyle,t=e.data,e=e.fill,n=u(v,"color.g2plot"),i=n({config:e,data:t,field:"color"}),s(o,"color",function(){for(var e={},t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];var a=u(o,["0","datum"]);return b({config:l,data:a,ruleKey:"rules"}).forEach(function(o){var t=g.reduce(function(t,e){return o[e]&&o[e].show&&(t[e]=o[e]&&o[e].value),d(d({},t),p(t.fill))},{});Object.assign(e,t)}),f(e.fill)?n?i(o[0]):"#2483ff":e.fill})},t.exports});;
Cube("datav:/com/ml-g-cloud/5.1.7/utils",["datav:/npm/lodash/4.17.11/toNumber","datav:/npm/lodash/4.17.11/forEach","datav:/npm/lodash/4.17.11/isNumber","datav:/npm/lodash/4.17.11/map","datav:/npm/lodash/4.17.11/get","datav:/npm/lodash/4.17.11/set","datav:/npm/lodash/4.17.11/trim","datav:/npm/lodash/4.17.11/uniq","datav:/npm/lodash/4.17.11/sum","datav:/npm/lodash/4.17.11/min","datav:/npm/lodash/4.17.11/max","datav:/npm/moment/2.27.0","datav:/npm/d3-format/3.1.0"],function(a,t,n,o,i,e){function m(a,t,n){t in a?Object.defineProperty(a,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[t]=n}function L(a){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function l(a){var t=a.v,n=a.type,o=a.format,i=a.prefix,a=a.suffix;return n===g&&"null"!==o?i+Z(o)(t)+a:n===g&&"null"===o?i+s(t)+a:"timeCat"===n&&"null"!==o?i+b(t).format(o)+a:i+t+a}function r(a){var t=a.x,n=a.y,o=a.r,a=a.type,i=o/2*Math.sqrt(3),e=o*Math.sin(1/3*Math.PI);return{line:[["M",t-3*o,n],["L",t+3*o,n]],lineEllipsis:[["M",t-3*o,n],["L",t-2*o,n],["M",t-o,n],["L",t,n],["M",t+o,n],["L",t+2*o,n],["M",t+3*o,n],["L",t+4*o,n]],smooth:[["M",t-o,n],["A",o/2,o/2,0,1,1,t,n],["A",o/2,o/2,0,1,0,t+o,n]],smoothEllipsis:[["M",150,100],["C",150,72.4,72.4,50,100,50]],step:[["M",t-o-1,n-2.5],["L",t,n-2.5],["L",t,n+2.5],["L",t+o+1,n+2.5]],stepEllipsis:[["M",t-o-1,n-2.5],["L",t-o+3,n-2.5],["M",t-o/2+2,n-2.5],["L",t,n-2.5],["L",t,n+2.5],["L",t+4,n+2.5],["M",t+o/2+3,n+2.5],["L",t+o+1,n+2.5]],circle:[["M",t,n+o],["A",o,o,0,0,0,t+o,n],["M",t,n+o],["A",o,o,0,1,1,t+o,n]],circleLine:[["M",t-3*o,n],["L",t-o,n],["M",t+o,n],["L",t+3*o,n],["M",t,n+o],["A",o,o,0,0,0,t+o,n],["M",t,n+o],["A",o,o,0,1,1,t+o,n]],circleEllipsis:[["M",t-3*o,n],["L",t-2*o,n],["M",t-o-o/2,n],["L",t-o-2,n],["M",t+o+2,n],["L",t+o+o/2,n],["M",t+3*o,n],["L",t+2*o,n],["M",t,n+o],["A",o,o,0,0,0,t+o,n],["M",t,n+o],["A",o,o,0,1,1,t+o,n]],square:[["M",t-o,n-o],["L",t+o,n-o],["L",t+o,n+o],["L",t-o,n+o],["Z"]],squareLine:[["M",t-3*o,n],["L",t-o,n],["M",t+o,n],["L",t+3*o,n],["M",t-o,n-o],["L",t+o,n-o],["L",t+o,n+o],["L",t-o,n+o],["Z"]],squareEllipsis:[["M",t-3*o,n],["L",t-2*o,n],["M",t-o-o/2,n],["L",t-o-2,n],["M",t+o+2,n],["L",t+o+o/2,n],["M",t+3*o,n],["L",t+2*o,n],["M",t-o,n-o],["L",t+o,n-o],["L",t+o,n+o],["L",t-o,n+o],["Z"]],hexagon:[["M",t,n-o-2],["L",t+i+1,n-o/2-1],["L",t+i+1,n+o/2+1],["L",t,n+o+1+1],["L",t-i-1,n+o/2+1],["L",t-i-1,n-o/2-1],["Z"]],hexagonLine:[["M",t-3*o,n],["L",t-o-(o<=3?1:0),n],["M",t+o+(o<=3?1:0),n],["L",t+3*o,n],["M",t,n-o-2],["L",t+i+1,n-o/2-1],["L",t+i+1,n+o/2+1],["L",t,n+o+1+1],["L",t-i-1,n+o/2+1],["L",t-i-1,n-o/2-1],["Z"]],hexagonEllipsis:[["M",t-3*o,n],["L",t-2*o,n],["M",t-o-o/2,n],["L",t-o-1,n],["M",t+o+1,n],["L",t+o+o/2,n],["M",t+3*o,n],["L",t+2*o,n],["M",t,n-o-2],["L",t+i+1,n-o/2-1],["L",t+i+1,n+o/2+1],["L",t,n+o+1+1],["L",t-i-1,n+o/2+1],["L",t-i-1,n-o/2-1],["Z"]],diamond:[["M",t-o-2,n],["L",t,n-o-2],["L",t+o+2,n],["L",t,n+o+2],["Z"]],diamondLine:[["M",t-3*o,n],["L",t-o-1,n],["M",t+o+1,n],["L",t+3*o,n],["M",t-o-2,n],["L",t,n-o-2],["L",t+o+2,n],["L",t,n+o+2],["Z"]],diamondEllipsis:[["M",t-3*o,n],["L",t-2*o,n],["M",t-o-o/2,n],["L",t-o-2,n],["M",t+o+2,n],["L",t+o+o/2,n],["M",t+3*o,n],["L",t+2*o,n],["M",t-o-2,n],["L",t,n-o-2],["L",t+o+2,n],["L",t,n+o+2],["Z"]],triangle:[["M",t-o,n+e],["L",t,n-e],["L",t+o,n+e],["z"]],triangleLine:[["M",t-3*o,n],["L",t-o+o/2,n],["M",t+o-o/2,n],["L",t+3*o,n],["M",t-o,n+e],["L",t,n-e],["L",t+o,n+e],["z"]],triangleEllipsis:[["M",t-3*o,n],["L",t-2*o,n],["M",t-o-o/2,n],["L",t-o/2,n],["M",t+o/2,n],["L",t+o+o/2,n],["M",t+3*o,n],["L",t+2*o,n],["M",t-o,n+e],["L",t,n-e],["L",t+o,n+e],["z"]],"triangle-down":[["M",t-o,n-e],["L",t+o,n-e],["L",t,n+e],["Z"]],triangleDownLine:[["M",t-3*o,n],["L",t-o+o/2,n],["M",t+o-o/2,n],["L",t+3*o,n],["M",t-o,n-e],["L",t+o,n-e],["L",t,n+e],["Z"]],triangleDownEllipsis:[["M",t-3*o,n],["L",t-2*o,n],["M",t-o-o/2,n],["L",t-o/2,n],["M",t+o/2,n],["L",t+o+o/2,n],["M",t+3*o,n],["L",t+2*o,n],["M",t-o,n-e],["L",t+o,n-e],["L",t,n+e],["Z"]],bowtie:[["M",t-o,n-e],["L",t+o,n+e],["L",t+o,n-e],["L",t-o,n+e],["Z"]],bowtieLine:[["M",t-3*o,n],["L",t-o,n],["M",t+o,n],["L",t+3*o,n],["M",t-o,n-e],["L",t+o,n+e],["L",t+o,n-e],["L",t-o,n+e],["Z"]],bowtieEllipsis:[["M",t-3*o,n],["L",t-2*o,n],["M",t-o-o/2,n],["L",t-o-2,n],["M",t+o+2,n],["L",t+o+o/2,n],["M",t+3*o,n],["L",t+2*o,n],["M",t-o,n-e],["L",t+o,n+e],["L",t+o,n-e],["L",t-o,n+e],["Z"]]}[a]}var s=n("datav:/npm/lodash/4.17.11/toNumber"),d=n("datav:/npm/lodash/4.17.11/forEach"),p=n("datav:/npm/lodash/4.17.11/isNumber"),M=n("datav:/npm/lodash/4.17.11/map"),u=n("datav:/npm/lodash/4.17.11/get"),c=n("datav:/npm/lodash/4.17.11/set"),f=n("datav:/npm/lodash/4.17.11/trim"),x=n("datav:/npm/lodash/4.17.11/uniq"),h=n("datav:/npm/lodash/4.17.11/sum"),v=n("datav:/npm/lodash/4.17.11/min"),y=n("datav:/npm/lodash/4.17.11/max"),g="linear",b=n("datav:/npm/moment/2.27.0"),Z=n("datav:/npm/d3-format/3.1.0").format;return a.exports=(m(n={transLineDash:function(a){var t=a.lineStyle,n=a.dashedLength,o=a.dashedSpace,i=a.dottedLength,a=a.dottedSpace,e=[];return"solid"===t?e=[1,0]:"dashed"===t?e=[n,o]:"dotted"===t&&(e=[i,a]),e},transNumberFormatterTooltip:l,transformGradientColor:function(a){var t,n,o;return"object"===L(a)?(n=a.type,t=a.value,"flat"===n?{fill:t}:(t=(n=a.value).angle,n=n.stops,o="",M(n,function(a){var t=a.offset,a=a.color;o+="".concat(t/100,":").concat(a," ")}),{fill:"l(".concat(t,") ").concat(f(o))})):{fill:a}},maximumCalY:function(a){var t=a.extent,n=a.data,a=a.type,o=[],i=[],n=(M(n,function(a){0<=a.y&&o.push(s(a.y)),i.push(s(a.y))}),o=x(o),h(o));if("linear"===a)return"min"===t.min&&"max"!==t.max?{min:+v(i),max:s(t.max)}:"min"!==t.min&&"max"===t.max?{min:s(t.min),max:+n}:"min"!==t.min&&"max"!==t.max?{min:s(t.min),max:s(t.max)}:"min"===t.min&&"max"===t.max?{min:+v(i),max:+n}:void 0},maximumCalX:function(a){var t=a.extent,n=a.data,a=a.type,o=[],i=(M(n,function(a){o.push(a.x)}),"min"===t.min?i(o):s(t.min)),n="max"===t.max?y(o):s(t.max);return{min:"linear"===a?i:void 0,max:"linear"===a?n:void 0}},handleTimeCatNull:function(a){var t=u(a,"options.axis.xaxis.type"),t=("null"===u(a,"options.axis.xaxis.label.timeFormat")&&"timeCat"===t&&c(a,"options.axis.xaxis.type","cat"),u(a,"options.axis.yaxis.type"));"null"===u(a,"options.axis.yaxis.label.timeFormat")&&"timeCat"===t&&c(a,"options.axis.yaxis.type","cat")},pathDFn:function(){var a=r(arguments.length<=0?void 0:arguments[0]),t="";return d(a,function(a){d(a,function(a){p(a)?t+=a+",":t+=a}),t+=" "}),t}},"transNumberFormatterTooltip",l),m(n,"locationInfo",function(a){var a=a.chart.getController("axis").getComponents(),t=a[0].component.getLayoutBBox(),n=t.height,t=t.width,a=a[2].component.getLayoutBBox();return{x:n,y:a.width,maxWidth:t,maxHeight:a.height}}),m(n,"transformSVGGradientColor",function(a){var t="",a=u(a,"fixed.value"),n=a.angle,a=a.stops,o="grad"+ +new Date,t="<defs><linearGradient id='".concat(o,"' gradientTransform='rotate(").concat(n,")'>");return M(a,function(a){t+='<stop offset="'.concat(a.offset,'" stop-color="').concat(a.color,'"/>')}),{gradientHtml:t+="</linearGradient></defs>",id:o}}),n),a.exports});;
Cube("datav:/com/ml-g-cloud/5.1.7/transform",["datav:/npm/lodash/4.17.11/isUndefined","datav:/npm/lodash/4.17.11/floor","datav:/npm/lodash/4.17.11/get","datav:/npm/lodash/4.17.11/minBy","datav:/npm/lodash/4.17.11/ceil","datav:/npm/lodash/4.17.11/maxBy","datav:/npm/lodash/4.17.11/map","datav:/npm/lodash/4.17.11/uniqBy","datav:/npm/lodash/4.17.11/includes"],function(t,n,e,o,a,i){function l(n,t){var e,o=Object.keys(n);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(n),t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),o.push.apply(o,e)),o}function _(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?l(Object(e),!0).forEach(function(t){tt(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):l(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})}return n}function tt(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var nt=e("datav:/npm/lodash/4.17.11/isUndefined"),et=e("datav:/npm/lodash/4.17.11/floor"),ot=e("datav:/npm/lodash/4.17.11/get"),at=e("datav:/npm/lodash/4.17.11/minBy"),it=e("datav:/npm/lodash/4.17.11/ceil"),lt=e("datav:/npm/lodash/4.17.11/maxBy"),rt=e("datav:/npm/lodash/4.17.11/map"),ct=e("datav:/npm/lodash/4.17.11/uniqBy"),pt=e("datav:/npm/lodash/4.17.11/includes"),st=e("datav:/com/ml-g-cloud/5.1.7/customRuleStyle"),e=e("datav:/com/ml-g-cloud/5.1.7/utils"),dt=e.transLineDash,ft=e.transformGradientColor,mt=(e.maximumCalY,e.transNumberFormatterTooltip),gt=e.pathDFn,ht=e.transformSVGGradientColor;return t.exports={transOptionKey:function(I,t,n,M,E){var e=t.options,o=e.chart,a=o.margin,m=o.fill,i=o.wordStyle,l=o.shape,o=o.customizeShape,r=e.legend,c=r.isShow,p=r.layout,s=r.textStyle,d=r.spaceToChart,f=d.spaceChartX,d=d.spaceChartY,g=r.cateLegend,h=g.marker,u=g.markerSpace,y=g.maxItemWidth,g=g.flip,v=g.show,x=g.textStyle,b=g.pageMarker,G=b.flipColor,L=b.inactiveFill,b=b.pageSize,g=g.maxRow,r=r.continuousLegend,S=r.handler,w=r.track,r=r.label,z=e.animation,Y=z.isShow,H=z.animationEasing,z=z.duration,e=e.tooltip,F=e.tooltipSet,X=F.show,k=F.titleText,O=F.titleTextStyle,W=F.contentTextStyle,q=F.trigger,U=F.titleSpace,C=F.contentSpace,K=F.suffix,j=F.bgBox,P=j.padding,V=j.backgroundColor,j=j.border,B=F.series,R=F.valueFormat,F=e.active,e=F.show,A=F.fillWrap,D=F.line,N=F.trigger,F=F.selectType,c=c&&m.mapping,y=y.show?{maxItemWidth:y.width}:{maxItemWidth:null},J=u.openselfSpacing?{itemSpacing:u.itemSpacing}:null,Q=u.openselfSpacing?{itemMarginBottom:u.itemMarginBottom}:null,c=c?{legend:_(_(_({},J),Q),{},{position:p,flipPage:v,maxRow:g,offsetX:f,offsetY:d,pageNavigator:{marker:{style:{size:b,fill:G,inactiveFill:L}},text:{style:{fontSize:x.fontSize,fill:x.color,fontWeight:x.fontWeight,fontFamily:x.fontFamily}}},itemHeight:16,radio:{style:{fill:"rgba(0,0,0,0)",stroke:s.color}},marker:{style:{r:h.size},spacing:nt(u.openselfSpacing)||u.openselfSpacing?u.spacing:4,symbol:h.shape},itemName:{style:{fill:s.color,fontFamily:s.fontFamily,fontSize:s.fontSize,fontWeight:s.fontWeight,border:0}},handler:{size:S.size,style:{fill:S.fill}},min:"auto"===S.min?et(ot(at(n,"colorField"),"colorField"),2):parseInt(S.min),max:"auto"===S.max?it(ot(lt(n,"colorField"),"colorField"),2):parseInt(S.max),rail:{type:w.type,size:w.height,defaultLength:w.width,style:{fill:w.railColor}},label:{align:r.alignHorizon,spacing:r.spacing,style:{fill:s.color,fontFamily:s.fontFamily,fontSize:s.fontSize,fontWeight:s.fontWeight,border:0}},slidable:!0},y)}:{legend:!1},J=a.show?{padding:[a.top,a.right,a.bottom,a.left]}:{padding:"auto"},Z=[],$=(rt(B,function(t){return Z.push(t.columnName)}),gt({x:9,y:9,r:5,type:"circle"})),T=ot(t,"options.tooltip.tooltipSet.mode"),Q=X?{tooltip:{fields:"simple"===T?null:Z,showMarkers:!1,customContent:function(t,d){var n=ct(d,"data"),f="";return rt(n,function(t,n){var e,o=null,a=t.data.datum,t=t.color,i="",l=t,r=ot(m,"fixed.type"),c=((!ot(m,"mapping")&&"linearGradient"===r||pt(t,"l("))&&(t=(r=ht(m)).gradientHtml,r=r.id,l="url(#".concat(r,")"),i=t),{});for(e in a)!function(n){rt(B,function(t){t.columnName===n&&(c[n]={prefix:t.prefixSuffix.prefix,suffix:t.prefixSuffix.suffix},o=_(_({},o),{},tt({},n,a[n])))})}(e);if("simple"===T){r=mt({v:ot(a,"value"),type:"linear",format:R,prefix:"",suffix:""}),t=ot(a,"name");f+='\n                    <div\n                      style="\n                        display: flex;\n                        justify-content: left;\n                        align-items: center;\n                        margin-bottom: '.concat(C,"px;\n                        font-size: ").concat(W.fontSize,"px;\n                        line-height: ").concat(W.fontSize,"px;\n                        color: ").concat(W.color,";\n                        font-weight: ").concat(W.fontWeight,";\n                        font-family: ").concat(W.fontFamily,';\n                      "\n                      >\n                      <div style="width: 18px;height: 18px; margin-right: 6px; overflow: hidden;">\n                        <svg>\n                          ').concat(i,'\n                          <path\n                            d="').concat($,'"\n                            stroke="').concat(l,'"\n                            stroke-opacity="1"\n                            opacity="1"\n                            fill="').concat(l,'"\n                          >\n                          </path>\n                        </svg>\n                      </div>\n                      <span style="\n                        display: inline-block;\n                        vertical-align: middle;\n                      ">').concat(t,"： ").concat(r).concat(K,"</span>\n                    </div>\n                  ")}else if(B&&0<B.length){n===d.length-1&&(isSpace=0);var p,s=0;for(p in o)!function(n){var e=n,t=o[n];"name"===n&&(t=mt({v:t,type:"cat",format:"",prefix:c.name.prefix,suffix:c.name.suffix})),"target"===n&&(t=mt({v:t,type:"cat",format:"",prefix:c.target.prefix,suffix:c.target.suffix})),"value"===n&&(t=mt({v:t,type:"linear",format:R,prefix:c.value.prefix,suffix:c.value.suffix})),rt(B,function(t){t.columnName===n&&(e=t.displayName)}),f+='\n                      <div\n                        style="\n                          display: flex;\n                          justify-content: left;\n                          align-items: center;\n                          margin-bottom: '.concat(C,"px;\n                          font-size: ").concat(W.fontSize,"px;\n                          line-height: ").concat(W.fontSize,"px;\n                          color: ").concat(W.color,";\n                          font-weight: ").concat(W.fontWeight,";\n                          font-family: ").concat(W.fontFamily,';\n                        "\n                        >\n                        <div style="opacity: ').concat(0===s?1:0,';width: 18px;height: 18px; margin-right: 6px; overflow: hidden;">\n                          <svg>\n                            ').concat(i,'\n                            <path\n                              d="').concat($,'"\n                              stroke="').concat(l,'"\n                              stroke-opacity="1"\n                              opacity="1"\n                              fill="').concat(l,'"\n                            >\n                            </path>\n                          </svg>\n                        </div>\n                        <span style="\n                          display: inline-block;\n                          vertical-align: middle;\n                        ">').concat(e,"： ").concat(t,"</span>\n                      </div>\n                    "),s++}(p)}}),'\n                <div style="margin-bottom: -'.concat(C,'px;">\n                  <div\n                    style="\n                      display: ').concat("simple"===T?"none":"block",";\n                      font-size: ").concat(O.fontSize,"px;\n                      line-height: ").concat(O.fontSize,"px;\n                      color: ").concat(O.color,";\n                      font-weight: ").concat(O.fontWeight,";\n                      font-family: ").concat(O.fontFamily,";\n                      margin-bottom: ").concat(k.show&&U||0,'px;\n                    "\n                  >').concat(k.show&&k.con||"","</div>\n                  ").concat(f,"\n                </div>\n            ")},domStyles:{"g2-tooltip":{backgroundColor:V,border:"".concat(j.borderWidth,"px ").concat(j.borderStyle," ").concat(j.borderColor),padding:"".concat(P.paddingY,"px ").concat(P.paddingX,"px"),borderRadius:"".concat(j.borderRadius,"px"),boxShadow:"none"}}}}:{tooltip:!1},p=Y?{animation:{appear:{animation:H,duration:z},update:{duration:z}}}:{animation:!1},v=A.show&&ft(A.fill)||{},g=tt({},"click"===N?"selected":"active",!!e&&{style:_({lineWidth:D.lineWidth,lineDash:dt(D),stroke:D.lineColor},v)}),f="multi"===F,d=_(_(_(_(_({data:n,wordField:"name",weightField:"value",colorField:"colorField",random:.5},"customize"===l?{imageMask:o}:{spiral:l}),{},{wordStyle:{fontFamily:i.fontFamily,fontWeight:i.fontWeight,padding:i.padding,fontSize:[i.fontSizeRangeStart,i.fontSizeRangeEnd],rotation:i.open?0:i.rotationRange}},c),{},{autoFit:!0},J),{},{supportCSSTransform:!0},Q),{},{state:_({default:{style:{lineWidth:2,fillOpacity:1,stroke:"yellow",fill:"green"}}},g),interactions:[{type:"element-selected",enable:"click"===N&&f},{type:"element-single-selected",enable:"click"===N&&!f},{type:"element-active",enable:"hover"===N&&f},{type:"element-single-active",enable:"hover"===N&&!f},{type:"tooltip",cfg:{start:[{trigger:"element:".concat(q),action:"tooltip:show"}]}}]},p);return st({props:d,guiConfig:I,data:n}),d}},t.exports});;
Cube("datav:/com/ml-g-cloud/5.1.7",["datav:/npm/bcore/0.0.22/event","datav:/npm/lodash/4.17.11/isUndefined","datav:/npm/lodash/4.17.11/floor","datav:/npm/lodash/4.17.11/get","datav:/npm/lodash/4.17.11/map","datav:/npm/lodash/4.17.11/includes","datav:/npm/lodash/4.17.11/toNumber","datav:/npm/lodash/4.17.11/set","datav:/npm/lodash/4.17.11/cloneDeep","datav:/npm/lodash/4.17.11/filter","datav:/npm/lodash/4.17.11/every","datav:/npm/lodash/4.17.11/some","datav:/npm/lodash/4.17.11/isArray","datav:/npm/lodash/4.17.11/toString","datav:/npm/lodash/4.17.11/defaultsDeep","datav:/npm/lodash/4.17.11/isEmpty","datav:/npm/lodash/4.17.11/isEqual","datav:/npm/@antv/g2plot/2.4.23/dist/g2plot.min.js"],function(t,e,i,n,o,a){function l(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)),n}function m(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?l(Object(i),!0).forEach(function(t){v(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function v(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var r=i("datav:/npm/bcore/0.0.22/event"),c=i("datav:/npm/lodash/4.17.11/isUndefined"),s=i("datav:/npm/lodash/4.17.11/floor"),y=i("datav:/npm/lodash/4.17.11/get"),h=i("datav:/npm/lodash/4.17.11/map"),d=i("datav:/npm/lodash/4.17.11/includes"),p=i("datav:/npm/lodash/4.17.11/toNumber"),g=i("datav:/npm/lodash/4.17.11/set"),u=i("datav:/npm/lodash/4.17.11/cloneDeep"),f=i("datav:/npm/lodash/4.17.11/filter"),S=i("datav:/npm/lodash/4.17.11/every"),b=i("datav:/npm/lodash/4.17.11/some"),C=i("datav:/npm/lodash/4.17.11/isArray"),w=i("datav:/npm/lodash/4.17.11/toString"),O=i("datav:/npm/lodash/4.17.11/defaultsDeep"),x=i("datav:/npm/lodash/4.17.11/isEmpty"),j=i("datav:/npm/lodash/4.17.11/isEqual"),z=i("datav:/npm/@antv/g2plot/2.4.23/dist/g2plot.min.js"),D=z.WordCloud,z=z.G2,k=i("datav:/com/ml-g-cloud/5.1.7/transform").transOptionKey,i=i("datav:/com/ml-g-cloud/5.1.7/utils"),P=i.handleTimeCatNull,T=(i.locationInfo,i.transformGradientColor);return z.registerInteraction("element-single-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),z.registerInteraction("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:toggle"}]}),t.exports=r.extend(function(t,e){this.config={options:{tooltip:{tooltipSet:{suffix:""}},legend:{spaceToChart:{spaceChartX:0,spaceChartY:0},cateLegend:{markerSpace:{itemSpacing:null,itemMarginBottom:null},maxItemWidth:{show:!1,width:100},flip:{maxRow:1}}}}},this.container=t,this.apis=e.apis,this._data=null,this.chart=null,this.guiConfig=null,this.containerSize=null,this.init(e)},{init:function(t){this.mergeConfig(t);t=window.getComputedStyle(this.container,null);this.containerSize={width:p((this.container.style.width||t.getPropertyValue("width")).slice(0,-2)),height:p((this.container.style.height||t.getPropertyValue("height")).slice(0,-2))}},initChart:function(t){this.chart=new D(this.container,t),this.chart.render()},handleNonstandardData:function(t){var i=["name","value","colorField"],t=u(t);return f(t,function(t){return S(t,function(t,e){return d(i,e)})})},isHighlight:function(t){var e=t.item,t=t.data;return b(t,function(t){return b([e],t)})},render:function(t,e){var n=this,o=this.mergeConfig(e);(t=this.data(t,o))&&(P(o),this.guiConfig=k(this.config,o,u(t),this.containerSize),this.chart&&this.chart.destroy(),this.initChart(this.guiConfig),this.chart.off(),o.options.tooltip&&o.options.tooltip.active&&(e=o.options.tooltip.active.trigger,this.chart.on("element:".concat("click"===e?e:"mouseenter"),function(){var t=f(h(n.chart.getStates(),function(t){return("selected"===t.state||"active"===t.state)&&t.data}),Boolean),e=y(t,["0","datum"]),i=[];h(t,function(t){i.push(t.datum)}),n.emit("itemSelect","multi"===o.options.tooltip.active.selectType?i:i&&e)})),this.chart.on("legend-item:click",function(t){var t=y(t,"target.cfg.delegateObject.item"),e=t.value,t=t.unchecked;n.emit("legendSelect",{value:e,checked:!t})}),this.chart.on("contextmenu",function(t){t=y(t,"data.data.datum");n.emit("onContextMenu",t)}))},resize:function(t,e){},data:function(t,e){return t&&(this.__data=t),this._data=u(this.__data),C(this._data)&&this._data.filter(function(t){return!c(t.name)&&!c(t.value)}).map(function(t){return c(t.value)||(t.value=p(t.value)),c(t.colorField)||(t.colorField=w(t.colorField)),t})},mergeConfig:function(t){return t&&(0===Object.keys(this.config).length?this.config=t:(this.config.theme=O(t.theme||{},this.config.theme),y(t,"options.chart.fill.scale.range")&&g(this.config,"options.chart.fill.scale.range",y(t,"options.chart.fill.scale.range")),y(t,"options.condition")&&g(this.config,"options.condition",y(t,"options.condition")),y(t,"options.tooltip.tooltipSet.series")&&g(this.config,"options.tooltip.tooltipSet.series",y(t,"options.tooltip.tooltipSet.series")),this.config=O(t||{},this.config))),this.config},getColorableConfig:function(t){var e,i;return!t||x(t)?{}:(t.textColor,e=t.axisColor,i=t.palette,t.bgColor,t="",{options:{chart:{fill:{fixed:{type:"flat",value:t=i&&0<i.length?i[s(i.length/2)]:t},scale:{range:h(y(this.config,"options.chart.fill.scale.range"),function(t,e){return i[e]||i[e%i.length]})}}},legend:{textStyle:{color:e}}}})},getThemableConfig:function(t,e){var i,n,o,a,l,r,s,c,h=this.config.options,d=h.chart.wordStyle,p=d.fontSizeRangeStart,d=d.fontSizeRangeEnd,g=h.tooltip,h=h.legend,e=e||{},u=e.color,f=e.font,e=e.complexity,u=this.getColorableConfig(u||t),t={},p=(f&&(i=function(t,e){return void 0===y(f,t)?{}:v({},e,y(f,t))},o="family",a="fontFamily",l="weight",r="fontWeight",s="color.primary",c="color",t={options:{chart:{wordStyle:m(m({fontSizeRangeStart:y(f,n="size",0)+p,fontSizeRangeEnd:y(f,n,0)+d},i(o,a)),i(l,r))},tooltip:{tooltipSet:{titleTextStyle:m(m(m({fontSize:y(f,n,0)+g.tooltipSet.titleTextStyle.fontSize},i(o,a)),i(l,r)),i(s,c)),contentTextStyle:m(m(m({fontSize:y(f,n,0)+g.tooltipSet.contentTextStyle.fontSize},i(o,a)),i(l,r)),i(s,c))}},legend:{textStyle:m(m(m({fontSize:y(f,n,0)+h.textStyle.fontSize},i(o,a)),i(l,r)),i("color.secondary",c))}}}),{});return"L0"===e?p={options:{tooltip:{tooltipSet:{show:!0},active:{show:!0}},legend:{isShow:!1}}}:"L1"===e&&(p={options:{tooltip:{tooltipSet:{show:!0},active:{show:!0}},legend:{isShow:!0}}}),O({},p,t,u)},highlight:function(t){var e=t.data,t=t.style;if(Object.keys(e).length<=0)return!1;var i=this,n=y(this.config,"options.tooltip.active"),o=n.show,a=n.selectType,l=n.fillWrap,l=(l.show,l.fill),r=n.line,n="click"===n.trigger?"selected":"active",l=c(t)||x(t)?{fillStyle:T(l).fill,stroke:r.lineColor}:m({},t),r=v({},n,!!o&&{style:m({},l)}),s=(this.chart.update(m(m({},this.guiConfig),{},{state:m(m({},this.guiConfig.state),r)})),C(e)?e:[e]),s=j(this.prevOriginData,e)?this.prevFilterData:this.handleNonstandardData(s);s="single"===a?[s[0]]:s,this.chart.setState(n,function(t){return i.isHighlight({item:t.datum,data:s})}),this.prevOriginData=e,this.prevFilterData=s},reset:function(){var t="click"===y(this.config,"options.tooltip.active").trigger?"selected":"active";this.chart.update(this.guiConfig),this.chart.setState(t,function(){})},destroy:function(){this.chart&&this.chart.destroy(),this.chart=null,this._data=null,this.container&&(this.container.innerHTML="")}}),t.exports});