// env=undefined => env=publish 
Cube("datav:/com/ml-heatmap/5.2.2/customRuleStyle",["datav:/npm/lodash/4.17.11/get","datav:/npm/lodash/4.17.11/set","datav:/npm/alibabacloud-datav-tool-gui-utils/1.0.0"],function(e,t,o,a,i,r){function n(t,e){var o,a=Object.keys(t);return Object.getOwnPropertySymbols&&(o=Object.getOwnPropertySymbols(t),e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,o)),a}function f(a){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach(function(e){var t,o;t=a,o=i[e=e],e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(i,e))})}return a}var h=o("datav:/npm/lodash/4.17.11/get"),g=o("datav:/npm/lodash/4.17.11/set"),l=o("datav:/com/ml-heatmap/5.2.2/utils"),v=l.transLineDash,b=l.transformGradientColor,l=o("datav:/npm/alibabacloud-datav-tool-gui-utils/1.0.0"),m=l.scale,y=l.validateCustomStyle,O="radiusField",w="colorField",j=["fill","r"];return e.exports=function(){var e,t,o,a,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=i.props,r=void 0===r?{}:r,n=i.guiConfig,i=i.data,n=(void 0===n?{}:n).options,l=n.chart,s=l.fill,c=l.sizeSet.show,l=(l.shape,l.line),d=n.legend,p=d.isShow,u=d.colorLegend.show,d=(d.shapeLegend.show,d.sizeLegend.show),n=n.condition.customStyle;d=(c={props:r,config:c,data:i,show:p&&d}).props,e=void 0!==(e=c.config)&&e,c=c.data,g(d,"sizeField",e?O:null),(t=h(m,"size"))?(t=t({config:e,data:c,field:O}),g(d,"size",t)):g(d,"size",15),c=(e={props:r,config:s,data:i,show:p&&u}).props,t=void 0===(t=e.config)?{}:t,d=e.data,e.show,g(c,"colorField",t.mapping?w:null),(e=h(m,"color.g2plot"))?(e=e({config:t,data:d,field:w}),g(c,"color",e)):g(c,"color","#2483ff"),i=(s={props:r,customStyle:n,line:l}).props,o=s.customStyle,s.opacity,a=s.line,g(i,"heatmapStyle",function(){var t={stroke:a.lineColor,lineWidth:a.lineWidth,lineDash:v(a)};return y({config:o,data:arguments.length<=0?void 0:arguments[0],ruleKey:"rules"}).forEach(function(o){var e=j.reduce(function(e,t){o[t]&&o[t].show&&(e[t]=o[t]&&o[t].value);t=o.line,t=t.show?{stroke:t.lineColor,lineWidth:t.lineWidth,lineDash:v(t)}:{};return e=f(f({},e),t),f(f({},e),b(e.fill))},{});Object.assign(t,e)}),t})},e.exports});;
Cube("datav:/com/ml-heatmap/5.2.2/utils",["datav:/npm/lodash/4.17.11/toNumber","datav:/npm/lodash/4.17.11/map","datav:/npm/lodash/4.17.11/isUndefined","datav:/npm/lodash/4.17.11/forEach","datav:/npm/lodash/4.17.11/trim","datav:/npm/lodash/4.17.11/isNull","datav:/npm/lodash/4.17.11/isNumber","datav:/npm/lodash/4.17.11/min","datav:/npm/lodash/4.17.11/max","datav:/npm/lodash/4.17.11/isNaN","datav:/npm/lodash/4.17.11/get","datav:/npm/moment/2.27.0","datav:/npm/d3-format/3.1.0"],function(a,t,n,o,i,e){function L(a){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function l(a){var t=a.x,n=a.y,o=a.r,a=a.type,i=o/2*Math.sqrt(3),e=o*Math.sin(1/3*Math.PI);return{line:[["M",t-3*o,n],["L",t+3*o,n]],lineEllipsis:[["M",t-3*o,n],["L",t-2*o,n],["M",t-o,n],["L",t,n],["M",t+o,n],["L",t+2*o,n],["M",t+3*o,n],["L",t+4*o,n]],smooth:[["M",t-o,n],["A",o/2,o/2,0,1,1,t,n],["A",o/2,o/2,0,1,0,t+o,n]],smoothEllipsis:[["M",150,100],["C",150,72.4,72.4,50,100,50]],step:[["M",t-o-1,n-2.5],["L",t,n-2.5],["L",t,n+2.5],["L",t+o+1,n+2.5]],stepEllipsis:[["M",t-o-1,n-2.5],["L",t-o+3,n-2.5],["M",t-o/2+2,n-2.5],["L",t,n-2.5],["L",t,n+2.5],["L",t+4,n+2.5],["M",t+o/2+3,n+2.5],["L",t+o+1,n+2.5]],circle:[["M",t,n+o],["A",o,o,0,0,0,t+o,n],["M",t,n+o],["A",o,o,0,1,1,t+o,n]],circleLine:[["M",t-3*o,n],["L",t-o,n],["M",t+o,n],["L",t+3*o,n],["M",t,n+o],["A",o,o,0,0,0,t+o,n],["M",t,n+o],["A",o,o,0,1,1,t+o,n]],circleEllipsis:[["M",t-3*o,n],["L",t-2*o,n],["M",t-o-o/2,n],["L",t-o-2,n],["M",t+o+2,n],["L",t+o+o/2,n],["M",t+3*o,n],["L",t+2*o,n],["M",t,n+o],["A",o,o,0,0,0,t+o,n],["M",t,n+o],["A",o,o,0,1,1,t+o,n]],square:[["M",t-o,n-o],["L",t+o,n-o],["L",t+o,n+o],["L",t-o,n+o],["Z"]],squareLine:[["M",t-3*o,n],["L",t-o,n],["M",t+o,n],["L",t+3*o,n],["M",t-o,n-o],["L",t+o,n-o],["L",t+o,n+o],["L",t-o,n+o],["Z"]],squareEllipsis:[["M",t-3*o,n],["L",t-2*o,n],["M",t-o-o/2,n],["L",t-o-2,n],["M",t+o+2,n],["L",t+o+o/2,n],["M",t+3*o,n],["L",t+2*o,n],["M",t-o,n-o],["L",t+o,n-o],["L",t+o,n+o],["L",t-o,n+o],["Z"]],hexagon:[["M",t,n-o-2],["L",t+i+1,n-o/2-1],["L",t+i+1,n+o/2+1],["L",t,n+o+1+1],["L",t-i-1,n+o/2+1],["L",t-i-1,n-o/2-1],["Z"]],hexagonLine:[["M",t-3*o,n],["L",t-o-(o<=3?1:0),n],["M",t+o+(o<=3?1:0),n],["L",t+3*o,n],["M",t,n-o-2],["L",t+i+1,n-o/2-1],["L",t+i+1,n+o/2+1],["L",t,n+o+1+1],["L",t-i-1,n+o/2+1],["L",t-i-1,n-o/2-1],["Z"]],hexagonEllipsis:[["M",t-3*o,n],["L",t-2*o,n],["M",t-o-o/2,n],["L",t-o-1,n],["M",t+o+1,n],["L",t+o+o/2,n],["M",t+3*o,n],["L",t+2*o,n],["M",t,n-o-2],["L",t+i+1,n-o/2-1],["L",t+i+1,n+o/2+1],["L",t,n+o+1+1],["L",t-i-1,n+o/2+1],["L",t-i-1,n-o/2-1],["Z"]],diamond:[["M",t-o-2,n],["L",t,n-o-2],["L",t+o+2,n],["L",t,n+o+2],["Z"]],diamondLine:[["M",t-3*o,n],["L",t-o-1,n],["M",t+o+1,n],["L",t+3*o,n],["M",t-o-2,n],["L",t,n-o-2],["L",t+o+2,n],["L",t,n+o+2],["Z"]],diamondEllipsis:[["M",t-3*o,n],["L",t-2*o,n],["M",t-o-o/2,n],["L",t-o-2,n],["M",t+o+2,n],["L",t+o+o/2,n],["M",t+3*o,n],["L",t+2*o,n],["M",t-o-2,n],["L",t,n-o-2],["L",t+o+2,n],["L",t,n+o+2],["Z"]],triangle:[["M",t-o,n+e],["L",t,n-e],["L",t+o,n+e],["z"]],triangleLine:[["M",t-3*o,n],["L",t-o+o/2,n],["M",t+o-o/2,n],["L",t+3*o,n],["M",t-o,n+e],["L",t,n-e],["L",t+o,n+e],["z"]],triangleEllipsis:[["M",t-3*o,n],["L",t-2*o,n],["M",t-o-o/2,n],["L",t-o/2,n],["M",t+o/2,n],["L",t+o+o/2,n],["M",t+3*o,n],["L",t+2*o,n],["M",t-o,n+e],["L",t,n-e],["L",t+o,n+e],["z"]],"triangle-down":[["M",t-o,n-e],["L",t+o,n-e],["L",t,n+e],["Z"]],triangleDownLine:[["M",t-3*o,n],["L",t-o+o/2,n],["M",t+o-o/2,n],["L",t+3*o,n],["M",t-o,n-e],["L",t+o,n-e],["L",t,n+e],["Z"]],triangleDownEllipsis:[["M",t-3*o,n],["L",t-2*o,n],["M",t-o-o/2,n],["L",t-o/2,n],["M",t+o/2,n],["L",t+o+o/2,n],["M",t+3*o,n],["L",t+2*o,n],["M",t-o,n-e],["L",t+o,n-e],["L",t,n+e],["Z"]],bowtie:[["M",t-o,n-e],["L",t+o,n+e],["L",t+o,n-e],["L",t-o,n+e],["Z"]],bowtieLine:[["M",t-3*o,n],["L",t-o,n],["M",t+o,n],["L",t+3*o,n],["M",t-o,n-e],["L",t+o,n+e],["L",t+o,n-e],["L",t-o,n+e],["Z"]],bowtieEllipsis:[["M",t-3*o,n],["L",t-2*o,n],["M",t-o-o/2,n],["L",t-o-2,n],["M",t+o+2,n],["L",t+o+o/2,n],["M",t+3*o,n],["L",t+2*o,n],["M",t-o,n-e],["L",t+o,n+e],["L",t+o,n-e],["L",t-o,n+e],["Z"]]}[a]}var s=n("datav:/npm/lodash/4.17.11/toNumber"),r=n("datav:/npm/lodash/4.17.11/map"),d=n("datav:/npm/lodash/4.17.11/isUndefined"),m=n("datav:/npm/lodash/4.17.11/forEach"),M=n("datav:/npm/lodash/4.17.11/trim"),p=n("datav:/npm/lodash/4.17.11/isNull"),u=n("datav:/npm/lodash/4.17.11/isNumber"),c=n("datav:/npm/lodash/4.17.11/min"),f=n("datav:/npm/lodash/4.17.11/max"),h=n("datav:/npm/lodash/4.17.11/isNaN"),v=n("datav:/npm/lodash/4.17.11/get"),x="linear",y=n("datav:/npm/moment/2.27.0"),g=n("datav:/npm/d3-format/3.1.0").format;return a.exports={transLineDash:function(a){var t=a.lineStyle,n=a.dashedLength,o=a.dashedSpace,i=a.dottedLength,a=a.dottedSpace,e=[];return"solid"===t?e=[1,0]:"dashed"===t?e=[n,o]:"dotted"===t&&(e=[i,a]),e},transformGradientColor:function(a){var t,n,o;return"object"===L(a)?(n=a.type,t=a.value,"flat"===n?{fill:t}:(t=(n=a.value).angle,n=n.stops,o="",r(n,function(a){var t=a.offset,a=a.color;o+="".concat(t/100,":").concat(a," ")}),{fill:"l(".concat(t,") ").concat(M(o))})):{fill:a}},maximumCal:function(a,t,n,o){var i=[],t=(r(t,function(a){i.push(a[o])}),"min"===a.min?c(i):s(a.min)),a="max"===a.max?f(i):s(a.max);return{min:"linear"===n?t:void 0,max:"linear"===n?a:void 0}},handleTimeCatNull:function(a){var t=v(a,"options.axis.xaxis.type"),t=("null"===v(a,"options.axis.xaxis.label.timeFormat")&&"timeCat"===t&&set(a,"options.axis.xaxis.type","cat"),v(a,"options.axis.yaxis.type"));"null"===v(a,"options.axis.yaxis.label.timeFormat")&&"timeCat"===t&&set(a,"options.axis.yaxis.type","cat")},transNumberFormatterTooltip:function(a){var t=a.v,n=a.type,o=a.format,i=a.prefix,a=a.suffix;return n===x&&"null"!==o?i+g(o)(t)+a:(n!==x||"null"!==o)&&"timeCat"===n&&"null"!==o?i+y(t).format(o)+a:i+t+a},pathDFn:function(){var a=l(arguments.length<=0?void 0:arguments[0]),t="";return m(a,function(a){m(a,function(a){u(a)?t+=a+",":t+=a}),t+=" "}),t},transformSVGGradientColor:function(a){var t="",a=v(a,"fixed.value"),n=a.angle,a=a.stops,o="grad"+ +new Date,t="<defs><linearGradient id='".concat(o,"' gradientTransform='rotate(").concat(n,")'>");return r(a,function(a){t+='<stop offset="'.concat(a.offset,'" stop-color="').concat(a.color,'"/>')}),{gradientHtml:t+="</linearGradient></defs>",id:o}},locationInfo:function(a){var a=a.chart.getController("axis").getComponents(),t=a[0].component.getLayoutBBox(),n=t.height,t=t.width,a=a[2].component.getLayoutBBox();return{x:n,y:a.width,maxWidth:t,maxHeight:a.height}},isValid:function(a){return!d(a)&&!p(a)&&!h(a)}},a.exports});;
Cube("datav:/com/ml-heatmap/5.2.2/transform",["datav:/npm/lodash/4.17.11/get","datav:/npm/lodash/4.17.11/map","datav:/npm/lodash/4.17.11/isUndefined","datav:/npm/lodash/4.17.11/floor","datav:/npm/lodash/4.17.11/minBy","datav:/npm/lodash/4.17.11/maxBy","datav:/npm/lodash/4.17.11/ceil","datav:/npm/lodash/4.17.11/filter","datav:/npm/alibabacloud-datav-tool-gui-utils/1.0.0"],function(t,e,i,n,l,o){function a(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)),n}function ie(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach(function(t){ne(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function ne(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var le=i("datav:/npm/lodash/4.17.11/get"),oe=i("datav:/npm/lodash/4.17.11/map"),ae=i("datav:/npm/lodash/4.17.11/isUndefined"),re=i("datav:/npm/lodash/4.17.11/floor"),se=i("datav:/npm/lodash/4.17.11/minBy"),fe=i("datav:/npm/lodash/4.17.11/maxBy"),de=i("datav:/npm/lodash/4.17.11/ceil"),ce=i("datav:/npm/lodash/4.17.11/filter"),pe=i("datav:/npm/alibabacloud-datav-tool-gui-utils/1.0.0").scale,he=i("datav:/com/ml-heatmap/5.2.2/customRuleStyle"),i=i("datav:/com/ml-heatmap/5.2.2/utils"),me=i.transLineDash,ge=i.transformGradientColor,ye=i.maximumCal,ue=i.pathDFn,xe=i.transNumberFormatterTooltip,be=i.transformSVGGradientColor,ve=i.isValid;return t.exports={transOptionKey:function(H,Y,t,e,i){var n=Y.options,l=n.chart,o=l.margin,N=l.fill,R=l.sizeSet,T=R.size,R=R.show,X=l.shape,a=l.label,A=a.show,r=a.textStyle,G=a.offset,E=a.labelContent,s=a.stroke,V=a.valueFormat,U=a.describe,a=l.line,l=l.pattern,K=l.show,q=l.type,J=l.patternFill,Q=l.lineFill,Z=l.patternStroke,$=l.dotCfg,l=l.lineCfg,f=n.legend,_=f.isShow,d=f.layout,c=f.textStyle,tt=f.maxItemWidth,p=f.flip,et=p.show,h=p.textStyle,m=p.pageMarker,it=m.flipColor,nt=m.inactiveFill,m=m.pageSize,p=p.maxRow,g=f.colorLegend,lt=g.show,ot=g.marker,y=g.markerSpace,u=g.handler,x=g.track,g=g.label,b=f.shapeLegend,b=(b.show,b.marker,f.sizeLegend),f=b.show,v=b.handler,at=b.track,b=b.label,k=n.axis,w=k.xaxis,rt=w.isShow,st=w.extent,S=w.type,W=w.label,ft=W.show,dt=W.timeFormat,ct=W.valueFormat,z=W.display,pt=z.tickCount,ht=z.rotate,mt=z.offset,gt=z.prefix,yt=z.suffix,z=z.alignment,W=W.textStyle,F=w.title,ut=w.axisLine,xt=w.tickLine,w=w.grid,k=k.yaxis,bt=k.isShow,vt=k.extent,C=k.type,L=k.label,kt=L.show,wt=L.valueFormat,St=L.timeFormat,O=L.display,Wt=O.tickCount,zt=O.rotate,Ft=O.offset,Ct=O.prefix,Lt=O.suffix,O=O.alignment,L=L.textStyle,D=k.title,Ot=k.axisLine,Dt=k.tickLine,k=k.grid,P=n.animation,Pt=P.isShow,jt=P.animationEasing,P=P.duration,n=n.tooltip,j=n.tooltipSet,It=j.show,Bt=j.position,Mt=j.titleTextStyle,I=j.contentTextStyle,Ht=j.trigger,Yt=j.titleSpace,Nt=j.contentSpace,Rt=j.suffix,Tt=j.axisPointer,Xt=Tt.show,Tt=Tt.line,B=j.bgBox,At=B.padding,Gt=B.backgroundColor,B=B.border,Et=j.series,j=n.active,n=j.show,Vt=j.fillSet,Ut=Vt.show,Vt=Vt.fill,Kt=j.line,qt=j.trigger,j=j.selectType,_=_&&N.mapping,Jt=o.show?{padding:[o.top,o.right,o.bottom,o.left]}:{padding:"auto"},A=A?{label:{offsetX:G.offsetX,offsetY:G.offsetY,style:{fill:r.color,fontFamily:r.fontFamily,fontSize:r.fontSize,fontWeight:r.fontWeight,stroke:s.strokeColor,lineWidth:s.lineWidth},formatter:function(t){t=le(t,E);if(ve(t))return"radiusField"===E?xe({v:t,type:"linear",format:V,prefix:U.prefix,suffix:U.suffix}):U.prefix+t+U.suffix},animate:Pt&&{appear:{animation:jt,duration:P},update:{duration:P}}}}:{label:!1},G="top-left"===d||"top"===d||"top-right"===d||"bottom-left"===d||"bottom"===d||"bottom-right"===d?g.alignHorizon:g.alignVerizon,r=null,s=e.width,M=null,e=e.height,o=(o.show?("left-top"===d||"right-top"===d?(r=0,M=-o.top):"left"===d||"right"===d?M=r=0:"left-bottom"===d||"right-bottom"===d?(r=0,M=o.top):"top-left"!==d&&"bottom-left"!==d||(r=o.left,M=0),s-=o.left,e-=o.top):ae(i)||("top-left"!==d&&"bottom-left"!==d||(r=i.y,s=i.maxWidth-10),"left-bottom"!==d&&"right-bottom"!==d||(M=i.x,e=i.maxHeight-10),"left-bottom"!==d&&"left-top"!==d&&"left"!==d&&"right-bottom"!==d&&"right-top"!==d&&"right"!==d||(r=8,s=null)),tt.show?{maxItemWidth:tt.width}:{maxItemWidth:null}),i=y.openselfSpacing?{itemSpacing:y.itemSpacing}:null,tt=y.openselfSpacing?{itemMarginBottom:y.itemMarginBottom}:null,_=_?{legend:!!lt&&ie(ie(ie(ie({},i),tt),{},{position:d,flipPage:et,maxRow:p,offsetX:r,offsetY:-M,maxWidth:s,maxHeight:e,itemHeight:16},o),{},{marker:{style:{r:ot.size,lineWidth:a.lineWidth,lineDash:me(a),stroke:a.lineColor},spacing:y.openselfSpacing?y.spacing:4,symbol:ot.shape},itemName:{style:{fill:c.color,fontFamily:c.fontFamily,fontSize:c.fontSize,fontWeight:c.fontWeight,border:0}},label:{align:G,spacing:g.spacing,style:{fill:c.color,fontFamily:c.fontFamily,fontSize:c.fontSize,fontWeight:c.fontWeight,border:0}},slidable:!0,pageNavigator:{marker:{style:{size:m,fill:it,inactiveFill:nt}},text:{style:{fontSize:h.fontSize,fill:h.color,fontWeight:h.fontWeight,fontFamily:h.fontFamily}}},handler:{size:u.size,style:{fill:u.fill}},min:"auto"===u.min?re(le(se(t,"colorField"),"colorField"),2):parseInt(u.min),max:"auto"===u.max?de(le(fe(t,"colorField"),"colorField"),2):parseInt(u.max),rail:{type:x.type,size:x.height,defaultLength:x.width,style:{fill:pe.color.g2plotLegendBg({fixed:x.railColor})}},radio:{style:{fill:"rgba(0,0,0,0)",stroke:c.color}}}),sizeLegend:!!f&&{position:d,offsetX:r,offsetY:-M,maxWidth:s,maxHeight:e,handler:{size:v.size,style:{fill:v.fill}},min:"auto"===v.min?re(se(t,"radiusField").radiusField,2):parseInt(v.min),max:"auto"===v.max?de(fe(t,"radiusField").radiusField,2):parseInt(v.max),rail:{type:at.type,size:at.height,defaultLength:at.width,style:{fill:pe.color.g2plotLegendBg({fixed:at.railColor})}},track:{style:{fill:pe.color.g2plotLegendBg({fixed:at.trackColor})}},label:{align:b.alignHorizon,spacing:b.spacing,style:{fill:c.color,fontFamily:c.fontFamily,fontSize:c.fontSize,fontWeight:c.fontWeight,border:0}}}}:{legend:!1,shapeLegend:!1,sizeLegend:!1},lt=Xt?{showCrosshairs:!0,crosshairs:{type:"xy",line:{style:{lineDash:me(Tt),lineWidth:Tt.lineWidth,stroke:Tt.lineColor}}}}:{showCrosshairs:!1},Qt=[],Zt=(oe(Et,function(t){return Qt.push(t.columnName)}),ue({x:9,y:9,r:5,type:X})),$t=le(Y,"options.tooltip.tooltipSet.mode"),i=It?{tooltip:ie(ie({showTitle:!0,title:"colorField",fields:"simple"===$t?null:Qt,showMarkers:!1,customContent:function(t,d){var c="",e=le(d,["0","data","x"],"标题");return oe(d,function(e,t){var i,n,l=e.name,o=e.value,a=e.color,r=e.data,s="",f=le(N,"fixed").type;le(N,"mapping")||"linearGradient"!==f||(i=(f=be(N)).gradientHtml,f=f.id,a="url(#".concat(f,")"),s=i),"simple"===$t?(f=xe({v:le(r,"y"),type:C,format:te,prefix:Ct,suffix:Lt}),i=xe({v:le(r,"x"),type:S,format:_t,prefix:gt,suffix:yt})+"："+f,c+='\n                  <div\n                    style="\n                      display: flex;\n                      justify-content: left;\n                      align-items: center;\n                      font-size: '.concat(I.fontSize,"px;\n                      line-height: ").concat(I.fontSize,"px;\n                      color: ").concat(I.color,";\n                      font-weight: ").concat(I.fontWeight,";\n                      font-family: ").concat(I.fontFamily,';\n                    "\n                    >\n                    <div style="width: 18px;height: 18px; margin-right: 6px; overflow: hidden;">\n                      <svg>\n                        ').concat(s,'\n                        <path\n                          d="').concat(Zt,'"\n                          stroke="').concat(a,'"\n                          stroke-opacity="1"\n                          opacity="1"\n                          fill="').concat(a,'"\n                        ></path>\n                      </svg>\n                    </div>\n                    <span style="\n                      display: inline-block;\n                      vertical-align: middle;\n                    ">').concat(i).concat(Rt,"</span>\n                  </div>\n                ")):Et&&0<Et.length&&(r=ce(Et,function(t){return t.columnName===e.name}),f=le(r,[0,"suffix"]),i="x"===l?xe({v:o,type:S,format:_t,prefix:gt,suffix:yt}):"y"===l?xe({v:o,type:C,format:te,prefix:Ct,suffix:Lt}):o,n="",r=Nt,oe(Et,function(t){var e=t.columnName,t=t.displayName;l===e&&(n=t||e)}),t===d.length-1&&(r=0),c+='\n                    <div\n                      style="\n                        display: flex;\n                        justify-content: left;\n                        align-items: center;\n                        margin-bottom: '.concat(r,"px;\n                        font-size: ").concat(I.fontSize,"px;\n                        line-height: ").concat(I.fontSize,"px;\n                        color: ").concat(I.color,";\n                        font-weight: ").concat(I.fontWeight,";\n                        font-family: ").concat(I.fontFamily,';\n                      "\n                      >\n                      <div style="opacity: ').concat(t%d.length==0?1:0,'; width: 18px;height: 18px; margin-right: 6px; overflow: hidden;">\n                        <svg>\n                          ').concat(s,'\n                          <path\n                            d="').concat(Zt,'"\n                            stroke="').concat(a,'"\n                            stroke-opacity="1"\n                            opacity="1"\n                            fill="').concat(a,'"\n                          ></path>\n                        </svg>\n                      </div>\n                      <span style="\n                        display: inline-block;\n                        vertical-align: middle;\n                      ">').concat(n,"： ").concat(i).concat(f,"</span>\n                    </div>\n                  "))}),'\n                <div\n                  style="\n                    display: '.concat("simple"===$t?"none":"block",";\n                    font-size: ").concat(Mt.fontSize,"px;\n                    line-height: ").concat(Mt.fontSize,"px;\n                    color: ").concat(Mt.color,";\n                    font-weight: ").concat(Mt.fontWeight,";\n                    font-family: ").concat(Mt.fontFamily,";\n                    margin-bottom: ").concat(Yt,'px;\n                  "\n                >').concat(e,"</div>\n                ").concat(c,"\n            ")},position:Bt},lt),{},{domStyles:{"g2-tooltip":{backgroundColor:Gt,border:"".concat(B.borderWidth,"px ").concat(B.borderStyle," ").concat(B.borderColor),padding:"".concat(At.paddingY,"px ").concat(At.paddingX,"px"),borderRadius:"".concat(B.borderRadius,"px"),boxShadow:"none"}}})}:{tooltip:!1},_t="linear"===S?ct:dt,tt=ft?{label:{rotate:Math.PI*ht/180,offset:mt,style:ie({textAlign:z,fill:W.color},W),formatter:function(t){return xe({v:t,type:S,format:_t,prefix:gt,suffix:yt})}}}:{label:{style:{fontSize:0}}},et=F.show?{title:{rotate:Math.PI*F.display.rotate/180,offset:F.display.offset,text:F.text,style:ie({fill:F.textStyle.color},F.textStyle)}}:{title:!1},p=ut.show?{line:{style:{stroke:ut.line.lineColor,lineWidth:ut.line.lineWidth,lineDash:me(ut.line)}}}:{line:{style:{lineWidth:0}}},o=xt.show?{tickLine:{length:xt.line.length,style:ne({stroke:xt.line.lineColor,lineWidth:2},"lineWidth",xt.line.lineWidth)}}:{tickLine:{length:0,style:{lineWidth:0}}},a=w.show?{grid:{line:{style:{stroke:w.line.lineColor,lineWidth:w.line.lineWidth,lineDash:me(w.line)}}}}:{grid:{line:{style:{lineWidth:0}}}},y=rt?ie(ie(ie(ie(ie(ie({type:S,mask:"timeCat"===S?"YYYY/MM/DD HH:mm:ss":"",tickCount:pt},ye(st,t,S,"x")),tt),et),p),o),a):{label:!1,tickLine:{style:{lineWidth:0}},line:{style:{lineWidth:0}},grid:{line:{style:{lineWidth:0}}},title:{style:{fontSize:0}}},te="linear"===C?wt:St,ot=kt?{label:{rotate:Math.PI*zt/180,offset:Ft,style:ie({textAlign:O,fill:L.color},L),formatter:function(t){return xe({v:t,type:C,format:te,prefix:Ct,suffix:Lt})}}}:{label:!1},G=D.show?{title:{rotate:Math.PI*D.display.rotate/180,offset:D.display.offset,text:D.text,style:ie({fill:D.textStyle.color},D.textStyle)}}:{title:!1},g=Ot.show?{line:{style:{stroke:Ot.line.lineColor,lineWidth:Ot.line.lineWidth,lineDash:me(Ot.line)}}}:{line:{style:{lineWidth:0}}},m=Dt.show?{tickLine:{length:Dt.line.length,style:{stroke:Dt.line.lineColor,lineWidth:Dt.line.lineWidth}}}:{tickLine:{length:0,style:{lineWidth:0}}},it=k.show?{grid:{line:{style:{stroke:k.line.lineColor,lineWidth:k.line.lineWidth,lineDash:me(k.line)}}}}:{grid:{line:{style:{lineWidth:0}}}},nt=bt?ie(ie(ie(ie(ie(ie({type:C},ye(vt,t,C,"y")),{},{tickCount:Wt},ot),G),g),m),it):{label:!1,tickLine:{style:{lineWidth:0}},line:{style:{lineWidth:0}},grid:{line:{style:{lineWidth:0}}},title:{style:{fontSize:0}}},h=Pt?{animation:{appear:{animation:jt,duration:P},update:{duration:P}}}:{animation:!1},u=Ut?ge(Vt):null,x=ne({},"click"===qt?"selected":"active",!!n&&{style:ie({lineWidth:Kt.lineWidth,lineDash:me(Kt),stroke:Kt.lineColor},u)}),f="multi"===j,ee=K?"line"===q?l:$:null,d=K?{pattern:function(t,e){t.type;return{type:q,cfg:ie({backgroundColor:e,fill:J.fill,fillOpacity:1,strokeOpacity:1,stroke:"line"===q?Q.stroke:Z.show?Z.stroke:"rgba(255,255,255,0)",lineWidth:"line"===q?Q.lineWidth:Z.show?Z.lineWidth:0},ee)}}}:{},r=ie(ie(ie(ie(ie(ie({data:t,xField:"x",yField:"y",sizeField:R?"radiusField":"",colorField:"colorField",autoFit:!0},Jt),{},{supportCSSTransform:!0,shape:X,sizeRatio:T},A),_),d),{},{xAxis:ie({},y),yAxis:ie({},nt)},i),{},{state:ie({default:{style:{lineWidth:2,fillOpacity:1,stroke:"yellow",fill:"green"}}},x),interactions:[{type:"element-selected",enable:"click"===qt&&f},{type:"element-single-selected",enable:"click"===qt&&!f},{type:"element-active",enable:"hover"===qt&&f},{type:"element-single-active",enable:"hover"===qt&&!f},{type:"tooltip",cfg:{start:[{trigger:"element:".concat(Ht),action:"tooltip:show"}]}}]},h);return he({props:r,guiConfig:H,data:t}),r}},t.exports});;
Cube("datav:/com/ml-heatmap/5.2.2",["datav:/npm/bcore/0.0.22/event","datav:/npm/lodash/4.17.11/get","datav:/npm/lodash/4.17.11/set","datav:/npm/lodash/4.17.11/cloneDeep","datav:/npm/lodash/4.17.11/filter","datav:/npm/lodash/4.17.11/every","datav:/npm/lodash/4.17.11/includes","datav:/npm/lodash/4.17.11/some","datav:/npm/lodash/4.17.11/map","datav:/npm/lodash/4.17.11/isArray","datav:/npm/lodash/4.17.11/defaultsDeep","datav:/npm/lodash/4.17.11/floor","datav:/npm/lodash/4.17.11/isUndefined","datav:/npm/lodash/4.17.11/isEmpty","datav:/npm/lodash/4.17.11/isEqual","datav:/npm/lodash/4.17.11/toNumber","datav:/npm/lodash/4.17.11/isNumber","datav:/npm/@antv/g2plot/2.4.20/dist/g2plot.min.js"],function(t,e,i,a,n,o){function s(e,t){var i,a=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,i)),a}function h(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach(function(t){d(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function d(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var r=i("datav:/npm/bcore/0.0.22/event"),p=i("datav:/npm/lodash/4.17.11/get"),l=i("datav:/npm/lodash/4.17.11/set"),c=i("datav:/npm/lodash/4.17.11/cloneDeep"),g=i("datav:/npm/lodash/4.17.11/filter"),m=i("datav:/npm/lodash/4.17.11/every"),f=i("datav:/npm/lodash/4.17.11/includes"),u=i("datav:/npm/lodash/4.17.11/some"),v=i("datav:/npm/lodash/4.17.11/map"),y=i("datav:/npm/lodash/4.17.11/isArray"),b=i("datav:/npm/lodash/4.17.11/defaultsDeep"),x=i("datav:/npm/lodash/4.17.11/floor"),C=i("datav:/npm/lodash/4.17.11/isUndefined"),S=i("datav:/npm/lodash/4.17.11/isEmpty"),O=i("datav:/npm/lodash/4.17.11/isEqual"),w=i("datav:/npm/lodash/4.17.11/toNumber"),j=i("datav:/npm/lodash/4.17.11/isNumber"),k=i("datav:/npm/@antv/g2plot/2.4.20/dist/g2plot.min.js"),D=k.Heatmap,k=k.G2,N=i("datav:/com/ml-heatmap/5.2.2/transform").transOptionKey,i=i("datav:/com/ml-heatmap/5.2.2/utils"),_=i.handleTimeCatNull,F=i.transformGradientColor,P=i.locationInfo,z=i.isValid;return k.registerInteraction("element-single-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),k.registerInteraction("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:toggle"}]}),t.exports=r.extend(function(t,e){this.config={options:{chart:{sizeSet:{show:!0,sizeFieldSwitch:!0},pattern:{show:!1}},legend:{maxItemWidth:{show:!1,width:100},colorLegend:{markerSpace:{openselfSpacing:!1,itemSpacing:24,itemMarginBottom:12,spacing:4}},flip:{maxRow:1}}}},this.container=t,this.apis=e.apis,this._data=null,this.chart=null,this.guiConfig=null,this.containerSize=null,this.init(e)},{init:function(t){this.mergeConfig(t),this.containerSize={width:w(this.container.style.width.slice(0,-2)),height:w(this.container.style.height.slice(0,-2))},this.container.style.padding="8px"},initChart:function(t){this.chart=new D(this.container,t),this.chart.render()},handleNonstandardData:function(t){var i=["x","y","colorField","radiusField"],t=c(t);return g(t,function(t){return m(t,function(t,e){return f(i,e)})})},isHighlight:function(t){var e=t.item,t=t.data;return u(t,function(t){return u([e],t)})},render:function(t,e){var i=this,a=this.mergeConfig(e);(t=this.data(t,a))&&(_(a),this.guiConfig=N(this.config,a,c(t),this.containerSize),this.chart&&this.chart.destroy(),this.initChart(this.guiConfig),e=P(this.chart),this.guiConfig=N(this.config,a,c(t),this.containerSize,e),this.chart.update(this.guiConfig),this.chart.off(),a.options.tooltip&&a.options.tooltip.active&&a.options.tooltip.active.trigger&&a.options.tooltip.active.show&&(t=a.options.tooltip.active.trigger,this.chart.on("element:".concat("click"===t?t:"mouseenter"),function(){var t=g(v(i.chart.getStates(),function(t){return("selected"===t.state||"active"===t.state)&&t.data}),Boolean);i.emit("itemSelect","multi"===a.options.tooltip.active.selectType?t:t&&t[0])})),this.chart.on("contextmenu",function(t){var e=p(t,"data.data");i.emit("onContextMenu",e,t)}),this.chart.on("legend-item:click",function(t){var t=p(t,"target.cfg.delegateObject.item"),e=t.value,t=t.unchecked;i.emit("legendSelect",{value:e,checked:!t})}))},resize:function(t,e){this.render(this._data,this.config)},data:function(t,e){return t&&(this.__data=t),this._data=c(this.__data),Array.isArray(this._data)&&this._data.filter(function(t){return z(t.x)&&z(t.y)}).map(function(t){return z(t.colorField)&&(t.colorField="ordinal"===e.options.chart.fill.scale.type?""+t.colorField:w(t.colorField)),j(t.x)&&(t.x=t.x+""),j(t.y)&&(t.y=t.y+""),t})},mergeConfig:function(t){return t&&(0===Object.keys(this.config).length?this.config=t:(this.config.theme=b(t.theme||{},this.config.theme),p(t,"options.chart.shape.scale.range")&&l(this.config,"options.chart.shape.scale.range",p(t,"options.chart.shape.scale.range")),p(t,"options.chart.fill.scale.range")&&l(this.config,"options.chart.fill.scale.range",p(t,"options.chart.fill.scale.range")),p(t,"options.condition")&&l(this.config,"options.condition",p(t,"options.condition")),p(t,"options.tooltip.tooltipSet.series")&&(t.options.tooltip.tooltipSet.series=t.options.tooltip.tooltipSet.series.map(function(t){return t.columnName=t.columnName||"y",t.displayName=t.displayName||"week",t.suffix=t.suffix||"",t}),l(this.config,"options.tooltip.tooltipSet.series",p(t,"options.tooltip.tooltipSet.series"))),this.config=b(t||{},this.config))),this.config},getThemableConfig:function(t){var e,i,a,n,o;return t?(e=t.textColor,o=t.axisColor,i=t.palette,t=t.bgColor,n=a="",i&&0<i.length&&(a=i[x(i.length/2)],n=i[0]),o={label:{textStyle:{color:e}},title:{textStyle:{color:e}},axisLine:{line:{lineColor:o}},tickLine:{line:{lineColor:o}}},{options:{chart:{fill:{fixed:{type:"flat",value:a},scale:{range:v(p(this.config,"options.chart.fill.scale.range"),function(t,e){return i[e]||i[e%i.length]})}},label:{textStyle:{color:e}}},axis:{xaxis:o,yaxis:o},legend:{textStyle:{color:e},colorLegend:{handler:{fill:e},track:{railColor:t}},shapeLegend:{marker:{shape:n}},sizeLegend:{handler:{fill:e},track:{trackColor:n,railColor:t}}}}}):null},highlight:function(t){var e=t.data,t=t.style;if(Object.keys(e).length<=0)return!1;var i=this,a=p(this.config,"options.tooltip.active"),n=a.show,o=a.selectType,s=a.fillSet,r=s.show,s=s.fill,l=a.line,a="click"===a.trigger?"selected":"active",r=C(t)||S(t)?{fillStyle:r?F(s).fill:"",stroke:l.lineColor}:h({},t),s=d({},a,!!n&&{style:h({},r)}),c=(this.chart.update(h(h({},this.guiConfig),{},{state:h(h({},this.guiConfig.state),s)})),y(e)?e:[e]),c=O(this.prevOriginData,e)?this.prevFilterData:this.handleNonstandardData(c);c="single"===o?[c[0]]:c,this.chart.setState(a,function(t){return i.isHighlight({item:t,data:c})}),this.prevOriginData=e,this.prevFilterData=c},reset:function(){var t="click"===p(this.config,"options.tooltip.active").trigger?"selected":"active";this.chart.update(this.guiConfig),this.chart.setState(t,function(){})},destroy:function(){this.chart&&this.chart.destroy(),this.chart=null,this._data=null,this.container&&(this.container.innerHTML="")}}),t.exports});