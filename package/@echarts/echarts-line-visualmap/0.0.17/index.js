// env=undefined => env=publish 
Cube("datav:/com/@echarts/echarts-line-visualmap/0.0.17",["datav:/com/maliang-echarts-utils/2.1.1","datav:/npm/bcore/0.0.18/event","datav:/npm/jquery/2.1.4","datav:/npm/lodash/4.6.1","datav:/npm/echarts/4.1.0"],function(t,e,i,a,n,s){var r=i("datav:/npm/bcore/0.0.18/event"),c=i("datav:/npm/jquery/2.1.4"),h=i("datav:/npm/lodash/4.6.1"),o=i("datav:/npm/echarts/4.1.0"),d=i("datav:/com/maliang-echarts-utils/2.1.1");return t.exports=r.extend(function(t,e){this.config={dataZoom:{show:!0}},this.container=c(t),this.apis=e.apis,this._data=null,this.chart=null,this.init(e)},{init:function(t){var i=this;this.mergeConfig(t),this.chart=o.init(this.container[0],null,{renderer:t.renderer}),this.chart.off(),this.chart.on("click",function(e){var t=i._data.filter(function(t){return t.s===e.seriesName&&t.x===e.name});i.emit("click",t.length&&t[0])}),this.chart.on("datarangeselected",function(e){var t=h.filter(h.keys(e.selected),function(t){return e.selected[t]});console.log(t),i.emit("data-range-selected",{selected:t,name:e.name})}),this.chart.on("datazoom",function(t){i.emit("data-zoom-changed",{start:t.start,end:t.end})})},switchRenderer:function(t){this.chart.dispose(),this.chart=o.init(this.container[0],null,{renderer:t}),this.render()},showTip:function(t){t=h.merge(t||{},{type:"showTip"}),this.chart.dispatchAction(t)},hideTip:function(){this.chart.dispatchAction({type:"hideTip"})},selectDataRange:function(){var t=h.merge(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{type:"selectDataRange"});this.chart.dispatchAction(t)},render:function(t,e){t=this.data(t),cfg=this.mergeConfig(e);e=d.data2echartsLine(t,cfg),t=h.defaultsDeep(e,cfg);this.chart.setOption(d.config2echartsOptions(t),!0)},resize:function(t,e){this.chart.resize({width:t,height:e})},data:function(t){return t&&(this._data=t),this._data},mergeConfig:function(t){var e=this;return this.config=d.setGlobalColor(d.mergeConfig(this.config,t)),this.config.markLine&&this.config.markLine.show&&(this.config.series.forEach(function(t){t.markLine=e.config.markLine}),delete this.config.markLine),this.config},clear:function(){this.chart&&this.chart.clear&&this.chart.clear()},destroy:function(){this.chart&&this.chart.dispose&&this.chart.dispose()}}),t.exports});