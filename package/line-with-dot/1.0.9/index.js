Cube('datav:/com/line-with-dot/1.0.9',['datav:/npm/bcore/0.0.9/event','datav:/npm/jquery/2.1.4','datav:/npm/lodash/4.6.1','datav:/npm/dchart-line-with-point/0.2.6','datav:/com/maliang-utils/0.0.4','datav:/npm/d3/3.5.17/d3'],function(e,k,a,i,j,l){var f=a('datav:/npm/bcore/0.0.9/event'),g=a('datav:/npm/jquery/2.1.4'),b=a('datav:/npm/lodash/4.6.1'),h=a('datav:/npm/dchart-line-with-point/0.2.6'),c=a('datav:/com/maliang-utils/0.0.4'),d=a('datav:/npm/d3/3.5.17/d3');return e.exports=f.extend(function a(c,b){this.config={theme:{},chart:{}},this.container=g(c),this.apis=b.apis,this._data=null,this.chart=null,this.init(b)},{init:function(a){this.mergeConfig(a),this.updateLayout(),this.chart=new h(this.container[0],this._getChartOptions())},_getChartOptions:function(g){var c=this.config,a=c.chart.xaxis['date-axis'],e=[];b.map(c.series,function(a,b){e.push(a['serie-name'])});var f={withAnimated:!1,margin:c.chart.distance,xaxis:{type:a.isDateAxis?'time':'category',format:a.isDateAxis?'%Y/%m/%d %H:%M:%S':null,tickFormat:!a.isDateAxis||a.dateTickFormat=='--'?null:d.time.format(a.dateTickFormat),label:c.chart.xaxis.label,min:!a.isDateAxis||a.min=='--'?null:a.min,max:!a.isDateAxis||a.max=='--'?null:a.max,ticks:null},yaxis:{label:c.chart.yaxis.label,min:c.chart.yaxis.min=='--'?null:parseFloat(c.chart.yaxis.min),max:c.chart.yaxis.max=='--'?null:parseFloat(c.chart.yaxis.max)},legend:{height:20,margin:{top:0,bottom:0,left:0,right:0},legendLabels:e}};return f.margin.containLabel=!1,f},render:function(a){if(a=this.data(a),!(a&&a.length))return;var c=this.config;if(c.chart.xaxis['date-axis'].isDateAxis)for(var b=0;b<a.length;b++)a[b].x=new Date(a[b].x);this.chart.render(a,this._getChartOptions(a)),this.updateStyle()},resize:function(a,b){this.updateLayout(a,b),this.chart.render(this.data(),{width:a,height:b})},setColors:function(){},data:function(a){var d=this.config;return a&&a.length&&(this.__data=b.cloneDeep(a)),this._data=c.threeD2Two(this.__data,'x','y','s',c.getSeriesValue(this.config.series,'value')),this._data},mergeConfig:function(a){return a?(this.config.theme=b.defaultsDeep(a.theme||{},this.config.theme),this.setColors(),a.series&&(this.config.series=a.series),this.config=b.defaultsDeep(a||{},this.config),this.config):this.config},updateLayout:function(){},updateStyle:function(){var f=this.config,g=this,c=f.chart.xaxis,d=f.chart.yaxis;this.chart.el.selectAll('.axis').style('stroke',c['stroke-color']),this.chart.el.selectAll('.axis1 .domain').style('stroke',c['stroke-color']).style('display','inherit').style('fill','none'),this.chart.el.selectAll('.axis1 .tick text').style('fill',c['text-color']).style('font-size',c['font-size']),this.chart.el.selectAll('.axis1 .tick line').style('stroke',c['stroke-color']),this.chart.el.selectAll('.axis2 .domain').style('stroke',d['stroke-color']).style('display','inherit'),this.chart.el.selectAll('.axis2 .tick line').style('stroke',d['stroke-color']).style('stroke-dasharray','3 3').style('display','inherit'),this.chart.el.selectAll('.axis2 .tick text').style('fill',d['text-color']).style('font-size',d['font-size']),this.chart.el.selectAll('.axis2 .tick line').style('stroke',d['stroke-color']);var a=g.chart.el,e=f['default-serie'];a.selectAll('.serie').style('stroke',e['stroke-color']).style('fill','none').style('stroke-width',e['stroke-width']),a.selectAll('.legend-label').style('fill',e['stroke-color']),a.selectAll('.legend-label line').style('stroke',e['stroke-color']),a.selectAll('.legend-label circle').style('fill',e['stroke-color']),b.map(f.series,function(b,c){a.selectAll('.serie'+(c+1)).style('stroke',b['stroke-color']).style('fill','none').style('stroke-width',b['stroke-width']),a.selectAll('.legend'+(c+1)).style('fill',b['stroke-color']),a.selectAll('.legend'+(c+1)+' line').style('stroke',b['stroke-color']),a.selectAll('.legend'+(c+1)+' circle').style('fill',b['stroke-color'])}),this.chart.el.select('.con-svg').style('background-color','transparent')},updateOptions:function(a){this.mergeConfig(a),this.render()}}),e.exports})