// env=undefined => env=publish 
Cube("datav:/com/@echarts/ml-echarts-bar-animation-delay/2.0.10",["datav:/com/maliang-echarts-utils/0.0.18","datav:/npm/bcore/0.0.18/event","datav:/npm/jquery/2.1.4","datav:/npm/lodash/4.6.1","datav:/npm/echarts/3.5.4"],function(a,b,c){var d=c("datav:/npm/bcore/0.0.18/event"),e=c("datav:/npm/jquery/2.1.4"),f=c("datav:/npm/lodash/4.6.1"),g=c("datav:/npm/echarts/3.5.4"),h=c("datav:/com/maliang-echarts-utils/0.0.18");return a.exports=d.extend(function(a,b){this.config={series:[],yAxis:{data:[],type:"value"},xAxis:{data:[],type:"category"}},this.container=e(a),this.apis=b.apis,this._data=null,this.chart=null,this.init(b)},{init:function(a){var b=this;a=this.mergeConfig(a),this.chart=g.init(this.container[0]),this.chart.setOption(h.config2echartsOptions(a)),this.chart.off(),this.chart.on("click",function(a){var c;c=f.merge({x:a.name,y:a.value,s:a.seriesName},a.data),delete c.value,b.emit("click",c)}),this.chart.on("legendselectchanged",function(a){var c=[];c=f.filter(f.keys(a.selected),function(b){return a.selected[b]}),b.emit("legend-select-changed",{selected:c,name:a.name})})},showTip:function(a){a=f.merge(a||{},{type:"showTip"}),this.chart.dispatchAction(a)},hideTip:function(){this.chart.dispatchAction({type:"hideTip"})},legendAction:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=a.type,c=void 0===b?"legendToggleSelect":b,d=a.name;c&&-1!==["legendSelect","legendUnSelect","legendToggleSelect"].indexOf(c)&&this.chart.dispatchAction({type:c,name:d})},render:function(a,b){b=this.mergeConfig(b),a=this.data(a);var c=h.config2echartsOptions(this.mergeConfig(h.data2echartsAxis(a,b)));this.chart.setOption(c)},resize:function(a,b){this.chart.resize({width:a,height:b})},data:function(a){return a&&(this._data=a),this._data},mergeConfig:function(a){var b=this;return a?(a.xAxis&&a.xAxis.axisLine&&(a.xAxis.name=a.xAxis.tName,a.xAxis.axisLine.lineStyle.type=a.xAxis.axisLine.lineStyle.sType,a.xAxis.axisTick.lineStyle.type=a.xAxis.axisTick.lineStyle.sType,a.xAxis.splitLine.lineStyle.type=a.xAxis.splitLine.lineStyle.sType,a.xAxis.axisPointer.type=a.xAxis.axisPointer.lType,a.xAxis.axisPointer.lineStyle.type=a.xAxis.axisPointer.lineStyle.sType),a.yAxis&&a.yAxis.axisLine&&(a.yAxis.name=a.yAxis.tName,a.yAxis.axisLine.lineStyle.type=a.yAxis.axisLine.lineStyle.sType,a.yAxis.axisTick.lineStyle.type=a.yAxis.axisTick.lineStyle.sType,a.yAxis.splitLine.lineStyle.type=a.yAxis.splitLine.lineStyle.sType,a.yAxis.axisPointer.type=a.yAxis.axisPointer.lType,a.yAxis.axisPointer.lineStyle.type=a.yAxis.axisPointer.lineStyle.sType),a.series&&(a.series.forEach(function(a,c){a.data&&(b.config.series[c].data=a.data),b.config.series[c]=f.defaultsDeep(a||{},b.config.series[c]),b.config.series[c].type="bar"}),this.config.series=f.take(this.config.series,a.series.length)),a.xAxis.data&&(this.config.xAxis.data=a.xAxis.data),this.config=f.defaultsDeep(a||{},this.config),this.config.legend.data=f.map(this.config.series,"name"),this.config.tooltip.showContent=this.config.tooltip.show,this.config):this.config},updateStyle:function(){this.config},clear:function(){this.chart&&this.chart.clear&&this.chart.clear()},destroy:function(){this.chart&&this.chart.dispose&&this.chart.dispose()}}),a.exports});