{
	"name": "datavmap-3d-layer-building",
	"version": "0.0.18",
	"description": "基于datav.gl的3d建筑层",
	"main": "index.js",
	"scripts": {
		"test": "echo \"Error: no test specified\" && exit 1"
	},
	"repository": {
		"type": "git",
		"url": "git@gitlab.alibaba-inc.com:datav-coms/datavmap-3d-layer-building.git"
	},
	"keywords": [
		"datav.gl",
		"mapbox",
		"building"
	],
	"author": "wandergis",
	"dependencies": {
		"chroma-js": "1.3.4",
		"eventemitter3": "2.0.3",
		"safely-merge": "1.0.1"
	},
	"datav": {
		"cn_name": "数据映射建筑层",
		"icon": "//img.alicdn.com/tfs/TB1mfsnAxnaK1RjSZFBXXcW7VXa-180-180.png",
		"protocol": 2,
		"type": [
			"datavgl_subcoms"
		],
		"parent": {
			"supportTypes": [
				"map_datavgl"
			],
			"supportNames": []
		},
		"view": {
			"width": "800",
			"height": "600",
			"minWidth": "200",
			"minHeight": "100"
		},
		"publicHandler": {
			"show": {
				"description": "显示组件"
			},
			"hide": {
				"description": "隐藏组件"
			}
		},
		"apis": {
			"building": {
				"handler": "updateBuilding",
				"description": "建筑数据接口(geojson)",
				"fields": {}
			},
			"data": {
				"handler": "updateData",
				"description": "映射数据",
				"fields": {
					"id": {
						"description": "关联id"
					},
					"value": {
						"description": "值"
					},
					"height": {
						"description": "高度",
						"optional": true
					}
				}
			}
		},
		"config": {
			"handler": "updateOptions",
			"fold": true,
			"buildingvis": {
				"name": "显示",
				"type": "hidden",
				"default": true
			},
			"buildingColor": {
				"type": "group",
				"name": "建筑颜色",
				"children": {
					"minColor": {
						"default": "rgba(5, 96, 125, 0.8)",
						"name": "最小值",
						"type": "color"
					},
					"maxColor": {
						"default": "rgba(0, 255, 240, 0.5)",
						"name": "最大值",
						"type": "color"
					},
					"defaultColor": {
						"default": "rgba(82,73,126,0.26)",
						"name": "无数据",
						"type": "color"
					}
				}
			},
			"buildingsOpacity": {
				"name": "透明度",
				"type": "number",
				"default": 0.8,
				"range": [
					0,
					1
				],
				"step": 0.01
			},
			"buildingsMetalness": {
				"name": "金属度",
				"type": "number",
				"default": 0.8,
				"range": [
					0,
					1
				],
				"step": 0.01
			},
			"buildingsRoughness": {
				"name": "粗糙度",
				"type": "number",
				"default": 0.8,
				"range": [
					0,
					1
				],
				"step": 0.01
			},
			"buildingsScaleZ": {
				"name": "建筑比例",
				"type": "number",
				"default": 4.5,
				"range": [
					1,
					1000
				],
				"step": 0.1
			},
			"buildingsPositionZ": {
				"name": "垂直高度",
				"type": "number",
				"default": 1,
				"range": [
					1,
					10000
				],
				"step": 0.1
			},
			"buildingsBlending": {
				"name": "叠加模式",
				"type": "options",
				"default": "NormalBlending",
				"options": [
					{
						"name": "无叠加",
						"value": "NoBlending"
					},
					{
						"name": "正常模式",
						"value": "NormalBlending"
					},
					{
						"name": "添加模式",
						"value": "AdditiveBlending"
					}
				]
			}
		},
		"api_data": {
			"building": {
				"type": "FeatureCollection",
				"features": [
					{
						"type": "Feature",
						"geometry": {
							"type": "MultiPolygon",
							"coordinates": [
								[
									[
										[
											110.70619964554015,
											20.09868240285681
										],
										[
											111.0126037591138,
											19.684041976936726
										],
										[
											110.06165313720896,
											18.437765121388566
										],
										[
											108.6962966922872,
											18.497482299593855
										],
										[
											109.26418304488834,
											19.89806747438348
										],
										[
											110.70619964554015,
											20.09868240285681
										]
									]
								],
								[
									[
										[
											121.5283203129552,
											25.301246643150478
										],
										[
											121.9279708861203,
											25.034536362078086
										],
										[
											121.45900726323669,
											23.319709777287983
										],
										[
											120.63215637266842,
											22.308504104512565
										],
										[
											120.12359619154859,
											23.617090225210347
										],
										[
											121.5283203129552,
											25.301246643150478
										]
									]
								],
								[
									[
										[
											123.3800735471018,
											53.53538131674128
										],
										[
											125.62042999342373,
											53.067317962896084
										],
										[
											127.80193328875384,
											49.58839797987338
										],
										[
											129.54113769510138,
											49.32783889742058
										],
										[
											130.95336914064342,
											47.73265075681684
										],
										[
											132.5841522210037,
											47.760719299743755
										],
										[
											134.02444458002788,
											48.33506774908949
										],
										[
											133.91529846182857,
											46.263767242629854
										],
										[
											132.9652709963202,
											45.020984649674915
										],
										[
											131.11238098191097,
											44.66671752991084
										],
										[
											131.03802490247654,
											42.87369918812175
										],
										[
											128.03547668456667,
											41.3890380859911
										],
										[
											126.71803283663928,
											41.74375534067491
										],
										[
											125.94416046095648,
											40.87656784113153
										],
										[
											124.01349639872944,
											39.805427550827574
										],
										[
											121.4925613396465,
											39.51528549164391
										],
										[
											122.28719329825174,
											40.49659729056373
										],
										[
											121.2021179198141,
											40.945014953965995
										],
										[
											119.01197814947716,
											39.2129173273492
										],
										[
											117.8266067508149,
											39.17729949942304
										],
										[
											118.01074218706174,
											38.00658416768863
										],
										[
											119.32215881374316,
											37.1108779912671
										],
										[
											120.93202209485355,
											37.82121658377463
										],
										[
											121.91661834676722,
											36.93785476662299
										],
										[
											119.64457702680045,
											35.61317825267378
										],
										[
											119.17842102096324,
											34.84944152825608
										],
										[
											120.27239227282746,
											34.31593704213026
										],
										[
											120.9781036378381,
											31.811418533429332
										],
										[
											121.88574218684687,
											30.87138366700458
										],
										[
											121.63890838618715,
											28.29038620032179
										],
										[
											121.21417999259609,
											28.359767913858548
										],
										[
											118.28665161119875,
											24.59769248977716
										],
										[
											116.50567626997861,
											22.944032669323974
										],
										[
											113.59040069615605,
											22.246809005769535
										],
										[
											112.5921936040454,
											21.753864288393572
										],
										[
											110.76180267386775,
											21.386667251532458
										],
										[
											108.68398284868056,
											21.704336166861367
										],
										[
											107.38311004583136,
											21.594511032792923
										],
										[
											106.60067748995715,
											22.931558609071487
										],
										[
											105.31947326611754,
											23.38998794552225
										],
										[
											104.35929107665271,
											22.694028854758642
										],
										[
											101.6757202143429,
											22.477304459192
										],
										[
											101.73634338421101,
											21.311695098937207
										],
										[
											100.1248702996536,
											21.51122474605421
										],
										[
											99.2098083498181,
											22.115409850992023
										],
										[
											99.51245117148312,
											23.08343696538452
										],
										[
											97.55962371825927,
											24.747377394993805
										],
										[
											98.40469360341257,
											25.601722717318125
										],
										[
											98.66997528040889,
											27.593269348687045
										],
										[
											97.66061401312936,
											28.53792190566918
										],
										[
											97.04380798293016,
											27.8228282933556
										],
										[
											95.7404632571675,
											28.279190063491342
										],
										[
											93.57546997088343,
											26.939071654803286
										],
										[
											92.57033538750858,
											26.950090408619133
										],
										[
											90.69965362534782,
											28.081274032426165
										],
										[
											88.6332855225042,
											28.116683959440877
										],
										[
											87.72531127936213,
											27.809122086066452
										],
										[
											85.11362457267478,
											28.344661712921493
										],
										[
											82.00725555377414,
											30.322265624928207
										],
										[
											81.02969360371031,
											30.247310638213435
										],
										[
											78.99921417293604,
											31.047060013153782
										],
										[
											78.45049285859386,
											32.22343826297998
										],
										[
											78.96459197989037,
											34.3866653440017
										],
										[
											77.6851654052171,
											35.45000076264665
										],
										[
											76.16239166279325,
											35.82299804673124
										],
										[
											74.9134674069486,
											37.58111953684789
										],
										[
											74.84988403309757,
											38.484245299859765
										],
										[
											73.5044555665038,
											39.37761306762809
										],
										[
											74.85237121569276,
											40.51792526267019
										],
										[
											79.78005218504495,
											41.891544342127645
										],
										[
											80.8019180298254,
											43.177070617535094
										],
										[
											80.10926055941724,
											45.05175781299613
										],
										[
											81.6445236205588,
											45.3591423033684
										],
										[
											83.15625000019634,
											47.23664855959129
										],
										[
											85.52316284198508,
											47.05639266975243
										],
										[
											85.7553939815258,
											48.39816665646168
										],
										[
											86.90223693858775,
											49.13093185487406
										],
										[
											89.09789276092624,
											47.985630035618385
										],
										[
											90.32461547881564,
											47.68631744404104
										],
										[
											91.06788635267958,
											46.57468414292259
										],
										[
											90.80733489944083,
											45.319900512997435
										],
										[
											93.50695037790257,
											44.96651458775972
										],
										[
											95.41933441130902,
											44.28871154809855
										],
										[
											96.38307952939653,
											42.7253265375615
										],
										[
											100.33116912869389,
											42.6867561341835
										],
										[
											105.01120758096715,
											41.5804176331024
										],
										[
											107.45317840532903,
											42.4566612239513
										],
										[
											109.52848052945592,
											42.46745681767885
										],
										[
											111.95458984306691,
											43.82756042471527
										],
										[
											111.76952362013333,
											44.980590819962174
										],
										[
											113.6238098150219,
											44.74395751961492
										],
										[
											115.68744659473589,
											45.452674865551046
										],
										[
											116.62342071532771,
											46.30820083599542
										],
										[
											119.62473297088286,
											47.25032043413432
										],
										[
											118.55493164093286,
											47.99346160889468
										],
										[
											115.57346344039684,
											47.92113113460255
										],
										[
											116.71927642868025,
											49.84714508015617
										],
										[
											119.09963989254175,
											49.99981689432394
										],
										[
											120.65807342528387,
											51.91852188140143
										],
										[
											120.9396286010815,
											53.292640686502466
										],
										[
											123.3800735471018,
											53.53538131674128
										]
									]
								]
							]
						},
						"properties": {
							"name": "china",
							"floor": 20000
						}
					}
				]
			},
			"data": [
				{
					"id": 1,
					"value": 2
				},
				{
					"id": 2,
					"value": 3
				}
			]
		}
	}
}