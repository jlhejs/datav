// env=undefined => env=publish 
Cube("datav:/com/@datav-form/interact-button/0.0.21",["datav:/npm/bcore/0.0.18/event","datav:/npm/jquery/2.1.4","datav:/npm/lodash/4.6.1","datav:/npm/xss/1.0.3"],function(t,e,o,n,i,r){var a=o("datav:/npm/bcore/0.0.18/event"),s=o("datav:/npm/jquery/2.1.4"),h=o("datav:/npm/lodash/4.6.1"),l=o("datav:/npm/xss/1.0.3");return t.exports=a.extend(function(t,e){this.config={},this.container=s(t),this.apis=e.apis,this._data=null,this.init(e)},{init:function(t){var e=this;this.mergeConfig(t),this.container.append('<div class="button-box"></div>'),this.button=this.container.find(".button-box"),this.initStyle(),this.button.off().on("click",function(){e.emit("button-clicked",e._data[0])})},initStyle:function(){this.button.css({cursor:"pointer","box-sizing":"border-box","user-select":"none",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"})},render:function(t,e){var o=this,e=(t=this.data(t),this.mergeConfig(e));e.urlConfig&&e.urlConfig.url?this.button.html(l('<a data-spm-protocol="i" href="'+(t[0].url||e.urlConfig.url)+'" '+(e.urlConfig.ifBlank?'target="_blank"':"")+' style="display:block;">'+e.global.bottonContent+"</a>")):this.button.html(e.global.bottonContent),this.updateStyle("normal"),this.button.off("mousedown mouseup mouseenter mouseleave").mousedown(function(){o.updateStyle("emphasis")}).mouseup(function(){o.updateStyle("normal")}).mouseenter(function(){o.updateStyle("hover")}).mouseleave(function(){o.updateStyle("normal")})},updateStyle:function(t){var e;switch(t){case"normal":e=this.config.normal;break;case"hover":e=this.config.hover;break;case"emphasis":e=this.config.emphasis}this.button.css({"line-height":(this.config.height||this.container.height())-2*e.border.borderWidth+"px",width:this.config.width||this.container.width(),height:this.config.height||this.container.height(),"border-width":e.border.borderWidth+"px","border-color":e.border.borderColor,"border-radius":e.border.borderRadius,"border-style":e.border.borderStyle,color:e.textStyle.color,"font-style":e.textStyle.fontStyle,"font-size":e.textStyle.fontSize,"font-weight":e.textStyle.fontWeight,"font-family":e.textStyle.fontFamily,"text-align":e.textStyle.textAlign}),this.button.find("a").css({width:"100%",height:"100%",color:e.textStyle.color,"font-style":e.textStyle.fontStyle,"font-size":e.textStyle.fontSize,"font-weight":e.textStyle.fontWeight,"font-family":e.textStyle.fontFamily,"text-decoration":"none",display:"block"}),e.background.img?this.button.css({"background-image":"url(".concat(e.background.img,")"),"background-repeat":e.background.repeat?"repeat":"no-repeat","background-size":e.background.size}):this.button.css({"background-image":"none"}),this.button.css({"background-color":e.background.color})},resize:function(t,e){this.render(null,{width:t,height:e})},data:function(t){return t&&(this._data=t),this._data},mergeConfig:function(t){return t&&(this.config=h.defaultsDeep(t||{},this.config)),this.config},destroy:function(){this.button.off(),this.container.empty()}}),t.exports});