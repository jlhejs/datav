// env=undefined => env=publish 
Cube("datav:/com/datav-expo-ambientlighter/0.0.1",["datav:/npm/chroma-js/1.3.4","datav:/npm/eventemitter3/2.0.3","datav:/npm/safely-merge/1.0.1"],function(a,b,c){let d=null;const e=c("datav:/npm/chroma-js/1.3.4"),f=c("datav:/npm/eventemitter3/2.0.3"),g=c("datav:/npm/safely-merge/1.0.1"),h={intensity:0.8,color:16777215};return a.exports=class extends f{constructor(a,b){super(),this.options=g(h,b||{})}addTo(a){return a?void(d=a.three,this.map=a,this.scene=a.scene,this.init()):console.log("Ambient Lighter layer needs map layer")}init(){let a=this.options,b=new d.Color(e(a.color).hex()),c=this.light=new d.AmbientLight(b,a.intensity);this.scene.add(c)}updateLight(){let a=this.options,b=new d.Color(e(a.color).hex());this.light.intensity=a.intensity,this.light.color.setRGB(b.r,b.g,b.b)}updateOptions(a){this.options=g(this.options,a||{}),this.updateLight()}remove(){this.scene.remove(this.light),this.light&&this.light.shadow&&this.light.shadow.map&&this.light.shadow.map.dispose&&this.light.shadow.map.dispose(),this.light=null}},a.exports});