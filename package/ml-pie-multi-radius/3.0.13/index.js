// env=undefined => env=publish 
Cube("datav:/com/ml-pie-multi-radius/3.0.13/defaultConfig",[],function(o,e,t,i,r,a){return o.exports={chart:{pie:{outerBorderColor:"rgba(255,255,255,0.1)"},numericalLabel:{textStyle:{fontFamily:"Microsoft Yahei",fontWeight:"normal",fontSize:12,color:"rgba(255,255,255,0.8)"},real:!1,decimal:2},categoryLabel:{show:!0,textStyle:{fontFamily:"Microsoft Yahei",fontWeight:"normal",fontSize:12,color:"rgba(255,255,255,0.8)"}},labelLine:{dx:.7,dr:.8},legend:{show:!0,textarea:{fontFamily:"Microsoft Yahei",fontWeight:"normal",fontSize:10,color:"rgba(255,255,255,0.5)"},layout:{margin:{horiInterval:8,vertiInterval:0},loc:"bottom-center"}}},axis:{radiusAxis:{radius:.6,grid:{show:!1,color:"rgba(170,170,170,0.5)"}}},series:{series:[{color:"#00baff",radius:{innerRadius:.7,outerRadius:1}},{color:"#3de7c9",radius:{innerRadius:.75,outerRadius:.95}}]},others:{animation:{show:!0,setting:{animationEasing:"cubicInOut",animationAfterPreviousSeries:!1,animationAllFromZero:!0},enter:{animationDuration:1e3},update:{animationDurationUpdate:300,animationUpdateFromPrevious:!0}},tooltip:{show:!0,hideDelay:100,trigger:{action:"hover"},textStyle:{fontFamily:"Microsoft Yahei",fontWeight:"normal",fontSize:14,color:"#fff"},bgBox:{backgroundColor:"rgba(0, 0, 0, 0.65)",customSize:{show:!1,width:150,height:50},padding:10,offset:{xOffset:6,yOffset:10},border:{borderWidth:0,borderColor:"#333"}}}}},o.exports});;
Cube("datav:/com/ml-pie-multi-radius/3.0.13/pie",["datav:/com/maliang-utils/0.0.22","datav:/npm/bcore/0.0.22/event","datav:/npm/dchart-pie-multi-radius/0.5.8","datav:/npm/jquery/2.1.4","datav:/npm/lodash/4.17.11","datav:/npm/lodash/4.17.11/cloneDeep"],function(e,t,i,r,o,n){function a(t,e){var i,r=Object.keys(t);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(t),e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)),r}function f(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?a(Object(o),!0).forEach(function(e){var t,i;t=r,i=o[e=e],e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}var s=i("datav:/npm/bcore/0.0.22/event"),l=i("datav:/npm/dchart-pie-multi-radius/0.5.8"),c=i("datav:/npm/jquery/2.1.4"),g=i("datav:/npm/lodash/4.17.11"),p=i("datav:/npm/lodash/4.17.11/cloneDeep"),d=i("datav:/com/maliang-utils/0.0.22");Math.PI;var m=function(e){var t=e.serie,i=e.color,r=e.value,e=e.key;return'<div><span style="display:inline-block; margin-right:5px; border-radius:2px; width:10px; height:10px;\n        background:'.concat(i||t&&t.color&&t.color.value||"#ccc",'"></span>\n        ').concat(e?e+": ":"").concat(r,"</div>")};return e.exports=s.extend(function(e,t){this.config={theme:{},chart:{background:"transparent"},legend:{},series:[{value:"1",color:"#2F8FBE"}],tooltip:{show:!0,trigger:"item",triggerMethod:"hover",beforeFormat:null,enterFocus:!0,hideDelay:300,textStyle:{color:"#fff",fontSize:14,fontFamily:"Microsoft Yahei",fontWeight:"normal"},bgBox:{color:"rgba(0, 0, 0, 0.65)",padding:10,xOffset:6,yOffset:10,customSize:{show:!1,width:300,height:150},borderColor:"#333",borderWidth:0}}},this.container=c(e),this._width=this.container.width(),this.init(t)},{init:function(e){this.apis=e.apis;e=this.mergeConfig(e);this.chart=new l(this.container[0],e)},isSafeNumber:function(e){return g.isNumber(e)&&!g.isNaN(e)&&g.isFinite(e)?e:null},render:function(e,t){var i,r,o,n,a,s,l,c,d,h,u,t=this.mergeConfig(t);(e=this.data(e))&&e.length&&(e&&this.chart.render(e,(i=t,r=e,e=this._width,t=t.height,o=g.cloneDeep(i),n=Math.min(e,t),o.width=e,o.height=t,t=i.chart,a=i.axis,s=i.series,l=i.others,o.paxis={dr:n*t.labelLine.dr/2,dx:e*t.labelLine.dx/2},o.label={},o.label.dx=t.labelLine.dx,o.label.dr=t.labelLine.dr,o.xaxis=null,o.yaxis=null,o.arc={},o.arc.radius=n*a.radiusAxis.radius/2-3,o.arc.net=a.radiusAxis.grid.show,o.arc.netColor=a.radiusAxis.grid.color,o.colors=g.map(s.series,"color"),o.innerArr=g.map(s.series,"radius.innerRadius"),o.outerArr=g.map(s.series,"radius.outerRadius"),c=t.numericalLabel,d=t.categoryLabel,h=c.textStyle,u=d.textStyle,o.paxis.nlabel=function(e){var t=g.sumBy(r,"y.value"),i=e.y&&e.y.value,e='<tspan x="0" dy="1em" style="font-size: '+u.fontSize+"px; font-weight:"+u.fontWeight+"; fill: "+u.color+'">'+e.x+"</tspan>",i='<tspan dy="'+(d.show?-3:3)+'" x="0" style="font-size: '+h.fontSize+"px; font-weight:"+h.fontWeight+"; fill: "+h.color+"; font-family: "+h.fontFamily+'">'+(c.real&&i.toFixed(c.decimal)||(t?(i/t*100).toFixed(c.decimal):0)+"%")+"</tspan>";return((c.show||g.isUndefined(c.show))&&i||"")+(d.show&&e||"")},e=l.animation,n=e.enter,a=e.update,s=e.setting,Object.assign(o,f({},n)),Object.assign(o,f({},a)),Object.assign(o,f({},s)),o.animation=l.animation.show,o.tooltip=function(e,a,s){if(!e)return{};var t=p(e),i=e.trigger,r=e.textStyle,o=e.bgBox,l=(i&&i.action&&(t.triggerMethod=i.action),t.trigger="item",e.beforeFormat&&(t.beforeFormat=e.beforeFormat),s.series.series);t.formatter=function(e,t,i){var r='<div class="dchart-tooltip">',o=s.chart.numericalLabel,t=l[t],n=a.map(function(e){return e.y.value}).reduce(function(e,t){return e+t},0),n=(n?(e.y.value/n*100).toFixed(o.decimal):0)+"%";return e.y&&(r+=m({color:t.color&&(t.color.gradientValue||t.color.value),key:e.x,value:"".concat(e.y.value," (").concat(n,")")})),r},void 0!==e.enterFocus&&(t.enterFocus=e.enterFocus),void 0!==e.hideDelay&&(t.hideDelay=e.hideDelay),r&&(t.color=r.color,t.fontSize=r.fontSize+"px",t.fontFamily=r.fontFamily,t.fontWeight=r.fontWeight);o&&(i=o.offset,e=o.border,r=o.customSize,t.backgroundColor=o.backgroundColor,i&&void 0!==i.xOffset&&(t.xOffset=i.xOffset),i&&void 0!==i.yOffset&&(t.yOffset=i.yOffset),r&&(t.autoSize=!r.show,t.width=r.width,t.height=r.height),e&&(e.borderColor&&(t.borderColor=e.borderColor),void 0!==e.borderWidth&&(t.borderWidth=e.borderWidth)));return t}(i.others.tooltip,r,i),o)),this.updateStyle())},updateStyle:function(){var e=this.config,t=this.chart.el;t&&(0===g.sumBy(this._data,"y")&&t.select(".series-cords").selectAll(".serie-cord").style("stroke","none"),t.selectAll(".serie-bg").style("stroke","none"),t.select(".con-svg").style("background","transparent"),t.select(".bg-outer-circle").style("stroke-width","2px"),t.selectAll(".bg-outer-circle, .bg-inner-circle").style({fill:"none",stroke:e.chart.pie.outerBorderColor||"#fff"}),t.selectAll(".series-pies .serie").style("stroke","none"),e=e.chart.labelLine.show,t.select(".series-cords").style("display",e||g.isUndefined(e)?"block":"none"))},setColors:function(){},hasS:function(e){var t=0;return g.map(e,function(e){void 0!==e.s&&t++}),t===e.length},data:function(e){return e&&(this.__data=g.clone(e)),this.hasS(this.__data)?this._data=d.threeD2Two(this.__data,"x","y","s",d.getSeriesValue(this.config.series.series,"value")):this._data=g.cloneDeep(this.__data).map(function(e){return e.y={value:e.y,data:g.clone(e)},e}),this._data},mergeConfig:function(e){return e&&(this.config.theme=g.defaultsDeep(e.theme||{},this.config.theme),this.setColors(),e.series&&(this.config.series=e.series),this.config=g.defaultsDeep(e||{},this.config)),this.config},resize:function(e,t){this._width=e,this.config.height=t,this.render()},clear:function(){this.chart&&this.chart.empty()},destroy:function(){this.chart&&this.chart.off(),this.chart&&this.chart.destroy(),this._data=this.__data=null}}),e.exports});;
Cube("datav:/com/ml-pie-multi-radius/3.0.13",["datav:/com/legend/0.1.5","datav:/com/maliang-utils/0.0.22","datav:/npm/bcore/0.0.22/event","datav:/npm/jquery/2.1.4","datav:/npm/lodash/4.17.11","datav:/npm/lodash/4.17.11/cloneDeep"],function(t,i,e,n,h,a){var s=e("datav:/npm/bcore/0.0.22/event"),o=e("datav:/npm/jquery/2.1.4"),r=e("datav:/npm/lodash/4.17.11"),c=e("datav:/npm/lodash/4.17.11/cloneDeep"),l=e("datav:/com/ml-pie-multi-radius/3.0.13/pie"),d=e("datav:/com/legend/0.1.5"),g=e("datav:/com/maliang-utils/0.0.22"),m=e("datav:/com/ml-pie-multi-radius/3.0.13/defaultConfig");return t.exports=s.extend(function(t,i){this.config=c(m),this.container=o(t).css("padding","10px 0"),this.chart=null,this.legend=null,this.init(i)},{init:function(t){var t=t&&t.options||t,t=(this.apis=t.apis,this.mergeConfig(t)),i=t.chart.legend,e=i.layout.loc.split("-")[0];this.chartDom=o('<div class="dchart-pie-multi-radius" style="width: 100%;"></div>'),this.legendDom=o('<div class="dchart-legend" style="left: 0;width: 100%;"></div>'),"bottom"===e?(this.container.append(this.chartDom),this.container.append(this.legendDom)):(this.container.append(this.legendDom),this.container.append(this.chartDom)),this.legend=new d(this.legendDom[0],i),this.chartDom.height(this.container.height()-(i.show&&this.legendDom.height()||0)),this.chart=new l(this.chartDom[0],r.cloneDeep(t)),this.legendDom.css("display",i.show?"block":"none"),this._bindEvent()},render:function(e,t){var i,t=t&&t.options||t,t=this.mergeConfig(t);(e=this.data(e))&&e.length&&(t.series.series=g.fixArray4cycle(t.series.series,e.length),r.map(t.series.series,function(t,i){e[i]?t.showName=e[i].x:t.showName=null}),i=t.chart.legend,this.legend.render(t.series.series,i),i=this.container.height()-(i.show&&this.legendDom.height()||0),this.chartDom.height(i),this.config.height=i,e&&this.chart.render(e,t),this._cfg=t)},updateStyle:function(){},setColors:function(){},data:function(t){return t&&(this._data=r.clone(t),this._data.length&&this._data.forEach(function(t){t.y=r.toNumber(t.y)})),this._data},mergeConfig:function(t){return t&&(this.config.theme=r.defaultsDeep(t.theme||{},this.config.theme),this.setColors(),t.series&&(this.config.series=t.series),this.config=r.defaultsDeep(t||{},this.config)),this.config},resize:function(t,i){this.chart.resize(t,i-(this.config.chart.legend.show&&this.legendDom.outerHeight()||0)-20)},updateLegendLayout:function(t){var i=this.config.chart.legend,e=(i.show!==t.show&&(this.legendDom.css("display",t.show?"block":"none"),this.config.chart.height=this.container.height()-(t.show&&this.legendDom.height()||0)),i.textarea.fontSize!==t.textarea.fontSize&&(this.legendDom.find(".legend-item").css("fontSize",t.textarea.fontSize),this.config.chart.height=this.container.height()-(t.show&&this.legendDom.height()||0)),JSON.stringify(i.layout.margin)!==JSON.stringify(t.layout.margin)&&(e=t.layout.margin,this.legendDom.find(".legend-item").css("margin",e.vertiInterval+"px "+e.horiInterval+"px"),this.config.chart.height=this.container.height()-(t.show&&this.legendDom.height()||0)),i.layout.loc.split("-")[0]),i=t.layout.loc.split("-")[0];e!==i&&("top"===i?this.container[0].appendChild(this.chartDom[0]):"bottom"===i&&this.container[0].appendChild(this.legendDom[0])),this.render(null,{chart:{legend:t}})},clear:function(){this.chart&&this.chart.clear(),this.legend&&r.isFunction(this.legend.clear)&&this.legend.clear()},destroy:function(){this.chart&&this.chart.destroy(),this.chart=null,this.legend&&this.legend.destroy(),this.legend=null,this.chartDom=null,this.legendDom=null,this.container&&this.container.empty(),this._data=null},startAnimate:function(){if(!this.chart||!this.chart.chart)return!1;var t,i,e,n;this._cfg&&(this.chart.chart.clearAllAnimation(),t=(i=this._cfg.others.animation).update,i=i.enter,e=t.animationUpdateFromPrevious,t.animationUpdateFromPrevious=!1,n=t.animationDurationUpdate,t.animationDurationUpdate=i.animationDuration,this.chart.render(),t.animationDurationUpdate=n,t.animationUpdateFromPrevious=e)},clearAnimate:function(){this.chart&&this.chart.chart&&this.chart.chart.resumeToAnimationEnd()},_bindEvent:function(){var t,e=this;this.chart&&this.chart.chart&&(t=this.chart.chart,["click"].forEach(function(i){t.on(i,function(t){t=t.data;return e.emit(i,t)})}))},highlight:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=t.data,t=t.options,t=void 0===t?{}:t;if(!this.chart)return null;t.hasOwnProperty("selectMode")&&(t.mode=t.selectMode,delete t.selectMode),t.hasOwnProperty("cancelHighlightFirst")&&t.cancelHighlightFirst&&this.cancelHighlight(),this.chart.chart&&this.chart.chart.highlight({targetData:i,options:t})},cancelHighlight:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=t.data,t=t.options,t=void 0===t?{}:t;if(!this.chart)return null;t.hasOwnProperty("selectMode")&&(t.mode=t.selectMode,delete t.selectMode),this.chart&&this.chart.chart&&this.chart.chart.cancelHighlight({targetData:i,options:t})}}),t.exports});