// env=undefined => env=publish 
Cube("datav:/com/@echarts/ml-echarts-candlestick-sh-2015/2.0.15",["datav:/com/maliang-echarts-utils/0.0.18","datav:/npm/bcore/0.0.18/event","datav:/npm/jquery/2.1.4","datav:/npm/lodash/4.6.1","datav:/npm/echarts/3.5.4"],function(t,e,i,n,a,o){var s=i("datav:/npm/bcore/0.0.18/event"),c=i("datav:/npm/jquery/2.1.4"),r=i("datav:/npm/lodash/4.6.1"),h=i("datav:/npm/echarts/3.5.4"),l=i("datav:/com/maliang-echarts-utils/0.0.18");return t.exports=s.extend(function(t,e){this.config={xAxis:{data:[],type:"category"},series:[{type:"candlestick",itemStyle:{normal:{color0:"#0CF49B",borderColor0:"#0CF49B"}}},{type:"line",itemStyle:{normal:{color0:"#0CF49B",borderColor0:"#0CF49B"}}},{type:"line",itemStyle:{normal:{color0:"#0CF49B",borderColor0:"#0CF49B"}}},{type:"line",itemStyle:{normal:{color0:"#0CF49B",borderColor0:"#0CF49B"}}},{type:"line",itemStyle:{normal:{color0:"#0CF49B",borderColor0:"#0CF49B"}}}]},this.container=c(t),this.apis=e.apis,this._data=null,this.chart=null,this.init(e)},{init:function(t){var n=this;t=this.mergeConfig(t),this.chart=h.init(this.container[0]),this.chart.setOption(l.config2echartsOptions(t)),this.updateStyle(),this.chart.off(),this.chart.on("click",function(t){var e,i={};i=Array.isArray(t.data)?(e=t.data,{x:t.name,open:e[0],close:e[1],lowest:e[2],highest:e[3],type:t.seriesName}):{x:t.name,value:t.data,type:t.seriesName},n.emit("click",i)}),this.chart.on("legendselectchanged",function(e){var t=r.filter(r.keys(e.selected),function(t){return e.selected[t]});n.emit("legend-select-changed",{selected:t,name:e.name})})},showTip:function(){var t=r.merge(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{type:"showTip"});this.chart.dispatchAction(t)},hideTip:function(){this.chart.dispatchAction({type:"hideTip"})},legendAction:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.type,e=void 0===e?"legendToggleSelect":e,t=t.name;e&&-1!==["legendSelect","legendUnSelect","legendToggleSelect"].indexOf(e)&&this.chart.dispatchAction({type:e,name:t})},render:function(t){t=this.data(t);t=this.mergeConfig(l.data2echartsCandlestick(t,this.config));this.chart.setOption(l.config2echartsOptions(t)),this.updateStyle()},resize:function(t,e){this.chart.resize({width:t,height:e})},setColors:function(){},data:function(t){return t&&(this._data=t),this._data},mergeConfig:function(t){var i=this;return t&&(t.series&&t.series.forEach(function(t,e){t.data&&(i.config.series[e].data=t.data)}),this.config=r.defaultsDeep(t||{},this.config),this.config.legend.data=r.map(this.config.series,"name"),this.config.tooltip.showContent=this.config.tooltip.show),this.config},updateStyle:function(){this.config},updateOptions:function(t){t=this.mergeConfig(t),this.chart.setOption(l.config2echartsOptions(t))},clear:function(){this.chart&&this.chart.clear&&this.chart.clear()},destroy:function(){this.chart&&this.chart.dispose&&this.chart.dispose()}}),t.exports});