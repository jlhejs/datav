Cube('datav:/com/map3d-sphere-globe-private/0.0.3',['datav:/npm/bcore/0.0.21/utils','datav:/npm/bcore/0.0.21/event','datav:/npm/dmap/0.2.8'],function(e,k,b,i,j,h){function a(){var b=arguments[arguments.length-1];b=this.options=c.deepMerge(a.options,b)}var c=b('datav:/npm/bcore/0.0.21/utils'),f=b('datav:/npm/bcore/0.0.21/event'),g=b('datav:/npm/dmap/0.2.8'),d=g.Globe;return a.options={globe:{textureType:'地形',color:'#222',emissive:'#203864',specular:'#0a121b',normalScale:2.4},atmosphere:{color:'#0ff',ratio:1.05,maxOpacity:1,intensity:2,isAtmosphere:!1}},a=f.extend(a,{addTo:function(a){a._map&&(a=a._map),this._map=a,this.initCom()},getLayerOptions:function(){var c=this.options,b=c.globe,d=c.atmosphere,e=c.defaultSpecularMapUrl,f=c.defaultNormalMapUrl,g=c.defaultBumpMapUrl,a;switch(b.textureType){case'地形':a=b.optionsDEM;break;case'卫星':a=b.optionsDay;break;case'粒子':a=b.optionsParticle;break;case'行政区':a=b.optionsZone;break;case'自定义':a=b.optionsCustom;break}return{globe:{textureType:b.textureType,ratio:a.ratio,mapUrl:a.mapUrl,specularMapUrl:e,normalMapUrl:f,bumpMapUrl:g,material:{color:a.color,normalScale:{x:a.normalScale,y:a.normalScale},emissive:a.emissive,specular:a.specular}},atmosphere:{color:d.color,ratio:d.ratio,maxOpacity:d.maxOpacity,intensity:d.intensity,isAtmosphere:d.isAtmosphere}}},initCom:function(){var a=this.layer=new d(this.getLayerOptions());a.addTo(this._map)},updateOptions:function(a){a&&(this.options=c.deepMerge(this.options,a)),this.layer.updateOptions(this.getLayerOptions())},render:function(a){},remove:function(){this.layer&&this.layer.remove()}}),e.exports=a,e.exports})