// env=undefined => env=publish 
Cube("datav:/com/@echarts/echarts-line-24time/0.0.23",["datav:/com/maliang-echarts-utils/2.1.2","datav:/npm/bcore/0.0.18/event","datav:/npm/jquery/2.1.4","datav:/npm/lodash/4.6.1","datav:/npm/echarts/4.1.0"],function(t,e,i,n,a,r){var s=i("datav:/npm/bcore/0.0.18/event"),h=i("datav:/npm/jquery/2.1.4"),o=i("datav:/npm/lodash/4.6.1"),c=i("datav:/npm/echarts/4.1.0"),l=i("datav:/com/maliang-echarts-utils/2.1.2"),g={format1:function(t,e){var t=new Date(t),i=t.getHours();return i=0!==e&&0===i?24:t.Format("hh")},format2:function(t,e){var t=new Date(t),i=t.getHours();return(i=0!==e&&0===i?24:t.Format("hh"))+":00"},format3:function(t,e){var t=new Date(t),i=t.getHours();return(i=0!==e&&0===i?24:t.Format("hh"))+"æ—¶"}};return t.exports=s.extend(function(t,e){this.config={tooltip:{axisPointer:{label:{formatter:function(t){return new Date(t.value).Format("hh:mm:ss")}}}},xAxis:{axisLabel:{showFormat:"format1"}}},this.container=h(t),this.apis=e.apis,this._data=null,this.chart=null,this.init(e)},{init:function(t){var i=this;this.mergeConfig(t),this.chart=c.init(this.container[0],null,{renderer:t.renderer}),this.chart.off(),this.chart.on("click",function(e){var t=i._data.filter(function(t){return t.s===e.data[2]&&t.x===e.data[0].split(" ")[1]});i.emit("click",t.length&&t[0])}),this.chart.on("legendselectchanged",function(e){var t=o.filter(o.keys(e.selected),function(t){return e.selected[t]});i.emit("legend-select-changed",{selected:t,name:e.name})})},switchRenderer:function(t){this.chart.dispose(),this.chart=c.init(this.container[0],null,{renderer:t}),this.render()},highlight:function(t){t=o.merge(t||{},{type:"highlight"}),this.chart.dispatchAction(t)},downplay:function(t){t=o.merge(t||{},{type:"downplay"}),this.chart.dispatchAction(t)},showTip:function(){var t=o.merge(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{type:"showTip"});this.chart.dispatchAction(t)},hideTip:function(){this.chart.dispatchAction({type:"hideTip"})},legendAction:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.type,e=void 0===e?"legendToggleSelect":e,t=t.name;e&&-1!==["legendSelect","legendUnSelect","legendToggleSelect"].indexOf(e)&&this.chart.dispatchAction({type:e,name:t})},render:function(t,e){t=this.data(t),cfg=this.mergeConfig(e);e=t,cfg,e=o.cloneDeep(e),t={series:[]},n=o.groupBy(e,"s"),a=new Date(2018,7,17),t.series=o.map(cfg.series,function(t,e){var i=n[t.name||e+1];return(i=t.name&&!i?n[e+1]:i)?{data:o.map(i,function(t){return[a.Format("yyyy-MM-dd")+" "+t.x,t.y,t.s]})}:{data:null}});var n,a,e=t,i=o.defaultsDeep(e,cfg);i.legend.data=i.series.map(function(t){return{name:t.name,icon:"rect"}}),i.series.forEach(function(t){return t.animationEasing=i.animationEasing}),this.chart.setOption(l.config2echartsOptions(i),!0)},resize:function(t,e){this.chart.resize({width:t,height:e})},data:function(t){return t&&(this._data=t),this._data},mergeConfig:function(t){return this.config=l.setGlobalColor(l.mergeConfig(this.config,t)),t&&t.xAxis&&t.xAxis.axisLabel&&(this.config.xAxis.axisLabel.formatter=g[t.xAxis.axisLabel.showFormat]),this.config},updateArray:function(t,e){this.config[t]&&e[t]&&e[t].length<this.config[t].length&&(this.config[t]=o.take(this.config[t],e[t].length)),this.config=o.defaultsDeep(e||{},this.config)},clear:function(){this.chart&&this.chart.clear&&this.chart.clear()},destroy:function(){this.chart&&this.chart.dispose&&this.chart.dispose()}}),Date.prototype.Format=function(t){var e,i={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(e in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t},t.exports});