// env=undefined => env=publish 
Cube("datav:/com/ml-sunburst/5.1.0/chroma.min",[],function(r,e,t,n,a,f){function o(r){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}var u;return u=function(){"use strict";for(var t=function(r,e,t){return void 0===t&&(t=1),r<(e=void 0===e?0:e)?e:t<r?t:r},R={},r=0,C=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];r<C.length;r+=1){var I=C[r];R["[object "+I+"]"]=I.toLowerCase()}function S(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if("object"===rr(r[0])&&r[0].constructor&&r[0].constructor===this.constructor)return r[0];var t=Q(r),n=!1;if(!t){n=!0,s.sorted||(s.autodetect=s.autodetect.sort(function(r,e){return e.p-r.p}),s.sorted=!0);for(var a=0,f=s.autodetect;a<f.length;a+=1){var o=f[a];if(t=o.test.apply(o,r))break}}if(!s.format[t])throw new Error("unknown format: "+r);n=s.format[t].apply(null,n?r:r.slice(0,-1)),this._rgb=Z(n),3===this._rgb.length&&this._rgb.push(1)}function n(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(n.Color,[null].concat(r)))}function B(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t=(r=cr(r,"rgba"))[0],n=r[1],a=r[2];t/=255,n/=255,a/=255;var f,o,u=Math.min(t,n,a),c=Math.max(t,n,a),i=(c+u)/2;return c===u?(f=0,o=Number.NaN):f=i<.5?(c-u)/(c+u):(c-u)/(2-c-u),t==c?o=(n-a)/(c-u):n==c?o=2+(a-t)/(c-u):a==c&&(o=4+(t-n)/(c-u)),(o*=60)<0&&(o+=360),3<r.length&&void 0!==r[3]?[o,f,i,r[3]]:[o,f,i]}function D(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t=ir(r,"rgba"),n=lr(r)||"rgb";return"hsl"==n.substr(0,3)?function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t=or(r,"hsla"),n=ur(r)||"lsa";return t[0]=b(t[0]||0),t[1]=b(100*t[1])+"%",t[2]=b(100*t[2])+"%","hsla"===n||3<t.length&&t[3]<1?(t[3]=3<t.length?t[3]:1,n="hsla"):t.length=3,n+"("+t.join(",")+")"}(B(t),n):(t[0]=p(t[0]),t[1]=p(t[1]),t[2]=p(t[2]),("rgba"===n||3<t.length&&t[3]<1)&&(t[3]=3<t.length?t[3]:1,n="rgba"),n+"("+t.slice(0,"rgb"===n?3:4).join(",")+")")}function h(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t,n,a,f=(r=hr(r,"hsl"))[0],o=r[1],u=r[2];if(0===o)t=n=a=255*u;else{var c=[0,0,0],i=[0,0,0],l=u<.5?u*(1+o):u+o-u*o,h=2*u-l,o=f/360;c[0]=o+1/3,c[1]=o,c[2]=o-1/3;for(var d=0;d<3;d++)c[d]<0&&(c[d]+=1),1<c[d]&&--c[d],6*c[d]<1?i[d]=h+6*(l-h)*c[d]:2*c[d]<1?i[d]=l:3*c[d]<2?i[d]=h+(l-h)*(2/3-c[d])*6:i[d]=h;t=(u=[g(255*i[0]),g(255*i[1]),g(255*i[2])])[0],n=u[1],a=u[2]}return 3<r.length?[t,n,a,r[3]]:[t,n,a,1]}function Y(r){var e,t;if(r=r.toLowerCase().trim(),s.format.named)try{return s.format.named(r)}catch(r){}if(e=r.match(dr)){for(var n=e.slice(1,4),a=0;a<3;a++)n[a]=+n[a];return n[3]=1,n}if(e=r.match(sr)){for(var f=e.slice(1,5),o=0;o<4;o++)f[o]=+f[o];return f}if(e=r.match(br)){for(var u=e.slice(1,4),c=0;c<3;c++)u[c]=mr(2.55*u[c]);return u[3]=1,u}if(e=r.match(pr)){for(var i=e.slice(1,5),l=0;l<3;l++)i[l]=mr(2.55*i[l]);return i[3]=+i[3],i}return(e=r.match(gr))?((t=e.slice(1,4))[1]*=.01,t[2]*=.01,(t=h(t))[3]=1,t):(e=r.match(vr))?((t=e.slice(1,4))[1]*=.01,t[2]*=.01,(t=h(t))[3]=+e[4],t):void 0}function T(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t=(f=Er(r,"rgba"))[0],n=f[1],a=f[2],f=f[3],o=Pr(r)||"auto",u=(void 0===f&&(f=1),"auto"===o&&(o=f<1?"rgba":"rgb"),(u="000000"+(v(t)<<16|v(n)<<8|v(a)).toString(16)).substr(u.length-6)),c=(c="0"+v(255*f).toString(16)).substr(c.length-2);switch(o.toLowerCase()){case"rgba":return"#"+u+c;case"argb":return"#"+c+u;default:return"#"+u}}function z(r){var e;if(r.match(Fr))return 3===(r=4!==r.length&&7!==r.length?r:r.substr(1)).length&&(r=(r=r.split(""))[0]+r[0]+r[1]+r[1]+r[2]+r[2]),[(e=parseInt(r,16))>>16,e>>8&255,255&e,1];if(r.match(Or))return 4===(r=5!==r.length&&9!==r.length?r:r.substr(1)).length&&(r=(r=r.split(""))[0]+r[0]+r[1]+r[1]+r[2]+r[2]+r[3]+r[3]),[(e=parseInt(r,16))>>24&255,e>>16&255,e>>8&255,Math.round((255&e)/255*100)/100];throw new Error("unknown hex color: "+r)}function U(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t=(a=ee(r,"rgb"))[0],n=a[1],a=a[2];return n=n,a=a,t=_(t=t),n=_(n),a=_(a),[(a=116*(n=(t=[x((.4124564*t+.3575761*n+.1804375*a)/Hr),x((.2126729*t+.7151522*n+.072175*a)/Jr),x((.0193339*t+.119192*n+.9503041*a)/Kr)])[1])-16)<0?0:a,500*(t[0]-n),200*(n-t[2])]}function f(r){return 255*(r<=.00304?12.92*r:1.055*ae(r,1/2.4)-.055)}function o(r){return Zr<r?r*r*r:re*(r-Qr)}function V(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t=(r=ne(r,"lab"))[0],n=r[1],a=r[2],t=(t+16)/116,n=isNaN(n)?t:t+n/500,a=isNaN(a)?t:t-a/200;return t=Jr*o(t),n=Hr*o(n),a=Kr*o(a),[f(3.2404542*n-1.5371385*t-.4985314*a),f(-.969266*n+1.8760108*t+.041556*a),f(.0556434*n-.2040259*t+1.0572252*a),3<r.length?r[3]:1]}function W(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t=(a=de(r,"rgb"))[0],n=a[1],a=a[2];return function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t=ue(r,"lab"),n=t[0],a=t[1],t=t[2],f=ie(a*a+t*t),t=(le(t,a)*ce+360)%360;return[n,f,t=0===he(1e4*f)?Number.NaN:t]}((t=U(t,n,a))[0],t[1],t[2])}function X(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t=(a=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t=se(r,"lch"),n=t[0],a=t[1],t=t[2];return isNaN(t)&&(t=0),[n,ge(t*=be)*a,pe(t)*a]}((r=ve(r,"lch"))[0],r[1],r[2]))[0],n=a[1],a=a[2];return[(t=V(t,n,a))[0],t[1],t[2],3<r.length?r[3]:1]}function H(r){var e,t,n=(r=r/100)<66?(e=255,t=-155.25485562709179-.44596950469579133*(t=r-2)+104.49216199393888*E(t),r<20?0:.8274096064007395*(n=r-10)-254.76935184120902+115.67994401066147*E(n)):(e=351.97690566805693+.114206453784165*(e=r-55)-40.25366309332127*E(e),t=325.4494125711974+.07943456536662342*(t=r-50)-28.0852963507957*E(t),255);return[e,t,n,1]}function J(r,e,t){void 0===t&&(t=.5);for(var n=[],a=arguments.length-3;0<a--;)n[a]=arguments[a+3];var f=n[0]||"lrgb";if(F[f]||n.length||(f=Object.keys(F)[0]),F[f])return"object"!==Le(r)&&(r=new M(r)),"object"!==Le(e)&&(e=new M(e)),F[f](r,e,t).alpha(r.alpha()+t*(e.alpha()-r.alpha()));throw new Error("interpolation mode "+f+" is not defined")}function a(r,e,t,n){var a,f,o,u,c,i,l,h,d,s;return"hsl"===n?(a=r.hsl(),f=e.hsl()):"hsv"===n?(a=r.hsv(),f=e.hsv()):"hcg"===n?(a=r.hcg(),f=e.hcg()):"hsi"===n?(a=r.hsi(),f=e.hsi()):"lch"!==n&&"hcl"!==n||(n="hcl",a=r.hcl(),f=e.hcl()),"h"===n.substr(0,1)&&(o=(r=a)[0],c=r[1],l=r[2],u=(e=f)[0],i=e[1],h=e[2]),isNaN(o)||isNaN(u)?isNaN(o)?isNaN(u)?s=Number.NaN:(s=u,1!=l&&0!=l||"hsv"==n||(d=i)):(s=o,1!=h&&0!=h||"hsv"==n||(d=c)):s=o+t*(o<u&&180<u-o?u-(o+360):u<o&&180<o-u?u+360-o:u-o),new M([s,d=void 0===d?c+t*(i-c):d,l+t*(h-l)],n)}function K(r,e,t){return a(r,e,t,"lch")}function u(i){function t(r){if((r=r||["#fff","#000"])&&"string"===G(r)&&N.brewer&&N.brewer[r.toLowerCase()]&&(r=N.brewer[r.toLowerCase()]),"array"===G(r)){r=(r=1===r.length?[r[0],r[0]]:r).slice(0);for(var e=0;e<r.length;e++)r[e]=N(r[e]);for(var t=c.length=0;t<r.length;t++)c.push(t/(r.length-1))}n(),p=r}function l(r,e){var t;if(null==e&&(e=!1),isNaN(r)||null===r)return u;n=e?r:b&&2<b.length?function(r){if(null==b)return 0;for(var e=b.length-1,t=0;t<e&&r>=b[t];)t++;return t-1}(r)/(b.length-2):v!==g?(r-g)/(v-g):1,n=M(n),e||(n=k(n)),1!==w&&(n=Te(n,w)),n=s[0]+n*(1-s[0]-s[1]);var n=Math.min(1,Math.max(0,n)),r=Math.floor(1e4*n);if(y&&m[r])t=m[r];else{if("array"===G(p))for(var a=0;a<c.length;a++){var f=c[a];if(n<=f){t=p[a];break}if(f<=n&&a===c.length-1){t=p[a];break}if(f<n&&n<c[a+1]){n=(n-f)/(c[a+1]-f),t=N.interpolate(p[a],p[a+1],n,o);break}}else"function"===G(p)&&(t=p(n));y&&(m[r]=t)}return t}function n(){m={}}function h(r){return r=N(l(r)),a&&r[a]?r[a]():r}var o="rgb",u=N("#ccc"),e=0,d=[0,1],c=[],s=[0,0],b=!1,p=[],a=!1,g=0,v=1,m={},y=!0,w=1,k=function(r){return r},M=function(r){return r};return t(i),h.classes=function(r){var e;return null==r?b:("array"===G(r)?d=[(b=r)[0],r[r.length-1]]:(e=N.analyze(d),b=0===r?[e.min,e.max]:N.limits(e,"e",r)),h)},h.domain=function(t){if(!arguments.length)return d;g=t[0],v=t[t.length-1],c=[];var r=p.length;if(t.length===r&&g!==v)for(var e=0,n=Array.from(t);e<n.length;e+=1){var a=n[e];c.push((a-g)/(v-g))}else{for(var f,o,u=0;u<r;u++)c.push(u/(r-1));2<t.length&&(f=t.map(function(r,e){return e/(t.length-1)}),(o=t.map(function(r){return(r-g)/(v-g)})).every(function(r,e){return f[e]===r})||(M=function(r){if(r<=0||1<=r)return r;for(var e=0;r>=o[e+1];)e++;var t=(r-o[e])/(o[e+1]-o[e]);return f[e]+t*(f[e+1]-f[e])}))}return d=[g,v],h},h.mode=function(r){return arguments.length?(o=r,n(),h):o},h.range=function(r,e){return t(r),h},h.out=function(r){return a=r,h},h.spread=function(r){return arguments.length?(e=r,h):e},h.correctLightness=function(r){return n(),k=(r=null==r?!0:r)?function(r){for(var e=l(0,!0).lab()[0],t=l(1,!0).lab()[0],n=t<e,a=e+(t-e)*r,f=l(r,!0).lab()[0]-a,o=0,u=1,c=20;.01<Math.abs(f)&&0<c--;)n&&(f*=-1),r+=f<0?.5*(u-(o=r)):.5*(o-(u=r)),f=l(r,!0).lab()[0]-a;return r}:function(r){return r},h},h.padding=function(r){return null!=r?("number"===G(r)&&(r=[r,r]),s=r,h):s},h.colors=function(e,t){arguments.length<2&&(t="hex");var r=[];if(0===arguments.length)r=p.slice(0);else if(1===e)r=[h(.5)];else if(1<e)var n=d[0],a=d[1]-n,r=function(r){for(var e=[],t=0<r,n=r,a=0;t?a<n:n<a;t?a++:a--)e.push(a);return e}(e).map(function(r){return h(n+r/(e-1)*a)});else{i=[];var f=[];if(b&&2<b.length)for(var o=1,u=b.length,c=1<=u;c?o<u:u<o;c?o++:o--)f.push(.5*(b[o-1]+b[o]));else f=d;r=f.map(h)}return r=N[t]?r.map(function(r){return r[t]()}):r},h.cache=function(r){return null!=r?(y=r,h):y},h.gamma=function(r){return null!=r?(w=r,h):w},h.nodata=function(r){return null!=r?(u=N(r),h):u},h}function i(r){var e,t,n,a,f,o,u,c;return 2===(r=r.map(function(r){return new M(r)})).length?(o=r.map(function(r){return r.lab()}),t=o[0],n=o[1],o=function(e){var r=[0,1,2].map(function(r){return t[r]+e*(n[r]-t[r])});return new M(r,"lab")}):3===r.length?(e=r.map(function(r){return r.lab()}),t=e[0],n=e[1],a=e[2],o=function(e){var r=[0,1,2].map(function(r){return(1-e)*(1-e)*t[r]+2*(1-e)*e*n[r]+e*e*a[r]});return new M(r,"lab")}):4===r.length?(t=(e=r.map(function(r){return r.lab()}))[0],n=e[1],a=e[2],f=e[3],o=function(e){var r=[0,1,2].map(function(r){return(1-e)*(1-e)*(1-e)*t[r]+3*(1-e)*(1-e)*e*n[r]+3*(1-e)*e*e*a[r]+e*e*e*f[r]});return new M(r,"lab")}):5===r.length&&(u=i(r.slice(0,3)),c=i(r.slice(2,5)),o=function(r){return r<.5?u(2*r):c(2*(r-.5))}),o}function c(r,e,t){if(c[t])return c[t](r,e);throw new Error("unknown blend mode "+t)}function e(t){return function(r,e){e=N(e).rgb(),r=N(r).rgb();return N.rgb(t(e,r))}}function l(n){return function(r,e){var t=[];return t[0]=n(r[0],e[0]),t[1]=n(r[1],e[1]),t[2]=n(r[2],e[2]),t}}var $=function(r){return R[Object.prototype.toString.call(r)]||"object"},d=Math.PI,d={clip_rgb:function(r){r._clipped=!1,r._unclipped=r.slice(0);for(var e=0;e<=3;e++)e<3?((r[e]<0||255<r[e])&&(r._clipped=!0),r[e]=t(r[e],0,255)):3===e&&(r[e]=t(r[e],0,1));return r},limit:t,type:$,unpack:function(e,r){return void 0===r&&(r=null),3<=e.length?Array.prototype.slice.call(e):"object"==$(e[0])&&r?r.split("").filter(function(r){return void 0!==e[0][r]}).map(function(r){return e[0][r]}):e[0]},last:function(r){var e;return!(r.length<2)&&(e=r.length-1,"string"==$(r[e]))?r[e].toLowerCase():null},PI:d,TWOPI:2*d,PITHIRD:d/3,DEG2RAD:d/180,RAD2DEG:180/d},s={format:{},autodetect:[]},Q=d.last,Z=d.clip_rgb,rr=d.type,M=(S.prototype.toString=function(){return"function"==rr(this.hex)?this.hex():"["+this._rgb.join(",")+"]"},S),N=(n.Color=M,n.version="2.1.2",n),er=d.unpack,tr=Math.max,nr=d.unpack,ar=d.unpack,fr=d.type,or=(M.prototype.cmyk=function(){return function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t=er(r,"rgb"),n=t[0],a=t[1],t=t[2],f=1-tr(n/=255,tr(a/=255,t/=255)),o=f<1?1/(1-f):0;return[(1-n-f)*o,(1-a-f)*o,(1-t-f)*o,f]}(this._rgb)},N.cmyk=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(M,[null].concat(r,["cmyk"])))},s.format.cmyk=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t=(r=nr(r,"cmyk"))[0],n=r[1],a=r[2],f=r[3],o=4<r.length?r[4]:1;return 1===f?[0,0,0,o]:[1<=t?0:255*(1-t)*(1-f),1<=n?0:255*(1-n)*(1-f),1<=a?0:255*(1-a)*(1-f),o]},s.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=ar(r,"cmyk"),"array"===fr(r)&&4===r.length)return"cmyk"}}),d.unpack),ur=d.last,b=function(r){return Math.round(100*r)/100},cr=d.unpack,ir=d.unpack,lr=d.last,p=Math.round,hr=d.unpack,g=Math.round,dr=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,sr=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,br=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,pr=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,gr=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,vr=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,mr=Math.round,yr=(Y.test=function(r){return dr.test(r)||sr.test(r)||br.test(r)||pr.test(r)||gr.test(r)||vr.test(r)},Y),wr=d.type,kr=(M.prototype.css=function(r){return D(this._rgb,r)},N.css=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(M,[null].concat(r,["css"])))},s.format.css=yr,s.autodetect.push({p:5,test:function(r){for(var e=[],t=arguments.length-1;0<t--;)e[t]=arguments[t+1];if(!e.length&&"string"===wr(r)&&yr.test(r))return"css"}}),d.unpack),Mr=(s.format.gl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t=kr(r,"rgba");return t[0]*=255,t[1]*=255,t[2]*=255,t},N.gl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(M,[null].concat(r,["gl"])))},M.prototype.gl=function(){var r=this._rgb;return[r[0]/255,r[1]/255,r[2]/255,r[3]]},d.unpack),Nr=d.unpack,_r=Math.floor,xr=d.unpack,Ar=d.type,Er=(M.prototype.hcg=function(){return function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t,n=Mr(r,"rgb"),a=n[0],f=n[1],n=n[2],o=Math.min(a,f,n),u=Math.max(a,f,n),c=u-o;return 0==c?t=Number.NaN:(a===u&&(t=(f-n)/c),f===u&&(t=2+(n-a)/c),n===u&&(t=4+(a-f)/c),(t*=60)<0&&(t+=360)),[t,100*c/255,o/(255-c)*100]}(this._rgb)},N.hcg=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(M,[null].concat(r,["hcg"])))},s.format.hcg=function(){for(var r,e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,a,f,o=(e=Nr(e,"hcg"))[0],u=e[1],c=e[2],i=(c*=255,255*u);if(0===u)n=a=f=c;else{360<(o=360===o?0:o)&&(o-=360),o<0&&(o+=360);var l=_r(o/=60),o=o-l,h=c*(1-u),d=h+i*(1-o),s=h+i*o,b=h+i;switch(l){case 0:n=(r=[b,s,h])[0],a=r[1],f=r[2];break;case 1:n=(r=[d,b,h])[0],a=r[1],f=r[2];break;case 2:n=(r=[h,b,s])[0],a=r[1],f=r[2];break;case 3:n=(r=[h,d,b])[0],a=r[1],f=r[2];break;case 4:n=(r=[s,h,b])[0],a=r[1],f=r[2];break;case 5:n=(r=[b,h,d])[0],a=r[1],f=r[2]}}return[n,a,f,3<e.length?e[3]:1]},s.autodetect.push({p:1,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=xr(r,"hcg"),"array"===Ar(r)&&3===r.length)return"hcg"}}),d.unpack),Pr=d.last,v=Math.round,Fr=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Or=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,jr=d.type,Gr=(M.prototype.hex=function(r){return T(this._rgb,r)},N.hex=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(M,[null].concat(r,["hex"])))},s.format.hex=z,s.autodetect.push({p:4,test:function(r){for(var e=[],t=arguments.length-1;0<t--;)e[t]=arguments[t+1];if(!e.length&&"string"===jr(r)&&0<=[3,4,5,6,7,8,9].indexOf(r.length))return"hex"}}),d.unpack),qr=d.TWOPI,Lr=Math.min,Rr=Math.sqrt,Cr=Math.acos,Ir=d.unpack,m=d.limit,y=d.TWOPI,w=d.PITHIRD,k=Math.cos,Sr=d.unpack,Br=d.type,Dr=(M.prototype.hsi=function(){return function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t,n=Gr(r,"rgb"),a=n[0],f=n[1],n=n[2],o=Lr(a/=255,f/=255,n/=255),u=(a+f+n)/3,o=0<u?1-o/u:0;return 0==o?t=NaN:(t=(a-f+(a-n))/2,t/=Rr((a-f)*(a-f)+(a-n)*(f-n)),t=Cr(t),f<n&&(t=qr-t),t/=qr),[360*t,o,u]}(this._rgb)},N.hsi=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(M,[null].concat(r,["hsi"])))},s.format.hsi=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t,n,a,f=(r=Ir(r,"hsi"))[0],o=r[1],u=r[2];return isNaN(f)&&(f=0),isNaN(o)&&(o=0),360<f&&(f-=360),f<0&&(f+=360),(f/=360)<1/3?n=1-((a=(1-o)/3)+(t=(1+o*k(y*f)/k(w-y*f))/3)):f<2/3?a=1-((t=(1-o)/3)+(n=(1+o*k(y*(f-=1/3))/k(w-y*f))/3)):t=1-((n=(1-o)/3)+(a=(1+o*k(y*(f-=2/3))/k(w-y*f))/3)),[255*(t=m(u*t*3)),255*(n=m(u*n*3)),255*(a=m(u*a*3)),3<r.length?r[3]:1]},s.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Sr(r,"hsi"),"array"===Br(r)&&3===r.length)return"hsi"}}),d.unpack),$r=d.type,Yr=(M.prototype.hsl=function(){return B(this._rgb)},N.hsl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(M,[null].concat(r,["hsl"])))},s.format.hsl=h,s.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Dr(r,"hsl"),"array"===$r(r)&&3===r.length)return"hsl"}}),d.unpack),Tr=Math.min,zr=Math.max,Ur=d.unpack,Vr=Math.floor,Wr=d.unpack,Xr=d.type,Hr=(M.prototype.hsv=function(){return function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t,n,a=(r=Yr(r,"rgb"))[0],f=r[1],o=r[2],u=Tr(a,f,o),c=zr(a,f,o),u=c-u;return 0===c?(t=Number.NaN,n=0):(n=u/c,a===c&&(t=(f-o)/u),f===c&&(t=2+(o-a)/u),o===c&&(t=4+(a-f)/u),(t*=60)<0&&(t+=360)),[t,n,c/255]}(this._rgb)},N.hsv=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(M,[null].concat(r,["hsv"])))},s.format.hsv=function(){for(var r,e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,a,f,o=(e=Ur(e,"hsv"))[0],u=e[1],c=e[2];if(c*=255,0===u)n=a=f=c;else{360<(o=360===o?0:o)&&(o-=360),o<0&&(o+=360);var i=Vr(o/=60),o=o-i,l=c*(1-u),h=c*(1-u*o),d=c*(1-u*(1-o));switch(i){case 0:n=(r=[c,d,l])[0],a=r[1],f=r[2];break;case 1:n=(r=[h,c,l])[0],a=r[1],f=r[2];break;case 2:n=(r=[l,c,d])[0],a=r[1],f=r[2];break;case 3:n=(r=[l,h,c])[0],a=r[1],f=r[2];break;case 4:n=(r=[d,l,c])[0],a=r[1],f=r[2];break;case 5:n=(r=[c,l,h])[0],a=r[1],f=r[2]}}return[n,a,f,3<e.length?e[3]:1]},s.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Wr(r,"hsv"),"array"===Xr(r)&&3===r.length)return"hsv"}}),.95047),Jr=1,Kr=1.08883,Qr=.137931034,Zr=.206896552,re=.12841855,ee=d.unpack,te=Math.pow,_=function(r){return(r/=255)<=.04045?r/12.92:te((r+.055)/1.055,2.4)},x=function(r){return.008856452<r?te(r,1/3):r/re+Qr},ne=d.unpack,ae=Math.pow,fe=d.unpack,oe=d.type,ue=(M.prototype.lab=function(){return U(this._rgb)},N.lab=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(M,[null].concat(r,["lab"])))},s.format.lab=V,s.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=fe(r,"lab"),"array"===oe(r)&&3===r.length)return"lab"}}),d.unpack),ce=d.RAD2DEG,ie=Math.sqrt,le=Math.atan2,he=Math.round,de=d.unpack,se=d.unpack,be=d.DEG2RAD,pe=Math.sin,ge=Math.cos,ve=d.unpack,me=d.unpack,ye=d.unpack,we=d.type,A=(M.prototype.lch=function(){return W(this._rgb)},M.prototype.hcl=function(){return W(this._rgb).reverse()},N.lch=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(M,[null].concat(r,["lch"])))},N.hcl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(M,[null].concat(r,["hcl"])))},s.format.lch=X,s.format.hcl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t=me(r,"hcl").reverse();return X.apply(void 0,t)},["lch","hcl"].forEach(function(t){return s.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=ye(r,t),"array"===we(r)&&3===r.length)return t}})}),{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}),ke=d.type,Me=(M.prototype.name=function(){for(var r=T(this._rgb,"rgb"),e=0,t=Object.keys(A);e<t.length;e+=1){var n=t[e];if(A[n]===r)return n.toLowerCase()}return r},s.format.named=function(r){if(r=r.toLowerCase(),A[r])return z(A[r]);throw new Error("unknown color name: "+r)},s.autodetect.push({p:5,test:function(r){for(var e=[],t=arguments.length-1;0<t--;)e[t]=arguments[t+1];if(!e.length&&"string"===ke(r)&&A[r.toLowerCase()])return"named"}}),d.unpack),Ne=d.type,_e=d.type,xe=(M.prototype.num=function(){return function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t=Me(r,"rgb");return(t[0]<<16)+(t[1]<<8)+t[2]}(this._rgb)},N.num=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(M,[null].concat(r,["num"])))},s.format.num=function(r){if("number"==Ne(r)&&0<=r&&r<=16777215)return[r>>16,r>>8&255,255&r,1];throw new Error("unknown num color: "+r)},s.autodetect.push({p:5,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(1===r.length&&"number"===_e(r[0])&&0<=r[0]&&r[0]<=16777215)return"num"}}),d.unpack),Ae=d.type,Ee=Math.round,E=(M.prototype.rgb=function(r){return!1===(r=void 0===r?!0:r)?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Ee)},M.prototype.rgba=function(t){return void 0===t&&(t=!0),this._rgb.slice(0,4).map(function(r,e){return!(e<3)||!1===t?r:Ee(r)})},N.rgb=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(M,[null].concat(r,["rgb"])))},s.format.rgb=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t=xe(r,"rgba");return void 0===t[3]&&(t[3]=1),t},s.autodetect.push({p:3,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=xe(r,"rgba"),"array"===Ae(r)&&(3===r.length||4===r.length&&"number"==Ae(r[3])&&0<=r[3]&&r[3]<=1))return"rgb"}}),Math.log),Pe=d.unpack,Fe=Math.round,Oe=(M.prototype.temp=M.prototype.kelvin=M.prototype.temperature=function(){return function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];for(var t,n=Pe(r,"rgb"),a=n[0],f=n[2],o=1e3,u=4e4;.4<u-o;){var c=H(t=.5*(u+o));c[2]/c[0]>=f/a?u=t:o=t}return Fe(t)}(this._rgb)},N.temp=N.kelvin=N.temperature=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(M,[null].concat(r,["temp"])))},s.format.temp=s.format.kelvin=s.format.temperature=H,d.type),je=(M.prototype.alpha=function(r,e){return void 0===e&&(e=!1),void 0!==r&&"number"===Oe(r)?e?(this._rgb[3]=r,this):new M([this._rgb[0],this._rgb[1],this._rgb[2],r],"rgb"):this._rgb[3]},M.prototype.clipped=function(){return this._rgb._clipped||!1},M.prototype.darken=function(r){void 0===r&&(r=1);var e=this.lab();return e[0]-=18*r,new M(e,"lab").alpha(this.alpha(),!0)},M.prototype.brighten=function(r){return this.darken(-(r=void 0===r?1:r))},M.prototype.darker=M.prototype.darken,M.prototype.brighter=M.prototype.brighten,M.prototype.get=function(r){var r=r.split("."),e=r[0],r=r[1],t=this[e]();if(r){var n=e.indexOf(r);if(-1<n)return t[n];throw new Error("unknown channel "+r+" in mode "+e)}return t},d.type),Ge=Math.pow,qe=(M.prototype.luminance=function(f){var o,r,e;return void 0===f||"number"!==je(f)?qe.apply(void 0,this._rgb.slice(0,3)):0===f?new M([0,0,0,this._rgb[3]],"rgb"):1===f?new M([255,255,255,this._rgb[3]],"rgb"):(e=this.luminance(),o=20,r=function r(e,t){var n=e.interpolate(t,.5,"rgb"),a=n.luminance();return Math.abs(f-a)<1e-7||!o--?n:f<a?r(e,n):r(n,t)},e=(f<e?r(new M([0,0,0]),this):r(this,new M([255,255,255]))).rgb(),new M(e.concat([this._rgb[3]])))},function(r,e,t){return.2126*(r=P(r))+.7152*(e=P(e))+.0722*P(t)}),P=function(r){return(r/=255)<=.03928?r/12.92:Ge((r+.055)/1.055,2.4)},F={},Le=d.type,Re=(M.prototype.mix=M.prototype.interpolate=function(r,e){void 0===e&&(e=.5);for(var t=[],n=arguments.length-2;0<n--;)t[n]=arguments[n+2];return J.apply(void 0,[this,r,e].concat(t))},M.prototype.premultiply=function(r){var e=this._rgb,t=e[3];return(r=void 0===r?!1:r)?(this._rgb=[e[0]*t,e[1]*t,e[2]*t,t],this):new M([e[0]*t,e[1]*t,e[2]*t,t],"rgb")},M.prototype.saturate=function(r){void 0===r&&(r=1);var e=this.lch();return e[1]+=18*r,e[1]<0&&(e[1]=0),new M(e,"lch").alpha(this.alpha(),!0)},M.prototype.desaturate=function(r){return this.saturate(-(r=void 0===r?1:r))},d.type),O=(M.prototype.set=function(r,e,t){void 0===t&&(t=!1);var r=r.split("."),n=r[0],r=r[1],a=this[n]();if(r){var f=n.indexOf(r);if(-1<f){if("string"==Re(e))switch(e.charAt(0)){case"+":case"-":a[f]+=+e;break;case"*":a[f]*=+e.substr(1);break;case"/":a[f]/=+e.substr(1);break;default:a[f]=+e}else{if("number"!==Re(e))throw new Error("unsupported value for Color.set");a[f]=e}var o=new M(a,n);return t?(this._rgb=o._rgb,this):o}throw new Error("unknown channel "+r+" in mode "+n)}return a},F.rgb=function(r,e,t){r=r._rgb,e=e._rgb;return new M(r[0]+t*(e[0]-r[0]),r[1]+t*(e[1]-r[1]),r[2]+t*(e[2]-r[2]),"rgb")},Math.sqrt),j=Math.pow,Ce=(F.lrgb=function(r,e,t){var r=r._rgb,n=r[0],a=r[1],r=r[2],e=e._rgb,f=e[0],o=e[1],e=e[2];return new M(O(j(n,2)*(1-t)+j(f,2)*t),O(j(a,2)*(1-t)+j(o,2)*t),O(j(r,2)*(1-t)+j(e,2)*t),"rgb")},F.lab=function(r,e,t){r=r.lab(),e=e.lab();return new M(r[0]+t*(e[0]-r[0]),r[1]+t*(e[1]-r[1]),r[2]+t*(e[2]-r[2]),"lab")},F.lch=K,F.hcl=K,F.num=function(r,e,t){r=r.num(),e=e.num();return new M(r+t*(e-r),"num")},F.hcg=function(r,e,t){return a(r,e,t,"hcg")},F.hsi=function(r,e,t){return a(r,e,t,"hsi")},F.hsl=function(r,e,t){return a(r,e,t,"hsl")},F.hsv=function(r,e,t){return a(r,e,t,"hsv")},d.clip_rgb),Ie=Math.pow,Se=Math.sqrt,Be=Math.PI,De=Math.cos,$e=Math.sin,Ye=Math.atan2,G=d.type,Te=Math.pow;c.normal=e(l(function(r){return r})),c.multiply=e(l(function(r,e){return r*e/255})),c.screen=e(l(function(r,e){return 255*(1-(1-r/255)*(1-e/255))})),c.overlay=e(l(function(r,e){return e<128?2*r*e/255:255*(1-2*(1-r/255)*(1-e/255))})),c.darken=e(l(function(r,e){return e<r?e:r})),c.lighten=e(l(function(r,e){return e<r?r:e})),c.dodge=e(l(function(r,e){return 255===r||255<(r=e/255*255/(1-r/255))?255:r})),c.burn=e(l(function(r,e){return 255*(1-(1-e/255)/(r/255))}));for(var ze=c,Ue=d.type,Ve=d.clip_rgb,We=d.TWOPI,Xe=Math.pow,He=Math.sin,Je=Math.cos,Ke=Math.floor,Qe=Math.random,Ze=Math.log,rt=Math.pow,et=Math.floor,tt=Math.abs,nt=function(r,e){void 0===e&&(e=null);var t={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return(r="object"===$(r)?Object.values(r):r).forEach(function(r){null==(r=e&&"object"===$(r)?r[e]:r)||isNaN(r)||(t.values.push(r),t.sum+=r,r<t.min&&(t.min=r),r>t.max&&(t.max=r),t.count+=1)}),t.domain=[t.min,t.max],t.limits=function(r,e){return at(t,r,e)},t},at=function(r,e,t){void 0===e&&(e="equal"),void 0===t&&(t=7);var n=(r="array"==$(r)?nt(r):r).min,a=r.max,f=r.values.sort(function(r,e){return r-e});if(1===t)return[n,a];var o=[];if("c"===e.substr(0,1)&&(o.push(n),o.push(a)),"e"===e.substr(0,1)){o.push(n);for(var u=1;u<t;u++)o.push(n+u/t*(a-n));o.push(a)}else if("l"===e.substr(0,1)){if(n<=0)throw new Error("Logarithmic scales are only possible for values > 0");var c=Math.LOG10E*Ze(n),C=Math.LOG10E*Ze(a);o.push(n);for(var i=1;i<t;i++)o.push(rt(10,c+i/t*(C-c)));o.push(a)}else if("q"===e.substr(0,1)){o.push(n);for(var l=1;l<t;l++){var h=(f.length-1)*l/t,d=et(h);d===h?o.push(f[d]):o.push(f[d]*(1-(h=h-d))+f[d+1]*h)}o.push(a)}else if("k"===e.substr(0,1)){var s,b=f.length,p=new Array(b),g=new Array(t),v=!0,I=0,m=null;(m=[]).push(n);for(var y=1;y<t;y++)m.push(n+y/t*(a-n));for(m.push(a);v;){for(var w=0;w<t;w++)g[w]=0;for(var k=0;k<b;k++)for(var S=f[k],B=Number.MAX_VALUE,M=void 0,N=0;N<t;N++){var D=tt(m[N]-S);D<B&&(B=D,M=N),g[M]++,p[k]=M}for(var _=new Array(t),x=0;x<t;x++)_[x]=null;for(var A=0;A<b;A++)null===_[s=p[A]]?_[s]=f[A]:_[s]+=f[A];for(var E=0;E<t;E++)_[E]*=1/g[E];for(var v=!1,P=0;P<t;P++)if(_[P]!==m[P]){v=!0;break}m=_,200<++I&&(v=!1)}for(var F={},O=0;O<t;O++)F[O]=[];for(var j=0;j<b;j++)F[s=p[j]].push(f[j]);for(var G=[],q=0;q<t;q++)G.push(F[q][0]),G.push(F[q][F[q].length-1]);G=G.sort(function(r,e){return r-e}),o.push(G[0]);for(var L=1;L<G.length;L+=2){var R=G[L];isNaN(R)||-1!==o.indexOf(R)||o.push(R)}}return o},d=nt,ft=at,q=Math.sqrt,ot=Math.atan2,ut=Math.abs,ct=Math.cos,it=Math.PI,lt={cool:function(){return u([N.hsl(180,1,.9),N.hsl(250,.7,.4)])},hot:function(){return u(["#000","#f00","#ff0","#fff"]).mode("rgb")}},L={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},ht=0,dt=Object.keys(L);ht<dt.length;ht+=1){var st=dt[ht];L[st.toLowerCase()]=L[st]}var bt=L;return N.average=function(r,f,o){void 0===f&&(f="lrgb"),void 0===o&&(o=null);var e=r.length,t=e/(o=o||Array.from(new Array(e)).map(function(){return 1})).reduce(function(r,e){return r+e});if(o.forEach(function(r,e){o[e]*=t}),r=r.map(function(r){return new M(r)}),"lrgb"===f){for(var n=r,a=o,u=n.length,c=[0,0,0,0],i=0;i<n.length;i++){var l=n[i],h=a[i]/u,l=l._rgb;c[0]+=Ie(l[0],2)*h,c[1]+=Ie(l[1],2)*h,c[2]+=Ie(l[2],2)*h,c[3]+=l[3]*h}return c[0]=Se(c[0]),c[1]=Se(c[1]),c[2]=Se(c[2]),.9999999<c[3]&&(c[3]=1),new M(Ce(c))}for(var d,s=r.shift(),b=s.get(f),p=[],g=0,v=0,m=0;m<b.length;m++)b[m]=(b[m]||0)*o[0],p.push(isNaN(b[m])?0:o[0]),"h"!==f.charAt(m)||isNaN(b[m])||(d=b[m]/180*Be,g+=De(d)*o[0],v+=$e(d)*o[0]);var y=s.alpha()*o[0];r.forEach(function(r,e){var t=r.get(f);y+=r.alpha()*o[e+1];for(var n,a=0;a<b.length;a++)isNaN(t[a])||(p[a]+=o[e+1],"h"===f.charAt(a)?(n=t[a]/180*Be,g+=De(n)*o[e+1],v+=$e(n)*o[e+1]):b[a]+=t[a]*o[e+1])});for(var w=0;w<b.length;w++)if("h"===f.charAt(w)){for(var k=Ye(v/p[w],g/p[w])/Be*180;k<0;)k+=360;for(;360<=k;)k-=360;b[w]=k}else b[w]=b[w]/p[w];return y/=e,new M(b,f).alpha(.99999<y?1:y,!0)},N.bezier=function(r){var e=i(r);return e.scale=function(){return u(e)},e},N.blend=ze,N.cubehelix=function(a,f,o,u,c){void 0===a&&(a=300),void 0===f&&(f=-1.5),void 0===o&&(o=1),void 0===u&&(u=1);function e(r){var e=We*((a+120)/360+f*r),t=Xe(c[0]+i*r,u),r=(0!==l?o[0]+r*l:o)*t*(1-t)/2,n=Je(e),e=He(e);return N(Ve([255*(t+r*(-.14861*n+1.78277*e)),255*(t+r*(-.29227*n-.90649*e)),255*(t+1.97294*n*r),1]))}var i,l=0;"array"===Ue(c=void 0===c?[0,1]:c)?i=c[1]-c[0]:(i=0,c=[c,c]);return e.start=function(r){return null==r?a:(a=r,e)},e.rotations=function(r){return null==r?f:(f=r,e)},e.gamma=function(r){return null==r?u:(u=r,e)},e.hue=function(r){return null==r?o:("array"===Ue(o=r)?0==(l=o[1]-o[0])&&(o=o[1]):l=0,e)},e.lightness=function(r){return null==r?c:(i="array"===Ue(r)?(c=r)[1]-r[0]:(c=[r,r],0),e)},e.scale=function(){return N.scale(e)},e.hue(o),e},N.mix=N.interpolate=J,N.random=function(){for(var r="#",e=0;e<6;e++)r+="0123456789abcdef".charAt(Ke(16*Qe()));return new M(r,"hex")},N.scale=u,N.analyze=d,N.contrast=function(r,e){r=new M(r),e=new M(e);r=r.luminance(),e=e.luminance();return e<r?(r+.05)/(e+.05):(e+.05)/(r+.05)},N.deltaE=function(r,e,t,n){void 0===t&&(t=1),void 0===n&&(n=1),r=new M(r),e=new M(e);for(var r=Array.from(r.lab()),a=r[0],f=r[1],r=r[2],e=Array.from(e.lab()),o=e[0],u=e[1],e=e[2],c=q(f*f+r*r),i=q(u*u+e*e),l=a<16?.511:.040975*a/(1+.01765*a),h=.0638*c/(1+.0131*c)+.638,d=c<1e-6?0:180*ot(r,f)/it;d<0;)d+=360;for(;360<=d;)d-=360;var s=164<=d&&d<=345?.56+ut(.2*ct(it*(d+168)/180)):.36+ut(.4*ct(it*(d+35)/180)),b=c*c*c*c,b=q(b/(1900+b)),s=h*(b*s+1-b),b=c-i,c=f-u,i=r-e,f=(a-o)/(t*l),u=b/(n*h);return q(f*f+u*u+(c*c+i*i-b*b)/(s*s))},N.distance=function(r,e,t){void 0===t&&(t="lab"),r=new M(r),e=new M(e);var n,a=r.get(t),f=e.get(t),o=0;for(n in a){var u=(a[n]||0)-(f[n]||0);o+=u*u}return Math.sqrt(o)},N.limits=ft,N.valid=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];try{return new(Function.prototype.bind.apply(M,[null].concat(r))),!0}catch(r){return!1}},N.scales=lt,N.colors=A,N.brewer=bt,N},"object"==(void 0===e?"undefined":o(e))&&void 0!==r?r.exports=u():"function"==typeof define&&define.amd?define(u):(void 0).chroma=u(),r.exports});;
Cube("datav:/com/ml-sunburst/5.1.0/customRuleStyle",["datav:/npm/@antv/g2plot/2.4.20/dist/g2plot.min.js","datav:/npm/lodash/4.17.11/set","datav:/npm/lodash/4.17.11/get","datav:/npm/lodash/4.17.11/map","datav:/npm/lodash/4.17.11/isUndefined","datav:/npm/alibabacloud-datav-tool-gui-utils/1.0.0"],function(t,e,o,n,a,l){o("datav:/npm/@antv/g2plot/2.4.20/dist/g2plot.min.js"),(i=o("datav:/com/ml-sunburst/5.1.0/chroma.min"))&&i.__esModule;function r(e,t){var o,n=Object.keys(e);return Object.getOwnPropertySymbols&&(o=Object.getOwnPropertySymbols(e),t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)),n}function p(n){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach(function(t){var e,o;e=n,o=a[t=t],t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(a,t))})}return n}var m=o("datav:/npm/lodash/4.17.11/set"),b=o("datav:/npm/lodash/4.17.11/get"),v=o("datav:/npm/lodash/4.17.11/map"),h=o("datav:/npm/lodash/4.17.11/isUndefined"),i=o("datav:/com/ml-sunburst/5.1.0/utils"),g=i.transformGradientColor,y=i.transLineDash,O=i.getValueToData,i=o("datav:/npm/alibabacloud-datav-tool-gui-utils/1.0.0"),j=i.scale,w=i.validateCustomStyle,C=["fill"];return t.exports=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.props,o=t.guiConfig,t=t.data,o=(void 0===o?{}:o).options,n=o.chart,a=n.customColor,l=n.fill,r=n.graduallyColor,n=n.sunburstLine,e={props:void 0===e?{}:e,customStyle:o.condition.customStyle,data:t,customColor:a,fill:l,graduallyColor:r,sunburstLine:n},o=e.props,i=e.customStyle,s=e.data,t=(e.customColor,e.fill),u=e.graduallyColor,d=e.sunburstLine,c=b(j,"color.g2plot"),f=c({config:t,data:s,field:"colorField"});v(s.children,function(t){return t.name}),m(o,"color",function(){return c?f(arguments.length<=0?void 0:arguments[0]):"#2483ff"}),m(o,"sunburstStyle",function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];e[0]=p(p({},e[0]),O(e[0].name,s));var n={lineWidth:d.lineWidth,lineDash:y(d)};return w({config:i,data:e[0],ruleKey:"rules"}).forEach(function(o){var t=C.reduce(function(t,e){return o[e]&&o[e].show&&(t[e]=o[e]&&o[e].value),p(p(p({},t),g(t.fill)),{},{lineWidth:o.sunburstLineStyle.show?o.sunburstLineStyle.lineWidth:0,lineDash:y(o.sunburstLineStyle),stroke:o.sunburstLineStyle.lineColor})},{});Object.assign(n,t)}),h(n.fill)?p(p({},n),{},{fillOpacity:Math.pow(u,e[0].depth),fill:c?f(e[0]):"#2483ff",stroke:c?d.lineColor:"#2483ff"}):p(p({},n),{},{fillOpacity:Math.pow(u,e[0].depth),fill:c?n.fill:"#2483ff",stroke:c?n.stroke:"#2483ff"})})},t.exports});;
Cube("datav:/com/ml-sunburst/5.1.0/utils",["datav:/npm/lodash/4.17.11/toNumber","datav:/npm/lodash/4.17.11/map","datav:/npm/lodash/4.17.11/forEach","datav:/npm/lodash/4.17.11/trim","datav:/npm/lodash/4.17.11/isNumber","datav:/npm/lodash/4.17.11/min","datav:/npm/lodash/4.17.11/max","datav:/npm/lodash/4.17.11/omit","datav:/npm/lodash/4.17.11/uniq","datav:/npm/lodash/4.17.11/isEmpty","datav:/npm/moment/2.27.0","datav:/npm/d3-format/3.1.0"],function(t,a,n,e,o,i){function r(a,t){var n,e=Object.keys(a);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(a),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable})),e.push.apply(e,n)),e}function l(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach(function(t){var a,n;a=e,n=o[t=t],t in a?Object.defineProperty(a,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t){var a=t.x,n=t.y,e=t.r,t=t.type,o=e/2*Math.sqrt(3),i=e*Math.sin(1/3*Math.PI);return{line:[["M",a-3*e,n],["L",a+3*e,n]],lineEllipsis:[["M",a-3*e,n],["L",a-2*e,n],["M",a-e,n],["L",a,n],["M",a+e,n],["L",a+2*e,n],["M",a+3*e,n],["L",a+4*e,n]],smooth:[["M",a-e,n],["A",e/2,e/2,0,1,1,a,n],["A",e/2,e/2,0,1,0,a+e,n]],smoothEllipsis:[["M",150,100],["C",150,72.4,72.4,50,100,50]],step:[["M",a-e-1,n-2.5],["L",a,n-2.5],["L",a,n+2.5],["L",a+e+1,n+2.5]],stepEllipsis:[["M",a-e-1,n-2.5],["L",a-e+3,n-2.5],["M",a-e/2+2,n-2.5],["L",a,n-2.5],["L",a,n+2.5],["L",a+4,n+2.5],["M",a+e/2+3,n+2.5],["L",a+e+1,n+2.5]],circle:[["M",a,n+e],["A",e,e,0,0,0,a+e,n],["M",a,n+e],["A",e,e,0,1,1,a+e,n]],circleLine:[["M",a-3*e,n],["L",a-e,n],["M",a+e,n],["L",a+3*e,n],["M",a,n+e],["A",e,e,0,0,0,a+e,n],["M",a,n+e],["A",e,e,0,1,1,a+e,n]],circleEllipsis:[["M",a-3*e,n],["L",a-2*e,n],["M",a-e-e/2,n],["L",a-e-2,n],["M",a+e+2,n],["L",a+e+e/2,n],["M",a+3*e,n],["L",a+2*e,n],["M",a,n+e],["A",e,e,0,0,0,a+e,n],["M",a,n+e],["A",e,e,0,1,1,a+e,n]],square:[["M",a-e,n-e],["L",a+e,n-e],["L",a+e,n+e],["L",a-e,n+e],["Z"]],squareLine:[["M",a-3*e,n],["L",a-e,n],["M",a+e,n],["L",a+3*e,n],["M",a-e,n-e],["L",a+e,n-e],["L",a+e,n+e],["L",a-e,n+e],["Z"]],squareEllipsis:[["M",a-3*e,n],["L",a-2*e,n],["M",a-e-e/2,n],["L",a-e-2,n],["M",a+e+2,n],["L",a+e+e/2,n],["M",a+3*e,n],["L",a+2*e,n],["M",a-e,n-e],["L",a+e,n-e],["L",a+e,n+e],["L",a-e,n+e],["Z"]],hexagon:[["M",a,n-e-2],["L",a+o+1,n-e/2-1],["L",a+o+1,n+e/2+1],["L",a,n+e+1+1],["L",a-o-1,n+e/2+1],["L",a-o-1,n-e/2-1],["Z"]],hexagonLine:[["M",a-3*e,n],["L",a-e-(e<=3?1:0),n],["M",a+e+(e<=3?1:0),n],["L",a+3*e,n],["M",a,n-e-2],["L",a+o+1,n-e/2-1],["L",a+o+1,n+e/2+1],["L",a,n+e+1+1],["L",a-o-1,n+e/2+1],["L",a-o-1,n-e/2-1],["Z"]],hexagonEllipsis:[["M",a-3*e,n],["L",a-2*e,n],["M",a-e-e/2,n],["L",a-e-1,n],["M",a+e+1,n],["L",a+e+e/2,n],["M",a+3*e,n],["L",a+2*e,n],["M",a,n-e-2],["L",a+o+1,n-e/2-1],["L",a+o+1,n+e/2+1],["L",a,n+e+1+1],["L",a-o-1,n+e/2+1],["L",a-o-1,n-e/2-1],["Z"]],diamond:[["M",a-e-2,n],["L",a,n-e-2],["L",a+e+2,n],["L",a,n+e+2],["Z"]],diamondLine:[["M",a-3*e,n],["L",a-e-1,n],["M",a+e+1,n],["L",a+3*e,n],["M",a-e-2,n],["L",a,n-e-2],["L",a+e+2,n],["L",a,n+e+2],["Z"]],diamondEllipsis:[["M",a-3*e,n],["L",a-2*e,n],["M",a-e-e/2,n],["L",a-e-2,n],["M",a+e+2,n],["L",a+e+e/2,n],["M",a+3*e,n],["L",a+2*e,n],["M",a-e-2,n],["L",a,n-e-2],["L",a+e+2,n],["L",a,n+e+2],["Z"]],triangle:[["M",a-e,n+i],["L",a,n-i],["L",a+e,n+i],["z"]],triangleLine:[["M",a-3*e,n],["L",a-e+e/2,n],["M",a+e-e/2,n],["L",a+3*e,n],["M",a-e,n+i],["L",a,n-i],["L",a+e,n+i],["z"]],triangleEllipsis:[["M",a-3*e,n],["L",a-2*e,n],["M",a-e-e/2,n],["L",a-e/2,n],["M",a+e/2,n],["L",a+e+e/2,n],["M",a+3*e,n],["L",a+2*e,n],["M",a-e,n+i],["L",a,n-i],["L",a+e,n+i],["z"]],"triangle-down":[["M",a-e,n-i],["L",a+e,n-i],["L",a,n+i],["Z"]],triangleDownLine:[["M",a-3*e,n],["L",a-e+e/2,n],["M",a+e-e/2,n],["L",a+3*e,n],["M",a-e,n-i],["L",a+e,n-i],["L",a,n+i],["Z"]],triangleDownEllipsis:[["M",a-3*e,n],["L",a-2*e,n],["M",a-e-e/2,n],["L",a-e/2,n],["M",a+e/2,n],["L",a+e+e/2,n],["M",a+3*e,n],["L",a+2*e,n],["M",a-e,n-i],["L",a+e,n-i],["L",a,n+i],["Z"]],bowtie:[["M",a-e,n-i],["L",a+e,n+i],["L",a+e,n-i],["L",a-e,n+i],["Z"]],bowtieLine:[["M",a-3*e,n],["L",a-e,n],["M",a+e,n],["L",a+3*e,n],["M",a-e,n-i],["L",a+e,n+i],["L",a+e,n-i],["L",a-e,n+i],["Z"]],bowtieEllipsis:[["M",a-3*e,n],["L",a-2*e,n],["M",a-e-e/2,n],["L",a-e-2,n],["M",a+e+2,n],["L",a+e+e/2,n],["M",a+3*e,n],["L",a+2*e,n],["M",a-e,n-i],["L",a+e,n+i],["L",a+e,n-i],["L",a-e,n+i],["Z"]]}[t]}var s=n("datav:/npm/lodash/4.17.11/toNumber"),d=n("datav:/npm/lodash/4.17.11/map"),p=n("datav:/npm/lodash/4.17.11/forEach"),c=n("datav:/npm/lodash/4.17.11/trim"),u=n("datav:/npm/lodash/4.17.11/isNumber"),M=n("datav:/npm/lodash/4.17.11/min"),f=n("datav:/npm/lodash/4.17.11/max"),h=n("datav:/npm/lodash/4.17.11/omit"),x=n("datav:/npm/lodash/4.17.11/uniq"),v=n("datav:/npm/lodash/4.17.11/isEmpty"),y="linear",g=n("datav:/npm/moment/2.27.0"),b=n("datav:/npm/d3-format/3.1.0").format;return t.exports={transLineDash:function(t){var a=t.lineStyle,n=t.dashedLength,e=t.dashedSpace,o=t.dottedLength,t=t.dottedSpace,i=[];return"solid"===a?i=[1,0]:"dashed"===a?i=[n,e]:"dotted"===a&&(i=[o,t]),i},transformGradientColor:function(t){var a,n,e;return"object"===m(t)?(n=t.type,a=t.value,"flat"===n?{fill:a}:(a=(n=t.value).angle,n=n.stops,e="",d(n,function(t){var a=t.offset,t=t.color;e+="".concat(a/100,":").concat(t," ")}),{fill:"l(".concat(a,") ").concat(c(e))})):{fill:t}},maximumCalY:function(t){var a=t.extent,n=t.data,t=t.type,e=[],o=[],n=(d(n,function(t){0<=t.y&&e.push(s(t.y)),o.push(s(t.y))}),e=x(e),sum(e));if("linear"===t)return"min"===a.min&&"max"!==a.max?{min:+M(o),max:s(a.max)}:"min"!==a.min&&"max"===a.max?{min:s(a.min),max:+n}:"min"!==a.min&&"max"!==a.max?{min:s(a.min),max:s(a.max)}:"min"===a.min&&"max"===a.max?{min:+M(o),max:+n}:void 0},maximumCalX:function(t){var a=t.extent,n=t.data,t=t.type,e=[],n=(d(n,function(t){e.push(t.x)}),"min"===a.min?M(e):s(a.min)),a="max"===a.max?f(e):s(a.max);return{min:"linear"===t?n:void 0,max:"linear"===t?a:void 0}},handleTimeCatNull:function(t){var a=get(t,"options.axis.xaxis.type"),a=("null"===get(t,"options.axis.xaxis.label.timeFormat")&&"timeCat"===a&&set(t,"options.axis.xaxis.type","cat"),get(t,"options.axis.yaxis.type"));"null"===get(t,"options.axis.yaxis.label.timeFormat")&&"timeCat"===a&&set(t,"options.axis.yaxis.type","cat")},pathDFn:function(){var t=L(arguments.length<=0?void 0:arguments[0]),a="";return p(t,function(t){p(t,function(t){u(t)?a+=t+",":a+=t}),a+=" "}),a},transNumberFormatterTooltip:function(t){var a=t.v,n=t.type,e=t.format,o=t.prefix,t=t.suffix;return n===y&&"null"!==e?o+b(e)(a)+t:n===y&&"null"===e?o+s(a)+t:"timeCat"===n&&"null"!==e?o+g(a).format(e)+t:o+a+t},locationInfo:function(t){var t=t.chart.getController("axis").getComponents(),a=t[0].component.getLayoutBBox(),n=a.height,a=a.width,t=t[2].component.getLayoutBBox();return{x:n,y:t.width,maxWidth:a,maxHeight:t.height}},transformSVGGradientColor:function(t){var a="",t=get(t,"fixed.value"),n=t.angle,t=t.stops,e="grad"+ +new Date,a="<defs><linearGradient id='".concat(e,"' gradientTransform='rotate(").concat(n,")'>");return d(t,function(t){a+='<stop offset="'.concat(t.offset,'" stop-color="').concat(t.color,'"/>')}),{gradientHtml:a+="</linearGradient></defs>",id:e}},getValueToData:function(e,t){var o={};return function n(t){v(t)||p(t,function(t){var a=t.children;e===t.name&&(o=l(l({},o),{},{value:t.value||"NULL"}),h(t,"children")),a&&0<a.length&&n(t.children)})}(t.children),o}},t.exports});;
Cube("datav:/com/ml-sunburst/5.1.0/transform",["datav:/npm/lodash/4.17.11/get","datav:/npm/lodash/4.17.11/map","datav:/npm/lodash/4.17.11/uniqBy","datav:/npm/lodash/4.17.11/includes"],function(t,e,n,i,o,a){function r(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)),i}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){U(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function U(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Z=n("datav:/npm/lodash/4.17.11/get"),_=n("datav:/npm/lodash/4.17.11/map"),tt=n("datav:/npm/lodash/4.17.11/uniqBy"),et=n("datav:/npm/lodash/4.17.11/includes"),nt=n("datav:/com/ml-sunburst/5.1.0/customRuleStyle"),n=n("datav:/com/ml-sunburst/5.1.0/utils"),it=n.transLineDash,ot=n.transformGradientColor,at=(n.maximumCalY,n.transNumberFormatterTooltip),rt=n.pathDFn,lt=n.transformSVGGradientColor;return t.exports={transOptionKey:function(t,e,n,G,R){var e=e.options,i=e.chart,o=i.margin,d=i.fill,a=i.radiiWrap,r=(i.sunburstLine,i.label),l=r.show,c=r.offset,s=r.labelField,f=r.isEllipsis,p=r.ellipsisLen,u=r.valueFormat,m=(r.percentFormat,r.nameDescribe),g=r.valueDescribe,Y=r.isBreak,h=r.lineHeight,y=r.textStyle,r=r.stroke,i=i.pattern,v=i.show,x=i.type,$=i.patternFill,b=i.lineFill,w=i.patternStroke,H=i.dotCfg,i=i.lineCfg,S=e.animation,L=S.isShow,V=S.animationEasing,S=S.duration,e=e.tooltip,O=e.tooltipSet,k=O.show,C=O.titleText,F=O.titleTextStyle,j=O.contentTextStyle,X=O.trigger,q=O.titleSpace,W=O.contentSpace,P=O.bgBox,D=P.padding,z=P.backgroundColor,P=P.border,T=O.series,K=O.valueFormat,O=e.active,e=O.show,N=O.fillWrap,B=O.line,E=O.trigger,M=O.selectType,O=O.slider,o=o.show?{padding:[o.top,o.right,o.bottom,o.left]}:{padding:"auto"},l=l?{label:{offsetX:c.offsetX,offsetY:c.offsetY,style:Q(Q({lineHeight:h,fill:y.color},y),{},{stroke:r.strokeColor,lineWidth:r.lineWidth}),content:function(t){var e=t.name,n=t.value,t=(t.$$percentage$$,m.prefix+e+m.suffix);return"name"!==s||f?"name"===s&&f?t.length<=p?t:m.prefix+e.slice(0,p)+m.suffix+"...":"value"===s?at({v:n,type:"linear",format:u,prefix:g.prefix,suffix:g.suffix}):"name + value"===s?(t.length<=p?t:m.prefix+e.slice(0,p)+m.suffix+"...")+(Y?"\n":"")+at({v:n,type:"linear",format:u,prefix:g.prefix,suffix:g.suffix}):void 0:t}}}:{label:!1},A=[],I=(_(T,function(t){return A.push(t.columnName)}),rt({x:9,y:9,r:5,type:"circle"})),c=k?{tooltip:{showMarkers:!1,customContent:function(t,f){var e=tt(f,"data"),p="";return T&&0<T.length&&_(e,function(t,e){var n,i=null,o=t.data,t=t.color,a="",r=t,l=Z(d,"fixed.type"),c=((!Z(d,"mapping")&&"linearGradient"===l||et(t,"l("))&&(t=(l=lt(d)).gradientHtml,l=l.id,r="url(#".concat(l,")"),a=t),{}),s=(_(T,function(t){for(var e in o)t.columnName===e&&(c[e]={prefix:t.prefixSuffix.prefix,suffix:t.prefixSuffix.suffix},i=Q(Q({},i),{},U({},e,o[e])))}),e===f.length-1&&(isSpace=0),0);for(n in i)!function(e){var n=e,t=i[e];"name"===e&&(t=at({v:t,type:"cat",format:"",prefix:c.name.prefix,suffix:c.name.suffix})),"value"===e&&(t=at({v:t,type:"linear",format:K,prefix:c.value.prefix,suffix:c.value.suffix})),_(T,function(t){t.columnName===e&&(n=t.displayName)}),p+='\n                    <div\n                      style="\n                        display: flex;\n                        justify-content: left;\n                        align-items: center;\n                        margin-bottom: '.concat(W,"px;\n                        font-size: ").concat(j.fontSize,"px;\n                        line-height: ").concat(j.fontSize,"px;\n                        color: ").concat(j.color,";\n                        font-weight: ").concat(j.fontWeight,";\n                        font-family: ").concat(j.fontFamily,';\n                      "\n                      >\n                      <div style="opacity: ').concat(0===s?1:0,';width: 18px;height: 18px; margin-right: 6px; overflow: hidden;">\n                        <svg>\n                          ').concat(a,'\n                          <path\n                            d="').concat(I,'"\n                            stroke="').concat(r,'"\n                            stroke-opacity="1"\n                            opacity="1"\n                            fill="').concat(r,'"\n                          >\n                          </path>\n                        </svg>\n                      </div>\n                      <span style="\n                        display: inline-block;\n                        vertical-align: middle;\n                      ">').concat(n," ").concat(t,"</span>\n                    </div>\n                  "),s++}(n)}),'\n                <div style="margin-bottom: -'.concat(W,'px;">\n                  <div\n                    style="\n                      font-size: ').concat(F.fontSize,"px;\n                      line-height: ").concat(F.fontSize,"px;\n                      color: ").concat(F.color,";\n                      font-weight: ").concat(F.fontWeight,";\n                      font-family: ").concat(F.fontFamily,";\n                      margin-bottom: ").concat(C.show&&q||0,'px;\n                    "\n                  >').concat(C.show&&C.con||"","</div>\n                  ").concat(p,"\n                </div>\n            ")},domStyles:{"g2-tooltip":{backgroundColor:z,border:"".concat(P.borderWidth,"px ").concat(P.borderStyle," ").concat(P.borderColor),padding:"".concat(D.paddingY,"px ").concat(D.paddingX,"px"),borderRadius:"".concat(P.borderRadius,"px"),boxShadow:"none"}}}}:{tooltip:!1},h=L?{animation:{appear:{animation:V,duration:S},update:{duration:S}}}:{animation:!1},y=N.show&&ot(N.fill)||{},r=Q(Q({lineWidth:B.lineWidth,lineDash:it(B),stroke:B.lineColor},y),{},{opacity:O,fillOpacity:O}),k=U({},"click"===E?"selected":"active",!!e&&{style:r}),z="multi"===M,J=v?"line"===x?i:H:null,D=v?{pattern:function(t,e){t.type;return{type:x,cfg:Q({backgroundColor:e,fill:$.fill,fillOpacity:1,strokeOpacity:1,stroke:"line"===x?b.stroke:w.show?w.stroke:"rgba(255,255,255,0)",lineWidth:"line"===x?b.lineWidth:w.show?w.lineWidth:0},J)}}}:{},P=Q(Q(Q(Q(Q(Q({data:n,seriesField:"value",colorField:"colorField",autoFit:!0,supportCSSTransform:!0},o),{},{innerRadius:a.radii[0]/100,radius:a.radii[1]/100,drilldown:{enabled:!1}},l),c),D),{},{state:Q({default:{style:{lineWidth:2,fillOpacity:1,stroke:"yellow",fill:"green"}}},k),interactions:[{type:"element-selected",enable:"click"===E&&z},{type:"element-single-selected",enable:"click"===E&&!z},{type:"element-active",enable:"hover"===E&&z},{type:"element-single-active",enable:"hover"===E&&!z},{type:"tooltip",cfg:{start:[{trigger:"element:".concat(X),action:"tooltip:show"}]}}]},h),{},{hierarchyConfig:{ignoreParentValue:a.ignoreParentValue,field:"value"}});return nt({props:P,guiConfig:t,data:n}),P}},t.exports});;
Cube("datav:/com/ml-sunburst/5.1.0",["datav:/npm/bcore/0.0.22/event","datav:/npm/lodash/4.17.11/get","datav:/npm/lodash/4.17.11/set","datav:/npm/lodash/4.17.11/cloneDeep","datav:/npm/lodash/4.17.11/filter","datav:/npm/lodash/4.17.11/every","datav:/npm/lodash/4.17.11/includes","datav:/npm/lodash/4.17.11/some","datav:/npm/lodash/4.17.11/map","datav:/npm/lodash/4.17.11/isArray","datav:/npm/lodash/4.17.11/defaultsDeep","datav:/npm/lodash/4.17.11/floor","datav:/npm/lodash/4.17.11/isUndefined","datav:/npm/lodash/4.17.11/isEmpty","datav:/npm/lodash/4.17.11/isEqual","datav:/npm/lodash/4.17.11/toNumber","datav:/npm/@antv/g2plot/2.4.20/dist/g2plot.min.js"],function(t,e,i,a,n,o){function r(e,t){var i,a=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,i)),a}function c(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach(function(t){d(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function d(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var s=i("datav:/npm/bcore/0.0.22/event"),p=i("datav:/npm/lodash/4.17.11/get"),l=i("datav:/npm/lodash/4.17.11/set"),h=i("datav:/npm/lodash/4.17.11/cloneDeep"),u=i("datav:/npm/lodash/4.17.11/filter"),g=i("datav:/npm/lodash/4.17.11/every"),f=i("datav:/npm/lodash/4.17.11/includes"),m=i("datav:/npm/lodash/4.17.11/some"),v=i("datav:/npm/lodash/4.17.11/map"),y=i("datav:/npm/lodash/4.17.11/isArray"),b=i("datav:/npm/lodash/4.17.11/defaultsDeep"),C=i("datav:/npm/lodash/4.17.11/floor"),D=i("datav:/npm/lodash/4.17.11/isUndefined"),O=i("datav:/npm/lodash/4.17.11/isEmpty"),S=i("datav:/npm/lodash/4.17.11/isEqual"),x=i("datav:/npm/lodash/4.17.11/toNumber"),j=i("datav:/npm/@antv/g2plot/2.4.20/dist/g2plot.min.js"),w=j.Sunburst,j=j.G2,N=i("datav:/com/ml-sunburst/5.1.0/transform").transOptionKey,i=i("datav:/com/ml-sunburst/5.1.0/utils"),_=(i.handleTimeCatNull,i.locationInfo,i.transformGradientColor);return j.registerInteraction("element-single-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),j.registerInteraction("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:toggle"}]}),t.exports=s.extend(function(t,e){this.config={options:{chart:{pattern:{show:!1}}}},this.container=t,this.apis=e.apis,this._data=null,this.chart=null,this.guiConfig=null,this.containerSize=null,this.equalNodeData={},this.init(e)},{init:function(t){this.mergeConfig(t),this.containerSize={width:x(this.container.style.width.slice(0,-2)),height:x(this.container.style.height.slice(0,-2))}},initChart:function(t){this.chart=new w(this.container,t),this.chart&&this.chart.render()},handleNonstandardData:function(t){var i=["name","value"],t=h(t);return u(t,function(t){return g(t,function(t,e){return f(i,e)})})},isHighlight:function(t){var e=t.item,t=t.data;return m(t,function(t){return m([e],t)})},highlight:function(t){var e=this,i=t.data,t=t.style,a=this,n=p(this.config,"options.tooltip.active"),o=n.show,r=n.selectType,s=n.fill,l=n.line,n="click"===n.trigger?"selected":"active",s=D(t)||O(t)?{fillStyle:_(s).fill,stroke:l.lineColor}:c({},t),l=d({},n,!!o&&{style:c({},s)}),h=(this.chart&&this.chart.update(c(c({},this.guiConfig),{},{state:c(c({},this.guiConfig.state),l)})),y(i)?i:[i]),h=S(this.prevOriginData,i)?this.prevFilterData:this.handleNonstandardData(h);h="single"===r?[h[0]]:h,this.chart&&this.chart.setState(n,function(t){return t.isNode?a.isHighlight({item:e.repairData(t),data:h}):a.isHighlight({item:t,data:h})}),this.prevOriginData=i,this.prevFilterData=h},repairData:function(t){var e=t.name,i=[];return forEach(this._data,function(t){t.source===e&&i.push(t)}),O(this.equalNodeData[e])&&(this.equalNodeData[e]=i,O(i)&&(forEach(this._data,function(t){t.target===e&&i.push(t)}),this.equalNodeData[e]=i)),(this.equalNodeData&&this.equalNodeData[e])[0]},reset:function(){var t="click"===p(this.config,"options.tooltip.active").trigger?"selected":"active";this.chart&&this.chart.update(this.guiConfig),this.chart&&this.chart.setState(t,function(){})},render:function(t,e){var i=this,a=this.mergeConfig(e);(t=this.data(t,a))&&(this.guiConfig=N(this.config,a,h(t),this.containerSize),this.chart&&this.chart.destroy(),this.initChart(this.guiConfig),this.chart&&this.chart.off(),a.options.tooltip&&a.options.tooltip.active&&(e=a.options.tooltip.active.trigger,this.chart&&this.chart.on("element:".concat("click"===e?e:"mouseenter"),function(){var t=u(v(i.chart&&i.chart.getStates(),function(t){return("selected"===t.state||"active"===t.state)&&t.data}),Boolean),e=[];v(t,function(t){e.push({name:t.name,value:t.value})}),i.emit("itemSelect","multi"===a.options.tooltip.active.selectType?e:e&&e[0])})))},resize:function(t,e){},data:function(t,e){return t&&(this.__data=t),this._data=h(this.__data),this._data[0]},mergeConfig:function(t){return t&&(0===Object.keys(this.config).length?this.config=t:(this.config.theme=b(t.theme||{},this.config.theme),p(t,"options.chart.fill.scale.range")&&l(this.config,"options.chart.fill.scale.range",p(t,"options.chart.fill.scale.range")),p(t,"options.tooltip.tooltipSet.series")&&l(this.config,"options.tooltip.tooltipSet.series",p(t,"options.tooltip.tooltipSet.series")),this.config=b(t||{},this.config))),this.config},getThemableConfig:function(t){var e,i,a,n;return t?(e=t.textColor,n=t.axisColor,i=t.palette,t=t.bgColor,a="",n={label:{textStyle:{color:e}},title:{textStyle:{color:e}},axisLine:{line:{lineColor:n}},tickLine:{line:{lineColor:n}},grid:{line:{lineColor:n}}},{options:{chart:{fill:{fixed:{type:"flat",value:a=i&&0<i.length?i[C(i.length/2)]:a},scale:{range:v(p(this.config,"options.chart.fill.scale.range"),function(t,e){return i[e]||i[e%i.length]})}},label:{textStyle:{color:e}}},axis:{xaxis:n,yaxis:n},tooltip:{titleTextStyle:{color:e},contentTextStyle:{color:e},bgBox:{backgroundColor:t,border:{borderColor:t}}},legend:{textStyle:{color:e},continuousLegend:{handler:{fill:e},track:{railColor:t}}}}}):null},destroy:function(){this.chart&&this.chart.destroy(),this.chart=null,this._data=null,this.container&&(this.container.innerHTML="")}}),t.exports});