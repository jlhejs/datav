// env=undefined => env=publish 
Cube("datav:/com/@shukeshi.hanabi/streamCompare/0.0.15/streamCompare.css", [], function(m){m.exports=".HANABI_StreamCompare{transform-origin:0 0}.HANABI_StreamCompare{position:relative;margin:0;padding:0}.HANABI_StreamCompare .chartStream{position:absolute;left:0;top:0;width:100%;height:100%}.HANABI_StreamCompare .chart{background:#fff}.HANABI_StreamCompare .axis path,.axis line{fill:none;stroke-width:2px;shape-rendering:crispEdges}.HANABI_StreamCompare .axis .domain{opacity:0}";return m.exports});;
Cube("datav:/com/@shukeshi.hanabi/streamCompare/0.0.15/d3.v2.min.js",[],function(b){var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return function(){function n(a,b){try{for(var c in b)Object.defineProperty(a.prototype,c,{value:b[c],enumerable:!1})}catch(c){a.prototype=b}}function e(a){for(var b=-1,c=a.length,d=[];++b<c;)d.push(a[b]);return d}function A(){}function L(a){return a}function i(){return this}function aa(){return!0}function ba(a){return"function"==typeof a?a:function(){return a}}function o(a,b,c){return function(){var d=c.apply(b,arguments);return arguments.length?a:d}}function u(a){return null!=a&&!isNaN(a)}function f(a){return a.length}function l(a){return null==a}function c(a){return a.trim().replace(/\s+/g," ")}function h(a){for(var b=1;a*b%1;)b*=10;return b}function p(){}function d(a){function b(){for(var b,d=c,e=-1,f=d.length;++e<f;)(b=d[e].on)&&b.apply(this,arguments);return a}var c=[],d=new A;return b.on=function(b,e){var f,g=d.get(b);return 2>arguments.length?g&&g.on:(g&&(g.on=null,c=c.slice(0,f=c.indexOf(g)).concat(c.slice(f+1)),d.remove(b)),e&&c.push(d.set(b,{on:e})),a)},b}function r(a,b){return b-(a?1+Math.floor(Math.log(a+Math.pow(10,1+Math.floor(Math.log(a)/Math.LN10)-b))/Math.LN10):1)}function m(a){return a+""}function g(a){for(var b=a.lastIndexOf("."),c=0<=b?a.substring(b):(b=a.length,""),d=[];0<b;)d.push(a.substring(b-=3,b+3));return d.reverse().join(",")+c}function s(a){return function(b){return 0>=b?0:1<=b?1:a(b)}}function t(a){return function(b){return 1-a(1-b)}}function v(a){return function(b){return .5*(.5>b?a(2*b):2-a(2-2*b))}}function w(a){return a}function y(a){return function(b){return Math.pow(b,a)}}function ca(a){return 1-Math.cos(a*Math.PI/2)}function N(a){return Math.pow(2,10*(a-1))}function C(a){return 1-Math.sqrt(1-a*a)}function k(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}function O(){d3.event.stopPropagation(),d3.event.preventDefault()}function M(){for(var a,b=d3.event;a=b.sourceEvent;)b=a;return b}function _(a){for(var b=new p,c=0,e=arguments.length;++c<e;)b[arguments[c]]=d(b);return b.of=function(c,d){return function(e){try{var f=e.sourceEvent=d3.event;e.target=a,d3.event=e,b[e.type].apply(c,d)}finally{d3.event=f}}},b}function D(a){var b=[a.a,a.b],c=[a.c,a.d],d=H(b),e=P(b,c),f=H(B(c,b,-e))||0;b[0]*c[1]<c[0]*b[1]&&(b[0]*=-1,b[1]*=-1,d*=-1,e*=-1),this.rotate=(d?Math.atan2(b[1],b[0]):Math.atan2(-c[0],c[1]))*Ed,this.translate=[a.e,a.f],this.scale=[d,f],this.skew=f?Math.atan2(e,f)*Ed:0}function P(a,b){return a[0]*b[0]+a[1]*b[1]}function H(a){var b=Math.sqrt(P(a,a));return b&&(a[0]/=b,a[1]/=b),b}function B(a,b,c){return a[0]+=c*b[0],a[1]+=c*b[1],a}function j(a){return"transform"==a?d3.interpolateTransform:d3.interpolate}function F(a,b){return b=b-(a=+a)?1/(b-a):0,function(c){return(c-a)*b}}function I(a,b){return b=b-(a=+a)?1/(b-a):0,function(c){return Math.max(0,Math.min(1,(c-a)*b))}}function q(){}function R(a,b,c){return new U(a,b,c)}function U(a,b,c){this.r=a,this.g=b,this.b=c}function z(a){return 16>a?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function W(b,c,d){var e,f,g,a=0,h=0,i=0;if(e=/([a-z]+)\((.*)\)/i.exec(b),e)switch(f=e[2].split(","),e[1]){case"hsl":return d(parseFloat(f[0]),parseFloat(f[1])/100,parseFloat(f[2])/100);case"rgb":return c(J(f[0]),J(f[1]),J(f[2]));}return(g=Id.get(b))?c(g.r,g.g,g.b):(null!=b&&"#"===b.charAt(0)&&(4===b.length?(a=b.charAt(1),a+=a,h=b.charAt(2),h+=h,i=b.charAt(3),i+=i):7===b.length&&(a=b.substring(1,3),h=b.substring(3,5),i=b.substring(5,7)),a=parseInt(a,16),h=parseInt(h,16),i=parseInt(i,16)),c(a,h,i))}function X(b,c,d){var e,f,g=Math.min(b/=255,c/=255,d/=255),h=Math.max(b,c,d),i=h-g,j=(h+g)/2;return i?(f=.5>j?i/(h+g):i/(2-h-g),e=b==h?(c-d)/i+(c<d?6:0):c==h?(d-b)/i+2:(b-c)/i+4,e*=60):f=e=0,K(e,f,j)}function V(a,b,c){a=$(a),b=$(b),c=$(c);var d=ja((.4124564*a+.3575761*b+.1804375*c)/Md),e=ja((.2126729*a+.7151522*b+.072175*c)/Nd),f=ja((.0193339*a+.119192*b+.9503041*c)/Od);return ea(116*e-16,500*(d-e),200*(e-f))}function $(a){return .04045>=(a/=255)?a/12.92:Math.pow((a+.055)/1.055,2.4)}function J(a){var b=parseFloat(a);return"%"===a.charAt(a.length-1)?Math.round(2.55*b):b}function K(a,b,c){return new Q(a,b,c)}function Q(a,b,c){this.h=a,this.s=b,this.l=c}function G(a,b,c){function d(a){return 360<a?a-=360:0>a&&(a+=360),60>a?f+(g-f)*a/60:180>a?g:240>a?f+(g-f)*(240-a)/60:f}function e(a){return Math.round(255*d(a))}var f,g;return a%=360,0>a&&(a+=360),b=0>b?0:1<b?1:b,c=0>c?0:1<c?1:c,g=.5>=c?c*(1+b):c+b-c*b,f=2*c-g,R(e(a+120),e(a),e(a-120))}function Y(a,b,c){return new Z(a,b,c)}function Z(a,b,c){this.h=a,this.c=b,this.l=c}function da(a,b,c){return ea(c,Math.cos(a*=Math.PI/180)*b,Math.sin(a)*b)}function ea(a,b,c){return new fa(a,b,c)}function fa(a,b,c){this.l=a,this.a=b,this.b=c}function ga(a,b,c){var d=(a+16)/116,e=d+b/500,f=d-c/200;return e=ia(e)*Md,d=ia(d)*Nd,f=ia(f)*Od,R(ka(3.2404542*e-1.5371385*d-.4985314*f),ka(-0.969266*e+1.8760108*d+.041556*f),ka(.0556434*e-.2040259*d+1.0572252*f))}function ha(a,b,c){return Y(180*(Math.atan2(c,b)/Math.PI),Math.sqrt(b*b+c*c),a)}function ia(a){return .206893034<a?a*a*a:(a-4/29)/7.787037}function ja(a){return .008856<a?Math.pow(a,1/3):7.787037*a+4/29}function ka(a){return Math.round(255*(.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055))}function la(a){return qd(a,Vd),a}function ma(a){return function(){return Qd(a,this)}}function na(a){return function(){return Rd(a,this)}}function oa(a,b){return a=d3.ns.qualify(a),null==b?a.local?function(){this.removeAttributeNS(a.space,a.local)}:function(){this.removeAttribute(a)}:"function"==typeof b?a.local?function(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}:function(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}:a.local?function(){this.setAttributeNS(a.space,a.local,b)}:function(){this.setAttribute(a,b)}}function pa(a){return new RegExp("(?:^|\\s+)"+d3.requote(a)+"(?:\\s+|$)","g")}function qa(a,b){function c(){for(var c=-1;++c<e;)a[c](this,b)}function d(){for(var c=-1,d=b.apply(this,arguments);++c<e;)a[c](this,d)}a=a.trim().split(/\s+/).map(ra);var e=a.length;return"function"==typeof b?d:c}function ra(a){var b=pa(a);return function(d,e){if(f=d.classList)return e?f.add(a):f.remove(a);var f=d.className,g=null!=f.baseVal,h=g?f.baseVal:f;e?(b.lastIndex=0,b.test(h)||(h=c(h+" "+a),g?f.baseVal=h:d.className=h)):h&&(h=c(h.replace(b," ")),g?f.baseVal=h:d.className=h)}}function sa(a,b,c){return null==b?function(){this.style.removeProperty(a)}:"function"==typeof b?function(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}:function(){this.style.setProperty(a,b,c)}}function ta(a,b){return null==b?function(){delete this[a]}:"function"==typeof b?function(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}:function(){this[a]=b}}function ua(a){return{__data__:a}}function va(a){return function(){return Ud(this,a)}}function wa(a){return arguments.length||(a=d3.ascending),function(b,c){return a(b&&b.__data__,c&&c.__data__)}}function xa(a,b,c){function d(){var b=this[f];b&&(this.removeEventListener(a,b,b.$),delete this[f])}function e(){function e(a){var c=d3.event;d3.event=a,h[0]=g.__data__;try{b.apply(g,h)}finally{d3.event=c}}var g=this,h=arguments;d.call(this),this.addEventListener(a,this[f]=e,e.$=c),e._=b}var f="__on"+a,g=a.indexOf(".");return 0<g&&(a=a.substring(0,g)),b?e:d}function ya(a,b){for(var c=0,d=a.length;c<d;c++)for(var e,f=a[c],g=0,h=f.length;g<h;g++)(e=f[g])&&b(e,g,c);return a}function za(a){return qd(a,Xd),a}function Aa(a,b,g){qd(a,Yd);var d=new A,f=d3.dispatch("start","end"),c=ce;return a.id=b,a.time=g,a.tween=function(b,c){return 2>arguments.length?d.get(b):(null==c?d.remove(b):d.set(b,c),a)},a.ease=function(b){return arguments.length?(c="function"==typeof b?b:d3.ease.apply(d3,arguments),a):c},a.each=function(b,c){return 2>arguments.length?Ba.call(a,b):(f.on(b,c),a)},d3.timer(function(i){return ya(a,function(j,e){function a(a){return q.active>b?l():(q.active=b,d.forEach(function(a,b){(b=b.call(j,s,e))&&o.push(b)}),f.start.call(j,s,e),k(a)||d3.timer(k,0,g),1)}function k(d){if(q.active!==b)return l();for(var g=(d-h)/p,k=c(g),i=o.length;0<i;)o[--i].call(j,k);if(1<=g)return l(),$d=b,f.end.call(j,s,e),$d=0,1}function l(){return--q.count||delete j.__transition__,1}var o=[],h=j.delay,p=j.duration,q=(j=j.node).__transition__||(j.__transition__={active:0,count:0}),s=j.__data__;++q.count,h<=i?a(i):d3.timer(a,h,g)})},0,g),a}function Ba(a){var b=$d,c=ce,d=ae,e=be;return $d=this.id,ce=this.ease(),ya(this,function(b,c,d){ae=b.delay,be=b.duration,a.call(b=b.node,b.__data__,c,d)}),$d=b,ce=c,ae=d,be=e,this}function Ca(a,b,c){return""!=c&&fe}function Da(a,b){return d3.tween(a,j(b))}function Ea(){for(var a,b=Date.now(),c=ie;c;)a=b-c.then,a>=c.delay&&(c.flush=c.callback(a)),c=c.next;var d=Fa()-b;24<d?(isFinite(d)&&(clearTimeout(ee),ee=setTimeout(Ea,d)),de=0):(de=1,je(Ea))}function Fa(){for(var a=null,b=ie,c=Infinity;b;)b.flush?(delete he[b.callback.id],b=a?a.next=b.next:ie=b.next):(c=Math.min(c,b.then+b.delay),b=(a=b).next);return c}function Ga(a,b){var c=a.ownerSVGElement||a;if(c.createSVGPoint){var d=c.createSVGPoint();if(0>ke&&(window.scrollX||window.scrollY)){c=d3.select(document.body).append("svg").style("position","absolute").style("top",0).style("left",0);var e=c[0][0].getScreenCTM();ke=!e.f&&!e.e,c.remove()}return ke?(d.x=b.pageX,d.y=b.pageY):(d.x=b.clientX,d.y=b.clientY),d=d.matrixTransform(a.getScreenCTM().inverse()),[d.x,d.y]}var f=a.getBoundingClientRect();return[b.clientX-f.left-a.clientLeft,b.clientY-f.top-a.clientTop]}function Ha(a){var b=a[0],c=a[a.length-1];return b<c?[b,c]:[c,b]}function Ia(a){return a.rangeExtent?a.rangeExtent():Ha(a.range())}function Ja(a,b){var c,d=0,e=a.length-1,f=a[d],g=a[e];return g<f&&(c=d,d=e,e=c,c=f,f=g,g=c),(b=b(g-f))&&(a[d]=b.floor(f),a[e]=b.ceil(g)),a}function Ka(){return Math}function La(b,c,d,f){function a(){var e=2<Math.min(b.length,c.length)?Sa:Ra,k=f?I:F;return h=e(b,c,k,d),j=e(c,b,k,d3.interpolate),g}function g(a){return h(a)}var h,j;return g.invert=function(a){return j(a)},g.domain=function(c){return arguments.length?(b=c.map(Number),a()):b},g.range=function(b){return arguments.length?(c=b,a()):c},g.rangeRound=function(a){return g.range(a).interpolate(d3.interpolateRound)},g.clamp=function(b){return arguments.length?(f=b,a()):f},g.interpolate=function(b){return arguments.length?(d=b,a()):d},g.ticks=function(a){return Pa(b,a)},g.tickFormat=function(a){return Qa(b,a)},g.nice=function(){return Ja(b,Na),a()},g.copy=function(){return La(b,c,d,f)},a()}function Ma(a,b){return d3.rebind(a,b,"range","rangeRound","interpolate","clamp")}function Na(a){return a=Math.pow(10,Math.round(Math.log(a)/Math.LN10)-1),a&&{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}}function Oa(a,b){var c=Ha(a),d=c[1]-c[0],e=Math.pow(10,Math.floor(Math.log(d/b)/Math.LN10)),f=b/d*e;return .15>=f?e*=10:.35>=f?e*=5:.75>=f&&(e*=2),c[0]=Math.ceil(c[0]/e)*e,c[1]=Math.floor(c[1]/e)*e+.5*e,c[2]=e,c}function Pa(a,b){return d3.range.apply(d3,Oa(a,b))}function Qa(a,b){return d3.format(",."+Math.max(0,-Math.floor(Math.log(Oa(a,b)[2])/Math.LN10+.01))+"f")}function Ra(a,b,c,d){var f=c(a[0],a[1]),g=d(b[0],b[1]);return function(a){return g(f(a))}}function Sa(a,b,c,d){var e=[],f=[],g=0,h=Math.min(a.length,b.length)-1;for(a[h]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());++g<=h;)e.push(c(a[g-1],a[g])),f.push(d(b[g-1],b[g]));return function(b){var c=d3.bisect(a,b,1,h)-1;return f[c](e[c](b))}}function Ta(b,c){function a(a){return b(c(a))}var d=c.pow;return a.invert=function(a){return d(b.invert(a))},a.domain=function(e){return arguments.length?(c=0>e[0]?Va:Ua,d=c.pow,b.domain(e.map(c)),a):b.domain().map(d)},a.nice=function(){return b.domain(Ja(b.domain(),Ka)),a},a.ticks=function(){var e=Ha(b.domain()),g=[];if(e.every(isFinite)){var h=Math.floor(e[0]),i=Math.ceil(e[1]),j=d(e[0]),k=d(e[1]);if(c===Va)for(g.push(d(h));h++<i;)for(var a=9;0<a;a--)g.push(d(h)*a);else{for(;h<i;h++)for(var a=1;10>a;a++)g.push(d(h)*a);g.push(d(h))}for(h=0;g[h]<j;h++);for(i=g.length;g[i-1]>k;i--);g=g.slice(h,i)}return g},a.tickFormat=function(b,f){if(2>arguments.length&&(f=le),1>arguments.length)return f;var g,h=Math.max(.1,b/a.ticks().length),i=c===Va?(g=-1e-12,Math.floor):(g=1e-12,Math.ceil);return function(a){return a/d(i(c(a)+g))<=h?f(a):""}},a.copy=function(){return Ta(b.copy(),c)},Ma(a,b)}function Ua(a){return Math.log(0>a?0:a)/Math.LN10}function Va(a){return-Math.log(0<a?0:-a)/Math.LN10}function Wa(a,b){function c(b){return a(d(b))}var d=Xa(b),f=Xa(1/b);return c.invert=function(b){return f(a.invert(b))},c.domain=function(b){return arguments.length?(a.domain(b.map(d)),c):a.domain().map(f)},c.ticks=function(a){return Pa(c.domain(),a)},c.tickFormat=function(a){return Qa(c.domain(),a)},c.nice=function(){return c.domain(Ja(c.domain(),Na))},c.exponent=function(a){if(!arguments.length)return b;var e=c.domain();return d=Xa(b=a),f=Xa(1/b),c.domain(e)},c.copy=function(){return Wa(a.copy(),b)},Ma(c,a)}function Xa(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}function Ya(b,d){function g(a){return i[((c.get(a)||c.set(a,b.push(a)))-1)%i.length]}function e(a,c){return d3.range(b.length).map(function(b){return a+c*b})}var c,i,j;return g.domain=function(e){if(!arguments.length)return b;b=[],c=new A;for(var f,a=-1,h=e.length;++a<h;)c.has(f=e[a])||c.set(f,b.push(f));return g[d.t].apply(g,d.a)},g.range=function(a){return arguments.length?(i=a,j=0,d={t:"range",a:arguments},g):i},g.rangePoints=function(c,h){2>arguments.length&&(h=0);var k=c[0],a=c[1],f=(a-k)/(Math.max(1,b.length-1)+h);return i=e(2>b.length?(k+a)/2:k+f*h/2,f),j=0,d={t:"rangePoints",a:arguments},g},g.rangeBands=function(k,m,n){2>arguments.length&&(m=0),3>arguments.length&&(n=m);var a=k[1]<k[0],f=k[a-0],l=k[1-a],c=(l-f)/(b.length-m+2*n);return i=e(f+c*n,c),a&&i.reverse(),j=c*(1-m),d={t:"rangeBands",a:arguments},g},g.rangeRoundBands=function(k,m,n){2>arguments.length&&(m=0),3>arguments.length&&(n=m);var a=k[1]<k[0],f=k[a-0],l=k[1-a],c=Math.floor((l-f)/(b.length-m+2*n)),h=l-f-(b.length-m)*c;return i=e(f+Math.round(h/2),c),a&&i.reverse(),j=Math.round(c*(1-m)),d={t:"rangeRoundBands",a:arguments},g},g.rangeBand=function(){return j},g.rangeExtent=function(){return Ha(d.a[0])},g.copy=function(){return Ya(b,d)},g.domain(b)}function Za(a,b){function c(){var c=0,e=a.length,g=b.length;for(f=[];++c<g;)f[c-1]=d3.quantile(a,c/g);return d}function d(a){return isNaN(a=+a)?NaN:b[d3.bisect(f,a)]}var f;return d.domain=function(b){return arguments.length?(a=b.filter(function(a){return!isNaN(a)}).sort(d3.ascending),c()):a},d.range=function(a){return arguments.length?(b=a,c()):b},d.quantiles=function(){return f},d.copy=function(){return Za(a,b)},c()}function $a(a,b,c){function d(b){return c[Math.max(0,Math.min(g,Math.floor(e*(b-a))))]}function f(){return e=c.length/(b-a),g=c.length-1,d}var e,g;return d.domain=function(c){return arguments.length?(a=+c[0],b=+c[c.length-1],f()):[a,b]},d.range=function(a){return arguments.length?(c=a,f()):c},d.copy=function(){return $a(a,b,c)},f()}function _a(a,b){function c(c){return b[d3.bisect(a,c)]}return c.domain=function(b){return arguments.length?(a=b,c):a},c.range=function(a){return arguments.length?(b=a,c):b},c.copy=function(){return _a(a,b)},c}function ab(a){function b(a){return+a}return b.invert=b,b.domain=b.range=function(c){return arguments.length?(a=c.map(b),b):a},b.ticks=function(b){return Pa(a,b)},b.tickFormat=function(b){return Qa(a,b)},b.copy=function(){return ab(a)},b}function bb(a){return a.innerRadius}function cb(a){return a.outerRadius}function db(a){return a.startAngle}function eb(a){return a.endAngle}function fb(b){function c(e){function f(){n.push("M",d(b(a),i))}for(var m,n=[],a=[],l=-1,c=e.length,h=ba(g),o=ba(j);++l<c;)k.call(this,m=e[l],l)?a.push([+h.call(this,m,l),+o.call(this,m,l)]):a.length&&(f(),a=[]);return a.length&&f(),n.length?n.join(""):null}var g=gb,j=hb,k=aa,d=ib,h=d.key,i=.7;return c.x=function(a){return arguments.length?(g=a,c):g},c.y=function(a){return arguments.length?(j=a,c):j},c.defined=function(a){return arguments.length?(k=a,c):k},c.interpolate=function(a){return arguments.length?(h="function"==typeof a?d=a:(d=se.get(a)||ib).key,c):h},c.tension=function(a){return arguments.length?(i=a,c):i},c}function gb(a){return a[0]}function hb(a){return a[1]}function ib(a){return a.join("L")}function jb(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("V",(d=a[b])[1],"H",d[0]);return e.join("")}function kb(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d=a[b])[0],"V",d[1]);return e.join("")}function lb(b,c){if(1>c.length||b.length!=c.length&&b.length!=c.length+2)return ib(b);var d=b.length!=c.length,e="",g=b[0],h=b[1],i=c[0],j=i,k=1;if(d&&(e+="Q"+(h[0]-2*i[0]/3)+","+(h[1]-2*i[1]/3)+","+h[0]+","+h[1],g=b[1],k=2),1<c.length){j=c[1],h=b[k],k++,e+="C"+(g[0]+i[0])+","+(g[1]+i[1])+","+(h[0]-j[0])+","+(h[1]-j[1])+","+h[0]+","+h[1];for(var a=2;a<c.length;a++,k++)h=b[k],j=c[a],e+="S"+(h[0]-j[0])+","+(h[1]-j[1])+","+h[0]+","+h[1]}if(d){var f=b[k];e+="Q"+(h[0]+2*j[0]/3)+","+(h[1]+2*j[1]/3)+","+f[0]+","+f[1]}return e}function mb(b,c){for(var d,e=[],f=(1-c)/2,g=b[0],h=b[1],i=1,j=b.length;++i<j;)d=g,g=h,h=b[i],e.push([f*(h[0]-d[0]),f*(h[1]-d[1])]);return e}function nb(b){if(3>b.length)return ib(b);var c=1,d=b.length,e=b[0],f=e[0],g=e[1],h=[f,f,f,(e=b[1])[0]],i=[g,g,g,e[1]],j=[f,",",g];for(pb(j,h,i);++c<d;)e=b[c],h.shift(),h.push(e[0]),i.shift(),i.push(e[1]),pb(j,h,i);for(c=-1;2>++c;)h.shift(),h.push(e[0]),i.shift(),i.push(e[1]),pb(j,h,i);return j.join("")}function ob(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function pb(a,b,c){a.push("C",ob(te,b),",",ob(te,c),",",ob(ue,b),",",ob(ue,c),",",ob(ve,b),",",ob(ve,c))}function qb(a,b){return(b[1]-a[1])/(b[0]-a[0])}function rb(a){for(var b=0,c=a.length-1,d=[],e=a[0],f=a[1],g=d[0]=qb(e,f);++b<c;)d[b]=(g+(g=qb(e=f,f=a[b+1])))/2;return d[b]=g,d}function sb(b){for(var c,d,e,f,g=[],h=rb(b),i=-1,j=b.length-1;++i<j;)c=qb(b[i],b[i+1]),1e-6>Math.abs(c)?h[i]=h[i+1]=0:(d=h[i]/c,e=h[i+1]/c,f=d*d+e*e,9<f&&(f=3*c/Math.sqrt(f),h[i]=f*d,h[i+1]=f*e));for(i=-1;++i<=j;)f=(b[Math.min(j,i+1)][0]-b[Math.max(0,i-1)][0])/(6*(1+h[i]*h[i])),g.push([f||0,h[i]*f||0]);return g}function tb(a){for(var b,c,d,e=-1,f=a.length;++e<f;)b=a[e],c=b[0],d=b[1]+qe,b[0]=c*Math.cos(d),b[1]=c*Math.sin(d);return a}function ub(b){function d(e){function f(){s.push("M",a(b(d),h),c,g(b(l.reverse()),h),"Z")}for(var o,p,r,s=[],l=[],d=[],u=-1,m=e.length,v=ba(j),x=ba(n),w=j===k?function(){return p}:ba(k),y=n===i?function(){return r}:ba(i);++u<m;)q.call(this,o=e[u],u)?(l.push([p=+v.call(this,o,u),r=+x.call(this,o,u)]),d.push([+w.call(this,o,u),+y.call(this,o,u)])):l.length&&(f(),l=[],d=[]);return l.length&&f(),s.length?s.join(""):null}var j=gb,k=gb,n=0,i=hb,q=aa,a=ib,f=a.key,g=a,c="L",h=.7;return d.x=function(a){return arguments.length?(j=k=a,d):k},d.x0=function(a){return arguments.length?(j=a,d):j},d.x1=function(a){return arguments.length?(k=a,d):k},d.y=function(a){return arguments.length?(n=i=a,d):i},d.y0=function(a){return arguments.length?(n=a,d):n},d.y1=function(a){return arguments.length?(i=a,d):i},d.defined=function(a){return arguments.length?(q=a,d):q},d.interpolate=function(b){return arguments.length?(f="function"==typeof b?a=b:(a=se.get(b)||ib).key,g=a.reverse||a,c=a.closed?"M":"L",d):f},d.tension=function(a){return arguments.length?(h=a,d):h},d}function vb(a){return a.source}function wb(a){return a.target}function xb(a){return a.radius}function yb(a){return[a.x,a.y]}function zb(a){return function(){var b=a.apply(this,arguments),c=b[0],d=b[1]+qe;return[c*Math.cos(d),c*Math.sin(d)]}}function Ab(){return 64}function Bb(){return"circle"}function Cb(a){var b=Math.sqrt(a/Math.PI);return"M0,"+b+"A"+b+","+b+" 0 1,1 0,"+-b+"A"+b+","+b+" 0 1,1 0,"+b+"Z"}function Db(a,b){a.attr("transform",function(a){return"translate("+b(a)+",0)"})}function Eb(a,b){a.attr("transform",function(a){return"translate(0,"+b(a)+")"})}function Fb(b,c,d){if(e=[],d&&1<c.length){for(var e,g,a,f=Ha(b.domain()),h=-1,i=c.length,j=(c[1]-c[0])/++d;++h<i;)for(g=d;0<--g;)(a=+c[h]-g*j)>=f[0]&&e.push(a);for(--h,g=0;++g<d&&(a=+c[h]+g*j)<f[1];)e.push(a)}return e}function Gb(){Be||(Be=d3.select("body").append("div").style("visibility","hidden").style("top",0).style("height",0).style("width",0).style("overflow-y","scroll").append("div").style("height","2000px").node().parentNode);var a,b=d3.event;try{Be.scrollTop=1e3,Be.dispatchEvent(b),a=1e3-Be.scrollTop}catch(c){a=b.wheelDelta||5*-b.detail}return a}function Hb(a){for(var b=a.source,c=a.target,d=Jb(b,c),e=[b];b!==d;)b=b.parent,e.push(b);for(var f=e.length;c!==d;)e.splice(f,0,c),c=c.parent;return e}function Ib(a){for(var b=[],c=a.parent;null!=c;)b.push(a),a=c,c=c.parent;return b.push(a),b}function Jb(a,b){if(a===b)return a;for(var c=Ib(a),d=Ib(b),e=c.pop(),f=d.pop(),g=null;e===f;)g=e,e=c.pop(),f=d.pop();return g}function Kb(a){a.fixed|=2}function Lb(a){a.fixed&=1}function Mb(a){a.fixed|=4}function Nb(a){a.fixed&=3}function Ob(b,c,d){var e=0,g=0;if(b.charge=0,!b.leaf)for(var h,a=b.nodes,i=a.length,j=-1;++j<i;)h=a[j],null==h||(Ob(h,c,d),b.charge+=h.charge,e+=h.charge*h.cx,g+=h.charge*h.cy);if(b.point){b.leaf||(b.point.x+=Math.random()-.5,b.point.y+=Math.random()-.5);var k=c*d[b.point.index];b.charge+=b.pointCharge=k,e+=k*b.point.x,g+=k*b.point.y}b.cx=e/b.charge,b.cy=g/b.charge}function Pb(){return 20}function Qb(){return 1}function Rb(a){return a.x}function Sb(a){return a.y}function Tb(a,b,c){a.y0=b,a.y=c}function Ub(a){return d3.range(a.length)}function Vb(a){for(var b=-1,c=a[0].length,d=[];++b<c;)d[b]=0;return d}function Wb(a){for(var b,c=1,d=0,e=a[0][1],f=a.length;c<f;++c)(b=a[c][1])>e&&(d=c,e=b);return d}function Xb(a){return a.reduce(Yb,0)}function Yb(a,b){return a+b[1]}function Zb(a,b){return $b(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function $b(a,b){for(var c=-1,d=+a[0],e=(a[1]-d)/b,f=[];++c<=b;)f[c]=e*c+d;return f}function _b(a){return[d3.min(a),d3.max(a)]}function ac(a,b){return d3.rebind(a,b,"sort","children","value"),a.links=ec,a.nodes=function(b){return Ge=!0,(a.nodes=a)(b)},a}function bc(a){return a.children}function cc(a){return a.value}function dc(a,b){return b.value-a.value}function ec(a){return d3.merge(a.map(function(a){return(a.children||[]).map(function(b){return{source:a,target:b}})}))}function fc(a,b){return a.value-b.value}function gc(a,b){var c=a._pack_next;a._pack_next=b,b._pack_prev=a,b._pack_next=c,c._pack_prev=b}function hc(a,b){a._pack_next=b,b._pack_prev=a}function ic(a,b){var c=b.x-a.x,d=b.y-a.y,e=a.r+b.r;return .001<e*e-c*c-d*d}function jc(j){function e(a){p=Math.min(a.x-a.r,p),r=Math.max(a.x+a.r,r),i=Math.min(a.y-a.r,i),s=Math.max(a.y+a.r,s)}if((k=j.children)&&(h=k.length)){var k,n,q,a,f,l,c,h,p=Infinity,r=-Infinity,i=Infinity,s=-Infinity;if(k.forEach(kc),n=k[0],n.x=-n.r,n.y=0,e(n),1<h&&(q=k[1],q.x=q.r,q.y=0,e(q),2<h))for(a=k[2],nc(n,q,a),e(a),gc(n,a),n._pack_prev=a,gc(a,q),q=n._pack_next,f=3;f<h;f++){nc(n,q,a=k[f]);var o=0,d=1,t=1;for(l=q._pack_next;l!==q;l=l._pack_next,d++)if(ic(l,a)){o=1;break}if(1==o)for(c=n._pack_prev;c!==l._pack_prev&&!ic(c,a);c=c._pack_prev,t++);o?(d<t||d==t&&q.r<n.r?hc(n,q=l):hc(n=c,q),f--):(gc(n,a),q=a,e(a))}var m=(p+r)/2,g=(i+s)/2,u=0;for(f=0;f<h;f++)a=k[f],a.x-=m,a.y-=g,u=Math.max(u,a.r+Math.sqrt(a.x*a.x+a.y*a.y));j.r=u,k.forEach(lc)}}function kc(a){a._pack_next=a._pack_prev=a}function lc(a){delete a._pack_next,delete a._pack_prev}function mc(a,b,c,d){var e=a.children;if(a.x=b+=d*a.x,a.y=c+=d*a.y,a.r*=d,e)for(var f=-1,g=e.length;++f<g;)mc(e[f],b,c,d)}function nc(b,c,d){var e=b.r+d.r,g=c.x-b.x,h=c.y-b.y;if(e&&(g||h)){var i=c.r+d.r,j=g*g+h*h;i*=i,e*=e;var k=.5+(e-i)/(2*j),a=Math.sqrt(Math.max(0,2*i*(e+j)-(e-=j)*e-i*i))/(2*j);d.x=b.x+k*g+a*h,d.y=b.y+k*h-a*g}else d.x=b.x+e,d.y=b.y}function oc(a){return 1+d3.max(a,function(a){return a.y})}function pc(a){return a.reduce(function(a,b){return a+b.x},0)/a.length}function qc(a){var b=a.children;return b&&b.length?qc(b[0]):a}function rc(a){var b,c=a.children;return c&&(b=c.length)?rc(c[b-1]):a}function sc(a,b){return a.parent==b.parent?1:2}function tc(a){var b=a.children;return b&&b.length?b[0]:a._tree.thread}function uc(a){var b,c=a.children;return c&&(b=c.length)?c[b-1]:a._tree.thread}function vc(a,b){var c=a.children;if(c&&(e=c.length))for(var d,e,f=-1;++f<e;)0<b(d=vc(c[f],b),a)&&(a=d);return a}function wc(a,b){return a.x-b.x}function xc(a,b){return b.x-a.x}function yc(a,b){return a.depth-b.depth}function zc(a,b){function c(d,e){var f=d.children;if(f&&(h=f.length))for(var g,h,a=null,i=-1;++i<h;)g=f[i],c(g,a),a=g;b(d,e)}c(a,null)}function Ac(a){for(var b,c=0,d=0,e=a.children,f=e.length;0<=--f;)b=e[f]._tree,b.prelim+=c,b.mod+=c,c+=b.shift+(d+=b.change)}function Bc(a,b,c){a=a._tree,b=b._tree;var d=c/(b.number-a.number);a.change+=d,b.change-=d,b.shift+=c,b.prelim+=c,b.mod+=c}function Cc(a,b,c){return a._tree.ancestor.parent==b.parent?a._tree.ancestor:c}function Dc(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function Ec(a,b){var c=a.x+b[3],d=a.y+b[0],e=a.dx-b[1]-b[3],f=a.dy-b[0]-b[2];return 0>e&&(c+=e/2,e=0),0>f&&(d+=f/2,f=0),{x:c,y:d,dx:e,dy:f}}function Fc(a,b){function c(a,d){d3.text(a,b,function(a){d(a&&c.parse(a))})}function d(b){return b.map(e).join(a)}function e(a){return f.test(a)?"\""+a.replace(/\"/g,"\"\"")+"\"":a}var g=new RegExp("\r\n|["+a+"\r\n]","g"),f=new RegExp("[\""+a+"\n]"),h=a.charCodeAt(0);return c.parse=function(a){var b;return c.parseRows(a,function(a,c){if(c){for(var d={},e=-1,f=b.length;++e<f;)d[b[e]]=a[e];return d}return b=a,null})},c.parseRows=function(b,d){function e(){if(g.lastIndex>=b.length)return l;if(f)return f=!1,k;var c=g.lastIndex;if(34===b.charCodeAt(c)){for(var d=c;d++<b.length;)if(34===b.charCodeAt(d)){if(34!==b.charCodeAt(d+1))break;d++}g.lastIndex=d+2;var e=b.charCodeAt(d+1);return 13===e?(f=!0,10===b.charCodeAt(d+2)&&g.lastIndex++):10===e&&(f=!0),b.substring(c+1,d).replace(/""/g,"\"")}var i=g.exec(b);return i?(f=i[0].charCodeAt(0)!==h,b.substring(c,i.index)):(g.lastIndex=b.length,b.substring(c))}var j,f,k={},l={},i=[],m=0;for(g.lastIndex=0;(j=e())!==l;){for(var a=[];j!==k&&j!==l;)a.push(j),j=e();d&&!(a=d(a,m++))||i.push(a)}return i},c.format=function(a){return a.map(d).join("\n")},c}function Gc(a,b){return function(c){return c&&a.hasOwnProperty(c.type)?a[c.type](c):b}}function Hc(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function Ic(a,b){Ie.hasOwnProperty(a.type)&&Ie[a.type](a,b)}function Jc(a,b){for(var c=a.coordinates,d=0,e=c.length;d<e;d++)b.apply(null,c[d])}function Kc(a){return a.source}function Lc(a){return a.target}function Mc(){function b(b){var d=Math.sin(b*=h)*p,g=Math.sin(h-b)*p,j=g*i+d*l,n=g*m+d*c,o=g*k+d*f;return[Math.atan2(n,j)/He,Math.atan2(o,Math.sqrt(j*j+n*n))/He]}var e,g,j,k,i,m,o,q,a,f,l,c,h,p;return b.distance=function(){return null==h&&(p=1/Math.sin(h=Math.acos(Math.max(-1,Math.min(1,k*f+j*a*Math.cos(o-e)))))),h},b.source=function(c){var d=Math.cos(e=c[0]*He),a=Math.sin(e);return j=Math.cos(g=c[1]*He),k=Math.sin(g),i=j*d,m=j*a,h=null,b},b.target=function(d){var e=Math.cos(o=d[0]*He),g=Math.sin(o);return a=Math.cos(q=d[1]*He),f=Math.sin(q),l=a*e,c=a*g,h=null,b},b}function Nc(a,b){var c=Mc().source(a).target(b);return c.distance(),c}function Oc(a){for(var b=0,c=0;;){if(a(b,c))return[b,c];0===b?(b=c+1,c=0):(b-=1,c+=1)}}function Pc(b,c,d,e){var g,h,i,j,k,a,f;return g=e[b],h=g[0],i=g[1],g=e[c],j=g[0],k=g[1],g=e[d],a=g[0],f=g[1],0<(f-i)*(j-h)-(k-i)*(a-h)}function Qc(a,b,c){return(c[0]-b[0])*(a[1]-b[1])<(c[1]-b[1])*(a[0]-b[0])}function Rc(b,e,h,j){var k=b[0],i=e[0],n=h[0],o=j[0],q=b[1],a=e[1],f=h[1],l=j[1],c=i-k,p=o-n,d=a-q,m=l-f,g=(p*(q-f)-m*(k-n))/(m*c-p*d);return[k+g*c,q+g*d]}function Sc(j,k){var q={list:j.map(function(a,b){return{index:b,x:a[0],y:a[1]}}).sort(function(a,b){return a.y<b.y?-1:a.y>b.y?1:a.x<b.x?-1:a.x>b.x?1:0}),bottomSite:null},n={list:[],leftEnd:null,rightEnd:null,init:function(){n.leftEnd=n.createHalfEdge(null,"l"),n.rightEnd=n.createHalfEdge(null,"l"),n.leftEnd.r=n.rightEnd,n.rightEnd.l=n.leftEnd,n.list.unshift(n.leftEnd,n.rightEnd)},createHalfEdge:function(a,b){return{edge:a,side:b,vertex:null,l:null,r:null}},insert:function(a,b){b.l=a,b.r=a.r,a.r.l=b,a.r=b},leftBound:function(a){var b=n.leftEnd;do b=b.r;while(b!=n.rightEnd&&r.rightOf(b,a));return b=b.l,b},del:function(a){a.l.r=a.r,a.r.l=a.l,a.edge=null},right:function(a){return a.r},left:function(a){return a.l},leftRegion:function(a){return null==a.edge?q.bottomSite:a.edge.region[a.side]},rightRegion:function(a){return null==a.edge?q.bottomSite:a.edge.region[Le[a.side]]}},r={bisect:function(a,b){var c={region:{l:a,r:b},ep:{l:null,r:null}},d=b.x-a.x,f=b.y-a.y,g=0<d?d:-d,h=0<f?f:-f;return c.c=a.x*d+a.y*f+.5*(d*d+f*f),g>h?(c.a=1,c.b=f/d,c.c/=d):(c.b=1,c.a=d/f,c.c/=f),c},intersect:function(b,d){var e=b.edge,g=d.edge;if(!e||!g||e.region.r==g.region.r)return null;var h=e.a*g.b-e.b*g.a;if(1e-10>Math.abs(h))return null;var i,f,j=(e.c*g.b-g.c*e.b)/h,k=(g.c*e.a-e.c*g.a)/h,l=e.region.r,m=g.region.r;l.y<m.y||l.y==m.y&&l.x<m.x?(i=b,f=e):(i=d,f=g);var a=j>=f.region.r.x;return a&&"l"===i.side||!a&&"r"===i.side?null:{x:j,y:k}},rightOf:function(b,d){var e=b.edge,g=e.region.r,j=d.x>g.x;if(j&&"l"===b.side)return 1;if(!j&&"r"===b.side)return 0;if(1===e.a){var k=d.y-g.y,m=d.x-g.x,n=0,o=0;if(!j&&0>e.b||j&&0<=e.b?o=n=k>=e.b*m:(o=d.x+d.y*e.b>e.c,0>e.b&&(o=!o),o||(n=1)),!n){var q=g.x-e.region.l.x;o=e.b*(m*m-k*k)<q*k*(1+2*m/q+e.b*e.b),0>e.b&&(o=!o)}}else{var f=e.c-e.a*d.x,l=d.y-f,c=d.x-g.x,h=f-g.y;o=l*l>c*c+h*h}return"l"===b.side?o:!o},endPoint:function(a,b,c){a.ep[b]=c,a.ep[Le[b]]&&k(a)},distance:function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)}},w={list:[],insert:function(a,b,c){a.vertex=b,a.ystar=b.y+c;for(var d,e=0,f=w.list,g=f.length;e<g&&(d=f[e],!!(a.ystar>d.ystar||a.ystar==d.ystar&&b.x>d.vertex.x));e++);f.splice(e,0,a)},del:function(a){for(var b=0,c=w.list,d=c.length;b<d&&c[b]!=a;++b);c.splice(b,1)},empty:function(){return 0===w.list.length},nextEvent:function(a){for(var b=0,c=w.list,d=c.length;b<d;++b)if(c[b]==a)return c[b+1];return null},min:function(){var a=w.list[0];return{x:a.vertex.x,y:a.ystar}},extractMin:function(){return w.list.shift()}};n.init(),q.bottomSite=q.list.shift();for(var e,i,a,f,l,c,h,p,d,s,m,g,t,b=q.list.shift();;)if(w.empty()||(e=w.min()),b&&(w.empty()||b.y<e.y||b.y==e.y&&b.x<e.x))i=n.leftBound(b),a=n.right(i),h=n.rightRegion(i),g=r.bisect(h,b),c=n.createHalfEdge(g,"l"),n.insert(i,c),s=r.intersect(i,c),s&&(w.del(i),w.insert(i,s,r.distance(s,b))),i=c,c=n.createHalfEdge(g,"r"),n.insert(i,c),s=r.intersect(c,a),s&&w.insert(c,s,r.distance(s,b)),b=q.list.shift();else{if(!!w.empty())break;i=w.extractMin(),f=n.left(i),a=n.right(i),l=n.right(a),h=n.leftRegion(i),p=n.rightRegion(a),m=i.vertex,r.endPoint(i.edge,i.side,m),r.endPoint(a.edge,a.side,m),n.del(i),w.del(a),n.del(a),t="l",h.y>p.y&&(d=h,h=p,p=d,t="r"),g=r.bisect(h,p),c=n.createHalfEdge(g,t),n.insert(f,c),r.endPoint(g,Le[t],m),s=r.intersect(f,c),s&&(w.del(f),w.insert(f,s,r.distance(s,h))),s=r.intersect(c,l),s&&w.insert(c,s,r.distance(s,h))}for(i=n.right(n.leftEnd);i!=n.rightEnd;i=n.right(i))k(i.edge)}function Tc(){return{leaf:!0,nodes:[],point:null}}function Uc(b,c,d,e,f,g){if(!b(c,d,e,f,g)){var h=.5*(d+f),i=.5*(e+g),j=c.nodes;j[0]&&Uc(b,j[0],d,e,h,i),j[1]&&Uc(b,j[1],h,e,f,i),j[2]&&Uc(b,j[2],d,i,h,g),j[3]&&Uc(b,j[3],h,i,f,g)}}function Vc(a){return{x:a[0],y:a[1]}}function Wc(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function Xc(a){return a.substring(0,3)}function Yc(b,c,d,e){for(var f,g,h=0,i=c.length,j=d.length;h<i;){if(e>=j)return-1;if(f=c.charCodeAt(h++),37==f){if(g=cf[c.charAt(h++)],!g||0>(e=g(b,d,e)))return-1;}else if(f!=d.charCodeAt(e++))return-1}return e}function Zc(a){return new RegExp("^(?:"+a.map(d3.requote).join("|")+")","i")}function $c(a){for(var b=new A,c=-1,d=a.length;++c<d;)b.set(a[c].toLowerCase(),c);return b}function _c(a){return a+(68<a?1900:2e3)}function ad(a,b,c){df.lastIndex=0;var d=df.exec(b.substring(c,c+2));return d?(a.d=+d[0],c+=d[0].length):-1}function bd(a,b,c){df.lastIndex=0;var d=df.exec(b.substring(c,c+2));return d?(a.H=+d[0],c+=d[0].length):-1}function cd(a){return a.toISOString()}function dd(b,c,d){function e(a){var c=b(a),d=g(c,1);return a-c<d-a?c:d}function f(a){return c(a=b(new Me(a-1)),1),a}function g(a,b){return c(a=new Me(+a),b),a}function h(a,b,e){var g=f(a),h=[];if(1<e)for(;g<b;)d(g)%e||h.push(new Date(+g)),c(g,1);else for(;g<b;)h.push(new Date(+g)),c(g,1);return h}b.floor=b,b.round=e,b.ceil=f,b.offset=g,b.range=h;var i=b.utc=ed(b);return i.floor=i,i.round=ed(e),i.ceil=ed(f),i.offset=ed(g),i.range=function(a,b,c){try{Me=Wc;var d=new Wc;return d._=a,h(d,b,c)}finally{Me=Date}},b}function ed(a){return function(b,c){try{Me=Wc;var d=new Wc;return d._=b,a(d,c)._}finally{Me=Date}}}function fd(b,c,a){function d(a){return b(a)}return d.invert=function(a){return hd(b.invert(a))},d.domain=function(a){return arguments.length?(b.domain(a),d):b.domain().map(hd)},d.nice=function(a){return d.domain(Ja(d.domain(),function(){return a}))},d.ticks=function(e,f){var g=gd(d.domain());if("function"!=typeof e){var h=g[1]-g[0],i=h/e,j=d3.bisect(gf,i);if(j==gf.length)return c.year(g,e);if(!j)return b.ticks(e).map(hd);Math.log(i/gf[j-1])<Math.log(gf[j]/i)&&--j,e=c[j],f=e[1],e=e[0].range}return e(g[0],new Date(+g[1]+1),f)},d.tickFormat=function(){return a},d.copy=function(){return fd(b.copy(),c,a)},d3.rebind(d,b,"range","rangeRound","interpolate","clamp")}function gd(a){var b=a[0],c=a[a.length-1];return b<c?[b,c]:[c,b]}function hd(a){return new Date(a)}function id(a){return function(b){for(var c=a.length-1,d=a[c];!d[1](b);)d=a[--c];return d[0](b)}}function jd(a){var b=new Date(a,0,1);return b.setFullYear(a),b}function kd(a){var b=a.getFullYear(),c=jd(b),d=jd(b+1);return b+(a-c)/(d-c)}function ld(a){var b=new Date(Date.UTC(a,0,1));return b.setUTCFullYear(a),b}function md(a){var b=a.getUTCFullYear(),c=ld(b),d=ld(b+1);return b+(a-c)/(d-c)}Date.now||(Date.now=function(){return+new Date});try{document.createElement("div").style.setProperty("opacity",0,"")}catch(a){var nd=CSSStyleDeclaration.prototype,od=nd.setProperty;nd.setProperty=function(a,b,c){od.call(this,a,b+"",c)}}b.exports=d3={version:"2.10.3"};var pd=function(a){return Array.prototype.slice.call(a)};try{pd(document.documentElement.childNodes)[0].nodeType}catch(a){pd=e}var qd=[].__proto__?function(a,b){a.__proto__=b}:function(a,b){for(var c in b)a[c]=b[c]};d3.map=function(a){var b=new A;for(var c in a)b.set(c,a[c]);return b},n(A,{has:function(a){return rd+a in this},get:function(a){return this[rd+a]},set:function(a,b){return this[rd+a]=b},remove:function(a){return a=rd+a,a in this&&delete this[a]},keys:function(){var a=[];return this.forEach(function(b){a.push(b)}),a},values:function(){var a=[];return this.forEach(function(b,c){a.push(c)}),a},entries:function(){var a=[];return this.forEach(function(b,c){a.push({key:b,value:c})}),a},forEach:function(a){for(var b in this)b.charCodeAt(0)===sd&&a.call(this,b.substring(1),this[b])}});var rd="\0",sd=rd.charCodeAt(0);d3.functor=ba,d3.rebind=function(a,b){for(var c,d=1,e=arguments.length;++d<e;)a[c=arguments[d]]=o(a,b,b[c]);return a},d3.ascending=function(a,b){return a<b?-1:a>b?1:a>=b?0:NaN},d3.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN},d3.mean=function(a,b){var c,d=a.length,e=0,f=-1,g=0;if(1===arguments.length)for(;++f<d;)u(c=a[f])&&(e+=(c-e)/++g);else for(;++f<d;)u(c=b.call(a,a[f],f))&&(e+=(c-e)/++g);return g?e:void 0},d3.median=function(a,b){return 1<arguments.length&&(a=a.map(b)),a=a.filter(u),a.length?d3.quantile(a.sort(d3.ascending),.5):void 0},d3.min=function(a,b){var c,d,e=-1,f=a.length;if(1===arguments.length){for(;++e<f&&(null==(c=a[e])||c!=c);)c=void 0;for(;++e<f;)null!=(d=a[e])&&c>d&&(c=d)}else{for(;++e<f&&(null==(c=b.call(a,a[e],e))||c!=c);)c=void 0;for(;++e<f;)null!=(d=b.call(a,a[e],e))&&c>d&&(c=d)}return c},d3.max=function(a,b){var c,d,e=-1,f=a.length;if(1===arguments.length){for(;++e<f&&(null==(c=a[e])||c!=c);)c=void 0;for(;++e<f;)null!=(d=a[e])&&d>c&&(c=d)}else{for(;++e<f&&(null==(c=b.call(a,a[e],e))||c!=c);)c=void 0;for(;++e<f;)null!=(d=b.call(a,a[e],e))&&d>c&&(c=d)}return c},d3.extent=function(a,b){var c,d,e,f=-1,g=a.length;if(1===arguments.length){for(;++f<g&&(null==(c=e=a[f])||c!=c);)c=e=void 0;for(;++f<g;)null!=(d=a[f])&&(c>d&&(c=d),e<d&&(e=d))}else{for(;++f<g&&(null==(c=e=b.call(a,a[f],f))||c!=c);)c=void 0;for(;++f<g;)null!=(d=b.call(a,a[f],f))&&(c>d&&(c=d),e<d&&(e=d))}return[c,e]},d3.random={normal:function(a,b){var c=arguments.length;return 2>c&&(b=1),1>c&&(a=0),function(){var c,d,e;do c=2*Math.random()-1,d=2*Math.random()-1,e=c*c+d*d;while(!e||1<e);return a+b*c*Math.sqrt(-2*Math.log(e)/e)}},logNormal:function(a,b){var c=arguments.length;2>c&&(b=1),1>c&&(a=0);var d=d3.random.normal();return function(){return Math.exp(a+b*d())}},irwinHall:function(a){return function(){for(var b=0,c=0;c<a;c++)b+=Math.random();return b/a}}},d3.sum=function(a,b){var c,d=0,e=a.length,f=-1;if(1===arguments.length)for(;++f<e;)isNaN(c=+a[f])||(d+=c);else for(;++f<e;)isNaN(c=+b.call(a,a[f],f))||(d+=c);return d},d3.quantile=function(a,b){var c=(a.length-1)*b+1,d=Math.floor(c),e=a[d-1],f=c-d;return f?e+f*(a[d]-e):e},d3.transpose=function(a){return d3.zip.apply(d3,a)},d3.zip=function(){if(!(d=arguments.length))return[];for(var a=-1,b=d3.min(arguments,f),c=Array(b);++a<b;)for(var d,e=-1,g=c[a]=Array(d);++e<d;)g[e]=arguments[e][a];return c},d3.bisector=function(a){return{left:function(b,c,d,e){for(3>arguments.length&&(d=0),4>arguments.length&&(e=b.length);d<e;){var f=d+e>>>1;a.call(b,b[f],f)<c?d=f+1:e=f}return d},right:function(b,c,d,e){for(3>arguments.length&&(d=0),4>arguments.length&&(e=b.length);d<e;){var f=d+e>>>1;c<a.call(b,b[f],f)?e=f:d=f+1}return d}}};var td=d3.bisector(function(a){return a});d3.bisectLeft=td.left,d3.bisect=d3.bisectRight=td.right,d3.first=function(a,b){var c,d=0,e=a.length,f=a[0];for(1===arguments.length&&(b=d3.ascending);++d<e;)0<b.call(a,f,c=a[d])&&(f=c);return f},d3.last=function(a,b){var c,d=0,e=a.length,f=a[0];for(1===arguments.length&&(b=d3.ascending);++d<e;)0>=b.call(a,f,c=a[d])&&(f=c);return f},d3.nest=function(){function a(b,e){if(e>=m.length)return j?j.call(k,b):g?b.sort(g):b;for(var i,c,h,d=-1,n=b.length,f=m[e++],l=new A,o={};++d<n;)(h=l.get(i=f(c=b[d])))?h.push(c):l.set(i,[c]);return l.forEach(function(b,c){o[b]=a(c,e)}),o}function b(a,d){if(d>=m.length)return a;var e,f=[],g=c[d++];for(e in a)f.push({key:e,values:b(a[e],d)});return g&&f.sort(function(a,b){return g(a.key,b.key)}),f}var g,j,k={},m=[],c=[];return k.map=function(b){return a(b,0)},k.entries=function(c){return b(a(c,0),0)},k.key=function(a){return m.push(a),k},k.sortKeys=function(a){return c[m.length-1]=a,k},k.sortValues=function(a){return g=a,k},k.rollup=function(a){return j=a,k},k},d3.keys=function(a){var b=[];for(var c in a)b.push(c);return b},d3.values=function(a){var b=[];for(var c in a)b.push(a[c]);return b},d3.entries=function(a){var b=[];for(var c in a)b.push({key:c,value:a[c]});return b},d3.permute=function(a,b){for(var c=[],d=-1,e=b.length;++d<e;)c[d]=a[b[d]];return c},d3.merge=function(a){return Array.prototype.concat.apply([],a)},d3.split=function(a,b){var c,d=[],e=[],f=-1,g=a.length;for(2>arguments.length&&(b=l);++f<g;)b.call(e,c=a[f],f)?e=[]:(e.length||d.push(e),e.push(c));return d},d3.range=function(a,b,c){if(3>arguments.length&&(c=1,2>arguments.length&&(b=a,a=0)),(b-a)/c===Infinity)throw new Error("infinite range");var d,e=[],f=h(Math.abs(c)),g=-1;if(a*=f,b*=f,c*=f,0>c)for(;(d=a+c*++g)>b;)e.push(d/f);else for(;(d=a+c*++g)<b;)e.push(d/f);return e},d3.requote=function(a){return a.replace(ud,"\\$&")};var ud=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;d3.round=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)},d3.xhr=function(a,b,c){var d=new XMLHttpRequest;3>arguments.length?(c=b,b=null):b&&d.overrideMimeType&&d.overrideMimeType(b),d.open("GET",a,!0),b&&d.setRequestHeader("Accept",b),d.onreadystatechange=function(){if(4===d.readyState){var a=d.status;c(!a&&d.response||200<=a&&300>a||304===a?d:null)}},d.send(null)},d3.text=function(a,b,c){3>arguments.length&&(c=b,b=null),d3.xhr(a,b,function(a){c(a&&a.responseText)})},d3.json=function(a,b){d3.text(a,"application/json",function(a){b(a?JSON.parse(a):null)})},d3.html=function(a,b){d3.text(a,"text/html",function(a){if(null!=a){var c=document.createRange();c.selectNode(document.body),a=c.createContextualFragment(a)}b(a)})},d3.xml=function(a,b,c){3>arguments.length&&(c=b,b=null),d3.xhr(a,b,function(a){c(a&&a.responseXML)})};var vd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};d3.ns={prefix:vd,qualify:function(a){var b=a.indexOf(":"),c=a;return 0<=b&&(c=a.substring(0,b),a=a.substring(b+1)),vd.hasOwnProperty(c)?{space:vd[c],local:a}:a}},d3.dispatch=function(){for(var a=new p,b=-1,c=arguments.length;++b<c;)a[arguments[b]]=d(a);return a},p.prototype.on=function(a,b){var c=a.indexOf("."),d="";return 0<c&&(d=a.substring(c+1),a=a.substring(0,c)),2>arguments.length?this[a].on(d):this[a].on(d,b)},d3.format=function(b){var d=wd.exec(b),h=d[1]||" ",j=d[3]||"",k=d[5],i=+d[6],n=d[7],o=d[8],q=d[9],a=1,f="",l=!1;return o&&(o=+o.substring(1)),k&&(h="0",n&&(i-=Math.floor((i-1)/4))),("n"===q?(n=!0,q="g"):"%"===q?(a=100,f="%",q="f"):"p"===q?(a=100,f="%",q="r"):"d"===q?(l=!0,o=0):"s"===q?(a=-1,q="r"):void 0,"r"==q&&!o&&(q="g"),q=xd.get(q)||m,function(b){if(l&&b%1)return"";var c=0>b&&(b=-b)?"-":j;if(0>a){var d=d3.formatPrefix(b,o);b=d.scale(b),f=d.symbol}else b*=a;if(b=q(b,o),k){var m=b.length+c.length;m<i&&(b=Array(i-m+1).join(h)+b),n&&(b=g(b)),b=c+b}else{n&&(b=g(b)),b=c+b;var m=b.length;m<i&&(b=Array(i-m+1).join(h)+b)}return b+f})};var wd=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,xd=d3.map({g:function(a,b){return a.toPrecision(b)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(a,b){return d3.round(a,b=r(a,b)).toFixed(Math.max(0,Math.min(20,b)))}}),yd=["y","z","a","f","p","n","\u03BC","m","","k","M","G","T","P","E","Z","Y"].map(function(a,b){var c=Math.pow(10,3*Math.abs(8-b));return{scale:8<b?function(a){return a/c}:function(a){return a*c},symbol:a}});d3.formatPrefix=function(a,b){var c=0;return a&&(0>a&&(a*=-1),b&&(a=d3.round(a,r(a,b))),c=1+Math.floor(1e-12+Math.log(a)/Math.LN10),c=Math.max(-24,Math.min(24,3*Math.floor((0>=c?c+1:c-1)/3)))),yd[8+c/3]};var zd=y(2),Ad=y(3),Bd=function(){return w},Cd=d3.map({linear:Bd,poly:y,quad:function(){return zd},cubic:function(){return Ad},sin:function(){return ca},exp:function(){return N},circle:function(){return C},elastic:function(a,b){var c;return 2>arguments.length&&(b=.45),1>arguments.length?(a=1,c=b/4):c=b/(2*Math.PI)*Math.asin(1/a),function(d){return 1+a*Math.pow(2,10*-d)*Math.sin(2*(d-c)*Math.PI/b)}},back:function(a){return a||(a=1.70158),function(b){return b*b*((a+1)*b-a)}},bounce:function(){return k}}),Dd=d3.map({in:w,out:t,"in-out":v,"out-in":function(a){return v(t(a))}});d3.ease=function(a){var b=a.indexOf("-"),c=0<=b?a.substring(0,b):a,d=0<=b?a.substring(b+1):"in";return c=Cd.get(c)||Bd,d=Dd.get(d)||w,s(d(c.apply(null,Array.prototype.slice.call(arguments,1))))},d3.event=null,d3.transform=function(a){var b=document.createElementNS(d3.ns.prefix.svg,"g");return(d3.transform=function(a){b.setAttribute("transform",a);var c=b.transform.baseVal.consolidate();return new D(c?c.matrix:Fd)})(a)},D.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Ed=180/Math.PI,Fd={a:1,b:0,c:0,d:1,e:0,f:0};d3.interpolate=function(a,b){for(var c,d=d3.interpolators.length;0<=--d&&!(c=d3.interpolators[d](a,b)););return c},d3.interpolateNumber=function(a,b){return b-=a,function(c){return a+b*c}},d3.interpolateRound=function(a,b){return b-=a,function(c){return Math.round(a+b*c)}},d3.interpolateString=function(b,c){var d,g,e,h,f,i=0,j=0,k=[],l=[];for(Gd.lastIndex=0,g=0;d=Gd.exec(c);++g)d.index&&k.push(c.substring(i,j=d.index)),l.push({i:k.length,x:d[0]}),k.push(null),i=Gd.lastIndex;for(i<c.length&&k.push(c.substring(i)),g=0,h=l.length;(d=Gd.exec(b))&&g<h;++g)if(f=l[g],f.x==d[0]){if(f.i){if(null==k[f.i+1])for(k[f.i-1]+=f.x,k.splice(f.i,1),e=g+1;e<h;++e)l[e].i--;else for(k[f.i-1]+=f.x+k[f.i+1],k.splice(f.i,2),e=g+1;e<h;++e)l[e].i-=2;}else if(null==k[f.i+1])k[f.i]=f.x;else for(k[f.i]=f.x+k[f.i+1],k.splice(f.i+1,1),e=g+1;e<h;++e)l[e].i--;l.splice(g,1),h--,g--}else f.x=d3.interpolateNumber(parseFloat(d[0]),parseFloat(f.x));for(;g<h;)f=l.pop(),null==k[f.i+1]?k[f.i]=f.x:(k[f.i]=f.x+k[f.i+1],k.splice(f.i+1,1)),h--;return 1===k.length?null==k[0]?l[0].x:function(){return c}:function(a){for(g=0;g<h;++g)k[(f=l[g]).i]=f.x(a);return k.join("")}},d3.interpolateTransform=function(b,e){var g,i=[],j=[],k=d3.transform(b),m=d3.transform(e),n=k.translate,o=m.translate,a=k.rotate,f=m.rotate,l=k.skew,c=m.skew,h=k.scale,p=m.scale;return n[0]!=o[0]||n[1]!=o[1]?(i.push("translate(",null,",",null,")"),j.push({i:1,x:d3.interpolateNumber(n[0],o[0])},{i:3,x:d3.interpolateNumber(n[1],o[1])})):o[0]||o[1]?i.push("translate("+o+")"):i.push(""),a==f?f&&i.push(i.pop()+"rotate("+f+")"):(180<a-f?f+=360:180<f-a&&(a+=360),j.push({i:i.push(i.pop()+"rotate(",null,")")-2,x:d3.interpolateNumber(a,f)})),l==c?c&&i.push(i.pop()+"skewX("+c+")"):j.push({i:i.push(i.pop()+"skewX(",null,")")-2,x:d3.interpolateNumber(l,c)}),h[0]!=p[0]||h[1]!=p[1]?(g=i.push(i.pop()+"scale(",null,",",null,")"),j.push({i:g-4,x:d3.interpolateNumber(h[0],p[0])},{i:g-2,x:d3.interpolateNumber(h[1],p[1])})):(1!=p[0]||1!=p[1])&&i.push(i.pop()+"scale("+p+")"),g=j.length,function(a){for(var b,c=-1;++c<g;)i[(b=j[c]).i]=b.x(a);return i.join("")}},d3.interpolateRgb=function(a,b){a=d3.rgb(a),b=d3.rgb(b);var c=a.r,d=a.g,f=a.b,g=b.r-c,h=b.g-d,i=b.b-f;return function(a){return"#"+z(Math.round(c+g*a))+z(Math.round(d+h*a))+z(Math.round(f+i*a))}},d3.interpolateHsl=function(a,b){a=d3.hsl(a),b=d3.hsl(b);var c=a.h,d=a.s,f=a.l,g=b.h-c,h=b.s-d,i=b.l-f;return 180<g?g-=360:-180>g&&(g+=360),function(a){return G(c+g*a,d+h*a,f+i*a)+""}},d3.interpolateLab=function(a,b){a=d3.lab(a),b=d3.lab(b);var c=a.l,d=a.a,f=a.b,g=b.l-c,h=b.a-d,i=b.b-f;return function(a){return ga(c+g*a,d+h*a,f+i*a)+""}},d3.interpolateHcl=function(a,b){a=d3.hcl(a),b=d3.hcl(b);var c=a.h,d=a.c,f=a.l,g=b.h-c,h=b.c-d,i=b.l-f;return 180<g?g-=360:-180>g&&(g+=360),function(a){return da(c+g*a,d+h*a,f+i*a)+""}},d3.interpolateArray=function(a,b){var c,d=[],f=[],e=a.length,g=b.length,h=Math.min(a.length,b.length);for(c=0;c<h;++c)d.push(d3.interpolate(a[c],b[c]));for(;c<e;++c)f[c]=a[c];for(;c<g;++c)f[c]=b[c];return function(a){for(c=0;c<h;++c)f[c]=d[c](a);return f}},d3.interpolateObject=function(a,b){var c,d={},f={};for(c in a)c in b?d[c]=j(c)(a[c],b[c]):f[c]=a[c];for(c in b)c in a||(f[c]=b[c]);return function(a){for(c in d)f[c]=d[c](a);return f}};var Gd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;d3.interpolators=[d3.interpolateObject,function(a,b){return b instanceof Array&&d3.interpolateArray(a,b)},function(a,b){return("string"==typeof a||"string"==typeof b)&&d3.interpolateString(a+"",b+"")},function(a,b){return("string"==typeof b?Id.has(b)||/^(#|rgb\(|hsl\()/.test(b):b instanceof q)&&d3.interpolateRgb(a,b)},function(a,b){return!isNaN(a=+a)&&!isNaN(b=+b)&&d3.interpolateNumber(a,b)}],q.prototype.toString=function(){return this.rgb()+""},d3.rgb=function(a,b,c){return 1===arguments.length?a instanceof U?R(a.r,a.g,a.b):W(""+a,R,G):R(~~a,~~b,~~c)};var Hd=U.prototype=new q;Hd.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);var b=this.r,c=this.g,d=this.b,e=30;return b||c||d?(b&&b<e&&(b=e),c&&c<e&&(c=e),d&&d<e&&(d=e),R(Math.min(255,Math.floor(b/a)),Math.min(255,Math.floor(c/a)),Math.min(255,Math.floor(d/a)))):R(e,e,e)},Hd.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),R(Math.floor(a*this.r),Math.floor(a*this.g),Math.floor(a*this.b))},Hd.hsl=function(){return X(this.r,this.g,this.b)},Hd.toString=function(){return"#"+z(this.r)+z(this.g)+z(this.b)};var Id=d3.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});Id.forEach(function(a,b){Id.set(a,W(b,R,G))}),d3.hsl=function(a,b,c){return 1===arguments.length?a instanceof Q?K(a.h,a.s,a.l):W(""+a,X,K):K(+a,+b,+c)};var Jd=Q.prototype=new q;Jd.brighter=function(a){return a=Math.pow(.7,arguments.length?a:1),K(this.h,this.s,this.l/a)},Jd.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),K(this.h,this.s,a*this.l)},Jd.rgb=function(){return G(this.h,this.s,this.l)},d3.hcl=function(a,b,c){return 1===arguments.length?a instanceof Z?Y(a.h,a.c,a.l):a instanceof fa?ha(a.l,a.a,a.b):ha((a=V((a=d3.rgb(a)).r,a.g,a.b)).l,a.a,a.b):Y(+a,+b,+c)};var Kd=Z.prototype=new q;Kd.brighter=function(a){return Y(this.h,this.c,Math.min(100,this.l+Ld*(arguments.length?a:1)))},Kd.darker=function(a){return Y(this.h,this.c,Math.max(0,this.l-Ld*(arguments.length?a:1)))},Kd.rgb=function(){return da(this.h,this.c,this.l).rgb()},d3.lab=function(a,b,c){return 1===arguments.length?a instanceof fa?ea(a.l,a.a,a.b):a instanceof Z?da(a.l,a.c,a.h):V((a=d3.rgb(a)).r,a.g,a.b):ea(+a,+b,+c)};var Ld=18,Md=.95047,Nd=1,Od=1.08883,Pd=fa.prototype=new q;Pd.brighter=function(a){return ea(Math.min(100,this.l+Ld*(arguments.length?a:1)),this.a,this.b)},Pd.darker=function(a){return ea(Math.max(0,this.l-Ld*(arguments.length?a:1)),this.a,this.b)},Pd.rgb=function(){return ga(this.l,this.a,this.b)};var Qd=function(a,b){return b.querySelector(a)},Rd=function(a,b){return b.querySelectorAll(a)},Sd=document.documentElement,Td=Sd.matchesSelector||Sd.webkitMatchesSelector||Sd.mozMatchesSelector||Sd.msMatchesSelector||Sd.oMatchesSelector,Ud=function(a,b){return Td.call(a,b)};"function"==typeof Sizzle&&(Qd=function(a,b){return Sizzle(a,b)[0]||null},Rd=function(a,b){return Sizzle.uniqueSort(Sizzle(a,b))},Ud=Sizzle.matchesSelector);var Vd=[];d3.selection=function(){return Wd},d3.selection.prototype=Vd,Vd.select=function(b){var c,d,g,h,i=[];"function"!=typeof b&&(b=ma(b));for(var j=-1,k=this.length;++j<k;){i.push(c=[]),c.parentNode=(g=this[j]).parentNode;for(var l=-1,a=g.length;++l<a;)(h=g[l])?(c.push(d=b.call(h,h.__data__,l)),d&&"__data__"in h&&(d.__data__=h.__data__)):c.push(null)}return la(i)},Vd.selectAll=function(b){var c,d,f=[];"function"!=typeof b&&(b=na(b));for(var g=-1,h=this.length;++g<h;)for(var i=this[g],j=-1,k=i.length;++j<k;)(d=i[j])&&(f.push(c=pd(b.call(d,d.__data__,j))),c.parentNode=d);return la(f)},Vd.attr=function(a,b){if(2>arguments.length){if("string"==typeof a){var c=this.node();return a=d3.ns.qualify(a),a.local?c.getAttributeNS(a.space,a.local):c.getAttribute(a)}for(b in a)this.each(oa(b,a[b]));return this}return this.each(oa(a,b))},Vd.classed=function(a,b){if(2>arguments.length){if("string"==typeof a){var c=this.node(),d=(a=a.trim().split(/^|\s+/g)).length,f=-1;if(b=c.classList){for(;++f<d;)if(!b.contains(a[f]))return!1;}else for(b=c.className,null!=b.baseVal&&(b=b.baseVal);++f<d;)if(!pa(a[f]).test(b))return!1;return!0}for(b in a)this.each(qa(b,a[b]));return this}return this.each(qa(a,b))},Vd.style=function(a,b,c){var d=arguments.length;if(3>d){if("string"!=typeof a){for(c in 2>d&&(b=""),a)this.each(sa(c,a[c],b));return this}if(2>d)return window.getComputedStyle(this.node(),null).getPropertyValue(a);c=""}return this.each(sa(a,b,c))},Vd.property=function(a,b){if(2>arguments.length){if("string"==typeof a)return this.node()[a];for(b in a)this.each(ta(b,a[b]));return this}return this.each(ta(a,b))},Vd.text=function(a){return 1>arguments.length?this.node().textContent:this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}:null==a?function(){this.textContent=""}:function(){this.textContent=a})},Vd.html=function(a){return 1>arguments.length?this.node().innerHTML:this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}:null==a?function(){this.innerHTML=""}:function(){this.innerHTML=a})},Vd.append=function(a){return a=d3.ns.qualify(a),this.select(a.local?function(){return this.appendChild(document.createElementNS(a.space,a.local))}:function(){return this.appendChild(document.createElementNS(this.namespaceURI,a))})},Vd.insert=function(a,b){return a=d3.ns.qualify(a),this.select(a.local?function(){return this.insertBefore(document.createElementNS(a.space,a.local),Qd(b,this))}:function(){return this.insertBefore(document.createElementNS(this.namespaceURI,a),Qd(b,this))})},Vd.remove=function(){return this.each(function(){var a=this.parentNode;a&&a.removeChild(this)})},Vd.data=function(b,j){function c(l,e){var q,i,r,m=l.length,s=e.length,o=Math.min(m,s),t=Math.max(m,s),c=[],h=[],p=[];if(j){var d,b=new A,g=[],u=e.length;for(q=-1;++q<m;)d=j.call(i=l[q],i.__data__,q),b.has(d)?p[u++]=i:b.set(d,i),g.push(d);for(q=-1;++q<s;)d=j.call(e,r=e[q],q),b.has(d)?(c[q]=i=b.get(d),i.__data__=r,h[q]=p[q]=null):(h[q]=ua(r),c[q]=p[q]=null),b.remove(d);for(q=-1;++q<m;)b.has(g[q])&&(p[q]=l[q])}else{for(q=-1;++q<o;)i=l[q],r=e[q],i?(i.__data__=r,c[q]=i,h[q]=p[q]=null):(h[q]=ua(r),c[q]=p[q]=null);for(;q<s;++q)h[q]=ua(e[q]),c[q]=p[q]=null;for(;q<t;++q)p[q]=l[q],h[q]=c[q]=null}h.update=c,h.parentNode=c.parentNode=p.parentNode=l.parentNode,k.push(h),a.push(c),f.push(p)}var d,g,h=-1,i=this.length;if(!arguments.length){for(b=Array(i=(d=this[0]).length);++h<i;)(g=d[h])&&(b[h]=g.__data__);return b}var k=za([]),a=la([]),f=la([]);if("function"==typeof b)for(;++h<i;)c(d=this[h],b.call(d,d.parentNode.__data__,h));else for(;++h<i;)c(d=this[h],b);return a.enter=function(){return k},a.exit=function(){return f},a},Vd.datum=Vd.map=function(a){return 1>arguments.length?this.property("__data__"):this.property("__data__",a)},Vd.filter=function(b){var c,d,f,g=[];"function"!=typeof b&&(b=va(b));for(var h=0,i=this.length;h<i;h++){g.push(c=[]),c.parentNode=(d=this[h]).parentNode;for(var j=0,k=d.length;j<k;j++)(f=d[j])&&b.call(f,f.__data__,j)&&c.push(f)}return la(g)},Vd.order=function(){for(var a=-1,b=this.length;++a<b;)for(var c,d=this[a],e=d.length-1,f=d[e];0<=--e;)(c=d[e])&&(f&&f!==c.nextSibling&&f.parentNode.insertBefore(c,f),f=c);return this},Vd.sort=function(a){a=wa.apply(this,arguments);for(var b=-1,c=this.length;++b<c;)this[b].sort(a);return this.order()},Vd.on=function(a,b,c){var d=arguments.length;if(3>d){if("string"!=typeof a){for(c in 2>d&&(b=!1),a)this.each(xa(c,a[c],b));return this}if(2>d)return(d=this.node()["__on"+a])&&d._;c=!1}return this.each(xa(a,b,c))},Vd.each=function(a){return ya(this,function(b,c,d){a.call(b,b.__data__,c,d)})},Vd.call=function(a){return a.apply(this,(arguments[0]=this,arguments)),this},Vd.empty=function(){return!this.node()},Vd.node=function(){for(var a=0,b=this.length;a<b;a++)for(var c,d=this[a],e=0,f=d.length;e<f;e++)if(c=d[e],c)return c;return null},Vd.transition=function(){for(var a,b,c=[],d=-1,e=this.length;++d<e;){c.push(a=[]);for(var f=this[d],g=-1,h=f.length;++g<h;)a.push((b=f[g])?{node:b,delay:ae,duration:be}:null)}return Aa(c,$d||++Zd,Date.now())};var Wd=la([[document]]);Wd[0].parentNode=Sd,d3.select=function(a){return"string"==typeof a?Wd.select(a):la([[a]])},d3.selectAll=function(a){return"string"==typeof a?Wd.selectAll(a):la([pd(a)])};var Xd=[];d3.selection.enter=za,d3.selection.enter.prototype=Xd,Xd.append=Vd.append,Xd.insert=Vd.insert,Xd.empty=Vd.empty,Xd.node=Vd.node,Xd.select=function(b){for(var c,d,e,g,h,i=[],j=-1,k=this.length;++j<k;){e=(g=this[j]).update,i.push(c=[]),c.parentNode=g.parentNode;for(var a=-1,f=g.length;++a<f;)(h=g[a])?(c.push(e[a]=d=b.call(g.parentNode,h.__data__,a)),d.__data__=h.__data__):c.push(null)}return la(i)};var Yd=[],Zd=0,$d=0,_d=d3.ease("cubic-in-out"),ae=0,be=250,ce=_d;Yd.call=Vd.call,d3.transition=function(a){return arguments.length?$d?a.transition():a:Wd.transition()},d3.transition.prototype=Yd,Yd.select=function(b){var c,d,g,h=[];"function"!=typeof b&&(b=ma(b));for(var i=-1,j=this.length;++i<j;){h.push(c=[]);for(var k=this[i],l=-1,a=k.length;++l<a;)(g=k[l])&&(d=b.call(g.node,g.node.__data__,l))?("__data__"in g.node&&(d.__data__=g.node.__data__),c.push({node:d,delay:g.delay,duration:g.duration})):c.push(null)}return Aa(h,this.id,this.time).ease(this.ease())},Yd.selectAll=function(b){var d,g,h,i=[];"function"!=typeof b&&(b=na(b));for(var j=-1,k=this.length;++j<k;)for(var m=this[j],n=-1,a=m.length;++n<a;)if(h=m[n]){g=b.call(h.node,h.node.__data__,n),i.push(d=[]);for(var f=-1,l=g.length;++f<l;)d.push({node:g[f],delay:h.delay,duration:h.duration})}return Aa(i,this.id,this.time).ease(this.ease())},Yd.filter=function(b){var c,d,f,g=[];"function"!=typeof b&&(b=va(b));for(var h=0,i=this.length;h<i;h++){g.push(c=[]);for(var d=this[h],j=0,k=d.length;j<k;j++)(f=d[j])&&b.call(f.node,f.node.__data__,j)&&c.push(f)}return Aa(g,this.id,this.time).ease(this.ease())},Yd.attr=function(a,b){if(2>arguments.length){for(b in a)this.attrTween(b,Da(a[b],b));return this}return this.attrTween(a,Da(b,a))},Yd.attrTween=function(a,b){function c(a,c){var d=b.call(this,a,c,this.getAttribute(f));return d===fe?(this.removeAttribute(f),null):d&&function(a){this.setAttribute(f,d(a))}}function d(a,c){var d=b.call(this,a,c,this.getAttributeNS(f.space,f.local));return d===fe?(this.removeAttributeNS(f.space,f.local),null):d&&function(a){this.setAttributeNS(f.space,f.local,d(a))}}var f=d3.ns.qualify(a);return this.tween("attr."+a,f.local?d:c)},Yd.style=function(a,b,c){var d=arguments.length;if(3>d){if("string"!=typeof a){for(c in 2>d&&(b=""),a)this.styleTween(c,Da(a[c],c),b);return this}c=""}return this.styleTween(a,Da(b,a),c)},Yd.styleTween=function(a,b,c){return 3>arguments.length&&(c=""),this.tween("style."+a,function(d,e){var f=b.call(this,d,e,window.getComputedStyle(this,null).getPropertyValue(a));return f===fe?(this.style.removeProperty(a),null):f&&function(b){this.style.setProperty(a,f(b),c)}})},Yd.text=function(a){return this.tween("text",function(b,c){this.textContent="function"==typeof a?a.call(this,b,c):a})},Yd.remove=function(){return this.each("end.transition",function(){var a;!this.__transition__&&(a=this.parentNode)&&a.removeChild(this)})},Yd.delay=function(a){return ya(this,"function"==typeof a?function(b,c,d){b.delay=0|a.call(b=b.node,b.__data__,c,d)}:(a|=0,function(b){b.delay=a}))},Yd.duration=function(a){return ya(this,"function"==typeof a?function(b,c,d){b.duration=Math.max(1,0|a.call(b=b.node,b.__data__,c,d))}:(a=Math.max(1,0|a),function(b){b.duration=a}))},Yd.transition=function(){return this.select(i)},d3.tween=function(a,b){function c(c,d,e){var f=a.call(this,c,d);return null==f?""!=e&&fe:e!=f&&b(e,f+"")}function d(c,d,e){return e!=a&&b(e,a)}return"function"==typeof a?c:null==a?Ca:(a+="",d)};var de,ee,fe={},ge=0,he={},ie=null;d3.timer=function(a,b,c){if(3>arguments.length){if(2>arguments.length)b=0;else if(!isFinite(b))return;c=Date.now()}var d=he[a.id];d&&d.callback===a?(d.then=c,d.delay=b):he[a.id=++ge]=ie={callback:a,then:c,delay:b,next:ie},de||(ee=clearTimeout(ee),de=1,je(Ea))},d3.timer.flush=function(){for(var a,b=Date.now(),c=ie;c;)a=b-c.then,c.delay||(c.flush=c.callback(a)),c=c.next;Fa()};var je=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,17)};d3.mouse=function(a){return Ga(a,M())};var ke=/WebKit/.test(navigator.userAgent)?-1:0;d3.touches=function(a,b){return 2>arguments.length&&(b=M().touches),b?pd(b).map(function(b){var c=Ga(a,b);return c.identifier=b.identifier,c}):[]},d3.scale={},d3.scale.linear=function(){return La([0,1],[0,1],d3.interpolate,!1)},d3.scale.log=function(){return Ta(d3.scale.linear(),Ua)};var le=d3.format(".0e");Ua.pow=function(a){return Math.pow(10,a)},Va.pow=function(a){return-Math.pow(10,-a)},d3.scale.pow=function(){return Wa(d3.scale.linear(),1)},d3.scale.sqrt=function(){return d3.scale.pow().exponent(.5)},d3.scale.ordinal=function(){return Ya([],{t:"range",a:[[]]})},d3.scale.category10=function(){return d3.scale.ordinal().range(me)},d3.scale.category20=function(){return d3.scale.ordinal().range(ne)},d3.scale.category20b=function(){return d3.scale.ordinal().range(oe)},d3.scale.category20c=function(){return d3.scale.ordinal().range(pe)};var me=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],ne=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],oe=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],pe=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];d3.scale.quantile=function(){return Za([],[])},d3.scale.quantize=function(){return $a(0,1,[0,1])},d3.scale.threshold=function(){return _a([0.5],[0,1])},d3.scale.identity=function(){return ab([0,1])},d3.svg={},d3.svg.arc=function(){function a(){var i=b.apply(this,arguments),k=d.apply(this,arguments),m=g.apply(this,arguments)+qe,n=j.apply(this,arguments)+qe,o=(n<m&&(o=m,m=n,n=o),n-m),a=o<Math.PI?"0":"1",f=Math.cos(m),l=Math.sin(m),c=Math.cos(n),h=Math.sin(n);return o>=re?i?"M0,"+k+"A"+k+","+k+" 0 1,1 0,"+-k+"A"+k+","+k+" 0 1,1 0,"+k+"M0,"+i+"A"+i+","+i+" 0 1,0 0,"+-i+"A"+i+","+i+" 0 1,0 0,"+i+"Z":"M0,"+k+"A"+k+","+k+" 0 1,1 0,"+-k+"A"+k+","+k+" 0 1,1 0,"+k+"Z":i?"M"+k*f+","+k*l+"A"+k+","+k+" 0 "+a+",1 "+k*c+","+k*h+"L"+i*c+","+i*h+"A"+i+","+i+" 0 "+a+",0 "+i*f+","+i*l+"Z":"M"+k*f+","+k*l+"A"+k+","+k+" 0 "+a+",1 "+k*c+","+k*h+"L0,0Z"}var b=bb,d=cb,g=db,j=eb;return a.innerRadius=function(c){return arguments.length?(b=ba(c),a):b},a.outerRadius=function(b){return arguments.length?(d=ba(b),a):d},a.startAngle=function(b){return arguments.length?(g=ba(b),a):g},a.endAngle=function(b){return arguments.length?(j=ba(b),a):j},a.centroid=function(){var a=(b.apply(this,arguments)+d.apply(this,arguments))/2,c=(g.apply(this,arguments)+j.apply(this,arguments))/2+qe;return[Math.cos(c)*a,Math.sin(c)*a]},a};var qe=-Math.PI/2,re=2*Math.PI-1e-6;d3.svg.line=function(){return fb(L)};var se=d3.map({linear:ib,"linear-closed":function(a){return ib(a)+"Z"},"step-before":jb,"step-after":kb,basis:nb,"basis-open":function(a){if(4>a.length)return ib(a);for(var b,c=[],d=-1,e=a.length,f=[0],g=[0];3>++d;)b=a[d],f.push(b[0]),g.push(b[1]);for(c.push(ob(ve,f)+","+ob(ve,g)),--d;++d<e;)b=a[d],f.shift(),f.push(b[0]),g.shift(),g.push(b[1]),pb(c,f,g);return c.join("")},"basis-closed":function(a){for(var b,c,d=-1,e=a.length,f=e+4,g=[],h=[];4>++d;)c=a[d%e],g.push(c[0]),h.push(c[1]);for(b=[ob(ve,g),",",ob(ve,h)],--d;++d<f;)c=a[d%e],g.shift(),g.push(c[0]),h.shift(),h.push(c[1]),pb(b,g,h);return b.join("")},bundle:function(b,c){var d=b.length-1;if(d)for(var e,a,f=b[0][0],g=b[0][1],h=b[d][0]-f,i=b[d][1]-g,j=-1;++j<=d;)e=b[j],a=j/d,e[0]=c*e[0]+(1-c)*(f+a*h),e[1]=c*e[1]+(1-c)*(g+a*i);return nb(b)},cardinal:function(a,b){return 3>a.length?ib(a):a[0]+lb(a,mb(a,b))},"cardinal-open":function(a,b){return 4>a.length?ib(a):a[1]+lb(a.slice(1,a.length-1),mb(a,b))},"cardinal-closed":function(a,b){return 3>a.length?ib(a):a[0]+lb((a.push(a[0]),a),mb([a[a.length-2]].concat(a,[a[1]]),b))},monotone:function(a){return 3>a.length?ib(a):a[0]+lb(a,sb(a))}});se.forEach(function(a,b){b.key=a,b.closed=/-closed$/.test(a)});var te=[0,0.6666666666666666,0.3333333333333333,0],ue=[0,0.3333333333333333,0.6666666666666666,0],ve=[0,0.16666666666666666,0.6666666666666666,0.16666666666666666];d3.svg.line.radial=function(){var a=fb(tb);return a.radius=a.x,delete a.x,a.angle=a.y,delete a.y,a},jb.reverse=kb,kb.reverse=jb,d3.svg.area=function(){return ub(L)},d3.svg.area.radial=function(){var a=ub(tb);return a.radius=a.x,delete a.x,a.innerRadius=a.x0,delete a.x0,a.outerRadius=a.x1,delete a.x1,a.angle=a.y,delete a.y,a.startAngle=a.y0,delete a.y0,a.endAngle=a.y1,delete a.y1,a},d3.svg.chord=function(){function b(b,k){var l=c(this,i,b,k),a=c(this,j,b,k);return"M"+l.p0+g(l.r,l.p1,l.a1-l.a0)+(d(l,a)?h(l.r,l.p1,l.r,l.p0):h(l.r,l.p1,a.r,a.p0)+g(a.r,a.p1,a.a1-a.a0)+h(a.r,a.p1,l.r,l.p0))+"Z"}function c(b,c,d,e){var g=c.call(b,d,e),h=k.call(b,g,e),i=a.call(b,g,e)+qe,j=f.call(b,g,e)+qe;return{r:h,a0:i,a1:j,p0:[h*Math.cos(i),h*Math.sin(i)],p1:[h*Math.cos(j),h*Math.sin(j)]}}function d(a,b){return a.a0==b.a0&&a.a1==b.a1}function g(a,b,c){return"A"+a+","+a+" 0 "+ +(c>Math.PI)+",1 "+b}function h(a,b,c,d){return"Q 0,0 "+d}var i=vb,j=wb,k=xb,a=db,f=eb;return b.radius=function(a){return arguments.length?(k=ba(a),b):k},b.source=function(a){return arguments.length?(i=ba(a),b):i},b.target=function(a){return arguments.length?(j=ba(a),b):j},b.startAngle=function(c){return arguments.length?(a=ba(c),b):a},b.endAngle=function(a){return arguments.length?(f=ba(a),b):f},b},d3.svg.diagonal=function(){function a(f,g){var h=b.call(this,f,g),i=c.call(this,f,g),j=(h.y+i.y)/2,k=[h,{x:h.x,y:j},{x:i.x,y:j},i];return k=k.map(d),"M"+k[0]+"C"+k[1]+" "+k[2]+" "+k[3]}var b=vb,c=wb,d=yb;return a.source=function(c){return arguments.length?(b=ba(c),a):b},a.target=function(b){return arguments.length?(c=ba(b),a):c},a.projection=function(b){return arguments.length?(d=b,a):d},a},d3.svg.diagonal.radial=function(){var a=d3.svg.diagonal(),b=yb,c=a.projection;return a.projection=function(a){return arguments.length?c(zb(b=a)):b},a},d3.svg.mouse=d3.mouse,d3.svg.touches=d3.touches,d3.svg.symbol=function(){function a(a,d){return(we.get(b.call(this,a,d))||Cb)(c.call(this,a,d))}var b=Bb,c=Ab;return a.type=function(c){return arguments.length?(b=ba(c),a):b},a.size=function(b){return arguments.length?(c=ba(b),a):c},a};var we=d3.map({circle:Cb,cross:function(a){var b=Math.sqrt(a/5)/2;return"M"+-3*b+","+-b+"H"+-b+"V"+-3*b+"H"+b+"V"+-b+"H"+3*b+"V"+b+"H"+b+"V"+3*b+"H"+-b+"V"+b+"H"+-3*b+"Z"},diamond:function(a){var b=Math.sqrt(a/(2*ye)),c=b*ye;return"M0,"+-b+"L"+c+",0 0,"+b+" "+-c+",0Z"},square:function(a){var b=Math.sqrt(a)/2;return"M"+-b+","+-b+"L"+b+","+-b+" "+b+","+b+" "+-b+","+b+"Z"},"triangle-down":function(a){var b=Math.sqrt(a/xe),c=b*xe/2;return"M0,"+c+"L"+b+","+-c+" "+-b+","+-c+"Z"},"triangle-up":function(a){var b=Math.sqrt(a/xe),c=b*xe/2;return"M0,"+-c+"L"+b+","+c+" "+-b+","+c+"Z"}});d3.svg.symbolTypes=we.keys();var xe=Math.sqrt(3),ye=Math.tan(30*Math.PI/180);d3.svg.axis=function(){function b(b){b.each(function(){var l,t=d3.select(this),e=null==u?f.ticks?f.ticks.apply(f,o):f.domain():u,c=null==j?f.tickFormat?f.tickFormat.apply(f,o):String:j,h=Fb(f,e,a),p=t.selectAll(".minor").data(h,String),d=p.enter().insert("line","g").attr("class","tick minor").style("opacity",1e-6),v=d3.transition(p.exit()).style("opacity",1e-6).remove(),m=d3.transition(p).style("opacity",1),g=t.selectAll("g").data(e,String),y=g.enter().insert("g","path").style("opacity",1e-6),b=d3.transition(g.exit()).style("opacity",1e-6).remove(),w=d3.transition(g).style("opacity",1),E=Ia(f),x=t.selectAll(".domain").data([0]),G=x.enter().append("path").attr("class","domain"),I=d3.transition(x),C=f.copy(),k=this.__chart__||C;this.__chart__=C,y.append("line").attr("class","tick"),y.append("text");var J=y.select("line"),A=w.select("line"),K=g.select("text").text(c),L=y.select("text"),M=w.select("text");if("bottom"===q?(l=Db,d.attr("y2",B),m.attr("x2",0).attr("y2",B),J.attr("y2",z),L.attr("y",Math.max(z,0)+n),A.attr("x2",0).attr("y2",z),M.attr("x",0).attr("y",Math.max(z,0)+n),K.attr("dy",".71em").attr("text-anchor","middle"),I.attr("d","M"+E[0]+","+F+"V0H"+E[1]+"V"+F)):"top"===q?(l=Db,d.attr("y2",-B),m.attr("x2",0).attr("y2",-B),J.attr("y2",-z),L.attr("y",-(Math.max(z,0)+n)),A.attr("x2",0).attr("y2",-z),M.attr("x",0).attr("y",-(Math.max(z,0)+n)),K.attr("dy","0em").attr("text-anchor","middle"),I.attr("d","M"+E[0]+","+-F+"V0H"+E[1]+"V"+-F)):"left"===q?(l=Eb,d.attr("x2",-B),m.attr("x2",-B).attr("y2",0),J.attr("x2",-z),L.attr("x",-(Math.max(z,0)+n)),A.attr("x2",-z).attr("y2",0),M.attr("x",-(Math.max(z,0)+n)).attr("y",0),K.attr("dy",".32em").attr("text-anchor","end"),I.attr("d","M"+-F+","+E[0]+"H0V"+E[1]+"H"+-F)):"right"===q?(l=Eb,d.attr("x2",B),m.attr("x2",B).attr("y2",0),J.attr("x2",z),L.attr("x",Math.max(z,0)+n),A.attr("x2",z).attr("y2",0),M.attr("x",Math.max(z,0)+n).attr("y",0),K.attr("dy",".32em").attr("text-anchor","start"),I.attr("d","M"+F+","+E[0]+"H0V"+E[1]+"H"+F)):void 0,f.ticks)y.call(l,k),w.call(l,C),b.call(l,C),d.call(l,k),m.call(l,C),v.call(l,C);else{var D=C.rangeBand()/2,N=function(a){return C(a)+D};y.call(l,N),w.call(l,N)}})}var j,f=d3.scale.linear(),q="bottom",z=6,B=6,F=6,n=3,o=[10],u=null,a=0;return b.scale=function(a){return arguments.length?(f=a,b):f},b.orient=function(a){return arguments.length?(q=a,b):q},b.ticks=function(){return arguments.length?(o=arguments,b):o},b.tickValues=function(a){return arguments.length?(u=a,b):u},b.tickFormat=function(a){return arguments.length?(j=a,b):j},b.tickSize=function(a,c){if(!arguments.length)return z;var d=arguments.length-1;return z=+a,B=1<d?+c:z,F=0<d?+arguments[d]:z,b},b.tickPadding=function(a){return arguments.length?(n=+a,b):n},b.tickSubdivide=function(c){return arguments.length?(a=+c,b):a},b},d3.svg.brush=function(){function b(a){a.each(function(){var a,g=d3.select(this),h=g.selectAll(".background").data([0]),f=g.selectAll(".extent").data([0]),l=g.selectAll(".resize").data(i,String);g.style("pointer-events","all").on("mousedown.brush",e).on("touchstart.brush",e),h.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),f.enter().append("rect").attr("class","extent").style("cursor","move"),l.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return ze[a]}).append("rect").attr("x",function(a){return /[ew]$/.test(a)?-3:null}).attr("y",function(a){return /^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),l.style("display",b.empty()?"none":null),l.exit().remove(),q&&(a=Ia(q),h.attr("x",a[0]).attr("width",a[1]-a[0]),j(g)),z&&(a=Ia(z),h.attr("y",a[0]).attr("height",a[1]-a[0]),k(g)),d(g)})}function d(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+l[+/e$/.test(a)][0]+","+l[+/^s/.test(a)][1]+")"})}function j(a){a.select(".extent").attr("x",l[0][0]),a.selectAll(".extent,.n>rect,.s>rect").attr("width",l[1][0]-l[0][0])}function k(a){a.select(".extent").attr("y",l[0][1]),a.selectAll(".extent,.e>rect,.w>rect").attr("height",l[1][1]-l[0][1])}function e(){function a(){var a=d3.event.changedTouches;return a?d3.touches(o,a)[0]:d3.mouse(o)}function e(){var b=a(),c=!1;n&&(b[0]+=n[0],b[1]+=n[1]),w||(d3.event.altKey?(p||(p=[(l[0][0]+l[1][0])/2,(l[0][1]+l[1][1])/2]),x[0]=l[+(b[0]<p[0])][0],x[1]=l[+(b[1]<p[1])][1]):p=null),u&&f(b,q,0)&&(j(t),c=!0),v&&f(b,z,1)&&(k(t),c=!0),c&&(d(t),m({type:"brush",mode:w?"move":"resize"}))}function f(b,d,e){var f,a,c=Ia(d),h=c[0],i=c[1],j=x[e],k=l[1][e]-l[0][e];if(w&&(h-=j,i-=k+j),f=Math.max(h,Math.min(i,b[e])),w?a=(f+=j)+k:(p&&(j=Math.max(h,Math.min(i,2*p[e]-f))),j<f?(a=f,f=j):a=j),l[0][e]!==f||l[1][e]!==a)return g=null,l[0][e]=f,l[1][e]=a,!0}function h(){e(),t.style("pointer-events","all").selectAll(".resize").style("display",b.empty()?"none":null),d3.select("body").style("cursor",null),y.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),m({type:"brushend"}),O()}var p,n,o=this,r=d3.select(d3.event.target),m=c.of(o,arguments),t=d3.select(o),s=r.datum(),u=!/^(n|s)$/.test(s)&&q,v=!/^(e|w)$/.test(s)&&z,w=r.classed("extent"),x=a(),y=d3.select(window).on("mousemove.brush",e).on("mouseup.brush",h).on("touchmove.brush",e).on("touchend.brush",h).on("keydown.brush",function(){32==d3.event.keyCode&&(w||(p=null,x[0]-=l[1][0],x[1]-=l[1][1],w=2),O())}).on("keyup.brush",function(){32==d3.event.keyCode&&2==w&&(x[0]+=l[1][0],x[1]+=l[1][1],w=0,O())});if(w)x[0]=l[0][0]-x[0],x[1]=l[0][1]-x[1];else if(s){var A=+/w$/.test(s),B=+/^n/.test(s);n=[l[1-A][0]-x[0],l[1-B][1]-x[1]],x[0]=l[A][0],x[1]=l[B][1]}else d3.event.altKey&&(p=x.slice());t.style("pointer-events","none").selectAll(".resize").style("display",null),d3.select("body").style("cursor",r.style("cursor")),m({type:"brushstart"}),e(),O()}var g,c=_(b,"brushstart","brush","brushend"),q=null,z=null,i=Ae[0],l=[[0,0],[0,0]];return b.x=function(a){return arguments.length?(q=a,i=Ae[!q<<1|!z],b):q},b.y=function(a){return arguments.length?(z=a,i=Ae[!q<<1|!z],b):z},b.extent=function(c){var d,e,f,h,i;return arguments.length?(g=[[0,0],[0,0]],q&&(d=c[0],e=c[1],z&&(d=d[0],e=e[0]),g[0][0]=d,g[1][0]=e,q.invert&&(d=q(d),e=q(e)),e<d&&(i=d,d=e,e=i),l[0][0]=0|d,l[1][0]=0|e),z&&(f=c[0],h=c[1],q&&(f=f[1],h=h[1]),g[0][1]=f,g[1][1]=h,z.invert&&(f=z(f),h=z(h)),h<f&&(i=f,f=h,h=i),l[0][1]=0|f,l[1][1]=0|h),b):(c=g||l,q&&(d=c[0][0],e=c[1][0],g||(d=l[0][0],e=l[1][0],q.invert&&(d=q.invert(d),e=q.invert(e)),e<d&&(i=d,d=e,e=i))),z&&(f=c[0][1],h=c[1][1],g||(f=l[0][1],h=l[1][1],z.invert&&(f=z.invert(f),h=z.invert(h)),h<f&&(i=f,f=h,h=i))),q&&z?[[d,f],[e,h]]:q?[d,e]:z&&[f,h])},b.clear=function(){return g=null,l[0][0]=l[0][1]=l[1][0]=l[1][1]=0,b},b.empty=function(){return q&&l[0][0]===l[1][0]||z&&l[0][1]===l[1][1]},d3.rebind(b,c,"on")};var ze={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ae=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];d3.behavior={},d3.behavior.drag=function(){function a(){this.on("mousedown.drag",b).on("touchstart.drag",b)}function b(){function b(){var b=l.parentNode;return a?d3.touches(b).filter(function(b){return b.identifier===a})[0]:d3.mouse(b)}function e(){if(!l.parentNode)return j();var a=b(),d=a[0]-f[0],e=a[1]-f[1];c|=d|e,f=a,O(),m({type:"drag",x:a[0]+k[0],y:a[1]+k[1],dx:d,dy:e})}function j(){m({type:"dragend"}),c&&(O(),d3.event.target===n&&h.on("click.drag",i,!0)),h.on(a?"touchmove.drag-"+a:"mousemove.drag",null).on(a?"touchend.drag-"+a:"mouseup.drag",null)}function i(){O(),h.on("click.drag",null)}var k,l=this,m=d.of(l,arguments),n=d3.event.target,a=d3.event.touches&&d3.event.changedTouches[0].identifier,f=b(),c=0,h=d3.select(window).on(a?"touchmove.drag-"+a:"mousemove.drag",e).on(a?"touchend.drag-"+a:"mouseup.drag",j,!0);g?(k=g.apply(l,arguments),k=[k.x-f[0],k.y-f[1]]):k=[0,0],a||O(),m({type:"dragstart"})}var d=_(a,"drag","dragstart","dragend"),g=null;return a.origin=function(b){return arguments.length?(g=b,a):g},d3.rebind(a,d,"on")},d3.behavior.zoom=function(){function j(){this.on("mousedown.zoom",e).on("mousewheel.zoom",n).on("mousemove.zoom",o).on("DOMMouseScroll.zoom",n).on("dblclick.zoom",a).on("touchstart.zoom",f).on("touchmove.zoom",l).on("touchend.zoom",f)}function k(a){return[(a[0]-y[0])/z,(a[1]-y[1])/z]}function q(a){return[a[0]*z+y[0],a[1]*z+y[1]]}function x(a){z=Math.max(A[0],Math.min(A[1],a))}function r(a,b){b=q(b),y[0]+=a[0]-b[0],y[1]+=a[1]-b[1]}function i(a){u&&u.domain(s.range().map(function(a){return(a-y[0])/z}).map(s.invert)),v&&v.domain(b.range().map(function(a){return(a-y[1])/z}).map(b.invert)),d3.event.preventDefault(),a({type:"zoom",scale:z,translate:y})}function e(){function b(){O(),f.on("click.zoom",null)}var d=this,e=m.of(d,arguments),g=d3.event.target,a=0,f=d3.select(window).on("mousemove.zoom",function(){a=1,r(d3.mouse(d),h),i(e)}).on("mouseup.zoom",function(){a&&O(),f.on("mousemove.zoom",null).on("mouseup.zoom",null),a&&d3.event.target===g&&f.on("click.zoom",b,!0)}),h=k(d3.mouse(d));window.focus(),O()}function n(){c||(c=k(d3.mouse(this))),x(Math.pow(2,.002*Gb())*z),r(d3.mouse(this),c),i(m.of(this,arguments))}function o(){c=null}function a(){var a=d3.mouse(this),b=k(a);x(d3.event.shiftKey?z/2:2*z),r(a,b),i(m.of(this,arguments))}function f(){var a=d3.touches(this),b=Date.now();if(p=z,c={},a.forEach(function(a){c[a.identifier]=k(a)}),O(),1===a.length){if(500>b-w){var d=a[0],e=k(a[0]);x(2*z),r(d,e),i(m.of(this,arguments))}w=b}}function l(){var a=d3.touches(this),b=a[0],d=c[b.identifier];if(e=a[1]){var e,f=c[e.identifier];b=[(b[0]+e[0])/2,(b[1]+e[1])/2],d=[(d[0]+f[0])/2,(d[1]+f[1])/2],x(d3.event.scale*p)}r(b,d),w=null,i(m.of(this,arguments))}var c,p,s,u,b,v,w,y=[0,0],z=1,A=Ce,m=_(j,"zoom");return j.translate=function(a){return arguments.length?(y=a.map(Number),j):y},j.scale=function(a){return arguments.length?(z=+a,j):z},j.scaleExtent=function(a){return arguments.length?(A=null==a?Ce:a.map(Number),j):A},j.x=function(a){return arguments.length?(u=a,s=a.copy(),j):u},j.y=function(a){return arguments.length?(v=a,b=a.copy(),j):v},d3.rebind(j,m,"on")};var Be,Ce=[0,Infinity];d3.layout={},d3.layout.bundle=function(){return function(a){for(var b=[],c=-1,d=a.length;++c<d;)b.push(Hb(a[c]));return b}},d3.layout.chord=function(){function b(){var r,p,s,t,m,g={},u=[],n=d3.range(q),z=[];for(c=[],k=[],r=0,t=-1;++t<q;){for(p=0,m=-1;++m<q;)p+=i[t][m];u.push(p),z.push(d3.range(q)),r+=p}for(o&&n.sort(function(a,b){return o(u[a],u[b])}),a&&z.forEach(function(b,c){b.sort(function(b,d){return a(i[c][b],i[c][d])})}),r=(2*Math.PI-l*q)/r,p=0,t=-1;++t<q;){for(s=p,m=-1;++m<q;){var h=n[t],A=z[h][m],B=i[h][A],C=p,D=p+=B*r;g[h+"-"+A]={index:h,subindex:A,startAngle:C,endAngle:D,value:B}}k[h]={index:h,startAngle:s,endAngle:p,value:(p-s)/r},p+=l}for(t=-1;++t<q;)for(m=t-1;++m<q;){var F=g[t+"-"+m],G=g[m+"-"+t];(F.value||G.value)&&c.push(F.value<G.value?{source:G,target:F}:{source:F,target:G})}f&&j()}function j(){c.sort(function(a,b){return f((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var c,k,i,q,o,a,f,d={},l=0;return d.matrix=function(a){return arguments.length?(q=(i=a)&&i.length,c=k=null,d):i},d.padding=function(a){return arguments.length?(l=a,c=k=null,d):l},d.sortGroups=function(a){return arguments.length?(o=a,c=k=null,d):o},d.sortSubgroups=function(b){return arguments.length?(a=b,c=null,d):a},d.sortChords=function(a){return arguments.length?(f=a,c&&j(),d):f},d.chords=function(){return c||b(),c},d.groups=function(){return k||b(),k},d},d3.layout.force=function(){function j(b){return function(d,e,g,h){if(d.point!==b){var i=d.cx-b.x,j=d.cy-b.y,k=1/Math.sqrt(i*i+j*j);if((h-e)*k<c){var a=d.charge*k*k;return b.px-=i*a,b.py-=j*a,!0}if(d.point&&isFinite(k)){var a=d.pointCharge*k*k;b.px-=i*a,b.py-=j*a}}return!d.charge}}function e(a){a.px=d3.event.x,a.py=d3.event.y,v.resume()}var i,k,q,t,b,v={},w=d3.dispatch("start","tick","end"),x=[1,1],n=.9,f=Pb,l=Qb,s=-30,r=.1,c=.8,y=[],m=[];return v.tick=function(){if(.005>(k*=.99))return w.end({type:"end",alpha:k=0}),!0;var e,f,g,h,i,c,d,l,o,p=y.length,u=m.length;for(f=0;f<u;++f)g=m[f],h=g.source,i=g.target,l=i.x-h.x,o=i.y-h.y,(c=l*l+o*o)&&(c=k*t[f]*((c=Math.sqrt(c))-q[f])/c,l*=c,o*=c,i.x-=l*(d=h.weight/(i.weight+h.weight)),i.y-=o*d,h.x+=l*(d=1-d),h.y+=o*d);if((d=k*r)&&(l=x[0]/2,o=x[1]/2,f=-1,d))for(;++f<p;)g=y[f],g.x+=(l-g.x)*d,g.y+=(o-g.y)*d;if(s)for(Ob(e=d3.geom.quadtree(y),k,b),f=-1;++f<p;)(g=y[f]).fixed||e.visit(j(g));for(f=-1;++f<p;)g=y[f],g.fixed?(g.x=g.px,g.y=g.py):(g.x-=(g.px-(g.px=g.x))*n,g.y-=(g.py-(g.py=g.y))*n);w.tick({type:"tick",alpha:k})},v.nodes=function(a){return arguments.length?(y=a,v):y},v.links=function(a){return arguments.length?(m=a,v):m},v.size=function(a){return arguments.length?(x=a,v):x},v.linkDistance=function(a){return arguments.length?(f=ba(a),v):f},v.distance=v.linkDistance,v.linkStrength=function(a){return arguments.length?(l=ba(a),v):l},v.friction=function(a){return arguments.length?(n=a,v):n},v.charge=function(a){return arguments.length?(s="function"==typeof a?a:+a,v):s},v.gravity=function(a){return arguments.length?(r=a,v):r},v.theta=function(a){return arguments.length?(c=a,v):c},v.alpha=function(a){return arguments.length?(k?0<a?k=a:k=0:0<a&&(w.start({type:"start",alpha:k=a}),d3.timer(v.tick)),v):k},v.start=function(){function c(a,b){for(var c,d=g(j),f=-1,h=d.length;++f<h;)if(!isNaN(c=d[f][a]))return c;return Math.random()*b}function g(){if(!i){for(i=[],k=0;k<d;++k)i[k]=[];for(k=0;k<n;++k){var a=m[k];i[a.source.index].push(a.target),i[a.target.index].push(a.source)}}return i[j]}var j,k,i,e,d=y.length,n=m.length,o=x[0],a=x[1];for(j=0;j<d;++j)(e=y[j]).index=j,e.weight=0;for(q=[],t=[],j=0;j<n;++j)e=m[j],"number"==typeof e.source&&(e.source=y[e.source]),"number"==typeof e.target&&(e.target=y[e.target]),q[j]=f.call(this,e,j),t[j]=l.call(this,e,j),++e.source.weight,++e.target.weight;for(j=0;j<d;++j)e=y[j],isNaN(e.x)&&(e.x=c("x",o)),isNaN(e.y)&&(e.y=c("y",a)),isNaN(e.px)&&(e.px=e.x),isNaN(e.py)&&(e.py=e.y);if(b=[],"function"==typeof s)for(j=0;j<d;++j)b[j]=+s.call(this,y[j],j);else for(j=0;j<d;++j)b[j]=s;return v.resume()},v.resume=function(){return v.alpha(.1)},v.stop=function(){return v.alpha(0)},v.drag=function(){i||(i=d3.behavior.drag().origin(L).on("dragstart",Kb).on("drag",e).on("dragend",Lb)),this.on("mouseover.force",Mb).on("mouseout.force",Nb).call(i)},d3.rebind(v,w,"on")},d3.layout.partition=function(){function b(c,d,e,g){var h=c.children;if(c.x=d,c.y=c.depth*g,c.dx=e,c.dy=g,h&&(i=h.length)){var i,j,a,f=-1;for(e=c.value?e/c.value:0;++f<i;)b(j=h[f],d,a=j.value*e,g),d+=a}}function a(b){var c=b.children,d=0;if(c&&(e=c.length))for(var e,f=-1;++f<e;)d=Math.max(d,a(c[f]));return 1+d}function c(c,e){var g=d.call(this,c,e);return b(g[0],0,f[0],f[1]/a(g[0])),g}var d=d3.layout.hierarchy(),f=[1,1];return c.size=function(a){return arguments.length?(f=a,c):f},ac(c,d)},d3.layout.pie=function(){function a(h){var j=h.map(function(c,d){return+b.call(a,c,d)}),k=+("function"==typeof e?e.apply(this,arguments):e),m=(("function"==typeof g?g.apply(this,arguments):g)-e)/d3.sum(j),f=d3.range(h.length);null!=d&&f.sort(d===De?function(a,b){return j[b]-j[a]}:function(a,b){return d(h[a],h[b])});var l=[];return f.forEach(function(b){var c;l[b]={data:h[b],value:c=j[b],startAngle:k,endAngle:k+=c*m}}),l}var b=Number,d=De,e=0,g=2*Math.PI;return a.value=function(c){return arguments.length?(b=c,a):b},a.sort=function(b){return arguments.length?(d=b,a):d},a.startAngle=function(b){return arguments.length?(e=b,a):e},a.endAngle=function(b){return arguments.length?(g=b,a):g},a};var De={};d3.layout.stack=function(){function b(k,i){var n=k.map(function(c,d){return a.call(b,c,d)}),o=n.map(function(a){return a.map(function(a,c){return[d.call(b,a,c),f.call(b,a,c)]})}),l=e.call(b,o,i);n=d3.permute(n,l),o=d3.permute(o,l);var q,r,m,g=j.call(b,o,i),h=n.length,p=n[0].length;for(r=0;r<p;++r)for(c.call(b,n[0][r],m=g[r],o[0][r][1]),q=1;q<h;++q)c.call(b,n[q][r],m+=o[q-1][r][1],o[q][r][1]);return k}var a=L,e=Ub,j=Vb,c=Tb,d=Rb,f=Sb;return b.values=function(c){return arguments.length?(a=c,b):a},b.order=function(a){return arguments.length?(e="function"==typeof a?a:Ee.get(a)||Ub,b):e},b.offset=function(a){return arguments.length?(j="function"==typeof a?a:Fe.get(a)||Vb,b):j},b.x=function(a){return arguments.length?(d=a,b):d},b.y=function(a){return arguments.length?(f=a,b):f},b.out=function(a){return arguments.length?(c=a,b):c},b};var Ee=d3.map({"inside-out":function(b){var c,d,e=b.length,g=b.map(Wb),h=b.map(Xb),i=d3.range(e).sort(function(a,b){return g[a]-g[b]}),j=0,k=0,a=[],f=[];for(c=0;c<e;++c)d=i[c],j<k?(j+=h[d],a.push(d)):(k+=h[d],f.push(d));return f.reverse().concat(a)},reverse:function(a){return d3.range(a.length).reverse()},default:Ub}),Fe=d3.map({silhouette:function(b){var c,d,e,f=b.length,g=b[0].length,h=[],j=0,i=[];for(d=0;d<g;++d){for(c=0,e=0;c<f;c++)e+=b[c][d][1];e>j&&(j=e),h.push(e)}for(d=0;d<g;++d)i[d]=(j-h[d])/2;return i},wiggle:function(b){var e,g,i,j,a,f,k,c,h,l=b.length,m=b[0],n=m.length,o=[];for(o[0]=c=h=0,g=1;g<n;++g){for(e=0,j=0;e<l;++e)j+=b[e][g][1];for(e=0,a=0,k=m[g][0]-m[g-1][0];e<l;++e){for(i=0,f=(b[e][g][1]-b[e][g-1][1])/(2*k);i<e;++i)f+=(b[i][g][1]-b[i][g-1][1])/k;a+=f*b[e][g][1]}o[g]=c-=j?a/j*k:0,c<h&&(h=c)}for(g=0;g<n;++g)o[g]-=h;return o},expand:function(a){var b,c,d,e=a.length,f=a[0].length,g=[];for(c=0;c<f;++c){for(b=0,d=0;b<e;b++)d+=a[b][c][1];if(d)for(b=0;b<e;b++)a[b][c][1]/=d;else for(b=0;b<e;b++)a[b][c][1]=1/e}for(c=0;c<f;++c)g[c]=0;return g},zero:Vb});d3.layout.histogram=function(){function a(i,k){for(var m,l,n=[],o=i.map(d,this),q=g.call(this,o,k),a=j.call(this,q,o,k),k=-1,f=o.length,c=a.length-1,h=b?1:1/f;++k<c;)m=n[k]=[],m.dx=a[k+1]-(m.x=a[k]),m.y=0;if(0<c)for(k=-1;++k<f;)l=o[k],l>=q[0]&&l<=q[1]&&(m=n[d3.bisect(a,l,1,c)-1],m.y+=h,m.push(i[k]));return n}var b=!0,d=Number,g=_b,j=Zb;return a.value=function(b){return arguments.length?(d=b,a):d},a.range=function(b){return arguments.length?(g=ba(b),a):g},a.bins=function(b){return arguments.length?(j="number"==typeof b?function(a){return $b(a,b)}:ba(b),a):j},a.frequency=function(c){return arguments.length?(b=!!c,a):b},a},d3.layout.hierarchy=function(){function b(e,i,m){var n=j.call(d,e,i),a=Ge?e:{data:e};if(a.depth=i,m.push(a),n&&(f=n.length)){for(var f,c,o=-1,l=a.children=[],h=0;++o<f;)c=b(n[o],i+1,m),c.parent=a,l.push(c),h+=c.value;g&&l.sort(g),k&&(a.value=h)}else k&&(a.value=+k.call(d,e,i)||0);return a}function c(b,e){var f=b.children,g=0;if(f&&(h=f.length))for(var h,a=-1;++a<h;)g+=c(f[a],e+1);else k&&(g=+k.call(d,Ge?b:b.data,e)||0);return k&&(b.value=g),g}function d(a){var c=[];return b(a,0,c),c}var g=dc,j=bc,k=cc;return d.sort=function(a){return arguments.length?(g=a,d):g},d.children=function(a){return arguments.length?(j=a,d):j},d.value=function(a){return arguments.length?(k=a,d):k},d.revalue=function(a){return c(a,0),a},d};var Ge=!1;d3.layout.pack=function(){function a(g,h){var i=b.call(this,g,h),j=i[0];j.x=0,j.y=0,zc(j,function(a){a.r=Math.sqrt(a.value)}),zc(j,jc);var k=d[0],m=d[1],a=Math.max(2*j.r/k,2*j.r/m);if(0<c){var f=c*a/2;zc(j,function(a){a.r+=f}),zc(j,jc),zc(j,function(a){a.r-=f}),a=Math.max(2*j.r/k,2*j.r/m)}return mc(j,k/2,m/2,1/a),i}var b=d3.layout.hierarchy().sort(fc),c=0,d=[1,1];return a.size=function(b){return arguments.length?(d=b,a):d},a.padding=function(b){return arguments.length?(c=+b,a):c},ac(a,b)},d3.layout.cluster=function(){function a(g,j){var i,k=b.call(this,g,j),l=k[0],m=0;zc(l,function(a){var b=a.children;b&&b.length?(a.x=pc(b),a.y=oc(b)):(a.x=i?m+=f(a,i):0,a.y=0,i=a)});var a=qc(l),n=rc(l),h=a.x-f(a,n)/2,o=n.x+f(n,a)/2;return zc(l,function(a){a.x=(a.x-h)/(o-h)*c[0],a.y=(1-(l.y?a.y/l.y:1))*c[1]}),k}var b=d3.layout.hierarchy().sort(null).value(null),f=sc,c=[1,1];return a.separation=function(b){return arguments.length?(f=b,a):f},a.size=function(b){return arguments.length?(c=b,a):c},ac(a,b)},d3.layout.tree=function(){function a(j,k){function i(b,d){var e=b.children,j=b._tree;if(e&&(k=e.length)){for(var k,m,f,c=e[0],a=c,l=-1;++l<k;)f=e[l],i(f,m),a=n(f,m,a),m=f;Ac(b);var h=.5*(c._tree.prelim+f._tree.prelim);d?(j.prelim=d._tree.prelim+g(b,d),j.mod=j.prelim-h):j.prelim=h}else d&&(j.prelim=d._tree.prelim+g(b,d))}function m(a,b){a.x=a._tree.prelim+b;var c=a.children;if(c&&(d=c.length)){var d,e=-1;for(b+=a._tree.mod;++e<d;)m(c[e],b)}}function n(b,d,e){if(d){for(var j,h=b,i=b,k=d,m=b.parent.children[0],n=h._tree.mod,a=i._tree.mod,f=k._tree.mod,l=m._tree.mod;k=uc(k),h=tc(h),k&&h;)m=tc(m),i=uc(i),i._tree.ancestor=b,j=k._tree.prelim+f-h._tree.prelim-n+g(k,h),0<j&&(Bc(Cc(k,b,e),b,j),n+=j,a+=j),f+=k._tree.mod,n+=h._tree.mod,l+=m._tree.mod,a+=i._tree.mod;k&&!uc(i)&&(i._tree.thread=k,i._tree.mod+=f-a),h&&!tc(m)&&(m._tree.thread=h,m._tree.mod+=n-l,e=b)}return e}var o=b.call(this,j,k),a=o[0];zc(a,function(a,b){a._tree={ancestor:a,prelim:0,mod:0,change:0,shift:0,number:b?b._tree.number+1:0}}),i(a),m(a,-a._tree.prelim);var f=vc(a,xc),l=vc(a,wc),q=vc(a,yc),h=f.x-g(f,l)/2,p=l.x+g(l,f)/2,d=q.depth||1;return zc(a,function(a){a.x=(a.x-h)/(p-h)*c[0],a.y=a.depth/d*c[1],delete a._tree}),o}var b=d3.layout.hierarchy().sort(null).value(null),g=sc,c=[1,1];return a.separation=function(b){return arguments.length?(g=b,a):g},a.size=function(b){return arguments.length?(c=b,a):c},ac(a,b)},d3.layout.treemap=function(){function b(a,b){for(var c,d,f=-1,g=a.length;++f<g;)d=(c=a[f]).value*(0>b?0:b),c.area=isNaN(d)||0>=d?0:d}function e(i){var k=i.children;if(k&&k.length){var l,f,h,d=q(i),m=[],n=k.slice(),a=Infinity,c=Math.min(d.dx,d.dy);for(b(n,d.dx*d.dy/i.value),m.area=0;0<(h=n.length);)m.push(l=n[h-1]),m.area+=l.area,(f=g(m,c))<=a?(n.pop(),a=f):(m.area-=m.pop().area,j(m,c,d,!1),c=Math.min(d.dx,d.dy),m.length=m.area=0,a=Infinity);m.length&&(j(m,c,d,!0),m.length=m.area=0),k.forEach(e)}}function d(c){var e=c.children;if(e&&e.length){var f,g=q(c),h=e.slice(),i=[];for(b(h,g.dx*g.dy/c.value),i.area=0;f=h.pop();)i.push(f),i.area+=f.area,null!=f.z&&(j(i,f.z?g.dx:g.dy,g,!h.length),i.length=i.area=0);e.forEach(d)}}function g(a,b){for(var d,e=a.area,f=0,g=Infinity,h=-1,i=a.length;++h<i;)(d=a[h].area)&&(d<g&&(g=d),d>f&&(f=d));return e*=e,b*=b,e?Math.max(b*f*c/e,e/(b*g*c)):Infinity}function j(b,c,d,e){var g,h=-1,j=b.length,k=d.x,l=d.y,a=c?m(b.area/c):0;if(c==d.dx){for((e||a>d.dy)&&(a=d.dy);++h<j;)g=b[h],g.x=k,g.y=l,g.dy=a,k+=g.dx=Math.min(d.x+d.dx-k,a?m(g.area/a):0);g.z=!0,g.dx+=d.x+d.dx-k,d.y+=a,d.dy-=a}else{for((e||a>d.dx)&&(a=d.dx);++h<j;)g=b[h],g.x=k,g.y=l,g.dx=a,l+=g.dy=Math.min(d.y+d.dy-l,a?m(g.area/a):0);g.z=!1,g.dy+=d.y+d.dy-l,d.x+=a,d.dx-=a}}function i(a){var c=k||h(a),g=c[0];return g.x=0,g.y=0,g.dx=n[0],g.dy=n[1],k&&h.revalue(g),b([g],g.dx*g.dy/g.value),(k?d:e)(g),f&&(k=c),c}var k,h=d3.layout.hierarchy(),m=Math.round,n=[1,1],o=null,q=Dc,f=!1,c=.5*(1+Math.sqrt(5));return i.size=function(a){return arguments.length?(n=a,i):n},i.padding=function(b){function c(a){var c=b.call(i,a,a.depth);return null==c?Dc(a):Ec(a,"number"==typeof c?[c,c,c,c]:c)}function d(a){return Ec(a,b)}if(!arguments.length)return o;var f;return q=null==(o=b)?Dc:"function"===(f="undefined"===typeof b?"undefined":a(b))?c:"number"===f?(b=[b,b,b,b],d):d,i},i.round=function(a){return arguments.length?(m=a?Math.round:Number,i):m!=Number},i.sticky=function(a){return arguments.length?(f=a,k=null,i):f},i.ratio=function(a){return arguments.length?(c=a,i):c},ac(i,h)},d3.csv=Fc(",","text/csv"),d3.tsv=Fc("\t","text/tab-separated-values"),d3.geo={};var He=Math.PI/180;d3.geo.azimuthal=function(){function b(b){var i,d=b[0]*He-j,n=b[1]*He,o=Math.cos(d),f=Math.sin(d),l=Math.cos(n),c=Math.sin(n),h="orthographic"===a?null:m*c+k*l*o,p="stereographic"===a?1/(1+h):"gnomonic"===a?1/h:"equidistant"===a?(i=Math.acos(h),i?i/Math.sin(i):0):"equalarea"===a?Math.sqrt(2/(1+h)):1,s=p*(m*l*o-k*c);return[q*(p*l*f)+r[0],q*s+r[1]]}var c,j,d,k,m,a="orthographic",q=200,r=[480,250];return b.invert=function(b){var d=(b[0]-r[0])/q,e=(b[1]-r[1])/q,g=Math.sqrt(d*d+e*e),f="stereographic"===a?2*Math.atan(g):"gnomonic"===a?Math.atan(g):"equidistant"===a?g:"equalarea"===a?2*Math.asin(.5*g):Math.asin(g),i=Math.sin(f),c=Math.cos(f);return[(j+Math.atan2(d*i,g*k*c+e*m*i))/He,Math.asin(c*m-(g?e*i*k/g:0))/He]},b.mode=function(c){return arguments.length?(a=c+"",b):a},b.origin=function(a){return arguments.length?(c=a,j=c[0]*He,d=c[1]*He,k=Math.cos(d),m=Math.sin(d),b):c},b.scale=function(a){return arguments.length?(q=+a,b):q},b.translate=function(a){return arguments.length?(r=[+a[0],+a[1]],b):r},b.origin([0,0])},d3.geo.albers=function(){function b(b){var c=g*(He*b[0]-d),f=Math.sqrt(h-2*g*Math.sin(He*b[1]))/g;return[k*f*Math.sin(c)+i[0],k*(f*Math.cos(c)-a)+i[1]]}function c(){var e=He*j[0],k=He*j[1],i=He*f[1],m=Math.sin(e),l=Math.cos(e);return d=He*f[0],g=.5*(m+Math.sin(k)),h=l*l+2*g*m,a=Math.sqrt(h-2*g*Math.sin(i))/g,b}var d,g,h,a,f=[-98,38],j=[29.5,45.5],k=1e3,i=[480,250];return b.invert=function(b){var e=(b[0]-i[0])/k,f=(b[1]-i[1])/k,j=a+f,m=Math.atan2(e,j),l=Math.sqrt(e*e+j*j);return[(d+m/g)/He,Math.asin((h-l*l*g*g)/(2*g))/He]},b.origin=function(a){return arguments.length?(f=[+a[0],+a[1]],c()):f},b.parallels=function(a){return arguments.length?(j=[+a[0],+a[1]],c()):j},b.scale=function(a){return arguments.length?(k=+a,b):k},b.translate=function(a){return arguments.length?(i=[+a[0],+a[1]],b):i},c()},d3.geo.albersUsa=function(){function b(a){var b=a[0],h=a[1];return(50<h?d:-140>b?f:21>h?g:c)(a)}var c=d3.geo.albers(),d=d3.geo.albers().origin([-160,60]).parallels([55,65]),f=d3.geo.albers().origin([-160,20]).parallels([8,18]),g=d3.geo.albers().origin([-60,10]).parallels([8,18]);return b.scale=function(a){return arguments.length?(c.scale(a),d.scale(.6*a),f.scale(a),g.scale(1.5*a),b.translate(c.translate())):c.scale()},b.translate=function(e){if(!arguments.length)return c.translate();var h=c.scale()/1e3,i=e[0],j=e[1];return c.translate(e),d.translate([i-400*h,j+170*h]),f.translate([i-190*h,j+200*h]),g.translate([i+580*h,j+430*h]),b},b.scale(c.scale())},d3.geo.bonne=function(){function a(i){var j=i[0]*He-b,k=i[1]*He-c;if(d){var a=e+d-k,f=j*Math.cos(k)/a;j=a*Math.sin(f),k=a*Math.cos(f)-e}else j*=Math.cos(k),k*=-1;return[g*j+h[0],g*k+h[1]]}var b,c,d,e,g=200,h=[480,250];return a.invert=function(c){var j=(c[0]-h[0])/g,i=(c[1]-h[1])/g;if(d){var k=e+i,a=Math.sqrt(j*j+k*k);i=e+d-a,j=b+a*Math.atan2(j,k)/Math.cos(i)}else i*=-1,j/=Math.cos(i);return[j/He,i/He]},a.parallel=function(b){return arguments.length?(e=1/Math.tan(d=b*He),a):d/He},a.origin=function(d){return arguments.length?(b=d[0]*He,c=d[1]*He,a):[b/He,c/He]},a.scale=function(b){return arguments.length?(g=+b,a):g},a.translate=function(b){return arguments.length?(h=[+b[0],+b[1]],a):h},a.origin([0,0]).parallel(45)},d3.geo.equirectangular=function(){function a(a){var d=a[0]/360,f=-a[1]/360;return[b*d+c[0],b*f+c[1]]}var b=500,c=[480,250];return a.invert=function(a){var d=(a[0]-c[0])/b,e=(a[1]-c[1])/b;return[360*d,-360*e]},a.scale=function(c){return arguments.length?(b=+c,a):b},a.translate=function(b){return arguments.length?(c=[+b[0],+b[1]],a):c},a},d3.geo.mercator=function(){function a(a){var d=a[0]/360,f=-(Math.log(Math.tan(Math.PI/4+a[1]*He/2))/He)/360;return[b*d+c[0],b*Math.max(-0.5,Math.min(.5,f))+c[1]]}var b=500,c=[480,250];return a.invert=function(a){var d=(a[0]-c[0])/b,e=(a[1]-c[1])/b;return[360*d,2*Math.atan(Math.exp(-360*e*He))/He-90]},a.scale=function(c){return arguments.length?(b=+c,a):b},a.translate=function(b){return arguments.length?(c=[+b[0],+b[1]],a):c},a},d3.geo.path=function(){function b(b){"function"==typeof i&&(k=Hc(i.apply(this,arguments))),a(b);var c=p.length?p.join(""):null;return p=[],c}function d(a){return m(a).join(",")}function g(a){for(var b=j(a[0]),c=0,d=a.length;++c<d;)b-=j(a[c]);return b}function h(b){for(var c=d3.geom.polygon(b[0].map(m)),d=c.area(),e=c.centroid(0>d?(d*=-1,1):-1),g=e[0],h=e[1],i=d,j=0,a=b.length;++j<a;)c=d3.geom.polygon(b[j].map(m)),d=c.area(),e=c.centroid(0>d?(d*=-1,1):-1),g-=e[0],h-=e[1],i-=d;return[g,h,6*i]}function j(a){return Math.abs(d3.geom.polygon(a.map(m)).area())}var i=4.5,k=Hc(i),m=d3.geo.albersUsa(),p=[],a=Gc({FeatureCollection:function(b){for(var c=b.features,d=-1,e=c.length;++d<e;)p.push(a(c[d].geometry))},Feature:function(b){a(b.geometry)},Point:function(a){p.push("M",d(a.coordinates),k)},MultiPoint:function(a){for(var b=a.coordinates,c=-1,e=b.length;++c<e;)p.push("M",d(b[c]),k)},LineString:function(a){var b=a.coordinates,c=-1,e=b.length;for(p.push("M");++c<e;)p.push(d(b[c]),"L");p.pop()},MultiLineString:function(a){for(var b,c,e,f=a.coordinates,g=-1,h=f.length;++g<h;){for(b=f[g],c=-1,e=b.length,p.push("M");++c<e;)p.push(d(b[c]),"L");p.pop()}},Polygon:function(a){for(var b,c,e,f=a.coordinates,g=-1,h=f.length;++g<h;)if(b=f[g],c=-1,0<(e=b.length-1)){for(p.push("M");++c<e;)p.push(d(b[c]),"L");p[p.length-1]="Z"}},MultiPolygon:function(a){for(var b,e,g,h,f,j,c=a.coordinates,k=-1,l=c.length;++k<l;)for(b=c[k],e=-1,g=b.length;++e<g;)if(h=b[e],f=-1,0<(j=h.length-1)){for(p.push("M");++f<j;)p.push(d(h[f]),"L");p[p.length-1]="Z"}},GeometryCollection:function(b){for(var c=b.geometries,d=-1,e=c.length;++d<e;)p.push(a(c[d]))}}),f=b.area=Gc({FeatureCollection:function(a){for(var b=0,c=a.features,d=-1,e=c.length;++d<e;)b+=f(c[d]);return b},Feature:function(a){return f(a.geometry)},Polygon:function(a){return g(a.coordinates)},MultiPolygon:function(a){for(var b=0,c=a.coordinates,d=-1,e=c.length;++d<e;)b+=g(c[d]);return b},GeometryCollection:function(a){for(var b=0,c=a.geometries,d=-1,e=c.length;++d<e;)b+=f(c[d]);return b}},0),l=b.centroid=Gc({Feature:function(a){return l(a.geometry)},Polygon:function(a){var b=h(a.coordinates);return[b[0]/b[2],b[1]/b[2]]},MultiPolygon:function(b){for(var c,d=b.coordinates,e=0,g=0,i=0,j=-1,a=d.length;++j<a;)c=h(d[j]),e+=c[0],g+=c[1],i+=c[2];return[e/i,g/i]}});return b.projection=function(a){return m=a,b},b.pointRadius=function(a){return"function"==typeof a?i=a:(i=+a,k=Hc(i)),b},b},d3.geo.bounds=function(a){var b=Infinity,c=Infinity,d=-Infinity,f=-Infinity;return Ic(a,function(a,e){a<b&&(b=a),a>d&&(d=a),e<c&&(c=e),e>f&&(f=e)}),[[b,c],[d,f]]};var Ie={Feature:function(a,b){Ic(a.geometry,b)},FeatureCollection:function(a,b){for(var c=a.features,d=0,e=c.length;d<e;d++)Ic(c[d].geometry,b)},GeometryCollection:function(a,b){for(var c=a.geometries,d=0,e=c.length;d<e;d++)Ic(c[d],b)},LineString:Jc,MultiLineString:function(a,b){for(var c=a.coordinates,d=0,e=c.length;d<e;d++)for(var f=c[d],g=0,h=f.length;g<h;g++)b.apply(null,f[g])},MultiPoint:Jc,MultiPolygon:function(a,b){for(var c=a.coordinates,d=0,e=c.length;d<e;d++)for(var f=c[d][0],g=0,h=f.length;g<h;g++)b.apply(null,f[g])},Point:function(a,b){b.apply(null,a.coordinates)},Polygon:function(a,b){for(var c=a.coordinates[0],d=0,e=c.length;d<e;d++)b.apply(null,c[d])}};d3.geo.circle=function(){function b(){}function c(a){return k.distance(a)<j}function d(a){for(var b,d,e,f,h,c=-1,l=a.length,m=[];++c<l;)h=k.distance(e=a[c]),h<j?(d&&m.push(Nc(d,e)((f-j)/(f-h))),m.push(e),b=d=null):(d=e,!b&&m.length&&(m.push(Nc(m[m.length-1],d)((j-f)/(h-f))),b=d)),f=h;return b=a[0],d=m[0],d&&e[0]===b[0]&&e[1]===b[1]&&(e[0]!==d[0]||e[1]!==d[1])&&m.push(d),g(m)}function g(a){for(var b,c,d,e=0,f=a.length,g=f?[a[0]]:a,h=k.source();++e<f;)for(d=k.source(a[e-1])(a[e]).coordinates,b=0,c=d.length;++b<c;)g.push(d[b]);return k.source(h),g}var h=[0,0],e=89.99,j=e*He,k=d3.geo.greatArc().source(h).target(L);b.clip=function(b){return"function"==typeof h&&k.source(h.apply(this,arguments)),a(b)||null};var a=Gc({FeatureCollection:function(b){var c=b.features.map(a).filter(L);return c&&(b=Object.create(b),b.features=c,b)},Feature:function(b){var c=a(b.geometry);return c&&(b=Object.create(b),b.geometry=c,b)},Point:function(a){return c(a.coordinates)&&a},MultiPoint:function(a){var b=a.coordinates.filter(c);return b.length&&{type:a.type,coordinates:b}},LineString:function(a){var b=d(a.coordinates);return b.length&&(a=Object.create(a),a.coordinates=b,a)},MultiLineString:function(a){var b=a.coordinates.map(d).filter(function(a){return a.length});return b.length&&(a=Object.create(a),a.coordinates=b,a)},Polygon:function(a){var b=a.coordinates.map(d);return b[0].length&&(a=Object.create(a),a.coordinates=b,a)},MultiPolygon:function(a){var b=a.coordinates.map(function(a){return a.map(d)}).filter(function(a){return a[0].length});return b.length&&(a=Object.create(a),a.coordinates=b,a)},GeometryCollection:function(b){var c=b.geometries.map(a).filter(L);return c.length&&(b=Object.create(b),b.geometries=c,b)}});return b.origin=function(a){return arguments.length?(h=a,"function"!=typeof h&&k.source(h),b):h},b.angle=function(a){return arguments.length?(j=(e=+a)*He,b):e},d3.rebind(b,k,"precision")},d3.geo.greatArc=function(){function b(){for(var e=b.distance.apply(this,arguments),h=0,i=f/e,j=[c];1>(h+=i);)j.push(g(h));return j.push(d),{type:"LineString",coordinates:j}}var c,d,a=Kc,e=Lc,f=6*He,g=Mc();return b.distance=function(){return"function"==typeof a&&g.source(c=a.apply(this,arguments)),"function"==typeof e&&g.target(d=e.apply(this,arguments)),g.distance()},b.source=function(d){return arguments.length?(a=d,"function"!=typeof a&&g.source(c=a),b):a},b.target=function(a){return arguments.length?(e=a,"function"!=typeof e&&g.target(d=e),b):e},b.precision=function(a){return arguments.length?(f=a*He,b):f/He},b},d3.geo.greatCircle=d3.geo.circle,d3.geom={},d3.geom.contour=function(b,c){var d=c||Oc(b),e=[],g=d[0],h=d[1],i=0,j=0,k=NaN,a=NaN,f=0;do f=0,b(g-1,h-1)&&(f+=1),b(g,h-1)&&(f+=2),b(g-1,h)&&(f+=4),b(g,h)&&(f+=8),6===f?(i=-1===a?-1:1,j=0):9===f?(i=0,j=1===k?-1:1):(i=Je[f],j=Ke[f]),i!=k&&j!=a&&(e.push([g,h]),k=i,a=j),g+=i,h+=j;while(d[0]!=g||d[1]!=h);return e};var Je=[1,0,1,1,-1,0,-1,1,0,0,0,0,-1,0,-1,NaN],Ke=[0,-1,0,0,0,-1,0,0,1,-1,1,1,0,-1,0,NaN];d3.geom.hull=function(b){if(3>b.length)return[];var e,g,j,a,f,k,c,h,l,d,o=b.length,p=o-1,n=[],q=[],i=0;for(e=1;e<o;++e)b[e][1]<b[i][1]?i=e:b[e][1]==b[i][1]&&(i=b[e][0]<b[i][0]?e:i);for(e=0;e<o;++e)e!==i&&(a=b[e][1]-b[i][1],j=b[e][0]-b[i][0],n.push({angle:Math.atan2(a,j),index:e}));for(n.sort(function(a,b){return a.angle-b.angle}),l=n[0].angle,h=n[0].index,c=0,e=1;e<p;++e)g=n[e].index,l==n[e].angle?(j=b[h][0]-b[i][0],a=b[h][1]-b[i][1],f=b[g][0]-b[i][0],k=b[g][1]-b[i][1],j*j+a*a>=f*f+k*k?n[e].index=-1:(n[c].index=-1,l=n[e].angle,c=e,h=g)):(l=n[e].angle,c=e,h=g);for(q.push(i),e=0,g=0;2>e;++g)-1!==n[g].index&&(q.push(n[g].index),e++);for(d=q.length;g<p;++g)if(-1!==n[g].index){for(;!Pc(q[d-2],q[d-1],n[g].index,b);)--d;q[d++]=n[g].index}var r=[];for(e=0;e<d;++e)r.push(b[q[e]]);return r},d3.geom.polygon=function(b){return b.area=function(){for(var a=0,c=b.length,d=b[c-1][0]*b[0][1],e=b[c-1][1]*b[0][0];++a<c;)d+=b[a-1][0]*b[a][1],e+=b[a-1][1]*b[a][0];return .5*(e-d)},b.centroid=function(c){var d,e,a=-1,f=b.length,g=0,h=0,i=b[f-1];for(arguments.length||(c=-1/(6*b.area()));++a<f;)d=i,i=b[a],e=d[0]*i[1]-i[0]*d[1],g+=(d[0]+i[0])*e,h+=(d[1]+i[1])*e;return[g*c,h*c]},b.clip=function(c){for(var d,e,g,h,a,f,j=-1,k=b.length,i=b[k-1];++j<k;){for(d=c.slice(),c.length=0,h=b[j],a=d[(g=d.length)-1],e=-1;++e<g;)f=d[e],Qc(f,i,h)?(Qc(a,i,h)||c.push(Rc(a,f,i,h)),c.push(f)):Qc(a,i,h)&&c.push(Rc(a,f,i,h)),a=f;i=h}return c},b},d3.geom.voronoi=function(a){var b=a.map(function(){return[]});return Sc(a,function(c){var d,e,g,h,i,j;1===c.a&&0<=c.b?(d=c.ep.r,e=c.ep.l):(d=c.ep.l,e=c.ep.r),1===c.a?(i=d?d.y:-1e6,g=c.c-c.b*i,j=e?e.y:1e6,h=c.c-c.b*j):(g=d?d.x:-1e6,i=c.c-c.a*g,h=e?e.x:1e6,j=c.c-c.a*h);var k=[g,i],a=[h,j];b[c.region.l.index].push(k,a),b[c.region.r.index].push(k,a)}),b.map(function(b,c){var d=a[c][0],f=a[c][1];return b.forEach(function(a){a.angle=Math.atan2(a[0]-d,a[1]-f)}),b.sort(function(a,b){return a.angle-b.angle}).filter(function(a,c){return!c||1e-10<a.angle-b[c-1].angle})})};var Le={l:"r",r:"l"};d3.geom.delaunay=function(b){var a=b.map(function(){return[]}),c=[];return Sc(b,function(c){a[c.region.l.index].push(b[c.region.r.index])}),a.forEach(function(d,e){var f=b[e],g=f[0],h=f[1];d.forEach(function(a){a.angle=Math.atan2(a[0]-g,a[1]-h)}),d.sort(function(a,b){return a.angle-b.angle});for(var i=0,j=d.length-1;i<j;i++)c.push([f,d[i],d[i+1]])}),c},d3.geom.quadtree=function(b,d,g,j,k){function m(a,b,c,d,e,f){if(!(isNaN(b.x)||isNaN(b.y)))if(a.leaf){var g=a.point;g?.01>Math.abs(g.x-b.x)+Math.abs(g.y-b.y)?p(a,b,c,d,e,f):(a.point=null,p(a,g,c,d,e,f),p(a,b,c,d,e,f)):a.point=b}else p(a,b,c,d,e,f)}function p(b,d,e,g,h,i){var j=.5*(e+h),k=.5*(g+i),a=d.x>=j,f=d.y>=k,l=(f<<1)+a;b.leaf=!1,b=b.nodes[l]||(b.nodes[l]=Tc()),a?e=j:h=j,f?g=k:i=k,m(b,d,e,g,h,i)}var e,i=-1,a=b.length;if(a&&isNaN(b[0].x)&&(b=b.map(Vc)),5>arguments.length)if(3===arguments.length)k=j=g,g=d;else{for(d=g=Infinity,j=k=-Infinity;++i<a;)e=b[i],e.x<d&&(d=e.x),e.y<g&&(g=e.y),e.x>j&&(j=e.x),e.y>k&&(k=e.y);var f=j-d,l=k-g;f>l?k=g+f:j=d+l}var c=Tc();return c.add=function(a){m(c,a,d,g,j,k)},c.visit=function(a){Uc(a,c,d,g,j,k)},b.forEach(c.add),c},d3.time={};var Me=Date,Ne=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];Wc.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Oe.setUTCDate.apply(this._,arguments)},setDay:function(){Oe.setUTCDay.apply(this._,arguments)},setFullYear:function(){Oe.setUTCFullYear.apply(this._,arguments)},setHours:function(){Oe.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Oe.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Oe.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Oe.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Oe.setUTCSeconds.apply(this._,arguments)},setTime:function(){Oe.setTime.apply(this._,arguments)}};var Oe=Date.prototype,Pe=Ne,Qe=Pe.map(Xc),Re=["January","February","March","April","May","June","July","August","September","October","November","December"],Se=Re.map(Xc);d3.time.format=function(a){function b(b){for(var d,e,f=[],g=-1,h=0;++g<c;)37==a.charCodeAt(g)&&(f.push(a.substring(h,g),(e=bf[d=a.charAt(++g)])?e(b):d),h=g+1);return f.push(a.substring(h,g)),f.join("")}var c=a.length;return b.parse=function(b){var c={y:1900,m:0,d:1,H:0,M:0,S:0,L:0},d=Yc(c,a,b,0);if(d!=b.length)return null;"p"in c&&(c.H=c.H%12+12*c.p);var e=new Me;return e.setFullYear(c.y,c.m,c.d),e.setHours(c.H,c.M,c.S,c.L),e},b.toString=function(){return a},b};var Te=d3.format("02d"),Ue=d3.format("03d"),Ve=d3.format("04d"),We=d3.format("2d"),Xe=Zc(Pe),Ye=Zc(Qe),Ze=Zc(Re),$e=$c(Re),_e=Zc(Se),af=$c(Se),bf={a:function(a){return Qe[a.getDay()]},A:function(a){return Pe[a.getDay()]},b:function(a){return Se[a.getMonth()]},B:function(a){return Re[a.getMonth()]},c:d3.time.format("%a %b %e %H:%M:%S %Y"),d:function(a){return Te(a.getDate())},e:function(a){return We(a.getDate())},H:function(a){return Te(a.getHours())},I:function(a){return Te(a.getHours()%12||12)},j:function(a){return Ue(1+d3.time.dayOfYear(a))},L:function(a){return Ue(a.getMilliseconds())},m:function(a){return Te(a.getMonth()+1)},M:function(a){return Te(a.getMinutes())},p:function(a){return 12<=a.getHours()?"PM":"AM"},S:function(a){return Te(a.getSeconds())},U:function(a){return Te(d3.time.sundayOfYear(a))},w:function(a){return a.getDay()},W:function(a){return Te(d3.time.mondayOfYear(a))},x:d3.time.format("%m/%d/%y"),X:d3.time.format("%H:%M:%S"),y:function(a){return Te(a.getFullYear()%100)},Y:function(a){return Ve(a.getFullYear()%1e4)},Z:function(a){var b=a.getTimezoneOffset(),c=0<b?"-":"+",d=~~(Math.abs(b)/60),e=Math.abs(b)%60;return c+Te(d)+Te(e)},"%":function(){return"%"}},cf={a:function(a,b,c){Ye.lastIndex=0;var d=Ye.exec(b.substring(c));return d?c+=d[0].length:-1},A:function(a,b,c){Xe.lastIndex=0;var d=Xe.exec(b.substring(c));return d?c+=d[0].length:-1},b:function(a,b,c){_e.lastIndex=0;var d=_e.exec(b.substring(c));return d?(a.m=af.get(d[0].toLowerCase()),c+=d[0].length):-1},B:function(a,b,c){Ze.lastIndex=0;var d=Ze.exec(b.substring(c));return d?(a.m=$e.get(d[0].toLowerCase()),c+=d[0].length):-1},c:function(a,b,c){return Yc(a,bf.c.toString(),b,c)},d:ad,e:ad,H:bd,I:bd,L:function(a,b,c){df.lastIndex=0;var d=df.exec(b.substring(c,c+3));return d?(a.L=+d[0],c+=d[0].length):-1},m:function(a,b,c){df.lastIndex=0;var d=df.exec(b.substring(c,c+2));return d?(a.m=d[0]-1,c+=d[0].length):-1},M:function(a,b,c){df.lastIndex=0;var d=df.exec(b.substring(c,c+2));return d?(a.M=+d[0],c+=d[0].length):-1},p:function(a,b,c){var d=ef.get(b.substring(c,c+=2).toLowerCase());return null==d?-1:(a.p=d,c)},S:function(a,b,c){df.lastIndex=0;var d=df.exec(b.substring(c,c+2));return d?(a.S=+d[0],c+=d[0].length):-1},x:function(a,b,c){return Yc(a,bf.x.toString(),b,c)},X:function(a,b,c){return Yc(a,bf.X.toString(),b,c)},y:function(a,b,c){df.lastIndex=0;var d=df.exec(b.substring(c,c+2));return d?(a.y=_c(+d[0]),c+=d[0].length):-1},Y:function(a,b,c){df.lastIndex=0;var d=df.exec(b.substring(c,c+4));return d?(a.y=+d[0],c+=d[0].length):-1}},df=/^\s*\d+/,ef=d3.map({am:0,pm:1});d3.time.format.utc=function(a){function b(a){try{Me=Wc;var b=new Me;return b._=a,c(b)}finally{Me=Date}}var c=d3.time.format(a);return b.parse=function(a){try{Me=Wc;var b=c.parse(a);return b&&b._}finally{Me=Date}},b.toString=c.toString,b};var ff=d3.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");d3.time.format.iso=Date.prototype.toISOString?cd:ff,cd.parse=function(a){var b=new Date(a);return isNaN(b)?null:b},cd.toString=ff.toString,d3.time.second=dd(function(a){return new Me(1e3*Math.floor(a/1e3))},function(a,b){a.setTime(a.getTime()+1e3*Math.floor(b))},function(a){return a.getSeconds()}),d3.time.seconds=d3.time.second.range,d3.time.seconds.utc=d3.time.second.utc.range,d3.time.minute=dd(function(a){return new Me(6e4*Math.floor(a/6e4))},function(a,b){a.setTime(a.getTime()+6e4*Math.floor(b))},function(a){return a.getMinutes()}),d3.time.minutes=d3.time.minute.range,d3.time.minutes.utc=d3.time.minute.utc.range,d3.time.hour=dd(function(a){var b=a.getTimezoneOffset()/60;return new Me(36e5*(Math.floor(a/36e5-b)+b))},function(a,b){a.setTime(a.getTime()+36e5*Math.floor(b))},function(a){return a.getHours()}),d3.time.hours=d3.time.hour.range,d3.time.hours.utc=d3.time.hour.utc.range,d3.time.day=dd(function(a){var b=new Me(1970,0);return b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),b},function(a,b){a.setDate(a.getDate()+b)},function(a){return a.getDate()-1}),d3.time.days=d3.time.day.range,d3.time.days.utc=d3.time.day.utc.range,d3.time.dayOfYear=function(a){var b=d3.time.year(a);return Math.floor((a-b-6e4*(a.getTimezoneOffset()-b.getTimezoneOffset()))/864e5)},Ne.forEach(function(a,b){a=a.toLowerCase(),b=7-b;var c=d3.time[a]=dd(function(a){return(a=d3.time.day(a)).setDate(a.getDate()-(a.getDay()+b)%7),a},function(a,b){a.setDate(a.getDate()+7*Math.floor(b))},function(a){var c=d3.time.year(a).getDay();return Math.floor((d3.time.dayOfYear(a)+(c+b)%7)/7)-(c!==b)});d3.time[a+"s"]=c.range,d3.time[a+"s"].utc=c.utc.range,d3.time[a+"OfYear"]=function(a){var c=d3.time.year(a).getDay();return Math.floor((d3.time.dayOfYear(a)+(c+b)%7)/7)}}),d3.time.week=d3.time.sunday,d3.time.weeks=d3.time.sunday.range,d3.time.weeks.utc=d3.time.sunday.utc.range,d3.time.weekOfYear=d3.time.sundayOfYear,d3.time.month=dd(function(a){return a=d3.time.day(a),a.setDate(1),a},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()}),d3.time.months=d3.time.month.range,d3.time.months.utc=d3.time.month.utc.range,d3.time.year=dd(function(a){return a=d3.time.day(a),a.setMonth(0,1),a},function(a,b){a.setFullYear(a.getFullYear()+b)},function(a){return a.getFullYear()}),d3.time.years=d3.time.year.range,d3.time.years.utc=d3.time.year.utc.range;var gf=[1000,5000,15000,30000,60000,300000,900000,1800000,3600000,10800000,21600000,43200000,86400000,172800000,604800000,2592000000,7776000000,31536000000],hf=[[d3.time.second,1],[d3.time.second,5],[d3.time.second,15],[d3.time.second,30],[d3.time.minute,1],[d3.time.minute,5],[d3.time.minute,15],[d3.time.minute,30],[d3.time.hour,1],[d3.time.hour,3],[d3.time.hour,6],[d3.time.hour,12],[d3.time.day,1],[d3.time.day,2],[d3.time.week,1],[d3.time.month,1],[d3.time.month,3],[d3.time.year,1]],jf=[[d3.time.format("%Y"),function(){return!0}],[d3.time.format("%B"),function(a){return a.getMonth()}],[d3.time.format("%b %d"),function(a){return 1!=a.getDate()}],[d3.time.format("%a %d"),function(a){return a.getDay()&&1!=a.getDate()}],[d3.time.format("%I %p"),function(a){return a.getHours()}],[d3.time.format("%I:%M"),function(a){return a.getMinutes()}],[d3.time.format(":%S"),function(a){return a.getSeconds()}],[d3.time.format(".%L"),function(a){return a.getMilliseconds()}]],kf=d3.scale.linear(),lf=id(jf);hf.year=function(a,b){return kf.domain(a.map(kd)).ticks(b).map(jd)},d3.time.scale=function(){return fd(d3.scale.linear(),hf,lf)};var mf=hf.map(function(a){return[a[0].utc,a[1]]}),nf=[[d3.time.format.utc("%Y"),function(){return!0}],[d3.time.format.utc("%B"),function(a){return a.getUTCMonth()}],[d3.time.format.utc("%b %d"),function(a){return 1!=a.getUTCDate()}],[d3.time.format.utc("%a %d"),function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],[d3.time.format.utc("%I %p"),function(a){return a.getUTCHours()}],[d3.time.format.utc("%I:%M"),function(a){return a.getUTCMinutes()}],[d3.time.format.utc(":%S"),function(a){return a.getUTCSeconds()}],[d3.time.format.utc(".%L"),function(a){return a.getUTCMilliseconds()}]],of=id(nf);mf.year=function(a,b){return kf.domain(a.map(md)).ticks(b).map(ld)},d3.time.scale.utc=function(){return fd(d3.scale.linear(),mf,of)}}(),b.exports});;
Cube("datav:/com/@shukeshi.hanabi/streamCompare/0.0.15/streamCompare.js",["datav:/npm/jquery/2.1.4"],function(a,b,c){var d=c("datav:/npm/jquery/2.1.4"),e=c("datav:/com/@shukeshi.hanabi/streamCompare/0.0.15/d3.v2.min.js");return c("datav:/com/@shukeshi.hanabi/streamCompare/0.0.15/streamCompare.css",""),a.exports=function(a){this.$container=d(a),this.render=function(a,b){this.destroy();var c=this,d=b.options.chart.margin||{top:10,right:30,bottom:30,left:30},f=b.options.chart.dateSpan||7,g=b.options.number.word1||"",i=b.options.number.word2||"",j=b.options.number.style1||{},k=b.options.number.style2||{},l=b.options.number.style3||{},m=b.options.number.style4||{},n=b.options.chart.dateColor||"#909098",o=b.options.chart.color1||"#313A68",p=b.options.chart.color2||"#5C5B63",q=b.options.chart.lineColor||"#909098",r="",s=a,t=this.$container;t.html("<div class=\"HANABI_StreamCompare\">            <svg class=\"chartStream\"></svg>          </div>");var u=t.find(".HANABI_StreamCompare"),v=u[0],x=t.width(),w=t.height();u.css({width:x+"px",height:w+"px"});var h,A="",B="",y=function(){var a=x-d.left-d.right,b=w-d.top-d.bottom;(function(){var c=[o,p],r=c[0],s=e.time.format("%Y.%m.%d"),t=e.scale.linear().range([0,a]),u=e.scale.linear().range([b,0]),w=e.scale.ordinal().range(c),x=e.svg.axis().scale(t).orient("bottom").tickSize(-b).tickPadding(6).tickFormat(e.time.format("%m-%d")),y=e.layout.stack().offset("silhouette").values(function(a){return a.values}).x(function(a,b){return b}).y(function(a){return a.value}),z=e.nest().key(function(a){return a.key}),C=e.svg.area().interpolate("cardinal").x(function(a,b){return t(b)}).y0(function(a){return u(a.y0)}).y1(function(a){return u(a.y0+a.y)}),D=e.select(v).select(".chartStream").attr("width",a+d.left+d.right).attr("height",b+d.top+d.bottom).append("g").attr("transform","translate("+d.left+","+d.top+")");h.forEach(function(a){a.value=+a.value});var E=y(z.entries(h));t.domain([0,h.length/2-1]),u.domain([0,e.max(h,function(a){return a.y0+a.y})]),D.selectAll(".layer").data(E).enter().append("path").attr("class","layer").attr("d",function(a){return C(a.values)}).style("fill",function(a,b){return w(b)});var F=0,x=D.selectAll(".axis").data(h.filter(function(a,b){return 0===b%2}).filter(function(a,b){return 0===b%f})).enter().append("g").attr("class","x axis").attr("transform",function(a,b){return"translate("+t(b*f)+","+0+")"});x.append("line").attr("class","tick").attr("fill","none").attr("stroke",q).attr("stroke-width",2).attr("transform","translate(0, "+F+")").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",b),x.append("text").attr("x",0).attr("y",b+15).style("fill",n).attr("text-anchor","middle").text(function(a){return a.date}),D.append("line").attr("class","tick").attr("fill","none").attr("stroke",q).attr("stroke-width",2).attr("transform","translate(0, "+F+")").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",b),D.selectAll(".tick").attr("stroke-dasharray","3, 8"),D.append("line").attr("class","tick").attr("fill","none").attr("stroke",q).attr("stroke-width",2).style("opacity",1).attr("transform","translate(0, "+F+")").attr("x1",a).attr("y1",0).attr("x2",a).attr("y2",b),1!==h.length/2%f&&D.append("text").attr("x",a).attr("y",b+15).style("fill",n).attr("text-anchor","middle").text(e.time.format("%m-%d")(h[h.length-1].date)),D.append("text").attr("x",10).attr("y",b/2-20).attr("transform","translate(0, "+F+")").attr("dominant-baseline","central").style("fill",j.color).style("fontFamily",j.color).style("font-size",j.fontSize).style("font-weight",j.fontWeight).text(g),D.append("text").attr("x",10).attr("y",b/2+20).attr("transform","translate(0, "+F+")").attr("dominant-baseline","central").style("fill",k.color).style("fontFamily",k.color).style("font-size",k.fontSize).style("font-weight",k.fontWeight).text(i),D.append("text").attr("x",a-10).attr("y",b/2-20).attr("transform","translate(0, "+F+")").attr("dominant-baseline","central").attr("text-anchor","end").style("fill",l.color).style("fontFamily",l.color).style("font-size",l.fontSize).style("font-weight",l.fontWeight).text(B),D.append("text").attr("x",a-10).attr("y",b/2+20).attr("transform","translate(0, "+F+")").attr("dominant-baseline","central").attr("text-anchor","end").style("fill",m.color).style("fontFamily",m.color).style("font-size",m.fontSize).style("font-weight",m.fontWeight).text(A)})()};(function(a){var b=function(){h=[],s.forEach(function(a){h.push({date:a.date,value:a.v1,key:"v1"}),h.push({date:a.date,value:a.v2,key:"v2"})});var b=+h[h.length-2].value,c=+h[h.length-1].value,d=b+c;0===d?(A="",B=""):(A=(100*(b/d)).toFixed(1)+"%",B=(100*(c/d)).toFixed(1)+"%"),a&&a()};setTimeout(b)})(function(){y()})},this.destroy=function(){}},a.exports});;
Cube("datav:/com/@shukeshi.hanabi/streamCompare/0.0.15",["datav:/npm/bcore/0.0.18/event","datav:/npm/jquery/2.1.4","datav:/npm/lodash/4.6.1"],function(a,b,c){var d=c("datav:/npm/bcore/0.0.18/event"),e=c("datav:/npm/jquery/2.1.4"),f=c("datav:/npm/lodash/4.6.1"),g=c("datav:/com/@shukeshi.hanabi/streamCompare/0.0.15/streamCompare.js");return a.exports=d.extend(function(a,b){this.config={theme:{}},this.container=e(a),this.apis=b.apis,this._data=null,this.chart=null,this.init(b)},{init:function(a){this.mergeConfig(a),this.updateLayout(),this.chart=new g(this.container[0],this.config),this.updateStyle()},render:function(a,b){a=this.data(a);var c=this.mergeConfig(b);this.chart.render(a,c)},resize:function(){this.data()&&this.chart.render(this.data(),this.config)},setColors:function(){},data:function(a){return a&&(this._data=a),this._data},mergeConfig:function(a){if(!a)return this.config;var b=this.getThemableConfig();return this.config.theme=f.defaultsDeep(a.theme||{},b),this.setColors(),this.config=f.defaultsDeep(a||{},this.config),this.config},updateLayout:function(){},updateStyle:function(){this.data()&&this.chart.render(this.data(),this.config)},getThemableConfig:function(a){return a?{color:a.palette[0]}:null},destroy:function(){this.chart.destroy()}}),a.exports});