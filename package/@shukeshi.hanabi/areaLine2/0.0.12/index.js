// env=undefined => env=publish 
Cube("datav:/com/@shukeshi.hanabi/areaLine2/0.0.12/areaLine.css", [], function(m){m.exports=".HANABI_AreaLine{transform-origin:0 0}.HANABI_AreaLine{position:relative;margin:0;padding:0}.HANABI_AreaLine .chart{position:absolute;left:0;top:0;width:100%;height:100%}.HANABI_AreaLine .value{position:absolute;top:10px;color:#6784f7;font-size:40px}";return m.exports});;
Cube("datav:/com/@shukeshi.hanabi/areaLine2/0.0.12/areaLine.js",["datav:/npm/jquery/2.1.4","datav:/npm/d3/5.5.0"],function(a,b,c){var d=c("datav:/npm/jquery/2.1.4"),e=c("datav:/npm/d3/5.5.0");return c("datav:/com/@shukeshi.hanabi/areaLine2/0.0.12/areaLine.css",""),a.exports=function(a){this.$container=d(a),this.render=function(a,b){this.destroy();var c=this,f=b.options.number.font,i=b.options.number.position||"left",j=b.options.chart.line,k=b.options.chart.point,l=b.theme.color||j.color||"#6784F7",m=b.options.chart.margin||{top:80,right:15,bottom:15,left:15},g=a.dataLink||"",h=a[0].values||[41,0,0,0,0,0,4,17,59,77,72,105,69,105,180,323,371,1291,840,1032,1220,1347],n=this.$container;n.html("<div class=\"HANABI_AreaLine\">            <div class=\"value\"></div>            <svg class=\"chart\"></svg>          </div>");var o=n.find(".HANABI_AreaLine"),p=o[0],q=n.width(),r=n.height();o.css({width:q+"px",height:r+"px"});var s,t=function(){var a=e.select(p).select(".chart").attr("width",q).attr("height",r),b=a.append("defs").html("            <linearGradient id=\"sampleGradient\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">               <stop offset=\"0%\" stop-color=\""+l+"\" stop-opacity=\"0.9\" />               <stop offset=\"100%\" stop-color=\""+l+"\" stop-opacity=\"0.05\" />            </linearGradient>"),c=a.append("g").attr("transform","translate("+m.left+","+m.top+")"),d=q-m.left-m.right,g=r-m.top-m.bottom,h=e.scaleTime().domain([0,s.length-1]).range([0,d]),n=e.scaleLinear().domain([0,e.max(s,function(a){return+a})]).range([g,0]);c.append("path").datum(s).attr("fill","url(#sampleGradient)").attr("d",e.area().curve(e.curveMonotoneX).x(function(a,b){return h(b)}).y0(n(0)).y1(function(a){return n(a)})),c.append("path").datum(s).attr("fill","none").attr("stroke",l).attr("stroke-width",j.width).attr("d",e.line().curve(e.curveMonotoneX).x(function(a,b){return h(b)}).y(function(a){return n(a)})),c.append("circle").attr("fill",l).attr("stroke",k.color).attr("stroke-width",k.width).attr("cx",h(s.length-1)).attr("cy",n(s[s.length-1])).attr("r",k.size);var t=o.find(".value");t.html(function(a){return a.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}(s[s.length-1])).css(f),"left"===i?t.css("left",m.left+"px"):t.css("right",m.right+"px")};(function(a){var b=function(){s=h,a&&a()};g?d.getJSON(g,function(a){h=a.data,b()}):setTimeout(b)})(function(){t()})},this.destroy=function(){}},a.exports});;
Cube("datav:/com/@shukeshi.hanabi/areaLine2/0.0.12",["datav:/npm/bcore/0.0.18/event","datav:/npm/jquery/2.1.4","datav:/npm/lodash/4.6.1"],function(a,b,c){var d=c("datav:/npm/bcore/0.0.18/event"),e=c("datav:/npm/jquery/2.1.4"),f=c("datav:/npm/lodash/4.6.1"),g=c("datav:/com/@shukeshi.hanabi/areaLine2/0.0.12/areaLine.js");return a.exports=d.extend(function(a,b){this.config={theme:{}},this.container=e(a),this.apis=b.apis,this._data=null,this.chart=null,this.init(b)},{init:function(a){this.mergeConfig(a),this.updateLayout(),this.chart=new g(this.container[0]),this.updateStyle()},render:function(a,b){a=this.data(a);var c=this.mergeConfig(b);this.chart.render(a,c)},resize:function(){this.data()&&this.chart.render(this.data(),this.config)},setColors:function(){},data:function(a){return a&&(this._data=a),this._data},mergeConfig:function(a){if(!a)return this.config;var b=this.getThemableConfig();return this.config.theme=f.defaultsDeep(a.theme||{},b),this.setColors(),this.config=f.defaultsDeep(a||{},this.config),this.config},updateLayout:function(){},updateStyle:function(){this.data()&&this.chart.render(this.data(),this.config)},getThemableConfig:function(a){return a?{color:a.palette[0]}:null},destroy:function(){this.chart.destroy()}}),a.exports});