// env=undefined => env=publish 
Cube("datav:/com/ml-hori-bar-percentage/5.3.3/customRuleStyle",["datav:/npm/lodash/4.17.11/set","datav:/npm/lodash/4.17.11/get","datav:/npm/alibabacloud-datav-tool-gui-utils/1.0.0"],function(t,e,r,o,l,a){function n(e,t){var r,o=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)),o}function b(o){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?n(Object(l),!0).forEach(function(t){var e,r;e=o,r=l[t=t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(l)):n(Object(l)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(l,t))})}return o}var v=r("datav:/npm/lodash/4.17.11/set"),h=r("datav:/npm/lodash/4.17.11/get"),y=r("datav:/com/ml-hori-bar-percentage/5.3.3/utils").transformGradientColor,r=r("datav:/npm/alibabacloud-datav-tool-gui-utils/1.0.0"),O=r.scale,m=r.validateCustomStyle,w="colorField",j=["fill"];return t.exports=function(){var o,t,l,a,n,i,c,s,u,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=e.props,d=e.guiConfig,e=e.data,d=(void 0===d?{}:d).options,p=d.chart,f=p.fill,p=p.pattern,g=d.condition.customStyle,d=d.legend.isShow;g=(r={props:void 0===r?{}:r,customStyle:g,fill:f,data:e,show:d,pattern:p}).props,o=r.customStyle,f=r.fill,e=r.data,r.show,r=r.pattern,v(g,"seriesField",w),t=h(O,"color.g2plot")({config:f,data:e,field:w}),v(g,"color",t),v(g,"barStyle",function(){var e={fill:t(arguments.length<=0?void 0:arguments[0])};return m({config:o,data:arguments.length<=0?void 0:arguments[0],ruleKey:"rules"}).forEach(function(r){var t=j.reduce(function(t,e){return r[e]&&r[e].show&&(t[e]=r[e]&&r[e].value),b(b({},t),y(t.fill))},{});Object.assign(e,t)}),e}),l=r.show,a=r.type,n=r.patternFill,i=r.lineFill,c=r.patternStroke,s=r.dotCfg,u=r.lineCfg,l&&v(g,"pattern",function(t,e){var r={backgroundColor:e},e=(m({config:o,data:t,ruleKey:"rules"}).forEach(function(t){t=t.fill;r=t.show?{backgroundColor:y(t.value).fill}:r}),l?"line"===a?u:s:"");return{type:a,cfg:b(b({},r),{},{fill:n.fill,fillOpacity:1,strokeOpacity:1,stroke:"line"===a?i.stroke:c.show?c.stroke:"rgba(255,255,255,0)",lineWidth:"line"===a?i.lineWidth:c.show?c.lineWidth:0},e)}})},t.exports});;
Cube("datav:/com/ml-hori-bar-percentage/5.3.3/utils",["datav:/npm/lodash/4.17.11/toNumber","datav:/npm/lodash/4.17.11/forEach","datav:/npm/lodash/4.17.11/isNumber","datav:/npm/lodash/4.17.11/map","datav:/npm/lodash/4.17.11/get","datav:/npm/lodash/4.17.11/trim","datav:/npm/lodash/4.17.11/isUndefined","datav:/npm/lodash/4.17.11/isNull","datav:/npm/lodash/4.17.11/min","datav:/npm/lodash/4.17.11/max","datav:/npm/lodash/4.17.11/isNaN","datav:/npm/lodash/4.17.11/sumBy","datav:/npm/lodash/4.17.11/each","datav:/npm/moment/2.27.0","datav:/npm/d3-format/3.1.0"],function(t,a,n,e,o,i){function r(a,t){var n,e=Object.keys(a);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(a),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable})),e.push.apply(e,n)),e}function l(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach(function(t){var a,n;a=e,n=o[t=t],t in a?Object.defineProperty(a,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t){var a=t.x,n=t.y,e=t.r,t=t.type,o=e/2*Math.sqrt(3),i=e*Math.sin(1/3*Math.PI);return{line:[["M",a-3*e,n],["L",a+3*e,n]],lineEllipsis:[["M",a-3*e,n],["L",a-2*e,n],["M",a-e,n],["L",a,n],["M",a+e,n],["L",a+2*e,n],["M",a+3*e,n],["L",a+4*e,n]],smooth:[["M",a-e,n],["A",e/2,e/2,0,1,1,a,n],["A",e/2,e/2,0,1,0,a+e,n]],smoothEllipsis:[["M",150,100],["C",150,72.4,72.4,50,100,50]],step:[["M",a-e-1,n-2.5],["L",a,n-2.5],["L",a,n+2.5],["L",a+e+1,n+2.5]],stepEllipsis:[["M",a-e-1,n-2.5],["L",a-e+3,n-2.5],["M",a-e/2+2,n-2.5],["L",a,n-2.5],["L",a,n+2.5],["L",a+4,n+2.5],["M",a+e/2+3,n+2.5],["L",a+e+1,n+2.5]],circle:[["M",a,n+e],["A",e,e,0,0,0,a+e,n],["M",a,n+e],["A",e,e,0,1,1,a+e,n]],circleLine:[["M",a-3*e,n],["L",a-e,n],["M",a+e,n],["L",a+3*e,n],["M",a,n+e],["A",e,e,0,0,0,a+e,n],["M",a,n+e],["A",e,e,0,1,1,a+e,n]],circleEllipsis:[["M",a-3*e,n],["L",a-2*e,n],["M",a-e-e/2,n],["L",a-e-2,n],["M",a+e+2,n],["L",a+e+e/2,n],["M",a+3*e,n],["L",a+2*e,n],["M",a,n+e],["A",e,e,0,0,0,a+e,n],["M",a,n+e],["A",e,e,0,1,1,a+e,n]],square:[["M",a-e,n-e],["L",a+e,n-e],["L",a+e,n+e],["L",a-e,n+e],["Z"]],squareLine:[["M",a-3*e,n],["L",a-e,n],["M",a+e,n],["L",a+3*e,n],["M",a-e,n-e],["L",a+e,n-e],["L",a+e,n+e],["L",a-e,n+e],["Z"]],squareEllipsis:[["M",a-3*e,n],["L",a-2*e,n],["M",a-e-e/2,n],["L",a-e-2,n],["M",a+e+2,n],["L",a+e+e/2,n],["M",a+3*e,n],["L",a+2*e,n],["M",a-e,n-e],["L",a+e,n-e],["L",a+e,n+e],["L",a-e,n+e],["Z"]],hexagon:[["M",a,n-e-2],["L",a+o+1,n-e/2-1],["L",a+o+1,n+e/2+1],["L",a,n+e+1+1],["L",a-o-1,n+e/2+1],["L",a-o-1,n-e/2-1],["Z"]],hexagonLine:[["M",a-3*e,n],["L",a-e-(e<=3?1:0),n],["M",a+e+(e<=3?1:0),n],["L",a+3*e,n],["M",a,n-e-2],["L",a+o+1,n-e/2-1],["L",a+o+1,n+e/2+1],["L",a,n+e+1+1],["L",a-o-1,n+e/2+1],["L",a-o-1,n-e/2-1],["Z"]],hexagonEllipsis:[["M",a-3*e,n],["L",a-2*e,n],["M",a-e-e/2,n],["L",a-e-1,n],["M",a+e+1,n],["L",a+e+e/2,n],["M",a+3*e,n],["L",a+2*e,n],["M",a,n-e-2],["L",a+o+1,n-e/2-1],["L",a+o+1,n+e/2+1],["L",a,n+e+1+1],["L",a-o-1,n+e/2+1],["L",a-o-1,n-e/2-1],["Z"]],diamond:[["M",a-e-2,n],["L",a,n-e-2],["L",a+e+2,n],["L",a,n+e+2],["Z"]],diamondLine:[["M",a-3*e,n],["L",a-e-1,n],["M",a+e+1,n],["L",a+3*e,n],["M",a-e-2,n],["L",a,n-e-2],["L",a+e+2,n],["L",a,n+e+2],["Z"]],diamondEllipsis:[["M",a-3*e,n],["L",a-2*e,n],["M",a-e-e/2,n],["L",a-e-2,n],["M",a+e+2,n],["L",a+e+e/2,n],["M",a+3*e,n],["L",a+2*e,n],["M",a-e-2,n],["L",a,n-e-2],["L",a+e+2,n],["L",a,n+e+2],["Z"]],triangle:[["M",a-e,n+i],["L",a,n-i],["L",a+e,n+i],["z"]],triangleLine:[["M",a-3*e,n],["L",a-e+e/2,n],["M",a+e-e/2,n],["L",a+3*e,n],["M",a-e,n+i],["L",a,n-i],["L",a+e,n+i],["z"]],triangleEllipsis:[["M",a-3*e,n],["L",a-2*e,n],["M",a-e-e/2,n],["L",a-e/2,n],["M",a+e/2,n],["L",a+e+e/2,n],["M",a+3*e,n],["L",a+2*e,n],["M",a-e,n+i],["L",a,n-i],["L",a+e,n+i],["z"]],"triangle-down":[["M",a-e,n-i],["L",a+e,n-i],["L",a,n+i],["Z"]],triangleDownLine:[["M",a-3*e,n],["L",a-e+e/2,n],["M",a+e-e/2,n],["L",a+3*e,n],["M",a-e,n-i],["L",a+e,n-i],["L",a,n+i],["Z"]],triangleDownEllipsis:[["M",a-3*e,n],["L",a-2*e,n],["M",a-e-e/2,n],["L",a-e/2,n],["M",a+e/2,n],["L",a+e+e/2,n],["M",a+3*e,n],["L",a+2*e,n],["M",a-e,n-i],["L",a+e,n-i],["L",a,n+i],["Z"]],bowtie:[["M",a-e,n-i],["L",a+e,n+i],["L",a+e,n-i],["L",a-e,n+i],["Z"]],bowtieLine:[["M",a-3*e,n],["L",a-e,n],["M",a+e,n],["L",a+3*e,n],["M",a-e,n-i],["L",a+e,n+i],["L",a+e,n-i],["L",a-e,n+i],["Z"]],bowtieEllipsis:[["M",a-3*e,n],["L",a-2*e,n],["M",a-e-e/2,n],["L",a-e-2,n],["M",a+e+2,n],["L",a+e+e/2,n],["M",a+3*e,n],["L",a+2*e,n],["M",a-e,n-i],["L",a+e,n+i],["L",a+e,n-i],["L",a-e,n+i],["Z"]]}[t]}var d=n("datav:/npm/lodash/4.17.11/toNumber"),m=n("datav:/npm/lodash/4.17.11/forEach"),p=n("datav:/npm/lodash/4.17.11/isNumber"),c=n("datav:/npm/lodash/4.17.11/map"),u=n("datav:/npm/lodash/4.17.11/get"),M=n("datav:/npm/lodash/4.17.11/trim"),f=n("datav:/npm/lodash/4.17.11/isUndefined"),h=n("datav:/npm/lodash/4.17.11/isNull"),v=n("datav:/npm/lodash/4.17.11/min"),y=n("datav:/npm/lodash/4.17.11/max"),x=n("datav:/npm/lodash/4.17.11/isNaN"),b=n("datav:/npm/lodash/4.17.11/sumBy"),g=n("datav:/npm/lodash/4.17.11/each"),O="linear",w=n("datav:/npm/moment/2.27.0"),Z=n("datav:/npm/d3-format/3.1.0").format;return t.exports={transLineDash:function(t){var a=t.lineStyle,n=t.dashedLength,e=t.dashedSpace,o=t.dottedLength,t=t.dottedSpace,i=[];return"solid"===a?i=[1,0]:"dashed"===a?i=[n,e]:"dotted"===a&&(i=[o,t]),i},transNumberFormatterTooltip:function(t){var a=t.v,n=t.type,e=t.format,o=t.prefix,t=t.suffix;return n===O&&"null"!==e?o+Z(e)(a)+t:n===O&&"null"===e?o+d(a)+t:"timeCat"===n&&"null"!==e?o+w(a).format(e)+t:o+a+t},transformGradientColor:function(t){var a,n,e;return"object"===s(t)?(n=t.type,a=t.value,"flat"===n?{fill:a}:(a=(n=t.value).angle,n=n.stops,e="",c(n,function(t){var a=t.offset,t=t.color;e+="".concat(a/100,":").concat(t," ")}),{fill:"l(".concat(a,") ").concat(M(e))})):{fill:t}},maximumCal:function(t,a,n,e){var o=[],a=(c(a,function(t){o.push(t[e])}),"min"===t.min?v(o):d(t.min)),t="max"===t.max?y(o):d(t.max);return{min:"linear"===n?a:void 0,max:"linear"===n?t:void 0}},handleTimeCatNull:function(t){var a=u(t,"options.axis.xaxis.type"),a=("null"===u(t,"options.axis.xaxis.label.timeFormat")&&"timeCat"===a&&set(t,"options.axis.xaxis.type","cat"),u(t,"options.axis.yaxis.type"));"null"===u(t,"options.axis.yaxis.label.timeFormat")&&"timeCat"===a&&set(t,"options.axis.yaxis.type","cat")},pathDFn:function(){var t=L(arguments.length<=0?void 0:arguments[0]),a="";return m(t,function(t){m(t,function(t){p(t)?a+=t+",":a+=t}),a+=" "}),a},locationInfo:function(t){var t=t.chart.getController("axis").getComponents(),a=t[0].component.getLayoutBBox(),n=a.width,a=a.height,t=t[2].component.getLayoutBBox();return{x:n,y:t.height,maxWidth:t.width,maxHeight:a}},handleRate:function(t){var a,n=[],e=t.reduce(function(t,a){return t[a.y]=t[a.y]||[],t[a.y].push(a),t},{});for(a in e)!function(t){var t=e[t],a=b(t,function(t){return t.x});g(t,function(t){n.push(l(l({},t),{},{rate:d((t.x/a).toFixed(2))}))})}(a);return n},transformSVGGradientColor:function(t){var a="",t=u(t,"fixed.value"),n=t.angle,t=t.stops,e="grad"+ +new Date,a="<defs><linearGradient id='".concat(e,"' gradientTransform='rotate(").concat(n,")'>");return c(t,function(t){a+='<stop offset="'.concat(t.offset,'" stop-color="').concat(t.color,'"/>')}),{gradientHtml:a+="</linearGradient></defs>",id:e}},isValid:function(t){return!f(t)&&!h(t)&&!x(t)}},t.exports});;
Cube("datav:/com/ml-hori-bar-percentage/5.3.3/transform",["datav:/npm/lodash/4.17.11/isUndefined","datav:/npm/lodash/4.17.11/floor","datav:/npm/lodash/4.17.11/get","datav:/npm/lodash/4.17.11/minBy","datav:/npm/lodash/4.17.11/ceil","datav:/npm/lodash/4.17.11/maxBy","datav:/npm/lodash/4.17.11/map","datav:/npm/lodash/4.17.11/slice","datav:/npm/lodash/4.17.11/toNumber"],function(t,e,i,l,o,n){function a(e,t){var i,l=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),l.push.apply(l,i)),l}function Ut(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach(function(t){Vt(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function Vt(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var qt=i("datav:/npm/lodash/4.17.11/isUndefined"),Kt=i("datav:/npm/lodash/4.17.11/floor"),Jt=i("datav:/npm/lodash/4.17.11/get"),Qt=i("datav:/npm/lodash/4.17.11/minBy"),Zt=i("datav:/npm/lodash/4.17.11/ceil"),$t=i("datav:/npm/lodash/4.17.11/maxBy"),_t=i("datav:/npm/lodash/4.17.11/map"),te=i("datav:/npm/lodash/4.17.11/slice"),ee=i("datav:/npm/lodash/4.17.11/toNumber"),ie=i("datav:/com/ml-hori-bar-percentage/5.3.3/customRuleStyle"),i=i("datav:/com/ml-hori-bar-percentage/5.3.3/utils"),le=i.transLineDash,oe=i.transNumberFormatterTooltip,ne=i.transformGradientColor,ae=(i.maximumCal,i.pathDFn),re=i.transformSVGGradientColor,se=i.isValid;return t.exports={transOptionKey:function(Y,t,e,i,l){var t=t.options,o=t.chart,n=o.margin,H=o.customBarWidth,a=o.customBarWidthSet,T=o.connectedArea,d=o.fill,o=o.label,r=o.show,s=o.position,A=o.textStyle,c=o.offset,N=o.labelContent,h=o.describe,o=o.stroke,f=t.legend,X=f.isShow,p=f.layout,m=f.textStyle,E=f.spaceToChart,G=E.spaceChartX,E=E.spaceChartY,y=f.cateLegend,R=y.marker,g=y.markerSpace,U=y.maxItemWidth,y=y.flip,V=y.show,u=y.textStyle,q=y.pageMarker,K=y.flipColor,J=y.inactiveFill,y=y.flipTextColor,f=f.continuousLegend,x=f.handler,b=f.track,f=f.label,S=t.axis,v=S.xaxis,Q=v.isShow,w=v.label,Z=w.show,$=w.valueFormat,W=w.display,_=W.tickCount,tt=W.rotate,et=W.offset,it=W.prefix,lt=W.suffix,W=W.alignment,ot=w.textStyle,w=w.slider,k=v.title,nt=v.axisLine,at=v.tickLine,v=v.grid,S=S.yaxis,rt=S.isShow,st=S.type,C=S.label,dt=C.show,ct=C.valueFormat,ht=C.timeFormat,z=C.display,ft=z.tickCount,pt=z.rotate,mt=z.offset,yt=z.prefix,gt=z.suffix,z=z.alignment,ut=C.textStyle,C=C.slider,F=S.title,xt=S.axisLine,bt=S.tickLine,S=S.grid,O=t.animation,St=O.isShow,vt=O.animationEasing,O=O.duration,t=t.tooltip,P=t.tooltipSet,wt=P.show,Wt=P.position,B=P.titleTextStyle,L=P.contentTextStyle,kt=P.trigger,Ct=P.titleSpace,zt=P.contentSpace,j=P.axisPointer,Ft=j.show,j=j.line,P=P.bgBox,Ot=P.padding,Pt=P.backgroundColor,P=P.border,D=t.active,Bt=D.show,Lt=D.fillSet,jt=Lt.show,Lt=Lt.fill,Dt=D.line,M=D.trigger,D=D.selectType,t=t.interaction,Mt=t.show,It=t.type,Yt=t.defaultExtent,Ht=t.sliderStyle,Tt=t.textStyle,I=t.handlerStyle,At=t.categorySize,t=t.scrollStyle,Nt=X&&d.mapping,Xt=n.show?{padding:[n.top,n.right,n.bottom,n.left]}:{padding:"auto"},Et=null,Et=qt(a)?{minBarWidth:H,maxBarWidth:H}:a.show?{minBarWidth:a.width,maxBarWidth:a.width}:null,H=r?{label:{position:s,offsetX:c.offsetX,offsetY:c.offsetY,style:Ut(Ut({fill:A.color},A),{},{stroke:o.strokeColor,lineWidth:o.lineWidth}),formatter:function(t){t=Jt(t,N);if(se(t))return"x"===N?oe({v:t,type:"linear",format:$,prefix:h.prefix,suffix:h.suffix}):h.prefix+t+h.suffix},animate:St&&{appear:{animation:"scale-in-x"===vt||"scale-in-y"===vt?"zoom-in":vt,duration:O},update:{duration:O}}}}:{label:!1},a=null,r=i.width,s=null,c=i.height,A=(n.show?("left-top"===p||"right-top"===p?(a=0,s=-n.top):"left"===p||"right"===p?s=a=0:"left-bottom"===p||"right-bottom"===p?(a=0,s=n.top):"top-left"!==p&&"bottom-left"!==p||(a=n.left,s=0),r-=n.left,c-=n.top):qt(l)||("top-left"!==p&&"bottom-left"!==p||(a=l.x,r=l.maxWidth),"left-bottom"!==p&&"right-bottom"!==p||(s=l.y,c=l.maxHeight-10),"left-bottom"!==p&&"left-top"!==p&&"left"!==p&&"right-bottom"!==p&&"right-top"!==p&&"right"!==p||(a=8,r=null)),U.show?{maxItemWidth:U.width}:{maxItemWidth:null}),o=g.openselfSpacing?{itemSpacing:g.itemSpacing}:null,i=g.openselfSpacing?{itemMarginBottom:g.itemMarginBottom}:null,n=Nt?{legend:Ut(Ut(Ut({},o),i),{},{position:p,flipPage:V,offsetX:a+G,offsetY:-s+E,maxWidth:r,maxHeight:c,pageNavigator:{marker:{style:{size:q.pageSize,fill:q.flipColor||K,inactiveFill:q.inactiveFill||J}},text:{style:{fontSize:u.fontSize,fill:u.color||y,fontWeight:u.fontWeight,fontFamily:u.fontFamily}}},itemHeight:16,radio:{style:{fill:"rgba(0,0,0,0)",stroke:m.color}},marker:{style:{r:R.size},spacing:qt(g.openselfSpacing)||g.openselfSpacing?g.spacing:4,symbol:R.shape},itemName:{style:{fill:m.color,fontFamily:m.fontFamily,fontSize:m.fontSize,fontWeight:m.fontWeight,border:0}},handler:{size:x.size,style:{fill:x.fill}},min:"auto"===x.min?Kt(Jt(Qt(e,"colorField"),"colorField"),2):parseInt(x.min),max:"auto"===x.max?Zt(Jt($t(e,"colorField"),"colorField"),2):parseInt(x.max),rail:{type:b.type,size:b.height,defaultLength:b.width,style:{fill:b.railColor}},label:{align:f.alignHorizon,spacing:f.spacing,style:{fill:m.color,fontFamily:m.fontFamily,fontSize:m.fontSize,fontWeight:m.fontWeight,border:0}},slidable:!0},A)}:{legend:!1},l=Ft?{showCrosshairs:!0,crosshairs:{type:"xy",line:{style:{lineDash:le(j),lineWidth:j.lineWidth,stroke:j.lineColor}}}}:{showCrosshairs:!1},U=Jt(d,"scale.type"),Gt=ae({x:9,y:9,r:5,type:X&&"ordinal"===U?R.shape:"square"}),Nt=wt?{tooltip:Ut(Ut({showTitle:!0,showMarkers:!1,customContent:function(t,r){var s="",e=Jt(r,["0","data","y"],"标题");return _t(r,function(t,e){var i=t.value,l=t.color,t=t.data,o=zt,e=(e===r.length-1&&(o=0),""),n=Jt(d,"fixed").type,n=(Jt(d,"mapping")||"linearGradient"!==n||(a=(n=re(d)).gradientHtml,n=n.id,l="url(#".concat(n,")"),e=a),i.split("")),a=ee(te(n,0,n.length-1).join(""))/100,i=oe({v:a,type:"linear",format:$,prefix:it,suffix:lt});s+='\n                <div\n                  style="\n                    display: flex;\n                    justify-content: left;\n                    align-items: center;\n                    margin-bottom: '.concat(o,"px;\n                    font-size: ").concat(L.fontSize,"px;\n                    line-height: ").concat(L.fontSize,"px;\n                    color: ").concat(L.color,";\n                    font-weight: ").concat(L.fontWeight,";\n                    font-family: ").concat(L.fontFamily,';\n                  "\n                  >\n                  <div style="width: 18px;height: 18px; margin-right: 6px; overflow: hidden;">\n                    <svg>\n                      ').concat(e,'\n                      <path\n                        d="').concat(Gt,'"\n                        stroke="').concat(l,'"\n                        stroke-opacity="1"\n                        opacity="1"\n                        fill="').concat(l,'"\n                      ></path>\n                    </svg>\n                  </div>\n                  <span style="\n                    display: inline-block;\n                    vertical-align: middle;\n                  ">').concat(t.colorField,"： ").concat(i,"</span>\n                </div>\n              ")}),'\n                <div\n                  style="\n                    font-size: '.concat(B.fontSize,"px;\n                    line-height: ").concat(B.fontSize,"px;\n                    color: ").concat(B.color,";\n                    font-weight: ").concat(B.fontWeight,";\n                    font-family: ").concat(B.fontFamily,";\n                    margin-bottom: ").concat(Ct,'px;\n                  "\n                >').concat(e,"</div>\n                ").concat(s,"\n            ")},position:Wt},l),{},{domStyles:{"g2-tooltip":{backgroundColor:Pt,border:"".concat(P.borderWidth,"px ").concat(P.borderStyle," ").concat(P.borderColor),padding:"".concat(Ot.paddingY,"px ").concat(Ot.paddingX,"px"),borderRadius:"".concat(P.borderRadius,"px"),boxShadow:"none"}}})}:{tooltip:!1},o=Z?{label:{rotate:Math.PI*tt/180,offset:et,style:Ut({textAlign:W,fill:ot.color},ot),formatter:function(t){return oe({v:t,type:"linear",format:$,prefix:it,suffix:lt})}}}:{label:{style:{fontSize:0}}},i=k.show?{title:{rotate:Math.PI*k.display.rotate/180,offset:k.display.offset,text:k.text,style:Ut({fill:k.textStyle.color},k.textStyle)}}:{},p=nt.show?{line:{style:{stroke:nt.line.lineColor,lineWidth:nt.line.lineWidth,lineDash:le(nt.line)}}}:{line:{style:{lineWidth:0}}},V=at.show?{tickLine:{length:at.line.length,style:Vt({stroke:at.line.lineColor,lineWidth:2},"lineWidth",at.line.lineWidth)}}:{tickLine:{length:0,style:{lineWidth:0}}},a=v.show?{grid:{line:{style:{stroke:v.line.lineColor,lineWidth:v.line.lineWidth,lineDash:le(v.line)}}}}:{grid:{line:{style:{lineWidth:0}}}},G=Q?Ut(Ut(Ut(Ut(Ut({type:"linear",tickCount:_},o),i),p),V),a):{label:!1,tickLine:{style:{lineWidth:0}},line:{style:{lineWidth:0}},grid:{line:{style:{lineWidth:0}}},title:{style:{fontSize:0}}},Rt="linear"===st?ct:ht,s=dt?{label:{rotate:Math.PI*pt/180,offset:mt,style:Ut({textAlign:z,fill:ut.color},ut),formatter:function(t){return oe({v:t,type:st,format:Rt,prefix:yt,suffix:gt})}}}:{label:!1},E=F.show?{title:{rotate:Math.PI*F.display.rotate/180,offset:F.display.offset,text:F.text,style:Ut({fill:F.textStyle.color},F.textStyle)}}:{},r=xt.show?{line:{style:{stroke:xt.line.lineColor,lineWidth:xt.line.lineWidth,lineDash:le(xt.line)}}}:{line:{style:{lineWidth:0}}},c=bt.show?{tickLine:{length:bt.line.length,style:{stroke:bt.line.lineColor,lineWidth:bt.line.lineWidth}}}:{tickLine:{length:0,style:{lineWidth:0}}},K=S.show?{grid:{line:{style:{stroke:S.line.lineColor,lineWidth:S.line.lineWidth,lineDash:le(S.line)}}}}:{grid:{line:{style:{lineWidth:0}}}},q=rt?Ut(Ut(Ut(Ut(Ut({type:st,mask:"timeCat"===st?"YYYY/MM/DD HH:mm:ss":"",tickCount:ft},s),E),r),c),K):{label:!1,tickLine:{style:{lineWidth:0}},line:{style:{lineWidth:0}},grid:{line:{style:{lineWidth:0}}},title:{style:{fontSize:0}}},J=St?{animation:{appear:{animation:vt,duration:O},update:{duration:O}}}:{animation:!1},y=Mt?"slider"===It?{slider:{padding:[0,20,0,0],start:Yt[0],end:Yt[1],height:Ht.height,backgroundStyle:Ut(Ut({},ne(Ht.backgroundColor)),{},{opacity:1}),foregroundStyle:Ut(Ut({},ne(Ht.foregroundColor)),{},{opacity:1}),textStyle:Ut(Ut({},Tt),{},{fill:Tt.color}),handlerStyle:{width:I.size.width,height:I.size.height,fill:I.style.defaultBgColor,highLightFill:I.style.hoverBgColor,opacity:1,radius:I.lineStyle.borderRadius,stroke:I.lineStyle.color,cursor:"pointer"}},scrollbar:!1}:{scrollbar:{type:"vertical",width:At,height:At,style:{trackColor:t.trackColor,thumbColor:t.thumbColor,thumbHighlightColor:t.thumbColor}},slider:!1}:{scrollbar:!1,slider:!1},u=jt?ne(Lt):null,g=Vt({},"click"===M?"selected":"active",!!Bt&&{style:Ut({lineWidth:Dt.lineWidth,lineDash:le(Dt),stroke:Dt.lineColor},u)}),x=T.show?{connectedArea:{trigger:T.type}}:{connectedArea:null},b="multi"===D,m=Ut(Ut(Ut(Ut(Ut(Ut(Ut(Ut({data:e,xField:"x",yField:"y",autoFit:!0},Xt),{},{isPercent:!0,isStack:!0},Et),x),{},{supportCSSTransform:!0,meta:(Vt(f={},"x",{range:[w/100,1-w/100]}),Vt(f,"y",{range:[C/100,1-C/100]}),f)},H),n),{},{xAxis:Ut({},G),yAxis:Ut({},q)},y),Nt),{},{state:Ut({default:{style:{lineWidth:2,fillOpacity:1,stroke:"yellow",fill:"green"}}},g),interactions:[{type:"element-selected",enable:"click"===M&&b},{type:"element-single-selected",enable:"click"===M&&!b},{type:"element-active",enable:"hover"===M&&b},{type:"element-single-active",enable:"hover"===M&&!b},{type:"tooltip",cfg:{start:[{trigger:"element:".concat(kt),action:"tooltip:show"}]}},{type:"active-region"}]},J);return ie({props:m,guiConfig:Y,data:e}),m}},t.exports});;
Cube("datav:/com/ml-hori-bar-percentage/5.3.3",["datav:/npm/bcore/0.0.22/event","datav:/npm/lodash/4.17.11/isUndefined","datav:/npm/lodash/4.17.11/floor","datav:/npm/lodash/4.17.11/get","datav:/npm/lodash/4.17.11/map","datav:/npm/lodash/4.17.11/includes","datav:/npm/lodash/4.17.11/toNumber","datav:/npm/lodash/4.17.11/set","datav:/npm/lodash/4.17.11/cloneDeep","datav:/npm/lodash/4.17.11/filter","datav:/npm/lodash/4.17.11/every","datav:/npm/lodash/4.17.11/some","datav:/npm/lodash/4.17.11/isArray","datav:/npm/lodash/4.17.11/defaultsDeep","datav:/npm/lodash/4.17.11/isEmpty","datav:/npm/lodash/4.17.11/isEqual","datav:/npm/@antv/g2plot/2.4.23/dist/g2plot.min.js"],function(t,e,i,o,n,a){function l(e,t){var i,o=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,i)),o}function w(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?l(Object(i),!0).forEach(function(t){b(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function b(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var s=i("datav:/npm/bcore/0.0.22/event"),f=i("datav:/npm/lodash/4.17.11/isUndefined"),r=i("datav:/npm/lodash/4.17.11/floor"),C=i("datav:/npm/lodash/4.17.11/get"),c=i("datav:/npm/lodash/4.17.11/map"),h=i("datav:/npm/lodash/4.17.11/includes"),g=i("datav:/npm/lodash/4.17.11/toNumber"),d=i("datav:/npm/lodash/4.17.11/set"),p=i("datav:/npm/lodash/4.17.11/cloneDeep"),u=i("datav:/npm/lodash/4.17.11/filter"),m=i("datav:/npm/lodash/4.17.11/every"),v=i("datav:/npm/lodash/4.17.11/some"),x=i("datav:/npm/lodash/4.17.11/isArray"),O=i("datav:/npm/lodash/4.17.11/defaultsDeep"),y=i("datav:/npm/lodash/4.17.11/isEmpty"),S=i("datav:/npm/lodash/4.17.11/isEqual"),z=i("datav:/npm/@antv/g2plot/2.4.23/dist/g2plot.min.js"),k=z.Bar,z=z.G2,L=i("datav:/com/ml-hori-bar-percentage/5.3.3/transform").transOptionKey,i=i("datav:/com/ml-hori-bar-percentage/5.3.3/utils"),D=i.handleTimeCatNull,j=i.locationInfo,T=i.handleRate,F=i.transformGradientColor,P=i.isValid;return z.registerInteraction("element-single-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),z.registerInteraction("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:toggle"}]}),t.exports=s.extend(function(t,e){this.config={options:{chart:{fill:{mapping:!0,fixed:{type:"flat",value:"#2483ff"},scale:{type:"ordinal",scheme:"cat-1",custom:!1,range:["#34fff5","#2dc0ee","#2782e7"],domain:[],excepted:"yellow",abnormal:"transparent"}},connectedArea:{show:!1,type:"hover"},label:{describe:{prefix:"",suffix:""}},pattern:{show:!1}},tooltip:{active:{fill:{type:"linearGradient",value:{angle:90,stops:[{offset:0,color:"#00ff95"},{offset:100,color:"rgba(88, 142, 233, 0.5)"}]}},fillSet:{show:!1,fill:{type:"linearGradient",value:{angle:90,stops:[{offset:0,color:"#00ff95"},{offset:100,color:"rgba(88, 142, 233, 0.5)"}]}}}}},legend:{spaceToChart:{spaceChartX:0,spaceChartY:0},cateLegend:{markerSpace:{itemSpacing:null,itemMarginBottom:null},flip:{flipColor:"#000",inactiveFill:"#000",flipTextColor:"rgb(144, 160, 174)",textStyle:{fontFamily:"Arial",fontWeight:"normal",fontSize:12},pageMarker:{pageSize:12}},maxItemWidth:{show:!1,width:100}}},condition:{customStyle:[{rules:{operator:"OR",enabled:!1,expressions:[{operator:"AND",expressions:[["colorField","eq","差"]]}]},fill:{show:!0,value:"#ff0000",type:"flat"}}]}}},this.container=t,this.apis=e.apis,this._data=null,this.chart=null,this.guiConfig=null,this.newData=[],this.containerSize=null,this.init(e)},{init:function(t){this.mergeConfig(t);t=window.getComputedStyle(this.container,null);this.containerSize={width:g((this.container.style.width||t.getPropertyValue("width")).slice(0,-2)),height:g((this.container.style.height||t.getPropertyValue("height")).slice(0,-2))}},initChart:function(t){this.chart=new k(this.container,t),this.chart.render()},handleNonstandardData:function(t){var i=["x","y","colorField"],t=p(t);return u(t,function(t){return m(t,function(t,e){return h(i,e)})})},isHighlight:function(t){var e=t.item,t=t.data;return v(t,function(t){return v([e],t)})},render:function(t,e){var i=this,o=this.mergeConfig(e);(t=this.data(t,o))&&(D(o),this.guiConfig=L(this.config,o,p(t),this.containerSize),this.chart&&this.chart.destroy(),this.initChart(this.guiConfig),this.newData=T(this._data),e=j(this.chart),this.guiConfig=L(this.config,o,p(t),this.containerSize,e),this.chart.update(this.guiConfig),this.chart.off(),o.options.tooltip&&o.options.tooltip.active&&o.options.tooltip.active.trigger&&o.options.tooltip.active.show&&(t=o.options.tooltip.active.trigger,this.chart.on("element:".concat("click"===t?t:"mouseenter"),function(){var t=u(c(i.chart.getStates(),function(t){return("selected"===t.state||"active"===t.state)&&t.data}),Boolean);i.emit("itemSelect","multi"===o.options.tooltip.active.selectType?t:t&&t[0])})),this.chart.on("contextmenu",function(t){var e=C(t,"data.data");i.emit("onContextMenu",e,t)}),this.chart.on("legend-item:click",function(t){var t=C(t,"target.cfg.delegateObject.item"),e=t.value,t=t.unchecked;i.emit("legendSelect",{value:e,checked:!t})}))},resize:function(t,e){this.render(this._data,this.config)},setColors:function(){},data:function(t,e){return t&&(this.__data=t),this._data=p(this.__data),x(this._data)&&this._data.filter(function(t){return P(t.x)&&P(t.y)}).map(function(t){return P(t.colorField)&&(t.colorField="ordinal"===e.options.chart.fill.scale.type?""+t.colorField:g(t.colorField)),isNaN(g(t.x))||(t.x=g(t.x)),t})},mergeConfig:function(t){return t&&(0===Object.keys(this.config).length?this.config=t:(this.config.theme=O(t.theme||{},this.config.theme),this.setColors(),C(t,"options.chart.fill.scale.range")&&d(this.config,"options.chart.fill.scale.range",C(t,"options.chart.fill.scale.range")),C(t,"options.condition")&&d(this.config,"options.condition",C(t,"options.condition")),C(t,"options.tooltip.tooltipSet.series")&&d(this.config,"options.tooltip.tooltipSet.series",C(t,"options.tooltip.tooltipSet.series")),this.config=O(t||{},this.config))),this.config},getColorableConfig:function(t){var e,i,o,n,a;return!t||y(t)?{}:(e=t.textColor,i=t.axisColor,o=t.palette,t=t.bgColor,n="",a=function(){return{label:{textStyle:{color:i}},title:{textStyle:{color:i}},axisLine:{line:{lineColor:i}},tickLine:{line:{lineColor:i}},grid:{line:{lineColor:i}}}},{options:{chart:{fill:{fixed:{type:"flat",value:n=o&&0<o.length?o[r(o.length/2)]:n},scale:{range:c(C(this.config,"options.chart.fill.scale.range"),function(t,e){return o[e]||o[e%o.length]})}},label:{textStyle:{color:e}}},axis:{xaxis:a(),yaxis:a()},tooltip:{tooltipSet:{titleTextStyle:{color:e},contentTextStyle:{color:e},bgBox:{backgroundColor:t,border:{borderColor:t}}}},legend:{textStyle:{color:i},continuousLegend:{handler:{fill:i},track:{railColor:t}}}}})},getThemableConfig:function(t,e){var i,o,n,a,l,s,r,c,h,d,p=this.config.options,f=p.chart.label.textStyle,g=p.axis,u=g.xaxis,m=u.label,u=u.title,g=g.yaxis,v=g.label,g=g.title,x=p.tooltip,p=p.legend,e=e||{},y=e.color,S=e.font,e=e.complexity,y=this.getColorableConfig(y||t),t={},f=(S&&(i=function(t,e){return void 0===C(S,t)?{}:b({},e,C(S,t))},n="family",a="fontFamily",l="weight",s="fontWeight",r="color.primary",c="color.secondary",h="color",d="lineColor",t={options:{chart:{label:{textStyle:w(w(w({fontSize:C(S,o="size",0)+f.fontSize},i(n,a)),i(l,s)),i(r,h))}},axis:{xaxis:{title:{textStyle:w(w(w({fontSize:C(S,o,0)+u.textStyle.fontSize},i(n,a)),i(l,s)),i(c,h))},label:{textStyle:w(w(w({fontSize:C(S,o,0)+m.textStyle.fontSize},i(n,a)),i(l,s)),i(c,h))},axisLine:{line:w({},i(c,d))},tickLine:{line:w({},i(c,d))}},yaxis:{title:{textStyle:w(w(w({fontSize:C(S,o,0)+g.textStyle.fontSize},i(n,a)),i(l,s)),i(c,h))},label:{textStyle:w(w(w({fontSize:C(S,o,0)+v.textStyle.fontSize},i(n,a)),i(l,s)),i(c,h))},axisLine:{line:w({},i(c,d))},tickLine:{line:w({},i(c,d))}}},tooltip:{tooltipSet:{titleTextStyle:w(w(w({fontSize:C(S,o,0)+x.tooltipSet.titleTextStyle.fontSize},i(n,a)),i(l,s)),i(r,h)),contentTextStyle:w(w(w({fontSize:C(S,o,0)+x.tooltipSet.contentTextStyle.fontSize},i(n,a)),i(l,s)),i(r,h))}},legend:{textStyle:w(w(w({fontSize:C(S,o,0)+p.textStyle.fontSize},i(n,a)),i(l,s)),i(c,h))}}}),{});return"L0"===e?f={options:{chart:{connectedArea:{show:!1},label:{show:!1}},axis:{xaxis:{isShow:!1},yaxis:{isShow:!1}},tooltip:{tooltipSet:{show:!0},active:{show:!0},interaction:{show:!1}},legend:{isShow:!1}}}:"L1"===e?f={options:{chart:{connectedArea:{show:!1},label:{show:!1}},axis:{xaxis:{isShow:!0,axisLine:{show:!0},label:{show:!0},grid:{show:!0},title:{show:!1},tickLine:{show:!1}},yaxis:{isShow:!0,axisLine:{show:!0},label:{show:!0},grid:{show:!0},title:{show:!1},tickLine:{show:!1}}},tooltip:{tooltipSet:{show:!0},active:{show:!0},interaction:{show:!1}},legend:{isShow:!0}}}:"L2"===e&&(f={options:{chart:{connectedArea:{show:!1},label:{show:!0}},axis:{xaxis:{isShow:!0,axisLine:{show:!0},label:{show:!0},grid:{show:!0},title:{show:!0},tickLine:{show:!0}},yaxis:{isShow:!0,axisLine:{show:!0},label:{show:!0},grid:{show:!0},title:{show:!0},tickLine:{show:!0}}},tooltip:{tooltipSet:{show:!0},active:{show:!0},interaction:{show:!0}},legend:{isShow:!0}}}),O({},f,t,y)},highlight:function(t){var i=this,o=t.data,t=t.style;if(Object.keys(o).length<=0)return!1;var e=this,n=C(this.config,"options.tooltip.active"),a=n.show,l=n.selectType,s=n.fillSet,r=s.show,s=s.fill,c=n.line,n="click"===n.trigger?"selected":"active",r=f(t)||y(t)?{fillStyle:r?F(s).fill:"",stroke:c.lineColor}:w({},t),s=b({},n,!!a&&{style:w({},r)}),h=[];if(x(o))for(var d=0;d<o.length;d++)!function(e){each(i.newData,function(t){v([t],o[e])&&h.push(omit(w(w({},t),{},{x:t.rate}),"rate"))})}(d);else h=u(this.newData,function(t){return v([t],o)})[0],h=omit(w(w({},h),{},{x:h.rate}),"rate");this.chart.update(w(w({},this.guiConfig),{},{state:w(w({},this.guiConfig.state),s)}));var p=x(h)?h:[h],p=S(this.prevOriginData,h)?this.prevFilterData:this.handleNonstandardData(p);p="single"===l?[p[0]]:p,this.chart.setState(n,function(t){return t=w(w({},t),{},{x:g(t.x.toFixed(2))}),e.isHighlight({item:t,data:p})}),this.prevOriginData=h,this.prevFilterData=p},reset:function(){var t="click"===C(this.config,"options.tooltip.active").trigger?"selected":"active";this.chart.update(this.guiConfig),this.chart.setState(t,function(){})},destroy:function(){this.chart&&this.chart.destroy(),this.chart=null,this._data=null,this.container&&(this.container.innerHTML="")}}),t.exports});