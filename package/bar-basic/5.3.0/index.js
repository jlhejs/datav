// env=undefined => env=publish 
Cube("datav:/com/bar-basic/5.3.0/customRuleStyle",["datav:/npm/lodash/4.17.11/set","datav:/npm/lodash/4.17.11/get","datav:/npm/lodash/4.17.11/some","datav:/npm/lodash/4.17.11/has","datav:/npm/alibabacloud-datav-tool-gui-utils/1.0.2"],function(t,e,o,a,r,l){function n(e,t){var o,a=Object.keys(e);return Object.getOwnPropertySymbols&&(o=Object.getOwnPropertySymbols(e),t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,o)),a}function h(a){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){var e,o;e=a,o=r[t=t],t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(r,t))})}return a}var g=o("datav:/npm/lodash/4.17.11/set"),m=o("datav:/npm/lodash/4.17.11/get"),y=o("datav:/npm/lodash/4.17.11/some"),O=o("datav:/npm/lodash/4.17.11/has"),w=o("datav:/com/bar-basic/5.3.0/utils").transformGradientColor,o=o("datav:/npm/alibabacloud-datav-tool-gui-utils/1.0.2"),j=o.scale,S=o.validateCustomStyle,k="colorField",P=["fill"];return t.exports=function(){var t,a,o,r,l,n,i,s,c,u,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},d=e.props,p=e.guiConfig,e=e.data,p=(void 0===p?{}:p).options,f=p.chart,v=f.fill,f=f.pattern,b=p.condition.customStyle,p=p.legend.isShow;t=(d={props:void 0===d?{}:d,customStyle:b,fill:v,data:e,show:p,pattern:f}).props,a=d.customStyle,b=d.fill,v=d.data,d.show,d=d.pattern,e=y(v,function(t){return O(t,"colorField")}),g(t,"seriesField",e||t.isGroup&&t.isStack?k:null),o=m(j,"color.g2plot")({config:b,data:v,field:k}),g(t,"color",o),g(t,"columnStyle",function(){var e={fill:o(arguments.length<=0?void 0:arguments[0]),radius:t.radius};return S({config:a,data:arguments.length<=0?void 0:arguments[0],ruleKey:"rules"}).forEach(function(o){var t=P.reduce(function(t,e){return o[e]&&o[e].show&&(t[e]=o[e]&&o[e].value),h(h({},t),w(t.fill))},{});Object.assign(e,t)}),e}),r=d.show,l=d.type,n=d.patternFill,i=d.lineFill,s=d.patternStroke,c=d.dotCfg,u=d.lineCfg,r&&g(t,"pattern",function(t,e){var o={backgroundColor:e},e=(S({config:a,data:t,ruleKey:"rules"}).forEach(function(t){t=t.fill;o=t.show?{backgroundColor:w(t.value).fill}:o}),r?"line"===l?u:c:"");return{type:l,cfg:h(h({},o),{},{fill:n.fill,fillOpacity:1,strokeOpacity:1,stroke:"line"===l?i.stroke:s.show?s.stroke:"rgba(255,255,255,0)",lineWidth:"line"===l?i.lineWidth:s.show?s.lineWidth:0},e)}})},t.exports});;
Cube("datav:/com/bar-basic/5.3.0/utils",["datav:/npm/lodash/4.17.11/toNumber","datav:/npm/lodash/4.17.11/forEach","datav:/npm/lodash/4.17.11/isNumber","datav:/npm/lodash/4.17.11/map","datav:/npm/lodash/4.17.11/get","datav:/npm/lodash/4.17.11/set","datav:/npm/lodash/4.17.11/trim","datav:/npm/lodash/4.17.11/isUndefined","datav:/npm/lodash/4.17.11/isNull","datav:/npm/lodash/4.17.11/min","datav:/npm/lodash/4.17.11/max","datav:/npm/lodash/4.17.11/isNaN","datav:/npm/moment/2.27.0","datav:/npm/d3-format/3.1.0"],function(a,t,n,i,o,e){function L(a){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function l(a){var t=a.x,n=a.y,i=a.r,a=a.type,o=i/2*Math.sqrt(3),e=i*Math.sin(1/3*Math.PI);return{line:[["M",t-3*i,n],["L",t+3*i,n]],lineEllipsis:[["M",t-3*i,n],["L",t-2*i,n],["M",t-i,n],["L",t,n],["M",t+i,n],["L",t+2*i,n],["M",t+3*i,n],["L",t+4*i,n]],smooth:[["M",t-i,n],["A",i/2,i/2,0,1,1,t,n],["A",i/2,i/2,0,1,0,t+i,n]],smoothEllipsis:[["M",150,100],["C",150,72.4,72.4,50,100,50]],step:[["M",t-i-1,n-2.5],["L",t,n-2.5],["L",t,n+2.5],["L",t+i+1,n+2.5]],stepEllipsis:[["M",t-i-1,n-2.5],["L",t-i+3,n-2.5],["M",t-i/2+2,n-2.5],["L",t,n-2.5],["L",t,n+2.5],["L",t+4,n+2.5],["M",t+i/2+3,n+2.5],["L",t+i+1,n+2.5]],circle:[["M",t,n+i],["A",i,i,0,0,0,t+i,n],["M",t,n+i],["A",i,i,0,1,1,t+i,n]],circleLine:[["M",t-3*i,n],["L",t-i,n],["M",t+i,n],["L",t+3*i,n],["M",t,n+i],["A",i,i,0,0,0,t+i,n],["M",t,n+i],["A",i,i,0,1,1,t+i,n]],circleEllipsis:[["M",t-3*i,n],["L",t-2*i,n],["M",t-i-i/2,n],["L",t-i-2,n],["M",t+i+2,n],["L",t+i+i/2,n],["M",t+3*i,n],["L",t+2*i,n],["M",t,n+i],["A",i,i,0,0,0,t+i,n],["M",t,n+i],["A",i,i,0,1,1,t+i,n]],square:[["M",t-i,n-i],["L",t+i,n-i],["L",t+i,n+i],["L",t-i,n+i],["Z"]],squareLine:[["M",t-3*i,n],["L",t-i,n],["M",t+i,n],["L",t+3*i,n],["M",t-i,n-i],["L",t+i,n-i],["L",t+i,n+i],["L",t-i,n+i],["Z"]],squareEllipsis:[["M",t-3*i,n],["L",t-2*i,n],["M",t-i-i/2,n],["L",t-i-2,n],["M",t+i+2,n],["L",t+i+i/2,n],["M",t+3*i,n],["L",t+2*i,n],["M",t-i,n-i],["L",t+i,n-i],["L",t+i,n+i],["L",t-i,n+i],["Z"]],hexagon:[["M",t,n-i-2],["L",t+o+1,n-i/2-1],["L",t+o+1,n+i/2+1],["L",t,n+i+1+1],["L",t-o-1,n+i/2+1],["L",t-o-1,n-i/2-1],["Z"]],hexagonLine:[["M",t-3*i,n],["L",t-i-(i<=3?1:0),n],["M",t+i+(i<=3?1:0),n],["L",t+3*i,n],["M",t,n-i-2],["L",t+o+1,n-i/2-1],["L",t+o+1,n+i/2+1],["L",t,n+i+1+1],["L",t-o-1,n+i/2+1],["L",t-o-1,n-i/2-1],["Z"]],hexagonEllipsis:[["M",t-3*i,n],["L",t-2*i,n],["M",t-i-i/2,n],["L",t-i-1,n],["M",t+i+1,n],["L",t+i+i/2,n],["M",t+3*i,n],["L",t+2*i,n],["M",t,n-i-2],["L",t+o+1,n-i/2-1],["L",t+o+1,n+i/2+1],["L",t,n+i+1+1],["L",t-o-1,n+i/2+1],["L",t-o-1,n-i/2-1],["Z"]],diamond:[["M",t-i-2,n],["L",t,n-i-2],["L",t+i+2,n],["L",t,n+i+2],["Z"]],diamondLine:[["M",t-3*i,n],["L",t-i-1,n],["M",t+i+1,n],["L",t+3*i,n],["M",t-i-2,n],["L",t,n-i-2],["L",t+i+2,n],["L",t,n+i+2],["Z"]],diamondEllipsis:[["M",t-3*i,n],["L",t-2*i,n],["M",t-i-i/2,n],["L",t-i-2,n],["M",t+i+2,n],["L",t+i+i/2,n],["M",t+3*i,n],["L",t+2*i,n],["M",t-i-2,n],["L",t,n-i-2],["L",t+i+2,n],["L",t,n+i+2],["Z"]],triangle:[["M",t-i,n+e],["L",t,n-e],["L",t+i,n+e],["z"]],triangleLine:[["M",t-3*i,n],["L",t-i+i/2,n],["M",t+i-i/2,n],["L",t+3*i,n],["M",t-i,n+e],["L",t,n-e],["L",t+i,n+e],["z"]],triangleEllipsis:[["M",t-3*i,n],["L",t-2*i,n],["M",t-i-i/2,n],["L",t-i/2,n],["M",t+i/2,n],["L",t+i+i/2,n],["M",t+3*i,n],["L",t+2*i,n],["M",t-i,n+e],["L",t,n-e],["L",t+i,n+e],["z"]],"triangle-down":[["M",t-i,n-e],["L",t+i,n-e],["L",t,n+e],["Z"]],triangleDownLine:[["M",t-3*i,n],["L",t-i+i/2,n],["M",t+i-i/2,n],["L",t+3*i,n],["M",t-i,n-e],["L",t+i,n-e],["L",t,n+e],["Z"]],triangleDownEllipsis:[["M",t-3*i,n],["L",t-2*i,n],["M",t-i-i/2,n],["L",t-i/2,n],["M",t+i/2,n],["L",t+i+i/2,n],["M",t+3*i,n],["L",t+2*i,n],["M",t-i,n-e],["L",t+i,n-e],["L",t,n+e],["Z"]],bowtie:[["M",t-i,n-e],["L",t+i,n+e],["L",t+i,n-e],["L",t-i,n+e],["Z"]],bowtieLine:[["M",t-3*i,n],["L",t-i,n],["M",t+i,n],["L",t+3*i,n],["M",t-i,n-e],["L",t+i,n+e],["L",t+i,n-e],["L",t-i,n+e],["Z"]],bowtieEllipsis:[["M",t-3*i,n],["L",t-2*i,n],["M",t-i-i/2,n],["L",t-i-2,n],["M",t+i+2,n],["L",t+i+i/2,n],["M",t+3*i,n],["L",t+2*i,n],["M",t-i,n-e],["L",t+i,n+e],["L",t+i,n-e],["L",t-i,n+e],["Z"]]}[a]}var m=n("datav:/npm/lodash/4.17.11/toNumber"),s=n("datav:/npm/lodash/4.17.11/forEach"),r=n("datav:/npm/lodash/4.17.11/isNumber"),d=n("datav:/npm/lodash/4.17.11/map"),p=n("datav:/npm/lodash/4.17.11/get"),M=n("datav:/npm/lodash/4.17.11/set"),u=n("datav:/npm/lodash/4.17.11/trim"),c=n("datav:/npm/lodash/4.17.11/isUndefined"),f=n("datav:/npm/lodash/4.17.11/isNull"),h=n("datav:/npm/lodash/4.17.11/min"),x=n("datav:/npm/lodash/4.17.11/max"),v=n("datav:/npm/lodash/4.17.11/isNaN"),y="linear",g=n("datav:/npm/moment/2.27.0"),b=n("datav:/npm/d3-format/3.1.0").format;return a.exports={transLineDash:function(a){var t=a.lineStyle,n=a.dashedLength,i=a.dashedSpace,o=a.dottedLength,a=a.dottedSpace,e=[];return"solid"===t?e=[1,0]:"dashed"===t?e=[n,i]:"dotted"===t&&(e=[o,a]),e},transNumberFormatterTooltip:function(a){var t=a.v,n=a.type,i=a.format,o=a.prefix,a=a.suffix;return n===y&&"null"!==i?o+b(i)(t)+a:n===y&&"null"===i?o+m(t)+a:"timeCat"===n&&"null"!==i?o+g(t).format(i)+a:o+t+a},transformGradientColor:function(a){var t,n,i;return"object"===L(a)?(n=a.type,t=a.value,"flat"===n?{fill:t}:(t=(n=a.value).angle,n=n.stops,i="",d(n,function(a){var t=a.offset,a=a.color;i+="".concat(t/100,":").concat(a," ")}),{fill:"l(".concat(t,") ").concat(u(i))})):{fill:a}},maximumCalY:function(a){var t=a.extent,n=a.data,a=a.type,i=[];if(d(n,function(a){i.push(a.y)}),"linear"===a)return"min"===t.min&&"max"!==t.max?{max:m(t.max)}:"min"!==t.min&&"max"===t.max?{min:m(t.min)}:"min"!==t.min&&"max"!==t.max?{min:m(t.min),max:m(t.max)}:void 0},maximumCalX:function(a){var t=a.extent,n=a.data,a=a.type,i=[],n=(d(n,function(a){i.push(a.x)}),"min"===t.min?h(i):m(t.min)),t="max"===t.max?x(i):m(t.max);return{min:"linear"===a?n:void 0,max:"linear"===a?t:void 0}},handleTimeCatNull:function(a){var t=p(a,"options.axis.xaxis.type"),t=("null"===p(a,"options.axis.xaxis.label.timeFormat")&&"timeCat"===t&&M(a,"options.axis.xaxis.type","cat"),p(a,"options.axis.yaxis.type"));"null"===p(a,"options.axis.yaxis.label.timeFormat")&&"timeCat"===t&&M(a,"options.axis.yaxis.type","cat")},pathDFn:function(){var a=l(arguments.length<=0?void 0:arguments[0]),t="";return s(a,function(a){s(a,function(a){r(a)?t+=a+",":t+=a}),t+=" "}),t},locationInfo:function(a){var a=a.chart.getController("axis").getComponents(),t=a[0].component.getLayoutBBox(),n=t.height,t=t.width,a=a[2].component.getLayoutBBox();return{x:n,y:a.width,maxWidth:t,maxHeight:a.height}},transformSVGGradientColor:function(a){var t="",a=p(a,"fixed.value"),n=a.angle,a=a.stops,i="grad"+ +new Date,t="<defs><linearGradient id='".concat(i,"' gradientTransform='rotate(").concat(n,")'>");return d(a,function(a){t+='<stop offset="'.concat(a.offset,'" stop-color="').concat(a.color,'"/>')}),{gradientHtml:t+="</linearGradient></defs>",id:i}},isValid:function(a){return!c(a)&&!f(a)&&!v(a)}},a.exports});;
Cube("datav:/com/bar-basic/5.3.0/transform",["datav:/npm/lodash/4.17.11/isUndefined","datav:/npm/lodash/4.17.11/floor","datav:/npm/lodash/4.17.11/get","datav:/npm/lodash/4.17.11/minBy","datav:/npm/lodash/4.17.11/ceil","datav:/npm/lodash/4.17.11/maxBy","datav:/npm/lodash/4.17.11/map","datav:/npm/lodash/4.17.11/forEach","datav:/npm/lodash/4.17.11/find","datav:/npm/lodash/4.17.11/uniqBy"],function(t,e,i,o,n,l){function a(e,t){var i,o=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,i)),o}function re(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach(function(t){se(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function se(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var ce=i("datav:/npm/lodash/4.17.11/isUndefined"),de=i("datav:/npm/lodash/4.17.11/floor"),pe=i("datav:/npm/lodash/4.17.11/get"),fe=i("datav:/npm/lodash/4.17.11/minBy"),he=i("datav:/npm/lodash/4.17.11/ceil"),me=i("datav:/npm/lodash/4.17.11/maxBy"),ye=i("datav:/npm/lodash/4.17.11/map"),ge=i("datav:/npm/lodash/4.17.11/forEach"),ue=i("datav:/npm/lodash/4.17.11/find"),xe=i("datav:/npm/lodash/4.17.11/uniqBy"),be=i("datav:/com/bar-basic/5.3.0/customRuleStyle"),i=i("datav:/com/bar-basic/5.3.0/utils"),ve=i.transLineDash,Se=i.transformGradientColor,we=i.maximumCalY,ke=i.transNumberFormatterTooltip,We=i.pathDFn,Ce=i.transformSVGGradientColor,ze=i.isValid;return t.exports={transOptionKey:function(Y,N,t,T,e){var i=N.options,o=i.chart,n=o.margin,H=o.typeStyle,l=o.groupSpaceSet,A=o.groupSpace,E=o.groupInnerSpace,R=o.customBarWidth,G=o.radius,X=o.connectedArea,h=o.fill,m=o.isCustom,o=(o.barBgColor,o.label),q=o.show,a=o.position,r=o.textStyle,s=o.offset,V=o.labelContent,U=o.valueFormat,K=o.describe,o=o.stroke,c=i.legend,J=c.isShow,d=c.layout,p=c.textStyle,Q=c.spaceToChart,Z=Q.spaceChartX,Q=Q.spaceChartY,f=c.cateLegend,$=f.marker,y=f.markerSpace,g=f.maxItemWidth,f=f.flip,_=f.show,u=f.textStyle,tt=f.pageMarker,et=f.flipColor,it=f.inactiveFill,ot=f.flipTextColor,f=f.maxRow,c=c.continuousLegend,x=c.handler,nt=c.track,c=c.label,b=i.axis,v=b.xaxis,lt=v.isShow,S=(v.extent,v.type),w=v.label,at=w.show,rt=w.timeFormat,st=w.valueFormat,k=w.display,ct=k.tickCount,dt=k.rotate,pt=k.offset,ft=k.prefix,ht=k.suffix,k=k.alignment,mt=w.textStyle,yt=w.sliderSet,w=w.slider,W=v.title,gt=v.axisLine,ut=v.tickLine,v=v.grid,b=b.yaxis,xt=b.isShow,bt=b.extent,C=b.type,z=b.label,vt=z.show,St=z.valueFormat,wt=z.timeFormat,F=z.display,kt=F.tickCount,Wt=F.rotate,Ct=F.offset,zt=F.prefix,Ft=F.suffix,F=F.alignment,Ot=z.textStyle,z=z.slider,O=b.title,Pt=b.axisLine,Bt=b.tickLine,b=b.grid,P=i.animation,Lt=P.isShow,jt=P.animationEasing,P=P.duration,i=i.tooltip,B=i.tooltipSet,Dt=B.show,It=B.position,Mt=B.titleTextStyle,L=B.contentTextStyle,Yt=B.trigger,Nt=B.titleSpace,Tt=B.contentSpace,Ht=B.suffix,j=B.axisPointer,At=j.show,j=j.line,D=B.bgBox,Et=D.padding,Rt=D.backgroundColor,D=D.border,I=B.series,B=i.active,Gt=B.show,Xt=B.fillSet,qt=Xt.show,Xt=Xt.fill,Vt=B.line,Ut=B.trigger,B=B.selectType,i=i.interaction,Kt=i.show,Jt=i.type,Qt=i.defaultExtent,Zt=i.sliderStyle,$t=i.textStyle,M=i.handlerStyle,_t=i.categorySize,i=i.scrollStyle,te=J&&h.mapping,ee=n.show?{padding:[n.top,n.right,n.bottom,n.left]}:{padding:"auto"},R=R.show?{minColumnWidth:R.width,maxColumnWidth:R.width}:{},q=q?{label:{position:a,offsetX:s.offsetX,offsetY:s.offsetY,style:re(re({fill:r.color},r),{},{stroke:o.strokeColor,lineWidth:o.lineWidth}),formatter:function(t){t=pe(t,V);if(ze(t))return"y"===V?ke({v:t,type:"linear",format:U,prefix:K.prefix,suffix:K.suffix}):K.prefix+t+K.suffix},animate:Lt&&{appear:{animation:"scale-in-x"===jt||"scale-in-y"===jt?"zoom-in":jt,duration:P},update:{duration:P}}}}:{label:!1},a=null,s=T.width,r=null,o=T.height,T=(n.show?("left-top"===d||"right-top"===d?(a=0,r=-n.top):"left"===d||"right"===d?r=a=0:"left-bottom"===d||"right-bottom"===d?(a=0,r=n.top):"top-left"!==d&&"bottom-left"!==d||(a=n.left,r=0),s-=n.left,o-=n.top):ce(e)||("top-left"!==d&&"bottom-left"!==d||(a=e.y,s=e.maxWidth),"left-bottom"!==d&&"right-bottom"!==d||(r=e.x,o=e.maxHeight-10),"left-bottom"!==d&&"left-top"!==d&&"left"!==d&&"right-bottom"!==d&&"right-top"!==d&&"right"!==d||(a=8,s=null)),g.show?{maxItemWidth:g.width}:{maxItemWidth:null}),n=y.openselfSpacing?{itemSpacing:y.itemSpacing}:null,e=y.openselfSpacing?{itemMarginBottom:y.itemMarginBottom}:null,g="top-left"===d||"top"===d||"top-right"===d||"bottom-left"===d||"bottom"===d||"bottom-right"===d?c.alignHorizon:c.alignVerizon,te=te?{legend:re(re(re({},n),e),{},{position:d,flipPage:_,maxRow:f,offsetX:a+Z,offsetY:-r+Q,maxWidth:s,maxHeight:o,pageNavigator:{marker:{style:{size:tt.pageSize,fill:tt.flipColor||et,inactiveFill:tt.inactiveFill||it}},text:{style:{fontSize:u.fontSize,fill:u.color||ot,fontWeight:u.fontWeight,fontFamily:u.fontFamily}}},itemHeight:16,radio:{style:{fill:"rgba(0,0,0,0)",stroke:p.color}},marker:{style:{r:$.size},spacing:ce(y.openselfSpacing)||y.openselfSpacing?y.spacing:4,symbol:$.shape},itemName:{style:{fill:p.color,fontFamily:p.fontFamily,fontSize:p.fontSize,fontWeight:p.fontWeight,border:0}},handler:{size:x.size,style:{fill:x.fill}},min:"auto"===x.min?de(pe(fe(t,"colorField"),"colorField"),2):parseInt(x.min),max:"auto"===x.max?he(pe(me(t,"colorField"),"colorField"),2):parseInt(x.max),rail:{type:nt.type,size:nt.height,defaultLength:nt.width,style:{fill:nt.railColor}},label:{align:g,spacing:c.spacing,style:{fill:p.color,fontFamily:p.fontFamily,fontSize:p.fontSize,fontWeight:p.fontWeight,border:0}},slidable:!0},T)}:{legend:!1},n=At?{showCrosshairs:!0,crosshairs:{type:"xy",line:{style:{lineDash:ve(j),lineWidth:j.lineWidth,stroke:j.lineColor}}}}:{showCrosshairs:!1},ie=[],e=(ye(I,function(t){return ie.push(t.columnName)}),pe(h,"scale.type")),oe=We({x:9,y:9,r:5,type:J&&"ordinal"===e?$.shape:"square"}),ne=pe(N,"options.tooltip.tooltipSet.mode"),d=Dt?{tooltip:re(re({fields:"simple"===ne?null:ie,showMarkers:!1,customContent:function(t,p){var e=xe(p,"data"),f="",i=pe(e,["0","data","x"],"标题");return ye(e,function(t,e){var n=null,i=t.data,t=t.color,l="",a=t,t=pe(h,"fixed").type;if(pe(h,"mapping")||"linearGradient"!==t||(o=(t=Ce(h)).gradientHtml,t=t.id,a="url(#".concat(t,")"),l=o),"simple"===ne){var t=ke({v:pe(i,"y"),type:C,format:ae,prefix:zt,suffix:Ft}),o=pe(i,"colorField")||ke({v:pe(i,"x"),type:S,format:le,prefix:ft,suffix:ht}),r=pe(i,"trace"),r=m?o+"-"+r+"："+t:o+"："+t;f+='\n                    <div\n                      style="\n                        display: flex;\n                        justify-content: left;\n                        align-items: center;\n                        margin-bottom: '.concat(Tt,"px;\n                        font-size: ").concat(L.fontSize,"px;\n                        line-height: ").concat(L.fontSize,"px;\n                        color: ").concat(L.color,";\n                        font-weight: ").concat(L.fontWeight,";\n                        font-family: ").concat(L.fontFamily,';\n                      "\n                      >\n                        <div style="width: 18px;height: 18px; margin-right: 6px; overflow: hidden;">\n                          <svg>\n                            ').concat(l,'\n                            <path d="').concat(oe,'" stroke="').concat(a,'" stroke-opacity="1" opacity="1" fill="').concat(a,'"></path>\n                          </svg>\n                        </div>\n                        <span\n                          style="\n                            display: inline-block;\n                            vertical-align: middle;\n                          "\n                          >\n                          ').concat(r).concat(Ht,"\n                        </span>\n                    </div>")}else if(I&&0<I.length){for(var s in i)!function(e){ge(I,function(t){t.columnName===e&&(n=re(re({},n),{},se({},e,i[e])))})}(s);e===p.length-1&&(isSpace=0);var c,d=0;for(c in n)!function(e){var t=n[e],i=("x"===e&&(t=ke({v:t,type:S,format:le,prefix:ft,suffix:ht})),"y"===e&&(t=ke({v:t,type:C,format:ae,prefix:zt,suffix:Ft})),pe(ue(I,function(t){return e===t.columnName}),"suffix")),o=ue(I,function(t){return t.columnName===e}),o=o.displayName||o.columnName;f+='\n                      <div\n                        style="\n                          display: flex;\n                          justify-content: left;\n                          align-items: center;\n                          margin-bottom: '.concat(Tt,"px;\n                          font-size: ").concat(L.fontSize,"px;\n                          line-height: ").concat(L.fontSize,"px;\n                          color: ").concat(L.color,";\n                          font-weight: ").concat(L.fontWeight,";\n                          font-family: ").concat(L.fontFamily,';\n                        "\n                        ><div style="width: 18px;height: 18px; margin-right: 6px; overflow: hidden;">'),0===d&&(f+="\n                            <svg>\n                              ".concat(l,'\n                              <path d="').concat(oe,'" stroke="').concat(a,'" stroke-opacity="1" opacity="1" fill="').concat(a,'"></path>\n                            </svg>\n                          ')),f+='</div><span style="\n                          display: inline-block;\n                          vertical-align: middle;\n                        ">'.concat(o,"： ").concat(t).concat(i,"</span>\n                      </div>\n                    "),d++}(c)}}),'\n                <div style="margin-bottom: -'.concat(Tt,'px;">\n                  <div\n                    style="\n                      font-size: ').concat(Mt.fontSize,"px;\n                      line-height: ").concat(Mt.fontSize,"px;\n                      color: ").concat(Mt.color,";\n                      font-weight: ").concat(Mt.fontWeight,";\n                      font-family: ").concat(Mt.fontFamily,";\n                      margin-bottom: ").concat(Nt,'px;\n                    "\n                  >').concat(i,"</div>\n                  ").concat(f,"\n                </div>\n            ")},position:It},n),{},{domStyles:{"g2-tooltip":{backgroundColor:Rt,border:"".concat(D.borderWidth,"px ").concat(D.borderStyle," ").concat(D.borderColor),padding:"".concat(Et.paddingY,"px ").concat(Et.paddingX,"px"),borderRadius:"".concat(D.borderRadius,"px"),boxShadow:"none"}}})}:{tooltip:!1},le="linear"===S?st:rt,_=at?{label:{rotate:Math.PI*dt/180,offset:pt,style:re({textAlign:k,fill:mt.color},mt),formatter:function(t){return ke({v:t,type:S,format:le,prefix:ft,suffix:ht})}}}:{label:{style:{fontSize:0}}},f=W.show?{title:{rotate:Math.PI*W.display.rotate/180,offset:W.display.offset,text:W.text,style:re({fill:W.textStyle.color},W.textStyle)}}:{title:{style:{fontSize:0}}},a=gt.show?{line:{style:{stroke:gt.line.lineColor,lineWidth:gt.line.lineWidth,lineDash:ve(gt.line)}}}:{line:{style:{lineWidth:0}}},Z=ut.show?{tickLine:{length:ut.line.length,style:se({stroke:ut.line.lineColor,lineWidth:2},"lineWidth",ut.line.lineWidth)}}:{tickLine:{length:0,style:{lineWidth:0}}},r=v.show?{grid:{line:{style:{stroke:v.line.lineColor,lineWidth:v.line.lineWidth,lineDash:ve(v.line)}}}}:{grid:{line:{style:{lineWidth:0}}}},Q=lt?re(re(re(re(re({type:"linear"===S?"cat":S,mask:"timeCat"===S?"YYYY/MM/DD HH:mm:ss":"",tickCount:ct},_),f),a),Z),r):{label:!1,tickLine:{style:{lineWidth:0}},line:{style:{lineWidth:0}},grid:{line:{style:{lineWidth:0}}},title:{style:{fontSize:0}}},ae="linear"===C?St:wt,s=vt?{label:{rotate:Math.PI*Wt/180,offset:Ct,style:re({textAlign:F,fill:Ot.color},Ot),formatter:function(t){return ke({v:t,type:C,format:ae,prefix:zt,suffix:Ft})}}}:{label:!1},o=O.show?{title:{rotate:Math.PI*O.display.rotate/180,offset:O.display.offset,text:O.text,style:re({fill:O.textStyle.color},O.textStyle)}}:{},et=Pt.show?{line:{style:{stroke:Pt.line.lineColor,lineWidth:Pt.line.lineWidth,lineDash:ve(Pt.line)}}}:{line:{style:{lineWidth:0}}},tt=Bt.show?{tickLine:{length:Bt.line.length,style:{stroke:Bt.line.lineColor,lineWidth:Bt.line.lineWidth}}}:{tickLine:{length:0,style:{lineWidth:0}}},it=b.show?{grid:{line:{style:{stroke:b.line.lineColor,lineWidth:b.line.lineWidth,lineDash:ve(b.line)}}}}:{grid:{line:{style:{lineWidth:0}}}},ot=xt?re(re(re(re(re(re({type:C},we({extent:bt,data:t,type:C})),{},{tickCount:kt},s),o),et),tt),it):{label:!1,tickLine:{style:{lineWidth:0}},line:{style:{lineWidth:0}},grid:{line:{style:{lineWidth:0}}},title:{style:{fontSize:0}}},u=Lt?{animation:{appear:{animation:jt,duration:P},update:{duration:P}}}:{animation:!1},y=Kt?"slider"===Jt?{slider:{padding:[0,20,0,0],start:Qt[0],end:Qt[1],height:Zt.height,backgroundStyle:re(re({},Se(Zt.backgroundColor)),{},{opacity:1}),foregroundStyle:re(re({},Se(Zt.foregroundColor)),{},{opacity:1}),textStyle:re(re({},$t),{},{fill:$t.color}),handlerStyle:{width:M.size.width,height:M.size.height,fill:M.style.defaultBgColor,highLightFill:M.style.hoverBgColor,opacity:1,radius:M.lineStyle.borderRadius,stroke:M.lineStyle.color,cursor:"pointer"}},scrollbar:!1}:{scrollbar:{type:"horizontal",width:_t,height:_t,style:{trackColor:i.trackColor,thumbColor:i.thumbColor,thumbHighlightColor:i.thumbColor}},slider:!1}:{scrollbar:!1,slider:!1},x=qt?Se(Xt):null,nt=se({},"click"===Ut?"selected":"active",!!Gt&&{style:re({lineWidth:Vt.lineWidth,lineDash:ve(Vt),stroke:Vt.lineColor},x)}),g="multi"===B,c=X.show?{connectedArea:{trigger:X.type}}:{connectedArea:null},p=ce(l)?E:("group"===H||m)&&l.show?l.groupInnerSpace:null,T=ce(l)?A:("group"===H||m)&&l.show?l.groupSpace:null,At=ce(yt)?se({},"x",{range:[w/100,1-w/100]}):yt.show?se({},"x",{range:[yt.slider/100,1-yt.slider/100]}):{},j={radius:[G.leftTop,G.rightTop,G.rightBottom,G.leftBottom]},J=re(re(re(re(re(re(re(re(re({data:t,xField:"x",yField:"y",autoFit:!0,isStack:!("stack"!==H&&!m),isGroup:!("group"!==H&&!m),groupField:m?"trace":"colorField"},ee),R),c),{},{dodgePadding:p,intervalPadding:T,supportCSSTransform:!0,rawFields:["trace"],meta:re(re({},At),{},se({},"y",{range:[z/100,1-z/100]}))},q),te),j),{},{xAxis:re({},Q),yAxis:re({},ot)},y),d),{},{state:re({default:{style:{lineWidth:2,fillOpacity:1,stroke:"yellow",fill:"green"}}},nt),interactions:[{type:"element-selected",enable:"click"===Ut&&g},{type:"element-single-selected",enable:"click"===Ut&&!g},{type:"element-active",enable:"hover"===Ut&&g},{type:"element-single-active",enable:"hover"===Ut&&!g},{type:"tooltip",cfg:{start:[{trigger:"plot:".concat(Yt),action:"tooltip:show"}]}},{type:"active-region"}]},u);return be({props:J,guiConfig:Y,data:t}),J}},t.exports});;
Cube("datav:/com/bar-basic/5.3.0",["datav:/npm/bcore/0.0.22/event","datav:/npm/lodash/4.17.11/isUndefined","datav:/npm/lodash/4.17.11/floor","datav:/npm/lodash/4.17.11/get","datav:/npm/lodash/4.17.11/map","datav:/npm/lodash/4.17.11/includes","datav:/npm/lodash/4.17.11/toNumber","datav:/npm/lodash/4.17.11/set","datav:/npm/lodash/4.17.11/cloneDeep","datav:/npm/lodash/4.17.11/filter","datav:/npm/lodash/4.17.11/every","datav:/npm/lodash/4.17.11/some","datav:/npm/lodash/4.17.11/isArray","datav:/npm/lodash/4.17.11/defaultsDeep","datav:/npm/lodash/4.17.11/isEmpty","datav:/npm/lodash/4.17.11/isEqual","datav:/npm/lodash/4.17.11/orderBy","datav:/npm/lodash/4.17.11/isNumber","datav:/npm/@antv/g2plot/2.4.22/dist/g2plot.min.js"],function(t,e,i,o,a,n){function l(e,t){var i,o=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,i)),o}function w(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?l(Object(i),!0).forEach(function(t){b(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function b(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var s=i("datav:/npm/bcore/0.0.22/event"),h=i("datav:/npm/lodash/4.17.11/isUndefined"),r=i("datav:/npm/lodash/4.17.11/floor"),C=i("datav:/npm/lodash/4.17.11/get"),c=i("datav:/npm/lodash/4.17.11/map"),d=i("datav:/npm/lodash/4.17.11/includes"),p=i("datav:/npm/lodash/4.17.11/toNumber"),f=i("datav:/npm/lodash/4.17.11/set"),g=i("datav:/npm/lodash/4.17.11/cloneDeep"),u=i("datav:/npm/lodash/4.17.11/filter"),m=i("datav:/npm/lodash/4.17.11/every"),v=i("datav:/npm/lodash/4.17.11/some"),x=i("datav:/npm/lodash/4.17.11/isArray"),z=i("datav:/npm/lodash/4.17.11/defaultsDeep"),y=i("datav:/npm/lodash/4.17.11/isEmpty"),S=i("datav:/npm/lodash/4.17.11/isEqual"),O=i("datav:/npm/lodash/4.17.11/orderBy"),k=i("datav:/npm/lodash/4.17.11/isNumber"),L=i("datav:/npm/@antv/g2plot/2.4.22/dist/g2plot.min.js"),N=L.Column,L=L.G2,j=i("datav:/com/bar-basic/5.3.0/transform").transOptionKey,i=i("datav:/com/bar-basic/5.3.0/utils"),D=i.handleTimeCatNull,_=i.locationInfo,F=i.transformGradientColor,T=i.isValid;return L.registerInteraction("element-single-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),L.registerInteraction("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:toggle"}]}),t.exports=s.extend(function(t,e){this.config={options:{chart:{fill:{mapping:!0,fixed:{type:"flat",value:"#2483ff"},scale:{type:"threshold",scheme:"seq-2",custom:!1,range:["#34fff5","#31e0f2","#2dc0ee","#2aa1eb","#2782e7","#2362e4"],domain:[],excepted:"yellow",abnormal:"transparent",pin:[!1,!1,!1,!1,!1,!1]}},connectedArea:{show:!1,type:"hover"},label:{valueFormat:"null",describe:{prefix:"",suffix:""}},radius:{leftTop:0,rightTop:0,rightBottom:0,leftBottom:0},pattern:{show:!1}},tooltip:{tooltipSet:{suffix:"",series:[{columnName:"colorField",displayName:"类别"},{columnName:"y",displayName:"数量"}]},active:{fill:{default:{type:"linearGradient",value:{angle:90,stops:[{offset:0,color:"#00ff95"},{offset:100,color:"rgba(88, 142, 233, 0.5)"}]}}},fillSet:{show:!1,fill:{default:{type:"linearGradient",value:{angle:90,stops:[{offset:0,color:"#00ff95"},{offset:100,color:"rgba(88, 142, 233, 0.5)"}]}}}}}},legend:{spaceToChart:{spaceChartX:0,spaceChartY:0},continuousLegend:{label:{alignVerizon:"rail"}},cateLegend:{markerSpace:{itemSpacing:null,itemMarginBottom:null},flip:{flipColor:"#000",inactiveFill:"#000",flipTextColor:"rgb(144, 160, 174)",textStyle:{fontFamily:"Arial",fontWeight:"normal",fontSize:12},pageMarker:{pageSize:12},maxRow:1},maxItemWidth:{show:!1,width:100}}},condition:{customStyle:[{rules:{operator:"AND",enabled:!1,expressions:[{operator:"AND",expressions:[["colorField","eq","100"]]}]},fill:{show:!0,value:"#f00",type:"flat"}}]}}},this.container=t,this.apis=e.apis,this._data=null,this.chart=null,this.guiConfig=null,this.containerSize=null,this.init(e)},{init:function(t){this.mergeConfig(t);t=window.getComputedStyle(this.container,null);this.containerSize={width:p((this.container.style.width||t.getPropertyValue("width")).slice(0,-2)),height:p((this.container.style.height||t.getPropertyValue("height")).slice(0,-2))}},initChart:function(t){this.chart=new N(this.container,t),this.chart.render()},handleNonstandardData:function(t){var i=["x","y","colorField","trace"],t=g(t);return u(t,function(t){return m(t,function(t,e){return d(i,e)})})},isHighlight:function(t){var e=t.item,t=t.data;return v(t,function(t){return v([e],t)})},render:function(t,e){var i=this,o=this.mergeConfig(e);(t=this.data(t,o))&&(D(o),this.guiConfig=j(this.config,o,g(t),this.containerSize),this.chart&&this.chart.destroy(),this.initChart(this.guiConfig),e=_(this.chart),this.guiConfig=j(this.config,o,g(t),this.containerSize,e),this.chart.update(this.guiConfig),this.chart.off(),o.options.tooltip&&o.options.tooltip.active&&o.options.tooltip.active.trigger&&o.options.tooltip.active.show&&(t=o.options.tooltip.active.trigger,this.chart.on("element:".concat("click"===t?t:"mouseenter"),function(){var t=u(c(i.chart.getStates(),function(t){return("selected"===t.state||"active"===t.state)&&t.data}),Boolean);i.emit("itemSelect","multi"===o.options.tooltip.active.selectType?t:t&&t[0])})),this.chart.on("contextmenu",function(t){var e=C(t,"data.data");i.emit("onContextMenu",e,t)}),this.chart.on("legend-item:click",function(t){var t=C(t,"target.cfg.delegateObject.item"),e=t.value,t=t.unchecked;i.emit("legendClick",{value:e,checked:!t}),i.emit("legendSelect",{value:e,checked:!t})}))},resize:function(t,e){this.containerSize={width:t,height:e}},setColors:function(){},data:function(t,e){t&&(this.__data=t),this._data=g(this.__data);var t=C(e,"options.axis.xaxis.type"),i=C(e,"options.axis.xaxis.extent");return"linear"===t&&(this._data=O(this._data,["x"],["asc"]),"min"!==i.min&&(this._data=u(this._data,function(t){return t.x>=i.min})),"max"!==i.max&&(this._data=u(this._data,function(t){return t.x<=i.max}))),x(this._data)&&this._data.filter(function(t){return T(t.x)&&T(t.y)}).map(function(t){return T(t.colorField)&&(t.colorField="ordinal"===e.options.chart.fill.scale.type?""+t.colorField:p(t.colorField)),isNaN(p(t.y))||(t.y=p(t.y)),k(t.x)&&(t.x=t.x+""),t})},mergeConfig:function(t){return t&&(0===Object.keys(this.config).length?this.config=t:(this.config.theme=z(t.theme||{},this.config.theme),this.setColors(),C(t,"options.chart.fill.scale.range")&&f(this.config,"options.chart.fill.scale.range",C(t,"options.chart.fill.scale.range")),C(t,"options.condition")&&f(this.config,"options.condition",C(t,"options.condition")),C(t,"options.tooltip.tooltipSet.series")&&(t.options.tooltip.tooltipSet.series=t.options.tooltip.tooltipSet.series.map(function(t){return t.columnName=t.columnName||"y",t.displayName=t.displayName||"数量",t.suffix=t.suffix||"",t}),f(this.config,"options.tooltip.tooltipSet.series",C(t,"options.tooltip.tooltipSet.series"))),this.config=z(t||{},this.config))),this.config},getColorableConfig:function(t){var e,i,o,a,n;return!t||y(t)?{}:(e=t.textColor,i=t.axisColor,o=t.palette,t=t.bgColor,a="",n=function(){return{label:{textStyle:{color:i}},title:{textStyle:{color:i}},axisLine:{line:{lineColor:i}},tickLine:{line:{lineColor:i}}}},{options:{chart:{fill:{fixed:{type:"flat",value:a=o&&0<o.length?o[r(o.length/2)]:a},scale:{range:c(C(this.config,"options.chart.fill.scale.range"),function(t,e){return o[e]||o[e%o.length]})}},label:{textStyle:{color:e}}},axis:{xaxis:n(),yaxis:n()},legend:{textStyle:{color:i},continuousLegend:{handler:{fill:i},track:{railColor:t}}}}})},getThemableConfig:function(t,e){var i,o,a,n,l,s,r,c,h,d,p=this.config.options,f=p.chart.label.textStyle,g=p.axis,u=g.xaxis,m=u.label,u=u.title,g=g.yaxis,v=g.label,g=g.title,x=p.tooltip,p=p.legend,e=e||{},y=e.color,S=e.font,e=e.complexity,y=this.getColorableConfig(y||t),t={},f=(S&&(i=function(t,e){return void 0===C(S,t)?{}:b({},e,C(S,t))},a="family",n="fontFamily",l="weight",s="fontWeight",r="color.primary",c="color.secondary",h="color",d="lineColor",t={options:{chart:{label:{textStyle:w(w(w({fontSize:C(S,o="size",0)+f.fontSize},i(a,n)),i(l,s)),i(r,h))}},axis:{xaxis:{title:{textStyle:w(w(w({fontSize:C(S,o,0)+u.textStyle.fontSize},i(a,n)),i(l,s)),i(c,h))},label:{textStyle:w(w(w({fontSize:C(S,o,0)+m.textStyle.fontSize},i(a,n)),i(l,s)),i(c,h))},axisLine:{line:w({},i(c,d))},tickLine:{line:w({},i(c,d))}},yaxis:{title:{textStyle:w(w(w({fontSize:C(S,o,0)+g.textStyle.fontSize},i(a,n)),i(l,s)),i(c,h))},label:{textStyle:w(w(w({fontSize:C(S,o,0)+v.textStyle.fontSize},i(a,n)),i(l,s)),i(c,h))},axisLine:{line:w({},i(c,d))},tickLine:{line:w({},i(c,d))}}},tooltip:{tooltipSet:{titleTextStyle:w(w(w({fontSize:C(S,o,0)+x.tooltipSet.titleTextStyle.fontSize},i(a,n)),i(l,s)),i(r,h)),contentTextStyle:w(w(w({fontSize:C(S,o,0)+x.tooltipSet.contentTextStyle.fontSize},i(a,n)),i(l,s)),i(r,h))}},legend:{textStyle:w(w(w({fontSize:C(S,o,0)+p.textStyle.fontSize},i(a,n)),i(l,s)),i(c,h))}}}),{});return"L0"===e?f={options:{chart:{connectedArea:{show:!1},label:{show:!1}},axis:{xaxis:{isShow:!1},yaxis:{isShow:!1}},tooltip:{tooltipSet:{show:!0},active:{show:!0},interaction:{show:!1}},legend:{isShow:!1}}}:"L1"===e?f={options:{chart:{connectedArea:{show:!1},label:{show:!1}},axis:{xaxis:{isShow:!0,axisLine:{show:!0},label:{show:!0},grid:{show:!0},title:{show:!1},tickLine:{show:!1}},yaxis:{isShow:!0,axisLine:{show:!0},label:{show:!0},grid:{show:!0},title:{show:!1},tickLine:{show:!1}}},tooltip:{tooltipSet:{show:!0},active:{show:!0},interaction:{show:!1}},legend:{isShow:!0}}}:"L2"===e&&(f={options:{chart:{connectedArea:{show:!1},label:{show:!0}},axis:{xaxis:{isShow:!0,axisLine:{show:!0},label:{show:!0},grid:{show:!0},title:{show:!0},tickLine:{show:!0}},yaxis:{isShow:!0,axisLine:{show:!0},label:{show:!0},grid:{show:!0},title:{show:!0},tickLine:{show:!0}}},tooltip:{tooltipSet:{show:!0},active:{show:!0},interaction:{show:!0}},legend:{isShow:!0}}}),z({},f,t,y)},highlight:function(t){var e=t.data,t=t.style;if(Object.keys(e).length<=0)return!1;var i=this,o=C(this.config,"options.tooltip.active"),a=o.show,n=o.selectType,l=o.fillSet,s=l.show,l=l.fill,r=o.line,o="click"===o.trigger?"selected":"active",s=h(t)||y(t)?{fillStyle:s?F(l).fill:"",stroke:r.lineColor}:w({},t),l=b({},o,!!a&&{style:w({},s)}),c=(this.chart.update(w(w({},this.guiConfig),{},{state:w(w({},this.guiConfig.state),l)})),x(e)?e:[e]),c=S(this.prevOriginData,e)?this.prevFilterData:this.handleNonstandardData(c);c="single"===n?[c[0]]:c,this.chart.setState(o,function(t){return i.isHighlight({item:t,data:c})}),this.prevOriginData=e,this.prevFilterData=c},reset:function(){var t="click"===C(this.config,"options.tooltip.active").trigger?"selected":"active";this.chart.update(this.guiConfig),this.chart.setState(t,function(){})},destroy:function(){this.chart&&this.chart.destroy(),this.chart=null,this._data=null,this.container&&(this.container.innerHTML="")}}),t.exports});