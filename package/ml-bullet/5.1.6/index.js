// env=undefined => env=publish 
Cube("datav:/com/ml-bullet/5.1.6/customRuleStyle",["datav:/npm/lodash/4.17.11/set","datav:/npm/alibabacloud-datav-tool-gui-utils/1.0.0"],function(t,e,a,o,r,l){var i=a("datav:/npm/lodash/4.17.11/set"),u=a("datav:/com/ml-bullet/5.1.6/utils").transLineDash,s=a("datav:/npm/alibabacloud-datav-tool-gui-utils/1.0.0").validateCustomStyle,c=30,g=20,d=20;return t.exports=function(){var r,t,a,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=e.props,l=e.guiConfig,e=(e.data,(void 0===l?{}:l).options),l=e.chart,n=l.targetSet.targetStyle.target,l=l.customSize,e=e.condition.customStyle;e=(o={props:void 0===o?{}:o,customStyle:e,target:n,customSize:l}).props,r=o.customStyle,t=o.target,a=o.customSize,i(e,"bulletStyle.range",function(){for(var t=arguments.length,a=new Array(t),e=0;e<t;e++)a[e]=arguments[e];var o={};return s({config:r,data:a[0],ruleKey:"rules"}).forEach(function(t){var e=a[0].rKey,t=t.rangeColor,e=e&&e.split("_")[1];o={fill:t[e]&&t[e].color}}),o}),i(e,"bulletStyle.measure",function(){for(var t=arguments.length,a=new Array(t),e=0;e<t;e++)a[e]=arguments[e];var o={};return s({config:r,data:a[0],ruleKey:"rules"}).forEach(function(t){var e=a[0].mKey,t=t.measureColor,e=e&&e.split("_")[1];o={fill:t[e]&&t[e].color}}),o}),i(e,"bulletStyle.target",function(){var e={lineDash:u(t),lineWidth:t.lineWidth,stroke:t.color};return s({config:r,data:arguments.length<=0?void 0:arguments[0],ruleKey:"rules"}).forEach(function(t){t=t.targetStyle.target,t=t.show?{stroke:t.color,lineWidth:t.lineWidth,lineDash:u(t)}:{};Object.assign(e,t)}),e}),i(e,"size.range",function(){var e=a.show?a.rangeSize:c;return s({config:r,data:arguments.length<=0?void 0:arguments[0],ruleKey:"rules"}).forEach(function(t){t=t.customSize;e=t.show?t.rangeSize:e}),e}),i(e,"size.measure",function(){var e=a.show?a.measureSize:g;return s({config:r,data:arguments.length<=0?void 0:arguments[0],ruleKey:"rules"}).forEach(function(t){t=t.customSize;e=t.show?t.measureSize:e}),e}),i(e,"size.target",function(){var e=a.show?a.targetSize:d;return s({config:r,data:arguments.length<=0?void 0:arguments[0],ruleKey:"rules"}).forEach(function(t){t=t.customSize;e=t.show?t.targetSize:e}),e})},t.exports});;
Cube("datav:/com/ml-bullet/5.1.6/utils",["datav:/npm/lodash/4.17.11/toNumber","datav:/npm/lodash/4.17.11/map","datav:/npm/lodash/4.17.11/isUndefined","datav:/npm/lodash/4.17.11/concat","datav:/npm/lodash/4.17.11/forEach","datav:/npm/lodash/4.17.11/trim","datav:/npm/lodash/4.17.11/isNull","datav:/npm/lodash/4.17.11/isNumber","datav:/npm/lodash/4.17.11/min","datav:/npm/lodash/4.17.11/max","datav:/npm/lodash/4.17.11/isNaN","datav:/npm/moment/2.27.0","datav:/npm/d3-format/3.1.0"],function(t,n,a,e,o,r){function i(n,t){var a,e=Object.keys(n);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(n),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),e.push.apply(e,a)),e}function l(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach(function(t){var n,a;n=e,a=o[t=t],t in n?Object.defineProperty(n,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[t]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function L(t){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t){var n=t.x,a=t.y,e=t.r,t=t.type,o=e/2*Math.sqrt(3),r=e*Math.sin(1/3*Math.PI);return{line:[["M",n,a-3*e-12],["L",n,a+3*e-8]],lineEllipsis:[["M",n-3*e,a],["L",n-2*e,a],["M",n-e,a],["L",n,a],["M",n+e,a],["L",n+2*e,a],["M",n+3*e,a],["L",n+4*e,a]],smooth:[["M",n-e,a],["A",e/2,e/2,0,1,1,n,a],["A",e/2,e/2,0,1,0,n+e,a]],smoothEllipsis:[["M",150,100],["C",150,72.4,72.4,50,100,50]],step:[["M",n-e-1,a-2.5],["L",n,a-2.5],["L",n,a+2.5],["L",n+e+1,a+2.5]],stepEllipsis:[["M",n-e-1,a-2.5],["L",n-e+3,a-2.5],["M",n-e/2+2,a-2.5],["L",n,a-2.5],["L",n,a+2.5],["L",n+4,a+2.5],["M",n+e/2+3,a+2.5],["L",n+e+1,a+2.5]],circle:[["M",n,a+e],["A",e,e,0,0,0,n+e,a],["M",n,a+e],["A",e,e,0,1,1,n+e,a]],circleLine:[["M",n-3*e,a],["L",n-e,a],["M",n+e,a],["L",n+3*e,a],["M",n,a+e],["A",e,e,0,0,0,n+e,a],["M",n,a+e],["A",e,e,0,1,1,n+e,a]],circleEllipsis:[["M",n-3*e,a],["L",n-2*e,a],["M",n-e-e/2,a],["L",n-e-2,a],["M",n+e+2,a],["L",n+e+e/2,a],["M",n+3*e,a],["L",n+2*e,a],["M",n,a+e],["A",e,e,0,0,0,n+e,a],["M",n,a+e],["A",e,e,0,1,1,n+e,a]],square:[["M",n-e,a-e],["L",n+e,a-e],["L",n+e,a+e],["L",n-e,a+e],["Z"]],squareLine:[["M",n-3*e,a],["L",n-e,a],["M",n+e,a],["L",n+3*e,a],["M",n-e,a-e],["L",n+e,a-e],["L",n+e,a+e],["L",n-e,a+e],["Z"]],squareEllipsis:[["M",n-3*e,a],["L",n-2*e,a],["M",n-e-e/2,a],["L",n-e-2,a],["M",n+e+2,a],["L",n+e+e/2,a],["M",n+3*e,a],["L",n+2*e,a],["M",n-e,a-e],["L",n+e,a-e],["L",n+e,a+e],["L",n-e,a+e],["Z"]],hexagon:[["M",n,a-e-2],["L",n+o+1,a-e/2-1],["L",n+o+1,a+e/2+1],["L",n,a+e+1+1],["L",n-o-1,a+e/2+1],["L",n-o-1,a-e/2-1],["Z"]],hexagonLine:[["M",n-3*e,a],["L",n-e-(e<=3?1:0),a],["M",n+e+(e<=3?1:0),a],["L",n+3*e,a],["M",n,a-e-2],["L",n+o+1,a-e/2-1],["L",n+o+1,a+e/2+1],["L",n,a+e+1+1],["L",n-o-1,a+e/2+1],["L",n-o-1,a-e/2-1],["Z"]],hexagonEllipsis:[["M",n-3*e,a],["L",n-2*e,a],["M",n-e-e/2,a],["L",n-e-1,a],["M",n+e+1,a],["L",n+e+e/2,a],["M",n+3*e,a],["L",n+2*e,a],["M",n,a-e-2],["L",n+o+1,a-e/2-1],["L",n+o+1,a+e/2+1],["L",n,a+e+1+1],["L",n-o-1,a+e/2+1],["L",n-o-1,a-e/2-1],["Z"]],diamond:[["M",n-e-2,a],["L",n,a-e-2],["L",n+e+2,a],["L",n,a+e+2],["Z"]],diamondLine:[["M",n-3*e,a],["L",n-e-1,a],["M",n+e+1,a],["L",n+3*e,a],["M",n-e-2,a],["L",n,a-e-2],["L",n+e+2,a],["L",n,a+e+2],["Z"]],diamondEllipsis:[["M",n-3*e,a],["L",n-2*e,a],["M",n-e-e/2,a],["L",n-e-2,a],["M",n+e+2,a],["L",n+e+e/2,a],["M",n+3*e,a],["L",n+2*e,a],["M",n-e-2,a],["L",n,a-e-2],["L",n+e+2,a],["L",n,a+e+2],["Z"]],triangle:[["M",n-e,a+r],["L",n,a-r],["L",n+e,a+r],["z"]],triangleLine:[["M",n-3*e,a],["L",n-e+e/2,a],["M",n+e-e/2,a],["L",n+3*e,a],["M",n-e,a+r],["L",n,a-r],["L",n+e,a+r],["z"]],triangleEllipsis:[["M",n-3*e,a],["L",n-2*e,a],["M",n-e-e/2,a],["L",n-e/2,a],["M",n+e/2,a],["L",n+e+e/2,a],["M",n+3*e,a],["L",n+2*e,a],["M",n-e,a+r],["L",n,a-r],["L",n+e,a+r],["z"]],"triangle-down":[["M",n-e,a-r],["L",n+e,a-r],["L",n,a+r],["Z"]],triangleDownLine:[["M",n-3*e,a],["L",n-e+e/2,a],["M",n+e-e/2,a],["L",n+3*e,a],["M",n-e,a-r],["L",n+e,a-r],["L",n,a+r],["Z"]],triangleDownEllipsis:[["M",n-3*e,a],["L",n-2*e,a],["M",n-e-e/2,a],["L",n-e/2,a],["M",n+e/2,a],["L",n+e+e/2,a],["M",n+3*e,a],["L",n+2*e,a],["M",n-e,a-r],["L",n+e,a-r],["L",n,a+r],["Z"]],bowtie:[["M",n-e,a-r],["L",n+e,a+r],["L",n+e,a-r],["L",n-e,a+r],["Z"]],bowtieLine:[["M",n-3*e,a],["L",n-e,a],["M",n+e,a],["L",n+3*e,a],["M",n-e,a-r],["L",n+e,a+r],["L",n+e,a-r],["L",n-e,a+r],["Z"]],bowtieEllipsis:[["M",n-3*e,a],["L",n-2*e,a],["M",n-e-e/2,a],["L",n-e-2,a],["M",n+e+2,a],["L",n+e+e/2,a],["M",n+3*e,a],["L",n+2*e,a],["M",n-e,a-r],["L",n+e,a+r],["L",n+e,a-r],["L",n-e,a+r],["Z"]]}[t]}var d=a("datav:/npm/lodash/4.17.11/toNumber"),m=a("datav:/npm/lodash/4.17.11/map"),c=a("datav:/npm/lodash/4.17.11/isUndefined"),p=a("datav:/npm/lodash/4.17.11/concat"),M=a("datav:/npm/lodash/4.17.11/forEach"),u=a("datav:/npm/lodash/4.17.11/trim"),f=a("datav:/npm/lodash/4.17.11/isNull"),h=a("datav:/npm/lodash/4.17.11/isNumber"),v=a("datav:/npm/lodash/4.17.11/min"),b=a("datav:/npm/lodash/4.17.11/max"),g=a("datav:/npm/lodash/4.17.11/isNaN"),y="linear",x=a("datav:/npm/moment/2.27.0"),O=a("datav:/npm/d3-format/3.1.0").format;return t.exports={transLineDash:function(t){var n=t.lineStyle,a=t.dashedLength,e=t.dashedSpace,o=t.dottedLength,t=t.dottedSpace,r=[];return"solid"===n?r=[1,0]:"dashed"===n?r=[a,e]:"dotted"===n&&(r=[o,t]),r},transformGradientColor:function(t){var n,a,e;return"object"===L(t)?(a=t.type,n=t.value,"flat"===a?{fill:n}:(n=(a=t.value).angle,a=a.stops,e="",m(a,function(t){var n=t.offset,t=t.color;e+="".concat(n/100,":").concat(t," ")}),{fill:"l(".concat(n,") ").concat(u(e))})):{fill:t}},maximumCal:function(t,n,a,e){var o=[],n=(m(n,function(t){o.push(t[e])}),"min"===t.min?v(o):d(t.min)),t="max"===t.max?b(o):d(t.max);return{min:"linear"===a?n:void 0,max:"linear"===a?t:void 0}},pathDFn:function(){var t=s(arguments.length<=0?void 0:arguments[0]),n="";return M(t,function(t){M(t,function(t){h(t)?n+=t+",":n+=t}),n+=" "}),n},transNumberFormatterTooltip:function(t){var n=t.v,a=t.type,e=t.format,o=t.prefix,t=t.suffix;return a===y&&"null"!==e?o+O(e)(n)+t:(a!==y||"null"!==e)&&"timeCat"===a&&"null"!==e?o+x(n).format(e)+t:o+n+t},locationInfo:function(t){var t=t.chart.getController("axis").getComponents(),n=t[0].component.getLayoutBBox(),a=n.width,n=n.height,t=t[2].component.getLayoutBBox();return{x:a,y:t.height,maxWidth:n,maxHeight:t.width}},transColor:function(t){var n=[];return m(t,function(t){return n.push(t.color)}),n},legendColor:function(a,t){var e=[],o=(a.length<t.length&&m(t,function(t,n){n>=a.length&&e.push(a[n%a.length])}),e=p(a,e),[]);return m(t,function(t,n){o.push(l(l({},t),{},{color:e[n].color}))}),o},isValid:function(t){return!c(t)&&!f(t)&&!g(t)}},t.exports});;
Cube("datav:/com/ml-bullet/5.1.6/transform",["datav:/npm/lodash/4.17.11/get","datav:/npm/lodash/4.17.11/cloneDeep","datav:/npm/lodash/4.17.11/map","datav:/npm/lodash/4.17.11/isUndefined","datav:/npm/lodash/4.17.11/concat","datav:/npm/lodash/4.17.11/find","datav:/npm/lodash/4.17.11/forEach"],function(t,e,i,n,o,l){function a(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)),n}function Lt(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach(function(t){jt(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function jt(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Yt=i("datav:/npm/lodash/4.17.11/get"),Mt=i("datav:/npm/lodash/4.17.11/cloneDeep"),Xt=i("datav:/npm/lodash/4.17.11/map"),It=i("datav:/npm/lodash/4.17.11/isUndefined"),Tt=i("datav:/npm/lodash/4.17.11/concat"),Et=i("datav:/npm/lodash/4.17.11/find"),Ht=i("datav:/npm/lodash/4.17.11/forEach"),Nt=i("datav:/com/ml-bullet/5.1.6/customRuleStyle"),i=i("datav:/com/ml-bullet/5.1.6/utils"),At=i.transLineDash,qt=i.transformGradientColor,Bt=i.maximumCal,Rt=i.transNumberFormatterTooltip,Ut=i.pathDFn,Gt=i.transColor,Kt=i.legendColor;return t.exports={transOptionKey:function(I,t,e,i,n){var t=t.options,o=t.chart,l=o.margin,a=o.measureSet,T=(a.measureFill,a.measureColor),a=a.measureLabel,r=o.targetSet,E=r.targetStyle.target,r=r.targetLabel,o=o.rangeSet,H=o.rangeColor,o=o.rangeLabel,s=t.legend,N=s.isShow,f=s.layout,c=s.textStyle,d=s.spaceToChart,A=d.spaceChartX,d=d.spaceChartY,p=s.rangeContent,q=s.measureContent,B=s.targetContent,h=s.markerSpace,m=s.maxItemWidth,s=s.flip,R=s.show,g=s.textStyle,s=s.pageMarker,U=s.flipColor,G=s.inactiveFill,s=s.pageSize,y=t.axis,u=y.yaxis,K=u.isShow,_=u.extent,x=u.type,b=u.label,J=b.show,Q=b.timeFormat,V=b.valueFormat,k=b.display,Z=k.tickCount,$=k.rotate,tt=k.offset,et=k.prefix,it=k.suffix,k=k.alignment,b=b.textStyle,v=u.title,S=u.axisLine,W=u.tickLine,u=u.grid,y=y.xaxis,nt=y.isShow,ot=y.extent,w=y.label,lt=w.show,at=w.valueFormat,C=w.display,rt=C.tickCount,st=C.rotate,ft=C.offset,ct=C.prefix,dt=C.suffix,C=C.alignment,w=w.textStyle,O=y.title,z=y.axisLine,pt=y.tickLine,y=y.grid,F=t.animation,ht=F.isShow,mt=F.animationEasing,F=F.duration,t=t.tooltip,D=t.tooltipSet,gt=D.show,yt=D.position,P=D.titleTextStyle,L=D.contentTextStyle,ut=D.trigger,xt=D.contentSpace,bt=D.titleSpace,j=D.axisPointer,kt=j.show,j=j.line,Y=D.bgBox,vt=Y.padding,St=Y.backgroundColor,Y=Y.border,Wt=D.series,D=t.active,t=D.show,wt=D.fillSet,Ct=wt.show,wt=wt.fill,Ot=D.line,M=D.trigger,D=D.selectType,zt=l.show?{padding:[l.top,l.right,l.bottom,l.left]}:{padding:"auto"},a={measure:!!a.show&&{position:a.position,offsetX:a.offset.offsetX,offsetY:a.offset.offsetY,style:Lt(Lt({fill:a.textStyle.color},a.textStyle),{},{stroke:a.stroke.strokeColor,lineWidth:a.stroke.lineWidth}),animate:ht&&{appear:{animation:mt,duration:F},update:{duration:F}}},range:!!o.show&&{position:o.position,offsetX:o.offset.offsetX,offsetY:o.offset.offsetY,style:Lt(Lt({fill:o.textStyle.color},o.textStyle),{},{stroke:o.stroke.strokeColor,lineWidth:o.stroke.lineWidth}),animate:ht&&{appear:{animation:mt,duration:F},update:{duration:F}}},target:!!r.show&&{offsetX:r.offset.offsetX,offsetY:r.offset.offsetY,style:Lt(Lt({fill:r.textStyle.color},r.textStyle),{},{stroke:r.stroke.strokeColor,lineWidth:r.stroke.lineWidth}),animate:ht&&{appear:{animation:mt,duration:F},update:{duration:F}}}},Ft=[],o=Lt(Lt({},B),{},{color:E.color,name:B.content}),o=Lt(Lt({},o),{},{value:o.name,marker:Lt(Lt({},o.marker),{},{spacing:h.spacing,style:{r:o.marker.size,lineWidth:2,stroke:"line"===o.marker.symbol?o.color:"transparent",fill:o.color}})}),r=Tt(Kt(H,p),Kt(T,q)),p=(Xt(r,function(t){Ft.push(Lt(Lt({},t),{},{value:t.name,marker:Lt(Lt({},t.marker),{},{spacing:h.openselfSpacing?h.spacing:4,style:{r:t.marker.size,fill:t.color,size:10}})}))}),null),r=i.width,X=null,i=i.height,l=(l.show?("left-top"===f||"right-top"===f?(p=0,X=-l.top):"left"===f||"right"===f?X=p=0:"left-bottom"===f||"right-bottom"===f?(p=0,X=l.top):"top-left"!==f&&"bottom-left"!==f||(p=l.left,X=0),r-=l.left,i-=l.top):It(n)||("top-left"!==f&&"bottom-left"!==f||(p=n.x,r=n.maxHeight),"left-bottom"!==f&&"right-bottom"!==f||(X=n.y,i=n.maxWidth-10),"left-bottom"!==f&&"left-top"!==f&&"left"!==f&&"right-bottom"!==f&&"right-top"!==f&&"right"!==f||(p=8,r=null)),m.show?{maxItemWidth:m.width}:{maxItemWidth:null}),n=h.openselfSpacing?{itemSpacing:h.itemSpacing}:null,m=h.openselfSpacing?{itemMarginBottom:h.itemMarginBottom}:null,n=N?{legend:Lt(Lt(Lt({},n),m),{},{position:f,flipPage:R,custom:!0,items:Tt(Ft,o),itemName:{style:{fill:c.color,fontFamily:c.fontFamily,fontSize:c.fontSize,fontWeight:c.fontWeight,border:0}},itemHeight:16,offsetX:p+A,offsetY:-X+d,maxWidth:r,maxHeight:i,pageNavigator:{marker:{style:{size:s,fill:U,inactiveFill:G}},text:{style:{fontSize:g.fontSize,fill:g.color,fontWeight:g.fontWeight,fontFamily:g.fontFamily}}}},l)}:{legend:!1},m=kt?{showCrosshairs:!0,crosshairs:{type:"xy",line:{style:{lineDash:At(j),lineWidth:j.lineWidth,stroke:j.lineColor}}}}:{showCrosshairs:!1},Dt=Mt(e),f=gt?{tooltip:Lt(Lt({showMarkers:!1,customContent:function(e,t){var s,f;if(!(t.length<=0))return s="",f=Et(Dt,function(t){return t.title===e}),Ht(Wt,function(t,e){var i,n,o,l=t.columnName,a=t.displayName,t=Yt(t,"suffix","");if("target"===l)i=Yt(B,"marker.symbol","square"),n=Yt(E,"color","#0a73ff"),o=Rt({v:Yt(f,"target"),type:"linear",format:at,prefix:ct,suffix:dt});else{var r=l.split("_")[1];if(It(r)){if(!f.hasOwnProperty(l))return;o=Yt(f,l)}else i=Yt(q,[r,"marker","symbol"],"square"),n=Yt(T,[r,"color"],"#0a73ff"),o=Rt({v:Yt(f,["measures",r]),type:"linear",format:at,prefix:ct,suffix:dt})}r=Ut({x:9,y:9,r:5,type:N?i:"square"});s+='\n                  <div\n                    style="\n                      display: flex;\n                      justify-content: left;\n                      align-items: center;\n                      margin-bottom: '.concat(xt,"px;\n                      font-size: ").concat(L.fontSize,"px;\n                      line-height: ").concat(L.fontSize,"px;\n                      color: ").concat(L.color,";\n                      font-weight: ").concat(L.fontWeight,";\n                      font-family: ").concat(L.fontFamily,';\n                    "\n                    >\n                    <div style="width: 18px;height: 18px; margin-right: 6px;overflow: hidden;">\n                      <svg>\n                        <path\n                          d="').concat(r,'"\n                          stroke="').concat(n,'"\n                          stroke-opacity="1"\n                          opacity="1"\n                          fill="').concat(n,'"\n                        ></path>\n                      </svg>\n                    </div>\n                    <span style="\n                      display: inline-block;\n                      vertical-align: middle;\n                    ">').concat(a||l,"： ").concat(o).concat(t,"</span>\n                  </div>\n                ")}),'\n                <div style="margin-bottom: -'.concat(xt,'px;">\n                  <div\n                    style="\n                      font-size: ').concat(P.fontSize,"px;\n                      line-height: ").concat(P.fontSize,"px;\n                      color: ").concat(P.color,";\n                      font-weight: ").concat(P.fontWeight,";\n                      font-family: ").concat(P.fontFamily,";\n                      margin-bottom: ").concat(bt,'px;\n                    "\n                  >').concat(e,"</div>\n                  ").concat(s,"\n                </div>\n            ")},position:yt},m),{},{domStyles:{"g2-tooltip":{backgroundColor:St,border:"".concat(Y.borderWidth,"px ").concat(Y.borderStyle," ").concat(Y.borderColor),padding:"".concat(vt.paddingY,"px ").concat(vt.paddingX,"px"),borderRadius:"".concat(Y.borderRadius,"px"),boxShadow:"none"}}})}:{tooltip:!1},Pt="linear"===x?V:Q,R=J?{label:{rotate:Math.PI*$/180,offset:tt,style:Lt({textAlign:k,fill:b.color},b),formatter:function(t){return Rt({v:t,type:x,format:Pt,prefix:et,suffix:it})}}}:{label:{style:{fontSize:0}}},o=v.show?{title:{rotate:Math.PI*v.display.rotate/180,offset:v.display.offset,text:v.text,style:Lt({fill:v.textStyle.color},v.textStyle)}}:{},c=S.show?{line:{style:{stroke:S.line.lineColor,lineWidth:S.line.lineWidth,lineDash:At(S.line)}}}:{line:{style:{lineWidth:0}}},p=W.show?{tickLine:{length:W.line.length,style:jt({stroke:W.line.lineColor,lineWidth:2},"lineWidth",W.line.lineWidth)}}:{tickLine:{length:0,style:{lineWidth:0}}},A=u.show?{grid:{line:{style:{stroke:u.line.lineColor,lineWidth:u.line.lineWidth,lineDash:At(u.line)}}}}:{grid:{line:{style:{lineWidth:0}}}},X=K?Lt(Lt(Lt(Lt(Lt(Lt({type:x,mask:"timeCat"===x?"YYYY/MM/DD HH:mm:ss":"",tickCount:Z},Bt(_,e,x,"x")),R),o),c),p),A):{label:!1,tickLine:{style:{lineWidth:0}},line:{style:{lineWidth:0}},grid:{line:{style:{lineWidth:0}}},title:{style:{fontSize:0}}},d=lt?{label:{rotate:Math.PI*st/180,offset:ft,style:Lt({textAlign:C,fill:w.color},w),formatter:function(t){return Rt({v:t,type:"linear",format:at,prefix:ct,suffix:dt})}}}:{label:{style:{fontSize:0}}},r=O.show?{title:{rotate:Math.PI*O.display.rotate/180,offset:O.display.offset,text:O.text,style:Lt({fill:O.textStyle.color},O.textStyle)}}:{},i=z.show?{line:{style:{stroke:z.line.lineColor,lineWidth:z.line.lineWidth,lineDash:At(z.line)}}}:{line:{style:{lineWidth:0}}},s=pt.show?{tickLine:{length:pt.line.length,style:{stroke:pt.line.lineColor,lineWidth:pt.line.lineWidth}}}:{tickLine:{length:0,style:{lineWidth:0}}},U=y.show?{grid:{line:{style:{stroke:y.line.lineColor,lineWidth:y.line.lineWidth,lineDash:At(y.line)}}}}:{grid:{line:{style:{lineWidth:0}}}},G=nt?Lt(Lt(Lt(Lt(Lt(Lt({type:"linear"},Bt(ot,e,"linear","y")),{},{tickCount:rt},d),r),i),s),U):{label:!1,tickLine:{style:{lineWidth:0}},line:{style:{lineWidth:0}},grid:{line:{style:{lineWidth:0}}},title:{style:{fontSize:0}}},g=ht?{animation:{appear:{animation:mt,duration:F},update:{duration:F}}}:{animation:!1},l=Ct?qt(wt):null,kt=jt({},"click"===M?"selected":"active",!!t&&{style:Lt({lineWidth:Ot.lineWidth,lineDash:At(Ot),stroke:Ot.lineColor},l)}),j="multi"===D,gt=Lt(Lt(Lt(Lt({data:e,measureField:"measures",rangeField:"ranges",targetField:"target",xField:"title",autoFit:!0},zt),{},{supportCSSTransform:!0,color:{range:Gt(H),measure:Gt(T),target:E.color},label:Lt({},a)},n),{},{xAxis:Lt({},X),yAxis:Lt({},G)},f),{},{state:Lt({default:{style:{fillOpacity:1,stroke:"transparent",fill:"green"}}},kt),interactions:[{type:"element-selected",enable:"click"===M&&j},{type:"element-single-selected",enable:"click"===M&&!j},{type:"element-active",enable:"hover"===M&&j},{type:"element-single-active",enable:"hover"===M&&!j},{type:"tooltip",cfg:{start:[{trigger:"element:".concat(ut),action:"tooltip:show"}]}},{type:"active-region"}]},g);return Nt({props:gt,guiConfig:I,data:e}),gt}},t.exports});;
Cube("datav:/com/ml-bullet/5.1.6",["datav:/npm/bcore/0.0.22/event","datav:/npm/lodash/4.17.11/get","datav:/npm/lodash/4.17.11/set","datav:/npm/lodash/4.17.11/toNumber","datav:/npm/lodash/4.17.11/cloneDeep","datav:/npm/lodash/4.17.11/filter","datav:/npm/lodash/4.17.11/every","datav:/npm/lodash/4.17.11/includes","datav:/npm/lodash/4.17.11/some","datav:/npm/lodash/4.17.11/map","datav:/npm/lodash/4.17.11/isArray","datav:/npm/lodash/4.17.11/defaultsDeep","datav:/npm/lodash/4.17.11/floor","datav:/npm/lodash/4.17.11/isUndefined","datav:/npm/lodash/4.17.11/isEmpty","datav:/npm/lodash/4.17.11/isEqual","datav:/npm/lodash/4.17.11/reverse","datav:/npm/@antv/g2plot/2.4.23/dist/g2plot.min.js"],function(t,e,i,o,n,a){function r(e,t){var i,o=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,i)),o}function C(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach(function(t){z(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function z(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function s(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){var i;if(t)return"string"==typeof t?l(t,e):"Map"===(i="Object"===(i=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:i)||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?l(t,e):void 0}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}var h=i("datav:/npm/bcore/0.0.22/event"),L=i("datav:/npm/lodash/4.17.11/get"),c=i("datav:/npm/lodash/4.17.11/set"),d=i("datav:/npm/lodash/4.17.11/toNumber"),p=i("datav:/npm/lodash/4.17.11/cloneDeep"),g=i("datav:/npm/lodash/4.17.11/filter"),u=i("datav:/npm/lodash/4.17.11/every"),f=i("datav:/npm/lodash/4.17.11/includes"),m=i("datav:/npm/lodash/4.17.11/some"),S=i("datav:/npm/lodash/4.17.11/map"),v=i("datav:/npm/lodash/4.17.11/isArray"),O=i("datav:/npm/lodash/4.17.11/defaultsDeep"),y=i("datav:/npm/lodash/4.17.11/floor"),x=i("datav:/npm/lodash/4.17.11/isUndefined"),w=i("datav:/npm/lodash/4.17.11/isEmpty"),b=i("datav:/npm/lodash/4.17.11/isEqual"),j=i("datav:/npm/lodash/4.17.11/reverse"),k=i("datav:/npm/@antv/g2plot/2.4.23/dist/g2plot.min.js"),D=k.Bullet,k=k.G2,A=i("datav:/com/ml-bullet/5.1.6/transform").transOptionKey,i=i("datav:/com/ml-bullet/5.1.6/utils"),P=i.locationInfo,T=i.transformGradientColor,_=i.isValid;return k.registerInteraction("element-single-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),k.registerInteraction("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:toggle"}]}),t.exports=h.extend(function(t,e){this.config={options:{legend:{spaceToChart:{spaceChartX:0,spaceChartY:0},maxItemWidth:{show:!1,width:100},markerSpace:{openselfSpacing:!1,itemSpacing:24,itemMarginBottom:12}}}},this.container=t,this.apis=e.apis,this._data=null,this.chart=null,this.guiConfig=null,this.containerSize=null,this.init(e)},{init:function(t){this.mergeConfig(t);t=window.getComputedStyle(this.container,null);this.containerSize={width:d((this.container.style.width||t.getPropertyValue("width")).slice(0,-2)),height:d((this.container.style.height||t.getPropertyValue("height")).slice(0,-2))},this.container.style.padding="2px 2px 0 8px"},initChart:function(t){this.chart=new D(this.container,t),this.chart.render()},handleNonstandardData:function(t){var i=["title","measures","ranges","target"],t=p(t);return g(t,function(t){return u(t,function(t,e){return f(i,e)})})},isHighlight:function(t){var e=t.item,t=t.data;return m(t,function(t){return m([e],t)})},render:function(t,e){var i=this,o=this.mergeConfig(e);(t=this.data(t,o))&&(this.guiConfig=A(this.config,o,p(t),this.containerSize),this.chart&&this.chart.destroy(),this.initChart(this.guiConfig),e=P(this.chart),this.guiConfig=A(this.config,o,p(t),this.containerSize,e),this.chart.update(this.guiConfig),this.chart.off(),o.options.tooltip&&o.options.tooltip.active&&o.options.tooltip.active.trigger&&o.options.tooltip.active.show&&(t=o.options.tooltip.active.trigger,this.chart.on("element:".concat("click"===t?t:"mouseenter"),function(){var t=g(S(i.chart.getStates(),function(t){return("selected"===t.state||"active"===t.state)&&t.data}),Boolean);i.emit("itemSelect","multi"===o.options.tooltip.active.selectType?t:t&&t[0])})),this.chart.on("contextmenu",function(t){var e=L(t,"data.data");i.emit("onContextMenu",e,t)}),this.chart.on("legend-item:click",function(t){t=L(t,"target.cfg.delegateObject.item").value;i.emit("legendSelect",{value:t})}))},resize:function(t,e){this.containerSize={width:t,height:e},this.render(this._data,this.config)},setColors:function(){},data:function(t){return t&&(this.__data=t),this._data=p(this.__data),v(this._data)&&this._data.filter(function(t){return _(t.title)&&_(t.ranges)&&_(t.measures)&&_(t.target)})},mergeConfig:function(t){return t&&(0===Object.keys(this.config).length?this.config=t:(this.config.theme=O(t.theme||{},this.config.theme),this.setColors(),L(t,"options.legend.rangeContent")&&L(this.config,"options.legend.rangeContent",L(t,"options.legend.rangeContent")),L(t,"options.legend.measureContent")&&c(this.config,"options.legend.rangeContent",L(t,"options.legend.measureContent")),L(t,"options.condition")&&c(this.config,"options.condition",L(t,"options.condition")),L(t,"options.tooltip.tooltipSet.series")&&(t.options.tooltip.tooltipSet.series=t.options.tooltip.tooltipSet.series.map(function(t){return t.columnName=t.columnName||"title",t.displayName=t.displayName||"地点",t.suffix=t.suffix||"",t}),c(this.config,"options.tooltip.tooltipSet.series",L(t,"options.tooltip.tooltipSet.series"))),this.config=O(t||{},this.config))),this.config},getColorableConfig:function(t){var e,i,o,n;return!t||w(t)?{}:(e=t.textColor,i=t.axisColor,o=t.palette,t.bgColor,o&&0<o.length&&o[y(o.length/2)],n=j(s(o)),t=function(){return{label:{textStyle:{color:i}},title:{textStyle:{color:i}},axisLine:{line:{lineColor:i}},tickLine:{line:{lineColor:i}}}},{options:{chart:{measureSet:{measureColor:S(L(this.config,"options.chart.measureSet.measureColor"),function(t,e){return{color:o[e]||o[e%o.length]}}),measureLabel:{textStyle:{color:e}}},targetSet:{targetStyle:{target:{color:e}},targetLabel:{textStyle:{color:e}}},rangeSet:{rangeColor:S(L(this.config,"options.chart.rangeSet.rangeColor"),function(t,e){return{color:n[e]||n[e%n.length]}}),rangeLabel:{textStyle:{color:e}}}},axis:{xaxis:t(),yaxis:t()},legend:{textStyle:{color:i}}}})},getThemableConfig:function(t,e){var i,o,n,a,r,s,l,h,c,d,p=this.config.options,g=p.chart,u=g.measureSet.measureLabel.textStyle,f=g.targetSet.targetLabel.textStyle,g=g.rangeSet.rangeLabel.textStyle,m=p.axis,S=m.xaxis,v=S.label,S=S.title,m=m.yaxis,y=m.label,m=m.title,x=p.tooltip,p=p.legend,e=e||{},w=e.color,b=e.font,e=e.complexity,w=this.getColorableConfig(w||t),t={},u=(b&&(i=function(t,e){return void 0===L(b,t)?{}:z({},e,L(b,t))},n="family",a="fontFamily",r="weight",s="fontWeight",l="color.primary",h="color.secondary",c="color",d="lineColor",t={options:{chart:{measureSet:{measureLabel:{textStyle:C(C(C({fontSize:L(b,o="size",0)+u.fontSize},i(n,a)),i(r,s)),i(l,c))}},targetSet:{targetLabel:{textStyle:C(C(C({fontSize:L(b,o,0)+f.fontSize},i(n,a)),i(r,s)),i(l,c))}},rangeSet:{rangeLabel:{textStyle:C(C(C({fontSize:L(b,o,0)+g.fontSize},i(n,a)),i(r,s)),i(l,c))}}},axis:{xaxis:{title:{textStyle:C(C(C({fontSize:L(b,o,0)+S.textStyle.fontSize},i(n,a)),i(r,s)),i(h,c))},label:{textStyle:C(C(C({fontSize:L(b,o,0)+v.textStyle.fontSize},i(n,a)),i(r,s)),i(h,c))},axisLine:{line:C({},i(h,d))},tickLine:{line:C({},i(h,d))}},yaxis:{title:{textStyle:C(C(C({fontSize:L(b,o,0)+m.textStyle.fontSize},i(n,a)),i(r,s)),i(h,c))},label:{textStyle:C(C(C({fontSize:L(b,o,0)+y.textStyle.fontSize},i(n,a)),i(r,s)),i(h,c))},axisLine:{line:C({},i(h,d))},tickLine:{line:C({},i(h,d))}}},tooltip:{tooltipSet:{titleTextStyle:C(C(C({fontSize:L(b,o,0)+x.tooltipSet.titleTextStyle.fontSize},i(n,a)),i(r,s)),i(l,c)),contentTextStyle:C(C(C({fontSize:L(b,o,0)+x.tooltipSet.contentTextStyle.fontSize},i(n,a)),i(r,s)),i(l,c))}},legend:{textStyle:C(C(C({fontSize:L(b,o,0)+p.textStyle.fontSize},i(n,a)),i(r,s)),i(h,c))}}}),{});return"L0"===e?u={options:{chart:{connectedArea:{show:!1},label:{show:!1}},axis:{xaxis:{isShow:!1},yaxis:{isShow:!1}},tooltip:{tooltipSet:{show:!0},active:{show:!0},interaction:{show:!1}},legend:{isShow:!1}}}:"L1"===e?u={options:{chart:{connectedArea:{show:!1},label:{show:!1}},axis:{xaxis:{isShow:!0,axisLine:{show:!0},label:{show:!0},grid:{show:!0},title:{show:!1},tickLine:{show:!1}},yaxis:{isShow:!0,axisLine:{show:!0},label:{show:!0},grid:{show:!0},title:{show:!1},tickLine:{show:!1}}},tooltip:{tooltipSet:{show:!0},active:{show:!0},interaction:{show:!1}},legend:{isShow:!0}}}:"L2"===e&&(u={options:{chart:{connectedArea:{show:!1},label:{show:!0}},axis:{xaxis:{isShow:!0,axisLine:{show:!0},label:{show:!0},grid:{show:!0},title:{show:!0},tickLine:{show:!0}},yaxis:{isShow:!0,axisLine:{show:!0},label:{show:!0},grid:{show:!0},title:{show:!0},tickLine:{show:!0}}},tooltip:{tooltipSet:{show:!0},active:{show:!0},interaction:{show:!0}},legend:{isShow:!0}}}),O({},u,t,w)},highlight:function(t){var e=t.data,t=t.style;if(Object.keys(e).length<=0)return!1;var i=L(this.config,"options.tooltip.active"),o=i.show,n=i.selectType,a=i.fillSet,r=a.show,a=a.fill,s=i.line,i="click"===i.trigger?"selected":"active",r=x(t)||w(t)?{fillStyle:r?T(a).fill:"",stroke:s.lineColor}:C({},t),a=z({},i,!!o&&{style:C({},r)}),l=(this.chart.update(C(C({},this.guiConfig),{},{state:C(C({},this.guiConfig.state),a)})),v(e)?e:[e]),l=b(this.prevOriginData,e)?this.prevFilterData:this.handleNonstandardData(l);l="single"===n?[l[0]]:l,this.chart.setState(i,function(t){if(!v(l))return u([t],l);for(var e=0;e<l.length;e++)if(u([t],l[e]))return!0}),this.prevOriginData=e,this.prevFilterData=l},reset:function(){var t="click"===L(this.config,"options.tooltip.active").trigger?"selected":"active";this.chart.update(this.guiConfig),this.chart.setState(t,function(){})},destroy:function(){this.chart&&this.chart.destroy(),this.chart=null,this._data=null,this.container&&(this.container.innerHTML="")}}),t.exports});